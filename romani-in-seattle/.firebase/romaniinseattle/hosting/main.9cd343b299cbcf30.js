"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(ls,Gn,Ke)=>{Ke.d(Gn,{$:()=>$t,A:()=>Te,G:()=>jt,K:()=>Pl,L:()=>Ms,N:()=>Wi,P:()=>Y_,R:()=>K_,U:()=>mt,V:()=>_o,W:()=>Q,X:()=>ve,Y:()=>Pe,Z:()=>U,_:()=>vt,a:()=>Tc,a0:()=>C_,a1:()=>fd,a2:()=>un,a3:()=>D_,a4:()=>S_,a5:()=>M_,a6:()=>gd,a7:()=>_b,a8:()=>Ge,a9:()=>jn,aA:()=>pa,aB:()=>Zt,aC:()=>ne,aD:()=>ro,aE:()=>Ne,aF:()=>Xt,aG:()=>Sd,aH:()=>ny,aI:()=>kb,aJ:()=>Un,aN:()=>Ac,aQ:()=>Ze,aa:()=>Ul,ab:()=>Ec,ac:()=>hr,ad:()=>Ic,ae:()=>Tt,af:()=>fr,ag:()=>bc,ah:()=>Bl,ak:()=>jl,al:()=>zt,am:()=>IM,ap:()=>mb,aq:()=>mi,as:()=>AM,at:()=>k_,au:()=>It,av:()=>lc,aw:()=>ft,ax:()=>Kt,ay:()=>Nd,az:()=>ay,b:()=>Eb,c:()=>X_,d:()=>Et,e:()=>J_,f:()=>Jt,g:()=>to,h:()=>Xr,i:()=>bb,j:()=>Fb,k:()=>py,l:()=>Js,m:()=>FM,p:()=>Bt,r:()=>Q_,s:()=>dp,u:()=>Pi});var O=Ke(861),Re=Ke(303),j=Ke(58),xe=Ke(879),Pt=Ke(582),Dn=Ke(537);const Bt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const jt=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Wn=function wt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new xe.Yd("@firebase/auth");function mn(p,...u){st.logLevel<=xe.in.ERROR&&st.error(`Auth (${Re.SDK_VERSION}): ${p}`,...u)}function Kt(p,...u){throw Me(p,...u)}function Zt(p,...u){return Me(p,...u)}function Tr(p,u,d){const g=Object.assign(Object.assign({},Wn()),{[u]:d});return new j.LL("auth","Firebase",g).create(u,{appName:p.name})}function Ot(p){return Tr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gt(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Kt(p,"argument-error"),Tr(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(p,...u){if("string"!=typeof p){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return xt.create(p,...u)}function ne(p,u,...d){if(!p)throw Me(u,...d)}function tt(p){const u="INTERNAL ASSERTION FAILED: "+p;throw mn(u),new Error(u)}function It(p,u){p||tt(u)}function Nt(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function kn(){return"http:"===hn()||"https:"===hn()}function hn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class lr{constructor(u,d){this.shortDelay=u,this.longDelay=d,It(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(p,u){It(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class oe{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new lr(3e4,6e4);function Ee(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function ce(p,u,d,g){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(p,u,d,g,v={}){return Lt(p,v,(0,O.Z)(function*(){let D={},G={};g&&("GET"===u?G=g:D={body:JSON.stringify(g)});const ie=(0,j.xO)(Object.assign({key:p.config.apiKey},G)).slice(1),be=yield p._getAdditionalHeaders();return be["Content-Type"]="application/json",p.languageCode&&(be["X-Firebase-Locale"]=p.languageCode),oe.fetch()(yn(p,p.config.apiHost,d,ie),Object.assign({method:u,headers:be,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function Lt(p,u,d){return De.apply(this,arguments)}function De(){return(De=(0,O.Z)(function*(p,u,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ue),u);try{const v=new In(p),D=yield Promise.race([d(),v.promise]);v.clearNetworkTimeout();const G=yield D.json();if("needConfirmation"in G)throw Rn(p,"account-exists-with-different-credential",G);if(D.ok&&!("errorMessage"in G))return G;{const ie=D.ok?G.errorMessage:G.error.message,[be,We]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw Rn(p,"credential-already-in-use",G);if("EMAIL_EXISTS"===be)throw Rn(p,"email-already-in-use",G);if("USER_DISABLED"===be)throw Rn(p,"user-disabled",G);const ot=g[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Tr(p,ot,We);Kt(p,ot)}}catch(v){if(v instanceof j.ZR)throw v;Kt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function Ye(p,u,d,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(p,u,d,g,v={}){const D=yield ce(p,u,d,g,v);return"mfaPendingCredential"in D&&Kt(p,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function yn(p,u,d,g){const v=`${u}${d}?${g}`;return p.config.emulator?se(p.config,v):`${p.config.apiScheme}://${v}`}function fn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class In{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(Zt(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rn(p,u,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const v=Zt(p,u,g);return v.customData._tokenResponse=d,v}function Yt(p){return void 0!==p&&void 0!==p.getResponse}function Kn(p){return void 0!==p&&void 0!==p.enterprise}class Ar{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return fn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function oi(){return(oi=(0,O.Z)(function*(p){return(yield ce(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vt(p,u){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(p,u){return ce(p,"GET","/v2/recaptchaConfig",Ee(p,u))})).apply(this,arguments)}function Ti(){return(Ti=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Gs(p,u){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function mr(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Fr(){return(Fr=(0,O.Z)(function*(p,u=!1){const d=(0,j.m9)(p),g=yield d.getIdToken(u),v=Ws(g);ne(v&&v.exp&&v.auth_time&&v.iat,d.auth,"internal-error");const D="object"==typeof v.firebase?v.firebase:void 0,G=D?.sign_in_provider;return{claims:v,token:g,authTime:mr(Vn(v.auth_time)),issuedAtTime:mr(Vn(v.iat)),expirationTime:mr(Vn(v.exp)),signInProvider:G||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function Vn(p){return 1e3*Number(p)}function Ws(p){const[u,d,g]=p.split(".");if(void 0===u||void 0===d||void 0===g)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,j.tV)(d);return v?JSON.parse(v):(mn("Failed to decode base64 JWT payload"),null)}catch(v){return mn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function Di(p){const u=Ws(p);return ne(u,"internal-error"),ne(typeof u.exp<"u","internal-error"),ne(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function cn(p,u){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof j.ZR&&function Si({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class ds{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,O.Z)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,O.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class ur{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bn(p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(p){var u;const d=p.auth,g=yield p.getIdToken(),v=yield cn(p,Gs(d,{idToken:g}));ne(v?.users.length,d,"internal-error");const D=v.users[0];p._notifyReloadListener(D);const G=null!==(u=D.providerUserInfo)&&void 0!==u&&u.length?Ks(D.providerUserInfo):[],ie=function Ss(p,u){return[...p.filter(g=>!u.some(v=>v.providerId===g.providerId)),...u]}(p.providerData,G),ot=!!p.isAnonymous&&!(p.email&&D.passwordHash||ie?.length),Ht={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:ie,metadata:new ur(D.createdAt,D.lastLoginAt),isAnonymous:ot};Object.assign(p,Ht)})).apply(this,arguments)}function fs(){return(fs=(0,O.Z)(function*(p){const u=(0,j.m9)(p);yield bn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Ks(p){return p.map(u=>{var{providerId:d}=u,g=(0,Pt._T)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function P(){return(P=(0,O.Z)(function*(p,u){const d=yield Lt(p,{},(0,O.Z)(function*(){const g=(0,j.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:v,apiKey:D}=p.config,G=yn(p,v,"/v1/token",`key=${D}`),ie=yield p._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(G,{method:"POST",headers:ie,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function b(){return(b=(0,O.Z)(function*(p,u){return ce(p,"POST","/v2/accounts:revokeToken",Ee(p,u))})).apply(this,arguments)}class S{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ne(u.idToken,"internal-error"),ne(typeof u.idToken<"u","internal-error"),ne(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Di(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){ne(0!==u.length,"internal-error");const d=Di(u);this.updateTokensAndExpiration(u,null,d)}getToken(u,d=!1){var g=this;return(0,O.Z)(function*(){return d||!g.accessToken||g.isExpired?(ne(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,O.Z)(function*(){const{accessToken:v,refreshToken:D,expiresIn:G}=yield function ke(p,u){return P.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(v,D,Number(G))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:v,expirationTime:D}=d,G=new S;return g&&(ne("string"==typeof g,"internal-error",{appName:u}),G.refreshToken=g),v&&(ne("string"==typeof v,"internal-error",{appName:u}),G.accessToken=v),D&&(ne("number"==typeof D,"internal-error",{appName:u}),G.expirationTime=D),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new S,this.toJSON())}_performRefresh(){return tt("not implemented")}}function w(p,u){ne("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class V{constructor(u){var{uid:d,auth:g,stsTokenManager:v}=u,D=(0,Pt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ds(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new ur(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,O.Z)(function*(){const g=yield cn(d,d.stsTokenManager.getToken(d.auth,u));return ne(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function nn(p){return Fr.apply(this,arguments)}(this,u)}reload(){return function hs(p){return fs.apply(this,arguments)}(this)}_assign(u){this!==u&&(ne(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new V(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,O.Z)(function*(){let v=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),v=!0),d&&(yield bn(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,O.Z)(function*(){if((0,Re._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ot(u.auth));const d=yield u.getIdToken();return yield cn(u,function us(p,u){return Ti.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,v,D,G,ie,be,We,ot;const Ht=null!==(g=d.displayName)&&void 0!==g?g:void 0,ei=null!==(v=d.email)&&void 0!==v?v:void 0,xi=null!==(D=d.phoneNumber)&&void 0!==D?D:void 0,Vd=null!==(G=d.photoURL)&&void 0!==G?G:void 0,xp=null!==(ie=d.tenantId)&&void 0!==ie?ie:void 0,Ud=null!==(be=d._redirectEventId)&&void 0!==be?be:void 0,Oc=null!==(We=d.createdAt)&&void 0!==We?We:void 0,my=null!==(ot=d.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:ti,emailVerified:_y,isAnonymous:Hr,providerData:Yl,stsTokenManager:yy}=d;ne(ti&&yy,u,"internal-error");const vy=S.fromJSON(this.name,yy);ne("string"==typeof ti,u,"internal-error"),w(Ht,u.name),w(ei,u.name),ne("boolean"==typeof _y,u,"internal-error"),ne("boolean"==typeof Hr,u,"internal-error"),w(xi,u.name),w(Vd,u.name),w(xp,u.name),w(Ud,u.name),w(Oc,u.name),w(my,u.name);const Nc=new V({uid:ti,auth:u,email:ei,emailVerified:_y,displayName:Ht,isAnonymous:Hr,photoURL:Vd,phoneNumber:xi,tenantId:xp,stsTokenManager:vy,createdAt:Oc,lastLoginAt:my});return Yl&&Array.isArray(Yl)&&(Nc.providerData=Yl.map(kc=>Object.assign({},kc))),Ud&&(Nc._redirectEventId=Ud),Nc}static _fromIdTokenResponse(u,d,g=!1){return(0,O.Z)(function*(){const v=new S;v.updateFromServerResponse(d);const D=new V({uid:d.localId,auth:u,stsTokenManager:v,isAnonymous:g});return yield bn(D),D})()}static _fromGetAccountInfoResponse(u,d,g){return(0,O.Z)(function*(){const v=d.users[0];ne(void 0!==v.localId,"internal-error");const D=void 0!==v.providerUserInfo?Ks(v.providerUserInfo):[],G=!(v.email&&v.passwordHash||D?.length),ie=new S;ie.updateFromIdToken(g);const be=new V({uid:v.localId,auth:u,stsTokenManager:ie,isAnonymous:G}),We={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:D,metadata:new ur(v.createdAt,v.lastLoginAt),isAnonymous:!(v.email&&v.passwordHash||D?.length)};return Object.assign(be,We),be})()}}const fe=new Map;function Ne(p){It(p instanceof Function,"Expected a class definition");let u=fe.get(p);return u?(It(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,fe.set(p,u),u)}const mt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(d,g){var v=this;return(0,O.Z)(function*(){v.storage[d]=g})()}_get(d){var g=this;return(0,O.Z)(function*(){const v=g.storage[d];return void 0===v?null:v})()}_remove(d){var g=this;return(0,O.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function Xt(p,u,d){return`firebase:${p}:${u}:${d}`}class Ve{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:v,name:D}=this.auth;this.fullUserKey=Xt(this.userKey,v.apiKey,D),this.fullPersistenceKey=Xt("persistence",v.apiKey,D),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,O.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?V._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,O.Z)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,O.Z)(function*(){if(!d.length)return new Ve(Ne(mt),u,g);const v=(yield Promise.all(d.map(function(){var We=(0,O.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return We.apply(this,arguments)}}()))).filter(We=>We);let D=v[0]||Ne(mt);const G=Xt(g,u.config.apiKey,u.name);let ie=null;for(const We of d)try{const ot=yield We._get(G);if(ot){const Ht=V._fromJSON(u,ot);We!==D&&(ie=Ht),D=We;break}}catch{}const be=v.filter(We=>We._shouldAllowMigration);return D._shouldAllowMigration&&be.length?(D=be[0],ie&&(yield D._set(G,ie.toJSON())),yield Promise.all(d.map(function(){var We=(0,O.Z)(function*(ot){if(ot!==D)try{yield ot._remove(G)}catch{}});return function(ot){return We.apply(this,arguments)}}())),new Ve(D,u,g)):new Ve(D,u,g)})()}}function wn(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ln(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(at(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ac(u))return"Blackberry";if(cc(u))return"Webos";if(Vr(u))return"Safari";if((u.includes("chrome/")||go(u))&&!u.includes("edge/"))return"Chrome";if(ft(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function at(p=(0,j.z$)()){return/firefox\//i.test(p)}function Vr(p=(0,j.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function go(p=(0,j.z$)()){return/crios\//i.test(p)}function ln(p=(0,j.z$)()){return/iemobile/i.test(p)}function ft(p=(0,j.z$)()){return/android/i.test(p)}function ac(p=(0,j.z$)()){return/blackberry/i.test(p)}function cc(p=(0,j.z$)()){return/webos/i.test(p)}function lc(p=(0,j.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function pa(p=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function _t(p=(0,j.z$)()){return lc(p)||ft(p)||cc(p)||ac(p)||/windows phone/i.test(p)||ln(p)}function dc(p,u=[]){let d;switch(p){case"Browser":d=wn((0,j.z$)());break;case"Worker":d=`${wn((0,j.z$)())}-${p}`;break;default:d=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${Re.SDK_VERSION}/${g}`}class Sr{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=D=>new Promise((G,ie)=>{try{G(u(D))}catch(be){ie(be)}});g.onAbort=d,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,O.Z)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const v of d.queue)yield v(u),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const D of g)try{D()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function dr(){return(dr=(0,O.Z)(function*(p,u={}){return ce(p,"GET","/v2/passwordPolicy",Ee(p,u))})).apply(this,arguments)}class Vf{constructor(u){var d,g,v,D;const G=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=G.minPasswordLength)&&void 0!==d?d:6,G.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=G.maxPasswordLength),void 0!==G.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=G.containsLowercaseCharacter),void 0!==G.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=G.containsUppercaseCharacter),void 0!==G.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=G.containsNumericCharacter),void 0!==G.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=G.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(D=u.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,v,D,G,ie;const be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,be),this.validatePasswordCharacterOptions(u,be),be.isValid&&(be.isValid=null===(d=be.meetsMinPasswordLength)||void 0===d||d),be.isValid&&(be.isValid=null===(g=be.meetsMaxPasswordLength)||void 0===g||g),be.isValid&&(be.isValid=null===(v=be.containsLowercaseLetter)||void 0===v||v),be.isValid&&(be.isValid=null===(D=be.containsUppercaseLetter)||void 0===D||D),be.isValid&&(be.isValid=null===(G=be.containsNumericCharacter)||void 0===G||G),be.isValid&&(be.isValid=null===(ie=be.containsNonAlphanumericCharacter)||void 0===ie||ie),be}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),v&&(d.meetsMaxPasswordLength=u.length<=v)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let v=0;v<u.length;v++)g=u.charAt(v),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,v,D){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=D))}}class Uf{constructor(u,d,g,v){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Ne(d)),this._initializationPromise=this.queue((0,O.Z)(function*(){var v,D;if(!g._deleted&&(g.persistenceManager=yield Ve.create(g,u),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(D=g.currentUser)||void 0===D?void 0:D.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,O.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,O.Z)(function*(){try{const g=yield Gs(d,{idToken:u}),v=yield V._fromGetAccountInfoResponse(d,g,u);yield d.directlySetCurrentUser(v)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,O.Z)(function*(){var g;if((0,Re._isFirebaseServerApp)(d.app)){const ie=d.app.settings.authIdToken;return ie?new Promise(be=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(ie).then(be,be))}):d.directlySetCurrentUser(null)}const v=yield d.assertedPersistence.getCurrentUser();let D=v,G=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const ie=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,be=D?._redirectEventId,We=yield d.tryRedirectSignIn(u);(!ie||ie===be)&&We?.user&&(D=We.user,G=!0)}if(!D)return d.directlySetCurrentUser(null);if(!D._redirectEventId){if(G)try{yield d.beforeStateQueue.runMiddleware(D)}catch(ie){D=v,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(ie))}return D?d.reloadAndSetCurrentUserOrClear(D):d.directlySetCurrentUser(null)}return ne(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===D._redirectEventId?d.directlySetCurrentUser(D):d.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(u){var d=this;return(0,O.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,O.Z)(function*(){try{yield bn(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function _n(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,O.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,O.Z)(function*(){if((0,Re._isFirebaseServerApp)(d.app))return Promise.reject(Ot(d));const g=u?(0,j.m9)(u):null;return g&&ne(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,O.Z)(function*(){if(!g._deleted)return u&&ne(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,O.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,O.Z)(function*(){return(0,Re._isFirebaseServerApp)(u.app)?Promise.reject(Ot(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,Re._isFirebaseServerApp)(this.app)?Promise.reject(Ot(this)):this.queue((0,O.Z)(function*(){yield d.assertedPersistence.setPersistence(Ne(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,O.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,O.Z)(function*(){const d=yield function Lf(p){return dr.apply(this,arguments)}(u),g=new Vf(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new j.LL("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,O.Z)(function*(){if(d.currentUser){const g=yield d.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=d.tenantId&&(v.tenantId=d.tenantId),yield function N(p,u){return b.apply(this,arguments)}(d,v)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,O.Z)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(d);return null===u?v.removeCurrentUser():v.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,O.Z)(function*(){if(!d.redirectPersistenceManager){const g=u&&Ne(u)||d._popupRedirectResolver;ne(g,d,"argument-error"),d.redirectPersistenceManager=yield Ve.create(d,[Ne(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,O.Z)(function*(){var g,v;return d._isInitialized&&(yield d.queue((0,O.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,O.Z)(function*(){if(u===d.currentUser)return d.queue((0,O.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,v){if(this._deleted)return()=>{};const D="function"==typeof d?d:d.next.bind(d);let G=!1;const ie=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(ie,this,"internal-error"),ie.then(()=>{G||D(this.currentUser)}),"function"==typeof d){const be=u.addObserver(d,g,v);return()=>{G=!0,be()}}{const be=u.addObserver(d);return()=>{G=!0,be()}}}directlySetCurrentUser(u){var d=this;return(0,O.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=dc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,O.Z)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const v=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const D=yield u._getAppCheckToken();return D&&(g["X-Firebase-AppCheck"]=D),g})()}_getAppCheckToken(){var u=this;return(0,O.Z)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function Mn(p,...u){st.logLevel<=xe.in.WARN&&st.warn(`Auth (${Re.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Un(p){return(0,j.m9)(p)}class Zs{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,j.ne)(d=>this.observer=d)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hc={loadJS:()=>(0,O.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ed(p){return hc.loadJS(p)}function nd(p){return`__${p}${Math.floor(1e6*Math.random())}`}class pt{constructor(u){this.type="recaptcha-enterprise",this.auth=Un(u)}verify(u="verify",d=!1){var g=this;return(0,O.Z)(function*(){function D(){return D=(0,O.Z)(function*(ie){if(!d){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(){var be=(0,O.Z)(function*(We,ot){Vt(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ht=>{if(void 0!==Ht.recaptchaKey){const ei=new Ar(Ht);return null==ie.tenantId?ie._agentRecaptchaConfig=ei:ie._tenantRecaptchaConfigs[ie.tenantId]=ei,We(ei.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(Ht=>{ot(Ht)})});return function(We,ot){return be.apply(this,arguments)}}())}),D.apply(this,arguments)}function G(ie,be,We){const ot=window.grecaptcha;Kn(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(ie,{action:u}).then(Ht=>{be(Ht)}).catch(()=>{be("NO_RECAPTCHA")})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ie,be)=>{(function v(ie){return D.apply(this,arguments)})(g.auth).then(We=>{if(!d&&Kn(window.grecaptcha))G(We,ie,be);else{if(typeof window>"u")return void be(new Error("RecaptchaVerifier is only supported in browser"));let ot=function Bf(){return hc.recaptchaEnterpriseScript}();0!==ot.length&&(ot+=We),ed(ot).then(()=>{G(We,ie,be)}).catch(Ht=>{be(Ht)})}}).catch(We=>{be(We)})})})()}}function rd(p,u,d){return id.apply(this,arguments)}function id(){return(id=(0,O.Z)(function*(p,u,d,g=!1){const v=new pt(p);let D;try{D=yield v.verify(d)}catch{D=yield v.verify(d,!0)}const G=Object.assign({},u);return Object.assign(G,g?{captchaResp:D}:{captchaResponse:D}),Object.assign(G,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(G,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),G})).apply(this,arguments)}function fc(p,u,d,g){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,O.Z)(function*(p,u,d,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield rd(p,u,d,"getOobCode"===d);return g(p,D)}return g(p,u).catch(function(){var D=(0,O.Z)(function*(G){if("auth/missing-recaptcha-token"===G.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ie=yield rd(p,u,d,"getOobCode"===d);return g(p,ie)}return Promise.reject(G)});return function(G){return D.apply(this,arguments)}}())}),Fe.apply(this,arguments)}function Pl(p,u,d){const g=Un(p);ne(g._canInitEmulator,g,"emulator-config-failed"),ne(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const v=!!d?.disableWarnings,D=sd(u),{host:G,port:ie}=function pc(p){const u=sd(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const D=v[1];return{host:D,port:mo(g.substr(D.length+1))}}{const[D,G]=g.split(":");return{host:D,port:mo(G)}}}(u);g.config.emulator={url:`${D}//${G}${null===ie?"":`:${ie}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:G,port:ie,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function xl(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function sd(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function mo(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Ms{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return tt("not implemented")}_getIdTokenResponse(u){return tt("not implemented")}_linkToIdToken(u,d){return tt("not implemented")}_getReauthenticationResolver(u){return tt("not implemented")}}function od(p,u){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:resetPassword",Ee(p,u))})).apply(this,arguments)}function Oo(){return(Oo=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ci(p,u){return No.apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:update",Ee(p,u))})).apply(this,arguments)}function b_(p,u){return gc.apply(this,arguments)}function gc(){return(gc=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithPassword",Ee(p,u))})).apply(this,arguments)}function Ie(p,u){return ko.apply(this,arguments)}function ko(){return(ko=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:sendOobCode",Ee(p,u))})).apply(this,arguments)}function _c(){return(_c=(0,O.Z)(function*(p,u){return Ie(p,u)})).apply(this,arguments)}function ma(p,u){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,O.Z)(function*(p,u){return Ie(p,u)})).apply(this,arguments)}function _a(p,u){return ad.apply(this,arguments)}function ad(){return(ad=(0,O.Z)(function*(p,u){return Ie(p,u)})).apply(this,arguments)}function kl(){return(kl=(0,O.Z)(function*(p,u){return Ie(p,u)})).apply(this,arguments)}function ya(){return(ya=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithEmailLink",Ee(p,u))})).apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithEmailLink",Ee(p,u))})).apply(this,arguments)}class Mr extends Ms{constructor(u,d,g,v=null){super("password",g),this._email=u,this._password=d,this._tenantId=v}static _fromEmailAndPassword(u,d){return new Mr(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Mr(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,O.Z)(function*(){switch(d.signInMethod){case"password":return fc(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",b_);case"emailLink":return function jf(p,u){return ya.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Kt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,O.Z)(function*(){switch(g.signInMethod){case"password":return fc(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci);case"emailLink":return function Fo(p,u){return Lo.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:Kt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Gi(p,u){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithIdp",Ee(p,u))})).apply(this,arguments)}class Wi extends Ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new Wi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Kt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:v}=d,D=(0,Pt._T)(d,["providerId","signInMethod"]);if(!g||!v)return null;const G=new Wi(g,v);return G.idToken=D.idToken||void 0,G.accessToken=D.accessToken||void 0,G.secret=D.secret,G.nonce=D.nonce,G.pendingToken=D.pendingToken||null,G}_getIdTokenResponse(u){return Gi(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gi(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gi(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,j.xO)(d)}return u}}function Ll(){return(Ll=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:sendVerificationCode",Ee(p,u))})).apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithPhoneNumber",Ee(p,u))})).apply(this,arguments)}function Vl(){return(Vl=(0,O.Z)(function*(p,u){const d=yield Ye(p,"POST","/v1/accounts:signInWithPhoneNumber",Ee(p,u));if(d.temporaryProof)throw Rn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const ze={USER_NOT_FOUND:"user-not-found"};function Ia(){return(Ia=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithPhoneNumber",Ee(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),ze)})).apply(this,arguments)}class Ki extends Ms{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Ki({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Ki({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function Qs(p,u){return Ea.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function pe(p,u){return Vl.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function yc(p,u){return Ia.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:v}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:v}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:v,temporaryProof:D}=u;return g||d||v||D?new Ki({verificationId:d,verificationCode:g,phoneNumber:v,temporaryProof:D}):null}}class vc{constructor(u){var d,g,v,D,G,ie;const be=(0,j.zd)((0,j.pd)(u)),We=null!==(d=be.apiKey)&&void 0!==d?d:null,ot=null!==(g=be.oobCode)&&void 0!==g?g:null,Ht=function w_(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=be.mode)&&void 0!==v?v:null);ne(We&&ot&&Ht,"argument-error"),this.apiKey=We,this.operation=Ht,this.code=ot,this.continueUrl=null!==(D=be.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(G=be.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ie=be.tenantId)&&void 0!==ie?ie:null}static parseLink(u){const d=function cd(p){const u=(0,j.zd)((0,j.pd)(p)).link,d=u?(0,j.zd)((0,j.pd)(u)).deep_link_id:null,g=(0,j.zd)((0,j.pd)(p)).deep_link_id;return(g?(0,j.zd)((0,j.pd)(g)).link:null)||g||d||u||p}(u);try{return new vc(d)}catch{return null}}}let _o=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return Mr._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const v=vc.parseLink(g);return ne(v,"argument-error"),Mr._fromEmailAndCode(d,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class rr{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class R extends rr{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class U extends R{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ne("providerId"in d&&"signInMethod"in d,"argument-error"),Wi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ne(u.idToken||u.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return U.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return U.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:D,nonce:G,providerId:ie}=u;if(!g&&!v&&!d&&!D||!ie)return null;try{return new U(ie)._credential({idToken:d,accessToken:g,nonce:G,pendingToken:D})}catch{return null}}}let Q=(()=>{class p extends R{constructor(){super("facebook.com")}static credential(d){return Wi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),ve=(()=>{class p extends R{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return Wi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:v}=d;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Pe=(()=>{class p extends R{constructor(){super("github.com")}static credential(d){return Wi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ze extends Ms{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Gi(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Gi(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Gi(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:v,pendingToken:D}=d;return g&&v&&D&&g===v?new Ze(g,D):null}static _create(u,d){return new Ze(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vt extends rr{constructor(u){ne(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return vt.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return vt.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Ze.fromJSON(u);return ne(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return Ze._create(g,d)}catch{return null}}}let $t=(()=>{class p extends R{constructor(){super("twitter.com")}static credential(d,g){return Wi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=d;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Ur(p,u){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signUp",Ee(p,u))})).apply(this,arguments)}class Br{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,v=!1){return(0,O.Z)(function*(){const D=yield V._fromIdTokenResponse(u,g,v),G=pi(g);return new Br({user:D,providerId:G,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,O.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const v=pi(g);return new Br({user:u,providerId:v,_tokenResponse:g,operationType:d})})()}}function pi(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function C_(p){return ld.apply(this,arguments)}function ld(){return(ld=(0,O.Z)(function*(p){var u;if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const d=Un(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Br({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Ur(d,{returnSecureToken:!0}),v=yield Br._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(v.user),v})).apply(this,arguments)}class ud extends j.ZR{constructor(u,d,g,v){var D;super(d.code,d.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:u.name,tenantId:null!==(D=u.tenantId)&&void 0!==D?D:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,v){return new ud(u,d,g,v)}}function zf(p,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?ud._fromErrorAndOperation(p,D,u,g):D})}function T_(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function mb(p,u){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,O.Z)(function*(p,u){const d=(0,j.m9)(p);yield hd(!0,d,u);const{providerUserInfo:g}=yield function qi(p,u){return Zr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),v=T_(g||[]);return d.providerData=d.providerData.filter(D=>v.has(D.providerId)),v.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Zi.apply(this,arguments)}function Hf(p,u){return dd.apply(this,arguments)}function dd(){return(dd=(0,O.Z)(function*(p,u,d=!1){const g=yield cn(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Br._forOperation(p,"link",g)})).apply(this,arguments)}function hd(p,u,d){return qf.apply(this,arguments)}function qf(){return(qf=(0,O.Z)(function*(p,u,d){yield bn(u);const v=!1===p?"provider-already-linked":"no-such-provider";ne(T_(u.providerData).has(d)===p,u.auth,v)})).apply(this,arguments)}function A_(p,u){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,O.Z)(function*(p,u,d=!1){const{auth:g}=p;if((0,Re._isFirebaseServerApp)(g.app))return Promise.reject(Ot(g));const v="reauthenticate";try{const D=yield cn(p,zf(g,v,u,p),d);ne(D.idToken,g,"internal-error");const G=Ws(D.idToken);ne(G,g,"internal-error");const{sub:ie}=G;return ne(p.uid===ie,g,"user-mismatch"),Br._forOperation(p,v,D)}catch(D){throw"auth/user-not-found"===D?.code&&Kt(g,"user-mismatch"),D}})).apply(this,arguments)}function Wf(p,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,O.Z)(function*(p,u,d=!1){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g="signIn",v=yield zf(p,g,u),D=yield Br._fromIdTokenResponse(p,g,v);return d||(yield p._updateCurrentUser(D.user)),D})).apply(this,arguments)}function fd(p,u){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,O.Z)(function*(p,u){return Wf(Un(p),u)})).apply(this,arguments)}function un(p,u){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,O.Z)(function*(p,u){const d=(0,j.m9)(p);return yield hd(!1,d,u.providerId),Hf(d,u)})).apply(this,arguments)}function D_(p,u){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,O.Z)(function*(p,u){return A_((0,j.m9)(p),u)})).apply(this,arguments)}function Xf(){return(Xf=(0,O.Z)(function*(p,u){return Ye(p,"POST","/v1/accounts:signInWithCustomToken",Ee(p,u))})).apply(this,arguments)}function S_(p,u){return rt.apply(this,arguments)}function rt(){return rt=(0,O.Z)(function*(p,u){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const d=Un(p),g=yield function Pn(p,u){return Xf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),v=yield Br._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(v.user),v}),rt.apply(this,arguments)}class jr{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Gt._fromServerResponse(u,d):"totpInfo"in d?Rr._fromServerResponse(u,d):Kt(u,"internal-error")}}class Gt extends jr{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Gt(d)}}class Rr extends jr{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Rr(d)}}function $r(p,u,d){var g;ne((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ne(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ne(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ne(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Vo(p){return gi.apply(this,arguments)}function gi(){return(gi=(0,O.Z)(function*(p){const u=Un(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function M_(p,u,d){return pd.apply(this,arguments)}function pd(){return(pd=(0,O.Z)(function*(p,u,d){const g=Un(p),v={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&$r(g,v,d),yield fc(g,v,"getOobCode",ma)})).apply(this,arguments)}function gd(p,u,d){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,O.Z)(function*(p,u,d){yield od((0,j.m9)(p),{oobCode:u,newPassword:d}).catch(function(){var g=(0,O.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Vo(p),v});return function(v){return g.apply(this,arguments)}}())}),Jf.apply(this,arguments)}function _b(p,u){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,O.Z)(function*(p,u){yield function I_(p,u){return on.apply(this,arguments)}((0,j.m9)(p),{oobCode:u})}),Bn.apply(this,arguments)}function Ge(p,u){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,O.Z)(function*(p,u){const d=(0,j.m9)(p),g=yield od(d,{oobCode:u}),v=g.requestType;switch(ne(v,d,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(g.mfaInfo,d,"internal-error");default:ne(g.email,d,"internal-error")}let D=null;return g.mfaInfo&&(D=jr._fromServerResponse(Un(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:D},operation:v}})).apply(this,arguments)}function jn(p,u){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,O.Z)(function*(p,u){const{data:d}=yield Ge((0,j.m9)(p),u);return d.email})).apply(this,arguments)}function Ul(p,u,d){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(p,u,d){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g=Un(p),G=yield fc(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ur).catch(be=>{throw"auth/password-does-not-meet-requirements"===be.code&&Vo(p),be}),ie=yield Br._fromIdTokenResponse(g,"signIn",G);return yield g._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function Ec(p,u,d){return(0,Re._isFirebaseServerApp)(p.app)?Promise.reject(Ot(p)):fd((0,j.m9)(p),_o.credential(u,d)).catch(function(){var g=(0,O.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Vo(p),v});return function(v){return g.apply(this,arguments)}}())}function hr(p,u,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(p,u,d){const g=Un(p),v={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function D(G,ie){ne(ie.handleCodeInApp,g,"argument-error"),ie&&$r(g,G,ie)})(v,d),yield fc(g,v,"getOobCode",_a)})).apply(this,arguments)}function Ic(p,u){const d=vc.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function Tt(p,u,d){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(p,u,d){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g=(0,j.m9)(p),v=_o.credentialWithLink(u,d||Nt());return ne(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),fd(g,v)})).apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:createAuthUri",Ee(p,u))})).apply(this,arguments)}function fr(p,u){return wa.apply(this,arguments)}function wa(){return wa=(0,O.Z)(function*(p,u){const g={identifier:u,continueUri:kn()?Nt():"http://localhost"},{signinMethods:v}=yield function R_(p,u){return Uo.apply(this,arguments)}((0,j.m9)(p),g);return v||[]}),wa.apply(this,arguments)}function bc(p,u){return gs.apply(this,arguments)}function gs(){return gs=(0,O.Z)(function*(p,u){const d=(0,j.m9)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&$r(d.auth,v,u);const{email:D}=yield function mc(p,u){return _c.apply(this,arguments)}(d.auth,v);D!==p.email&&(yield p.reload())}),gs.apply(this,arguments)}function Bl(p,u,d){return md.apply(this,arguments)}function md(){return md=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&$r(g.auth,D,d);const{email:G}=yield function Rs(p,u){return kl.apply(this,arguments)}(g.auth,D);G!==p.email&&(yield p.reload())}),md.apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(p,u){return ce(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function jl(p,u){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,O.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,j.m9)(p),D={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},G=yield cn(g,function Bo(p,u){return xs.apply(this,arguments)}(g.auth,D));g.displayName=G.displayName||null,g.photoURL=G.photoUrl||null;const ie=g.providerData.find(({providerId:be})=>"password"===be);ie&&(ie.displayName=g.displayName,ie.photoURL=g.photoURL),yield g._updateTokensIfNecessary(G)}),Ca.apply(this,arguments)}function zt(p,u){const d=(0,j.m9)(p);return(0,Re._isFirebaseServerApp)(d.auth.app)?Promise.reject(Ot(d.auth)):_d(d,u,null)}function IM(p,u){return _d((0,j.m9)(p),null,u)}function _d(p,u,d){return yd.apply(this,arguments)}function yd(){return yd=(0,O.Z)(function*(p,u,d){const{auth:g}=p,D={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(D.email=u),d&&(D.password=d);const G=yield cn(p,function Ol(p,u){return Oo.apply(this,arguments)}(g,D));yield p._updateTokensIfNecessary(G,!0)}),yd.apply(this,arguments)}class yo{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class Ta extends yo{constructor(u,d,g,v){super(u,d,g),this.username=v}}class $l extends yo{constructor(u,d){super(u,"facebook.com",d)}}class Yr extends Ta{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class bM extends yo{constructor(u,d){super(u,"google.com",d)}}class Ri extends Ta{constructor(u,d,g){super(u,"twitter.com",d,g)}}function mi(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Xs(p){var u,d;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},D=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const G=null===(d=null===(u=Ws(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(G)return new yo(D,"anonymous"!==G&&"custom"!==G?G:null)}if(!g)return null;switch(g){case"facebook.com":return new $l(D,v);case"github.com":return new Yr(D,v);case"google.com":return new bM(D,v);case"twitter.com":return new Ri(D,v,p.screenName||null);case"custom":case"anonymous":return new yo(D,null);default:return new yo(D,g,v)}}(d)}class Cc{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new Cc("enroll",u,d)}static _fromMfaPendingCredential(u){return new Cc("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Cc._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Cc._fromIdtoken(u.multiFactorSession.idToken)}return null}}class O_{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=Un(u),v=d.customData._serverResponse,D=(v.mfaInfo||[]).map(ie=>jr._fromServerResponse(g,ie));ne(v.mfaPendingCredential,g,"internal-error");const G=Cc._fromMfaPendingCredential(v.mfaPendingCredential);return new O_(G,D,function(){var ie=(0,O.Z)(function*(be){const We=yield be._process(g,G);delete v.mfaInfo,delete v.mfaPendingCredential;const ot=Object.assign(Object.assign({},v),{idToken:We.idToken,refreshToken:We.refreshToken});switch(d.operationType){case"signIn":const Ht=yield Br._fromIdTokenResponse(g,d.operationType,ot);return yield g._updateCurrentUser(Ht.user),Ht;case"reauthenticate":return ne(d.user,g,"internal-error"),Br._forOperation(d.user,d.operationType,ot);default:Kt(g,"internal-error")}});return function(be){return ie.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,O.Z)(function*(){return d.signInResolver(u)})()}}function AM(p,u){var d;const g=(0,j.m9)(p),v=u;return ne(u.customData.operationType,g,"argument-error"),ne(null===(d=v.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),O_._fromError(g,v)}class N_{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>jr._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new N_(u)}getSession(){var u=this;return(0,O.Z)(function*(){return Cc._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,O.Z)(function*(){const v=u,D=yield g.getSession(),G=yield cn(g.user,v._process(g.user.auth,D,d));return yield g.user._updateTokensIfNecessary(G),g.user.reload()})()}unenroll(u){var d=this;return(0,O.Z)(function*(){const g="string"==typeof u?u:u.uid,v=yield d.user.getIdToken();try{const D=yield cn(d.user,function RM(p,u){return ce(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(p,u))}(d.user.auth,{idToken:v,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:G})=>G!==g),yield d.user._updateTokensIfNecessary(D),yield d.user.reload()}catch(D){throw D}})()}}const vd=new WeakMap;function k_(p){const u=(0,j.m9)(p);return vd.has(u)||vd.set(u,N_._fromUser(u)),vd.get(u)}const np="__sak";class vb{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Eb=(()=>{class p extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function PM(){const p=(0,j.z$)();return Vr(p)||lc(p)}()&&function sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_t(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),D=this.localCache[g];v!==D&&d(g,D,v)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((ie,be,We)=>{this.notifyListeners(ie,We)});const v=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(v);if(d.newValue!==ie)null!==d.newValue?this.storage.setItem(v,d.newValue):this.storage.removeItem(v);else if(this.localCache[v]===d.newValue&&!g)return}const D=()=>{const ie=this.storage.getItem(v);!g&&this.localCache[v]===ie||this.notifyListeners(v,ie)},G=this.storage.getItem(v);!function uc(){return(0,j.w1)()&&10===document.documentMode}()||G===d.newValue||d.newValue===d.oldValue?D():setTimeout(D,10)}notifyListeners(d,g){this.localCache[d]=g;const v=this.listeners[d];if(v)for(const D of Array.from(v))D(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var v=()=>super._set,D=this;return(0,O.Z)(function*(){yield v().call(D,d,g),D.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,v=this;return(0,O.Z)(function*(){const D=yield g().call(v,d);return v.localCache[d]=JSON.stringify(D),D})()}_remove(d){var g=()=>super._remove,v=this;return(0,O.Z)(function*(){yield g().call(v,d),delete v.localCache[d]})()}}return p.type="LOCAL",p})(),Tc=(()=>{class p extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let F_=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(D=>D.isListeningto(d));if(g)return g;const v=new p(d);return this.receivers.push(v),v}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,O.Z)(function*(){const v=d,{eventId:D,eventType:G,data:ie}=v.data,be=g.handlersMap[G];if(!be?.size)return;v.ports[0].postMessage({status:"ack",eventId:D,eventType:G});const We=Array.from(be).map(function(){var Ht=(0,O.Z)(function*(ei){return ei(v.origin,ie)});return function(ei){return Ht.apply(this,arguments)}}()),ot=yield function ms(p){return Promise.all(p.map(function(){var u=(0,O.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(We);v.ports[0].postMessage({status:"done",eventId:D,eventType:G,response:ot})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ac(p="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return p+d}class L_{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var v=this;return(0,O.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let G,ie;return new Promise((be,We)=>{const ot=Ac("",20);D.port1.start();const Ht=setTimeout(()=>{We(new Error("unsupported_event"))},g);ie={messageChannel:D,onMessage(ei){const xi=ei;if(xi.data.eventId===ot)switch(xi.data.status){case"ack":clearTimeout(Ht),G=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),be(xi.data.response);break;default:clearTimeout(Ht),clearTimeout(G),We(new Error("invalid_response"))}}},v.handlers.add(ie),D.port1.addEventListener("message",ie.onMessage),v.target.postMessage({eventType:u,eventId:ot,data:d},[D.port2])}).finally(()=>{ie&&v.removeMessageHandler(ie)})})()}}function pr(){return window}function Ed(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function zl(){return(zl=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sp="firebaseLocalStorageDb",$o="firebaseLocalStorage",Da="fbase_key";class Dc{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function op(p,u){return p.transaction([$o],u?"readwrite":"readonly").objectStore($o)}function B_(){const p=indexedDB.open(sp,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore($o,{keyPath:Da})}catch(v){d(v)}}),p.addEventListener("success",(0,O.Z)(function*(){const g=p.result;g.objectStoreNames.contains($o)?u(g):(g.close(),yield function xM(){const p=indexedDB.deleteDatabase(sp);return new Dc(p).toPromise()}(),u(yield B_()))}))})}function j_(p,u,d){return ap.apply(this,arguments)}function ap(){return(ap=(0,O.Z)(function*(p,u,d){const g=op(p,!0).put({[Da]:u,value:d});return new Dc(g).toPromise()})).apply(this,arguments)}function bd(){return(bd=(0,O.Z)(function*(p,u){const d=op(p,!1).get(u),g=yield new Dc(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function wd(p,u){const d=op(p,!0).delete(u);return new Dc(d).toPromise()}const bb=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,O.Z)(function*(){return d.db||(d.db=yield B_()),d.db})()}_withRetries(d){var g=this;return(0,O.Z)(function*(){let v=0;for(;;)try{const D=yield g._openDb();return yield d(D)}catch(D){if(v++>3)throw D;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,O.Z)(function*(){return Ed()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,O.Z)(function*(){d.receiver=F_._getInstance(function U_(){return Ed()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,O.Z)(function*(v,D){return{keyProcessed:(yield d._poll()).includes(D.key)}});return function(v,D){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,O.Z)(function*(v,D){return["keyChanged"]});return function(v,D){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,O.Z)(function*(){var g,v;if(d.activeServiceWorker=yield function ip(){return zl.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new L_(d.activeServiceWorker);const D=yield d.sender._send("ping",{},800);D&&null!==(g=D[0])&&void 0!==g&&g.fulfilled&&null!==(v=D[0])&&void 0!==v&&v.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,O.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function V_(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const d=yield B_();return yield j_(d,np,"1"),yield wd(d,np),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,O.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var v=this;return(0,O.Z)(function*(){return v._withPendingWrite((0,O.Z)(function*(){return yield v._withRetries(D=>j_(D,d,g)),v.localCache[d]=g,v.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,O.Z)(function*(){const v=yield g._withRetries(D=>function OM(p,u){return bd.apply(this,arguments)}(D,d));return g.localCache[d]=v,v})()}_remove(d){var g=this;return(0,O.Z)(function*(){return g._withPendingWrite((0,O.Z)(function*(){return yield g._withRetries(v=>wd(v,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,O.Z)(function*(){const g=yield d._withRetries(G=>{const ie=op(G,!1).getAll();return new Dc(ie).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const v=[],D=new Set;if(0!==g.length)for(const{fbase_key:G,value:ie}of g)D.add(G),JSON.stringify(d.localCache[G])!==JSON.stringify(ie)&&(d.notifyListeners(G,ie),v.push(G));for(const G of Object.keys(d.localCache))d.localCache[G]&&!D.has(G)&&(d.notifyListeners(G,null),v.push(G));return v})()}notifyListeners(d,g){this.localCache[d]=g;const v=this.listeners[d];if(v)for(const D of Array.from(v))D(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Cd=1e12;class H_{constructor(u){this.auth=u,this.counter=Cd,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new Ab(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||Cd;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Cd))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,O.Z)(function*(){var g;return null===(g=d._widgets.get(u||Cd))||void 0===g||g.execute(),""})()}}class Ab{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof u?document.getElementById(u):u;ne(v,"argument-error",{appName:d}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function q_(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lp=nd("rcb"),NM=new lr(3e4,6e4);class Db{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=pr().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ne(function _s(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Yt(pr().grecaptcha)?Promise.resolve(pr().grecaptcha):new Promise((g,v)=>{const D=pr().setTimeout(()=>{v(Zt(u,"network-request-failed"))},NM.get());pr()[lp]=()=>{pr().clearTimeout(D),delete pr()[lp];const ie=pr().grecaptcha;if(!ie||!Yt(ie))return void v(Zt(u,"internal-error"));const be=ie.render;ie.render=(We,ot)=>{const Ht=be(We,ot);return this.counter++,Ht},this.hostLanguage=d,g(ie)},ed(`${function td(){return hc.recaptchaV2Script}()}?${(0,j.xO)({onload:lp,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(D),v(Zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=pr().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class G_{load(u){return(0,O.Z)(function*(){return new H_(u)})()}clearedOneInstance(){}}const W_="recaptcha",Sb={theme:"light",type:"image"};class K_{constructor(u,d,g=Object.assign({},Sb)){this.parameters=g,this.type=W_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(u),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof d?document.getElementById(d):d;ne(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new G_:new Db,this.validateStartingState()}verify(){var u=this;return(0,O.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(D=>{const G=ie=>{ie&&(u.tokenChangeListeners.delete(G),D(ie))};u.tokenChangeListeners.add(G),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=pr()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,O.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,O.Z)(function*(){ne(kn()&&!Ed(),u.auth,"internal-error"),yield function Z_(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Hi(p){return oi.apply(this,arguments)}(u.auth);ne(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class up{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Ki._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function dp(p,u,d){return hp.apply(this,arguments)}function hp(){return(hp=(0,O.Z)(function*(p,u,d){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g=Un(p),v=yield Sc(g,u,(0,j.m9)(d));return new up(v,D=>fd(g,D))})).apply(this,arguments)}function Js(p,u,d){return Td.apply(this,arguments)}function Td(){return(Td=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);yield hd(!1,g,"phone");const v=yield Sc(g.auth,u,(0,j.m9)(d));return new up(v,D=>un(g,D))})).apply(this,arguments)}function Q_(p,u,d){return vn.apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);if((0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ot(g.auth));const v=yield Sc(g.auth,u,(0,j.m9)(d));return new up(v,D=>D_(g,D))})).apply(this,arguments)}function Sc(p,u,d){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,O.Z)(function*(p,u,d){var g;const v=yield d.verify();try{let D;if(ne("string"==typeof v,p,"argument-error"),ne(d.type===W_,p,"argument-error"),D="string"==typeof u?{phoneNumber:u}:u,"session"in D){const G=D.session;if("phoneNumber"in D)return ne("enroll"===G.type,p,"internal-error"),(yield function DM(p,u){return ce(p,"POST","/v2/accounts/mfaEnrollment:start",Ee(p,u))}(p,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ne("signin"===G.type,p,"internal-error");const ie=(null===(g=D.multiFactorHint)||void 0===g?void 0:g.uid)||D.multiFactorUid;return ne(ie,p,"missing-multi-factor-info"),(yield function wb(p,u){return ce(p,"POST","/v2/accounts/mfaSignIn:start",Ee(p,u))}(p,{mfaPendingCredential:G.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function va(p,u){return Ll.apply(this,arguments)}(p,{phoneNumber:D.phoneNumber,recaptchaToken:v});return G}}finally{d._reset()}}),Mc.apply(this,arguments)}function Pi(p,u){return fp.apply(this,arguments)}function fp(){return(fp=(0,O.Z)(function*(p,u){const d=(0,j.m9)(p);if((0,Re._isFirebaseServerApp)(d.auth.app))return Promise.reject(Ot(d.auth));yield Hf(d,u)})).apply(this,arguments)}let Y_=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Un(d)}verifyPhoneNumber(d,g){return Sc(this.auth,d,(0,j.m9)(g))}static credential(d,g){return Ki._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:v}=d;return g&&v?Ki._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function ys(p,u){return u?Ne(u):(ne(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class _i extends Ms{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Gi(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Gi(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Gi(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Mb(p){return Wf(p.auth,new _i(p),p.bypassAuthState)}function Rb(p){const{auth:u,user:d}=p;return ne(d,u,"internal-error"),A_(d,new _i(p),p.bypassAuthState)}function Pb(p){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(p){const{auth:u,user:d}=p;return ne(d,u,"internal-error"),Hf(d,new _i(p),p.bypassAuthState)})).apply(this,arguments)}class pp{constructor(u,d,g,v,D=!1){this.auth=u,this.resolver=g,this.user=v,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,O.Z)(function*(g,v){u.pendingPromise={resolve:g,reject:v};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(D){u.reject(D)}});return function(g,v){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,O.Z)(function*(){const{urlResponse:g,sessionId:v,postBody:D,tenantId:G,error:ie,type:be}=u;if(ie)return void d.reject(ie);const We={auth:d.auth,requestUri:g,sessionId:v,tenantId:G||void 0,postBody:D||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(be)(We))}catch(ot){d.reject(ot)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Mb;case"linkViaPopup":case"linkViaRedirect":return Pb;case"reauthViaPopup":case"reauthViaRedirect":return Rb;default:Kt(this.auth,"internal-error")}}resolve(u){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xb=new lr(2e3,1e4);function X_(p,u,d){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,O.Z)(function*(p,u,d){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Zt(p,"operation-not-supported-in-this-environment"));const g=Un(p);gt(p,u,rr);const v=ys(g,d);return new ey(g,"signInViaPopup",u,v).executeNotNull()})).apply(this,arguments)}function J_(p,u,d){return gp.apply(this,arguments)}function gp(){return(gp=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);if((0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Zt(g.auth,"operation-not-supported-in-this-environment"));gt(g.auth,u,rr);const v=ys(g.auth,d);return new ey(g.auth,"reauthViaPopup",u,v,g).executeNotNull()})).apply(this,arguments)}function Et(p,u,d){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);gt(g.auth,u,rr);const v=ys(g.auth,d);return new ey(g.auth,"linkViaPopup",u,v,g).executeNotNull()})).apply(this,arguments)}let ey=(()=>{class p extends pp{constructor(d,g,v,D,G){super(d,g,D,G),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,O.Z)(function*(){const g=yield d.execute();return ne(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,O.Z)(function*(){It(1===d.filter.length,"Popup operations only handle one event");const g=Ac();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(v=>{d.reject(v)}),d.resolver._isIframeWebStorageSupported(d.auth,v=>{v||d.reject(Zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,xb.get())};d()}}return p.currentPopupAction=null,p})();const Ob="pendingRedirect",Hl=new Map;class Nb extends pp{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,O.Z)(function*(){let g=Hl.get(d.auth._key());if(!g){try{const D=(yield function ty(p,u){return zo.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(D)}catch(v){g=()=>Promise.reject(v)}Hl.set(d.auth._key(),g)}return d.bypassAuthState||Hl.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,O.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const v=yield g.auth._redirectUserForId(u.eventId);if(v)return g.user=v,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function zo(){return(zo=(0,O.Z)(function*(p,u){const d=we(u),g=ry(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(d));return yield g._remove(d),v})).apply(this,arguments)}function mp(p,u){return _p.apply(this,arguments)}function _p(){return(_p=(0,O.Z)(function*(p,u){return ry(p)._set(we(u),"true")})).apply(this,arguments)}function kb(){Hl.clear()}function ny(p,u){Hl.set(p._key(),u)}function ry(p){return Ne(p._redirectPersistence)}function we(p){return Xt(Ob,p.config.apiKey,p.name)}function Jt(p,u,d){return function Rc(p,u,d){return Ho.apply(this,arguments)}(p,u,d)}function Ho(){return(Ho=(0,O.Z)(function*(p,u,d){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g=Un(p);gt(p,u,rr),yield g._initializationPromise;const v=ys(g,d);return yield mp(v,g),v._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function Xr(p,u,d){return function iy(p,u,d){return Sa.apply(this,arguments)}(p,u,d)}function Sa(){return(Sa=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);if(gt(g.auth,u,rr),(0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ot(g.auth));yield g.auth._initializationPromise;const v=ys(g.auth,d);yield mp(v,g.auth);const D=yield no(g);return v._openRedirect(g.auth,u,"reauthViaRedirect",D)})).apply(this,arguments)}function to(p,u,d){return function yp(p,u,d){return ql.apply(this,arguments)}(p,u,d)}function ql(){return(ql=(0,O.Z)(function*(p,u,d){const g=(0,j.m9)(p);gt(g.auth,u,rr),yield g.auth._initializationPromise;const v=ys(g.auth,d);yield hd(!1,g,u.providerId),yield mp(v,g.auth);const D=yield no(g);return v._openRedirect(g.auth,u,"linkViaRedirect",D)})).apply(this,arguments)}function Fb(p,u){return sy.apply(this,arguments)}function sy(){return(sy=(0,O.Z)(function*(p,u){return yield Un(p)._initializationPromise,Sd(p,u,!1)})).apply(this,arguments)}function Sd(p,u){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*(p,u,d=!1){if((0,Re._isFirebaseServerApp)(p.app))return Promise.reject(Ot(p));const g=Un(p),v=ys(g,u),G=yield new Nb(g,v,d).execute();return G&&!d&&(delete G.user._redirectEventId,yield g._persistUserIfCurrent(G.user),yield g._setRedirectUser(null,u)),G})).apply(this,arguments)}function no(p){return Md.apply(this,arguments)}function Md(){return(Md=(0,O.Z)(function*(p){const u=Ac(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class ro{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Lb(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vp(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!vp(u)){const v=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(Zt(this.auth,v))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oy(u))}saveEventToCache(u){this.cachedEventUids.add(oy(u)),this.lastProcessedEventTime=Date.now()}}function oy(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function vp({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function ay(p){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,O.Z)(function*(p,u={}){return ce(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Ep=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cy=/^https?/;function bp(){return(bp=(0,O.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield ay(p);for(const d of u)try{if(ly(d))return}catch{}Kt(p,"unauthorized-domain")})).apply(this,arguments)}function ly(p){const u=Nt(),{protocol:d,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const G=new URL(p);return""===G.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&G.hostname===g}if(!cy.test(d))return!1;if(Ep.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const wp=new lr(3e4,6e4);function Cp(){const p=pr().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Wl=null;const Tp=new lr(5e3,15e3),Vb="__/auth/iframe",Ub="emulator/auth/iframe",yi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ma=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zn(p){const u=p.config;ne(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?se(u,Ub):`https://${p.config.authDomain}/${Vb}`,g={apiKey:u.apiKey,appName:p.name,v:Re.SDK_VERSION},v=Ma.get(p.config.apiHost);v&&(g.eid=v);const D=p._getFrameworks();return D.length&&(g.fw=D.join(",")),`${d}?${(0,j.xO)(g).slice(1)}`}function Ap(){return Ap=(0,O.Z)(function*(p){const u=yield function dy(p){return Wl=Wl||function uy(p){return new Promise((u,d)=>{var g,v,D;function G(){Cp(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Cp(),d(Zt(p,"network-request-failed"))},timeout:wp.get()})}if(null!==(v=null===(g=pr().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)u(gapi.iframes.getContext());else{if(null===(D=pr().gapi)||void 0===D||!D.load){const ie=nd("iframefcb");return pr()[ie]=()=>{gapi.load?G():d(Zt(p,"network-request-failed"))},ed(`${function y_(){return hc.gapiScript}()}?onload=${ie}`).catch(be=>d(be))}G()}}).catch(u=>{throw Wl=null,u})}(p),Wl}(p),d=pr().gapi;return ne(d,p,"internal-error"),u.open({where:document.body,url:Zn(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yi,dontclear:!0},g=>new Promise(function(){var v=(0,O.Z)(function*(D,G){yield g.restyle({setHideOnLeave:!1});const ie=Zt(p,"network-request-failed"),be=pr().setTimeout(()=>{G(ie)},Tp.get());function We(){pr().clearTimeout(be),D(g)}g.ping(We).then(We,()=>{G(ie)})});return function(D,G){return v.apply(this,arguments)}}()))}),Ap.apply(this,arguments)}const jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vo{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xd="__/auth/handler",Od="emulator/auth/handler",Dp=encodeURIComponent("fac");function Nd(p,u,d,g,v,D){return kd.apply(this,arguments)}function kd(){return(kd=(0,O.Z)(function*(p,u,d,g,v,D){ne(p.config.authDomain,p,"auth-domain-config-required"),ne(p.config.apiKey,p,"invalid-api-key");const G={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:Re.SDK_VERSION,eventId:v};if(u instanceof rr){u.setDefaultLanguage(p.languageCode),G.providerId=u.providerId||"",(0,j.xb)(u.getCustomParameters())||(G.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ot,Ht]of Object.entries(D||{}))G[ot]=Ht}if(u instanceof R){const ot=u.getScopes().filter(Ht=>""!==Ht);ot.length>0&&(G.scopes=ot.join(","))}p.tenantId&&(G.tid=p.tenantId);const ie=G;for(const ot of Object.keys(ie))void 0===ie[ot]&&delete ie[ot];const be=yield p._getAppCheckToken(),We=be?`#${Dp}=${encodeURIComponent(be)}`:"";return`${function Hb({config:p}){return p.emulator?se(p,Od):`https://${p.authDomain}/${xd}`}(p)}?${(0,j.xO)(ie).slice(1)}${We}`})).apply(this,arguments)}const qo="webStorageSupport",py=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tc,this._completeRedirectFn=Sd,this._overrideRedirectResult=ny}_openPopup(u,d,g,v){var D=this;return(0,O.Z)(function*(){var G;It(null===(G=D.eventManagers[u._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ie=yield Nd(u,d,g,Nt(),v);return function zb(p,u,d,g=500,v=600){const D=Math.max((window.screen.availHeight-v)/2,0).toString(),G=Math.max((window.screen.availWidth-g)/2,0).toString();let ie="";const be=Object.assign(Object.assign({},jb),{width:g.toString(),height:v.toString(),top:D,left:G}),We=(0,j.z$)().toLowerCase();d&&(ie=go(We)?"_blank":d),at(We)&&(u=u||"http://localhost",be.scrollbars="yes");const ot=Object.entries(be).reduce((ei,[xi,Vd])=>`${ei}${xi}=${Vd},`,"");if(function he(p=(0,j.z$)()){var u;return lc(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(We)&&"_self"!==ie)return function Pd(p,u){const d=document.createElement("a");d.href=p,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",ie),new vo(null);const Ht=window.open(u||"",ie,ot);ne(Ht,p,"popup-blocked");try{Ht.focus()}catch{}return new vo(Ht)}(u,ie,Ac())})()}_openRedirect(u,d,g,v){var D=this;return(0,O.Z)(function*(){return yield D._originValidation(u),function rp(p){pr().location.href=p}(yield Nd(u,d,g,Nt(),v)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:v,promise:D}=this.eventManagers[d];return v?Promise.resolve(v):(It(D,"If manager is not set, promise should be"),D)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,O.Z)(function*(){const g=yield function Bb(p){return Ap.apply(this,arguments)}(u),v=new ro(u);return g.register("authEvent",D=>(ne(D?.authEvent,u,"invalid-auth-event"),{status:v.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:v},d.iframes[u._key()]=g,v})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(qo,{type:qo},v=>{var D;const G=null===(D=v?.[0])||void 0===D?void 0:D[qo];void 0!==G&&d(!!G),Kt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ip(p){return bp.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return _t()||Vr()||lc()}};class kM{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return tt("unexpected MultiFactorSessionType")}}}class Zl extends kM{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Zl(u)}_finalizeEnroll(u,d,g){return function SM(p,u){return ce(p,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(p,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function $_(p,u){return ce(p,"POST","/v2/accounts/mfaSignIn:finalize",Ee(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let FM=(()=>{class p{constructor(){}static assertion(d){return Zl._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Fd="@firebase/auth";class Gb{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,O.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Ju(p){hc=p}({loadJS:p=>new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=v=>{const D=Zt("internal-error");D.customData=v,d(D)},g.type="text/javascript",g.charset="UTF-8",function io(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rp(p){(0,Re._registerComponent)(new Dn.wA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),v=u.getProvider("heartbeat"),D=u.getProvider("app-check-internal"),{apiKey:G,authDomain:ie}=g.options;ne(G&&!G.includes(":"),"invalid-api-key",{appName:g.name});const be={apiKey:G,authDomain:ie,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dc(p)},We=new Uf(g,v,D,be);return function Rl(p,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Ne);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(We,d),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,Re._registerComponent)(new Dn.wA("auth-internal",u=>{const d=Un(u.getProvider("auth").getImmediate());return new Gb(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.registerVersion)(Fd,"1.7.4",function Ql(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,Re.registerVersion)(Fd,"1.7.4","esm2017")}("Browser")},58:(ls,Gn,Ke)=>{Ke.d(Gn,{$s:()=>fs,BH:()=>Tr,G6:()=>lr,L:()=>St,LL:()=>ce,P0:()=>mn,Pz:()=>Zt,Sg:()=>Ot,UG:()=>ne,ZB:()=>Xe,ZR:()=>Ee,aH:()=>Kt,b$:()=>Nt,eu:()=>oe,hl:()=>se,jU:()=>tt,m9:()=>ke,ne:()=>Gs,pd:()=>qi,r3:()=>Yt,ru:()=>It,tV:()=>ye,uI:()=>Me,vZ:()=>oi,w1:()=>hn,xO:()=>us,xb:()=>Ar,z$:()=>gt,zI:()=>ue,zd:()=>Ti});const xe=function(P){const N=[];let b=0;for(let S=0;S<P.length;S++){let w=P.charCodeAt(S);w<128?N[b++]=w:w<2048?(N[b++]=w>>6|192,N[b++]=63&w|128):55296==(64512&w)&&S+1<P.length&&56320==(64512&P.charCodeAt(S+1))?(w=65536+((1023&w)<<10)+(1023&P.charCodeAt(++S)),N[b++]=w>>18|240,N[b++]=w>>12&63|128,N[b++]=w>>6&63|128,N[b++]=63&w|128):(N[b++]=w>>12|224,N[b++]=w>>6&63|128,N[b++]=63&w|128)}return N},Dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,N){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let w=0;w<P.length;w+=3){const V=P[w],fe=w+1<P.length,Ne=fe?P[w+1]:0,He=w+2<P.length,mt=He?P[w+2]:0;let wn=(15&Ne)<<2|mt>>6,at=63&mt;He||(at=64,fe||(wn=64)),S.push(b[V>>2],b[(3&V)<<4|Ne>>4],b[wn],b[at])}return S.join("")},encodeString(P,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(P):this.encodeByteArray(xe(P),N)},decodeString(P,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(P):function(P){const N=[];let b=0,S=0;for(;b<P.length;){const w=P[b++];if(w<128)N[S++]=String.fromCharCode(w);else if(w>191&&w<224){const V=P[b++];N[S++]=String.fromCharCode((31&w)<<6|63&V)}else if(w>239&&w<365){const He=((7&w)<<18|(63&P[b++])<<12|(63&P[b++])<<6|63&P[b++])-65536;N[S++]=String.fromCharCode(55296+(He>>10)),N[S++]=String.fromCharCode(56320+(1023&He))}else{const V=P[b++],fe=P[b++];N[S++]=String.fromCharCode((15&w)<<12|(63&V)<<6|63&fe)}}return N.join("")}(this.decodeStringToByteArray(P,N))},decodeStringToByteArray(P,N){this.init_();const b=N?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let w=0;w<P.length;){const V=b[P.charAt(w++)],Ne=w<P.length?b[P.charAt(w)]:0;++w;const mt=w<P.length?b[P.charAt(w)]:64;++w;const Ve=w<P.length?b[P.charAt(w)]:64;if(++w,null==V||null==Ne||null==mt||null==Ve)throw new Sn;S.push(V<<2|Ne>>4),64!==mt&&(S.push(Ne<<4&240|mt>>2),64!==Ve&&S.push(mt<<6&192|Ve))}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Sn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(P){return function(P){const N=xe(P);return Dn.encodeByteArray(N,!0)}(P).replace(/\./g,"")},ye=function(P){try{return Dn.decodeString(P,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function Xe(P,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return N}for(const b in N)!N.hasOwnProperty(b)||!wt(b)||(P[b]=Xe(P[b],N[b]));return P}function wt(P){return"__proto__"!==P}const st=()=>{try{return function jt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const N=P&&ye(P[1]);return N&&JSON.parse(N)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},mn=P=>{const N=(P=>{var N,b;return null===(b=null===(N=st())||void 0===N?void 0:N.emulatorHosts)||void 0===b?void 0:b[P]})(P);if(!N)return;const b=N.lastIndexOf(":");if(b<=0||b+1===N.length)throw new Error(`Invalid host ${N} with no separate hostname and port!`);const S=parseInt(N.substring(b+1),10);return"["===N[0]?[N.substring(1,b-1),S]:[N.substring(0,b),S]},Kt=()=>{var P;return null===(P=st())||void 0===P?void 0:P.config},Zt=P=>{var N;return null===(N=st())||void 0===N?void 0:N[`_${P}`]};class Tr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((N,b)=>{this.resolve=N,this.reject=b})}wrapCallback(N){return(b,S)=>{b?this.reject(b):this.resolve(S),"function"==typeof N&&(this.promise.catch(()=>{}),1===N.length?N(b):N(b,S))}}}function Ot(P,N){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const S=N||"demo-project",w=P.iat||0,V=P.sub||P.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${S}`,aud:S,iat:w,exp:w+3600,auth_time:w,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},P);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(fe)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function ne(){var P;const N=null===(P=st())||void 0===P?void 0:P.forceEnvironment;if("node"===N)return!0;if("browser"===N)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function It(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hn(){const P=gt();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function lr(){return!ne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((P,N)=>{try{let b=!0;const S="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(S);w.onsuccess=()=>{w.result.close(),b||self.indexedDB.deleteDatabase(S),P(!0)},w.onupgradeneeded=()=>{b=!1},w.onerror=()=>{var V;N((null===(V=w.error)||void 0===V?void 0:V.message)||"")}}catch(b){N(b)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(N,b,S){super(b),this.code=N,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(N,b,S){this.service=N,this.serviceName=b,this.errors=S}create(N,...b){const S=b[0]||{},w=`${this.service}/${N}`,V=this.errors[N],fe=V?function Oe(P,N){return P.replace(Lt,(b,S)=>{const w=N[S];return null!=w?String(w):`<${S}?>`})}(V,S):"Error";return new Ee(w,`${this.serviceName}: ${fe} (${w}).`,S)}}const Lt=/\{\$([^}]+)}/g;function Yt(P,N){return Object.prototype.hasOwnProperty.call(P,N)}function Ar(P){for(const N in P)if(Object.prototype.hasOwnProperty.call(P,N))return!1;return!0}function oi(P,N){if(P===N)return!0;const b=Object.keys(P),S=Object.keys(N);for(const w of b){if(!S.includes(w))return!1;const V=P[w],fe=N[w];if(Vt(V)&&Vt(fe)){if(!oi(V,fe))return!1}else if(V!==fe)return!1}for(const w of S)if(!b.includes(w))return!1;return!0}function Vt(P){return null!==P&&"object"==typeof P}function us(P){const N=[];for(const[b,S]of Object.entries(P))Array.isArray(S)?S.forEach(w=>{N.push(encodeURIComponent(b)+"="+encodeURIComponent(w))}):N.push(encodeURIComponent(b)+"="+encodeURIComponent(S));return N.length?"&"+N.join("&"):""}function Ti(P){const N={};return P.replace(/^\?/,"").split("&").forEach(S=>{if(S){const[w,V]=S.split("=");N[decodeURIComponent(w)]=decodeURIComponent(V)}}),N}function qi(P){const N=P.indexOf("?");if(!N)return"";const b=P.indexOf("#",N);return P.substring(N,b>0?b:void 0)}function Gs(P,N){const b=new Ai(P,N);return b.subscribe.bind(b)}class Ai{constructor(N,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{N(this)}).catch(S=>{this.error(S)})}next(N){this.forEachObserver(b=>{b.next(N)})}error(N){this.forEachObserver(b=>{b.error(N)}),this.close(N)}complete(){this.forEachObserver(N=>{N.complete()}),this.close()}subscribe(N,b,S){let w;if(void 0===N&&void 0===b&&void 0===S)throw new Error("Missing Observer.");w=function Qr(P,N){if("object"!=typeof P||null===P)return!1;for(const b of N)if(b in P&&"function"==typeof P[b])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:b,complete:S},void 0===w.next&&(w.next=nn),void 0===w.error&&(w.error=nn),void 0===w.complete&&(w.complete=nn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),V}unsubscribeOne(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,N)}sendOne(N,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{b(this.observers[N])}catch(S){typeof console<"u"&&console.error&&console.error(S)}})}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}const ur=1e3,bn=2,Dr=144e5,hs=.5;function fs(P,N=ur,b=bn){const S=N*Math.pow(b,P),w=Math.round(hs*S*(Math.random()-.5)*2);return Math.min(Dr,S+w)}function ke(P){return P&&P._delegate?P._delegate:P}},713:(ls,Gn,Ke)=>{function O(n){return"function"==typeof n}function Re(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const j=Re(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function xe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof j?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Bt(s)}catch(o){e=e??[],o instanceof j?e=[...e,...o.errors]:e.push(o)}}if(e)throw new j(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Bt(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xe(t,e)}remove(e){const{_finalizers:t}=this;t&&xe(t,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const n=new Pt;return n.closed=!0,n})();const Dn=Pt.EMPTY;function Sn(n){return n instanceof Pt||n&&"closed"in n&&O(n.remove)&&O(n.add)&&O(n.unsubscribe)}function Bt(n){O(n)?n():n.unsubscribe()}const St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ye={setTimeout(n,e,...t){const{delegate:r}=ye;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ye;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Te(n){ye.setTimeout(()=>{const{onUnhandledError:e}=St;if(!e)throw n;e(n)})}function Xe(){}const wt=xt("C",void 0,void 0);function xt(n,e,t){return{kind:n,value:e,error:t}}let ut=null;function st(n){if(St.useDeprecatedSynchronousErrorHandling){const e=!ut;if(e&&(ut={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ut;if(ut=null,t)throw r}}else n()}class mn extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sn(e)&&e.add(this)):this.destination=tt}static create(e,t,r){return new Ot(e,t,r)}next(e){this.isStopped?ne(function Wn(n){return xt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ne(function jt(n){return xt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ne(wt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Kt=Function.prototype.bind;function Zt(n,e){return Kt.call(n,e)}class Tr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gt(r)}else gt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gt(t)}}}class Ot extends mn{constructor(e,t,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zt(e.next,s),error:e.error&&Zt(e.error,s),complete:e.complete&&Zt(e.complete,s)}):i=e}this.destination=new Tr(i)}}function gt(n){St.useDeprecatedSynchronousErrorHandling?function Mn(n){St.useDeprecatedSynchronousErrorHandling&&ut&&(ut.errorThrown=!0,ut.error=n)}(n):Te(n)}function ne(n,e){const{onStoppedNotification:t}=St;t&&ye.setTimeout(()=>t(n,e))}const tt={closed:!0,next:Xe,error:function Me(n){throw n},complete:Xe},It="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nt(n){return n}function hn(n){return 0===n.length?Nt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let bt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function se(n){return n&&n instanceof mn||function lr(n){return n&&O(n.next)&&O(n.error)&&O(n.complete)}(n)&&Sn(n)}(t)?t:new Ot(t,r,i);return st(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=_n(r))((i,s)=>{const o=new Ot({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[It](){return this}pipe(...t){return hn(t)(this)}toPromise(t){return new(t=_n(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function _n(n){var e;return null!==(e=n??St.Promise)&&void 0!==e?e:Promise}const oe=Re(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ue=(()=>{class n extends bt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new me(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oe}next(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){st(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Dn:(this.currentObservers=null,s.push(t),new Pt(()=>{this.currentObservers=null,xe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new bt;return t.source=this,t}}return n.create=(e,t)=>new me(e,t),n})();class me extends ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Dn}}function Ee(n){return O(n?.lift)}function ce(n){return e=>{if(Ee(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(n,e,t,r,i){return new Lt(n,e,t,r,i)}class Lt extends mn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(n,e){return ce((t,r)=>{let i=0;t.subscribe(Oe(r,s=>{r.next(n.call(e,s,i++))}))})}var Ye=Ke(582);const Ut=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yn(n){return O(n?.then)}function fn(n){return O(n[It])}function In(n){return Symbol.asyncIterator&&O(n?.[Symbol.asyncIterator])}function Rn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kn=function Yt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ar(n){return O(n?.[Kn])}function Hi(n){return(0,Ye.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ye.qq)(t.read());if(i)return yield(0,Ye.qq)(void 0);yield yield(0,Ye.qq)(r)}}finally{t.releaseLock()}})}function oi(n){return O(n?.getReader)}function Vt(n){if(n instanceof bt)return n;if(null!=n){if(fn(n))return function ai(n){return new bt(e=>{const t=n[It]();if(O(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ut(n))return function us(n){return new bt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(yn(n))return function Ti(n){return new bt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Te)})}(n);if(In(n))return Zr(n);if(Ar(n))return function qi(n){return new bt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(oi(n))return function Gs(n){return Zr(Hi(n))}(n)}throw Rn(n)}function Zr(n){return new bt(e=>{(function Ai(n,e){var t,r,i,s;return(0,Ye.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ye.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function mr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function nn(n,e,t=1/0){return O(e)?nn((r,i)=>De((s,o)=>e(r,s,i,o))(Vt(n(r,i))),t):("number"==typeof e&&(t=e),ce((r,i)=>function Qr(n,e,t,r,i,s,o,a){const c=[];let l=0,f=0,m=!1;const y=()=>{m&&!c.length&&!l&&e.complete()},I=F=>l<r?T(F):c.push(F),T=F=>{s&&e.next(F),l++;let L=!1;Vt(t(F,f++)).subscribe(Oe(e,W=>{i?.(W),s?I(W):e.next(W)},()=>{L=!0},void 0,()=>{if(L)try{for(l--;c.length&&l<r;){const W=c.shift();o?mr(e,o,()=>T(W)):T(W)}y()}catch(W){e.error(W)}}))};return n.subscribe(Oe(e,I,()=>{m=!0,y()})),()=>{a?.()}}(r,i,n,t)))}function Fr(n=1/0){return nn(Nt,n)}const Vn=new bt(n=>n.complete());function Lr(n){return n[n.length-1]}function Si(n){return O(Lr(n))?n.pop():void 0}function ds(n){return function cn(n){return n&&O(n.schedule)}(Lr(n))?n.pop():void 0}function bn(n,e=0){return ce((t,r)=>{t.subscribe(Oe(r,i=>mr(r,n,()=>r.next(i),e),()=>mr(r,n,()=>r.complete(),e),i=>mr(r,n,()=>r.error(i),e)))})}function Dr(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ke(n,e){if(!n)throw new Error("Iterable cannot be null");return new bt(t=>{mr(t,e,()=>{const r=n[Symbol.asyncIterator]();mr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function b(n,e){return e?function N(n,e){if(null!=n){if(fn(n))return function hs(n,e){return Vt(n).pipe(Dr(e),bn(e))}(n,e);if(Ut(n))return function Ss(n,e){return new bt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(yn(n))return function fs(n,e){return Vt(n).pipe(Dr(e),bn(e))}(n,e);if(In(n))return ke(n,e);if(Ar(n))return function Ks(n,e){return new bt(t=>{let r;return mr(t,e,()=>{r=n[Kn](),mr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(n,e);if(oi(n))return function P(n,e){return ke(Hi(n),e)}(n,e)}throw Rn(n)}(n,e):Vt(n)}function S(...n){const e=ds(n),t=function ur(n,e){return"number"==typeof Lr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Vt(r[0]):Fr(t)(b(r,e)):Vn}class w extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function V(...n){return b(n,ds(n))}function fe(n={}){const{connector:e=(()=>new ue),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,f=!1,m=!1;const y=()=>{a?.unsubscribe(),a=void 0},I=()=>{y(),o=c=void 0,f=m=!1},T=()=>{const F=o;I(),F?.unsubscribe()};return ce((F,L)=>{l++,!m&&!f&&y();const W=c=c??e();L.add(()=>{l--,0===l&&!m&&!f&&(a=Ne(T,i))}),W.subscribe(L),!o&&l>0&&(o=new Ot({next:z=>W.next(z),error:z=>{m=!0,y(),a=Ne(I,t,z),W.error(z)},complete:()=>{f=!0,y(),a=Ne(I,r),W.complete()}}),Vt(F).subscribe(o))})(s)}}function Ne(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ot({next:()=>{r.unsubscribe(),n()}});return Vt(e(...t)).subscribe(r)}function He(n,e){return ce((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Oe(r,c=>{i?.unsubscribe();let l=0;const f=s++;Vt(n(c,f)).subscribe(i=Oe(r,m=>r.next(e?e(c,m,f,l++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function mt(n,e=Nt){return n=n??Xt,ce((t,r)=>{let i,s=!0;t.subscribe(Oe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Xt(n,e){return n===e}function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function wn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function at(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(at).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Vr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const go=Ve({__forward_ref__:Ve});function ln(n){return n.__forward_ref__=ln,n.toString=function(){return at(this())},n}function ft(n){return ac(n)?n():n}function ac(n){return"function"==typeof n&&n.hasOwnProperty(go)&&n.__forward_ref__===ln}function cc(n){return n&&!!n.\u0275providers}const pa="https://g.co/ng/security#xss";class he extends Error{constructor(e,t){super(function uc(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function _t(n){return"string"==typeof n?n:null==n?"":String(n)}function dr(n,e){throw new he(-201,!1)}function Mi(n,e){null==n&&function pt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ga(n){return Pl(n,mo)||Pl(n,Ms)}function Pl(n,e){return n.hasOwnProperty(e)?n[e]:null}function pc(n){return n&&(n.hasOwnProperty(xl)||n.hasOwnProperty(od))?n[xl]:null}const mo=Ve({\u0275prov:Ve}),xl=Ve({\u0275inj:Ve}),Ms=Ve({ngInjectableDef:Ve}),od=Ve({ngInjectorDef:Ve});var Dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dt||{});let Ol;function ci(n){const e=Ol;return Ol=n,e}function No(n,e,t){const r=ga(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Dt.Optional?null:void 0!==e?e:void dr(at(n))}const on=globalThis;class Ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fo={},Lo="__NG_DI_FLAG__",Mr="ngTempTokenPath",Fl=/\n/gm,Wi="__source";let va;function Qs(n){const e=va;return va=n,e}function Ea(n,e=Dt.Default){if(void 0===va)throw new he(-203,!1);return null===va?No(n,void 0,e):va.get(n,e&Dt.Optional?null:void 0,e)}function pe(n,e=Dt.Default){return(function Oo(){return Ol}()||Ea)(ft(n),e)}function ze(n,e=Dt.Default){return pe(n,yc(e))}function yc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ia(n){const e=[];for(let t=0;t<n.length;t++){const r=ft(n[t]);if(Array.isArray(r)){if(0===r.length)throw new he(900,!1);let i,s=Dt.Default;for(let o=0;o<r.length;o++){const a=r[o],c=w_(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(pe(i,s))}else e.push(pe(r))}return e}function Ki(n,e){return n[Lo]=e,n.prototype[Lo]=e,n}function w_(n){return n[Lo]}function Ps(n){return{toString:n}.toString()}var _o=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_o||{}),rr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(rr||{});const R={},U=[],Q=Ve({\u0275cmp:Ve}),ve=Ve({\u0275dir:Ve}),Pe=Ve({\u0275pipe:Ve}),qe=Ve({\u0275mod:Ve}),Ze=Ve({\u0275fac:Ve}),yt=Ve({__NG_ELEMENT_ID__:Ve}),vt=Ve({__NG_ENV_ID__:Ve});function $t(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ur(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Br(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ps(n){return 3===n||4===n||6===n}function Br(n){return 64===n.charCodeAt(0)}function pi(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||C_(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function C_(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const ld="ng-template";function ud(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==$t(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function zf(n){return 4===n.type&&n.value!==ld}function T_(n,e,t){return e===(4!==n.type||t?n.value:ld)}function mb(n,e,t){let r=4;const i=n.attrs||[],s=function qf(n){for(let e=0;e<n.length;e++)if(ps(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!T_(n,c,t)||""===c&&1===e.length){if(Zi(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!ud(n.attrs,l,t)){if(Zi(r))return!1;o=!0}continue}const m=Hf(8&r?"class":c,i,zf(n),t);if(-1===m){if(Zi(r))return!1;o=!0;continue}if(""!==l){let y;y=m>s?"":i[m+1].toLowerCase();const I=8&r?y:null;if(I&&-1!==$t(I,l,0)||2&r&&l!==y){if(Zi(r))return!1;o=!0}}}}else{if(!o&&!Zi(r)&&!Zi(c))return!1;if(o&&Zi(c))continue;o=!1,r=c|1&r}}return Zi(r)||o}function Zi(n){return 0==(1&n)}function Hf(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function A_(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function dd(n,e,t=!1){for(let r=0;r<e.length;r++)if(mb(n,e[r],t))return!0;return!1}function Wf(n,e){return n?":not("+e.trim()+")":e}function Kf(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Zi(o)&&(e+=Wf(s,i),i=""),r=o,s=s||!Zi(r);t++}return""!==i&&(e+=Wf(s,i)),e}function un(n){return Ps(()=>{const e=M_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_o.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||rr.Emulated,styles:n.styles||U,_:null,schemas:n.schemas||null,tView:null,id:""};pd(t);const r=n.dependencies;return t.directiveDefs=gd(r,!1),t.pipeDefs=gd(r,!0),t.id=function _b(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function D_(n){return Gt(n)||Rr(n)}function Yf(n){return null!==n}function Pn(n){return Ps(()=>({type:n.type,bootstrap:n.bootstrap||U,declarations:n.declarations||U,imports:n.imports||U,exports:n.exports||U,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function S_(n,e){if(null==n)return R;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function rt(n){return Ps(()=>{const e=M_(n);return pd(e),e})}function jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Gt(n){return n[Q]||null}function Rr(n){return n[ve]||null}function $r(n){return n[Pe]||null}function gi(n,e){const t=n[qe]||null;if(!t&&!0===e)throw new Error(`Type ${at(n)} does not have '\u0275mod' property.`);return t}function M_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||R,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||U,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:S_(n.inputs,e),outputs:S_(n.outputs)}}function pd(n){n.features?.forEach(e=>e(n))}function gd(n,e){if(!n)return null;const t=e?$r:D_;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Yf)}const Bn=0,Ge=1,Ct=2,jn=3,Qi=4,Ul=5,zr=6,Ec=7,hr=8,Ys=9,Ic=10,Tt=11,ba=12,R_=13,Uo=14,fr=15,wa=16,bc=17,gs=18,Bl=19,md=20,Bo=21,xs=22,jl=23,Ca=24,zt=25,_d=1,yd=2,Xs=7,Ta=9,Yr=11;function Ri(n){return Array.isArray(n)&&"object"==typeof n[_d]}function mi(n){return Array.isArray(n)&&!0===n[_d]}function P_(n){return 0!=(4&n.flags)}function wc(n){return n.componentOffset>-1}function ep(n){return 1==(1&n.flags)}function Yi(n){return!!n.template}function tp(n){return 0!=(512&n[Ct])}function Aa(n,e){return n.hasOwnProperty(Ze)?n[Ze]:null}let li=null,Tc=!1;function ms(n){const e=li;return li=n,e}const F_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function L_(n){if(!$o(n)||n.dirty){if(!n.producerMustRecompute(n)&&!V_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Ed(n){n.dirty=!0,function pr(n){if(void 0===n.liveConsumerNode)return;const e=Tc;Tc=!0;try{for(const t of n.liveConsumerNode)t.dirty||Ed(t)}finally{Tc=e}}(n),n.consumerMarkedDirty?.(n)}function ip(n){return n&&(n.nextProducerIndex=0),ms(n)}function zl(n,e){if(ms(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if($o(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Id(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function V_(n){Da(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(L_(t),r!==t.version))return!0}return!1}function U_(n){if(Da(n),$o(n))for(let e=0;e<n.producerNode.length;e++)Id(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Id(n,e){if(function Dc(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Da(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Id(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Da(i),i.producerIndexOfThis[r]=e}}function $o(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Da(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let bd=null;const q_=()=>{},lp=(()=>({...F_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:q_}))();class Db{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function _s(){return G_}function G_(n){return n.type.prototype.ngOnChanges&&(n.setInput=Sb),W_}function W_(){const n=Z_(this),e=n?.current;if(e){const t=n.previous;if(t===R)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Sb(n,e,t,r){const i=this.declaredInputs[t],s=Z_(n)||function up(n,e){return n[K_]=e}(n,{previous:R,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Db(c&&c.currentValue,e,a===R),n[r]=e}_s.ngInherit=!0;const K_="__ngSimpleChanges__";function Z_(n){return n[K_]||null}const Js=function(n,e,t){};function vn(n){for(;Array.isArray(n);)n=n[Bn];return n}function Mc(n,e){return vn(e[n])}function Pi(n,e){return vn(e[n.index])}function Y_(n,e){return n.data[e]}function ys(n,e){return n[e]}function _i(n,e){const t=e[n];return Ri(t)?t:t[Bn]}function eo(n,e){return null==e?null:n[e]}function pp(n){n[bc]=0}function xb(n){1024&n[Ct]||(n[Ct]|=1024,Ad(n,1))}function X_(n){1024&n[Ct]&&(n[Ct]&=-1025,Ad(n,-1))}function Ad(n,e){let t=n[jn];if(null===t)return;t[Ul]+=e;let r=t;for(t=t[jn];null!==t&&(1===e&&1===r[Ul]||-1===e&&0===r[Ul]);)t[Ul]+=e,r=t,t=t[jn]}const Et={lFrame:uy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ty(){return Et.bindingsEnabled}function we(){return Et.lFrame.lView}function Jt(){return Et.lFrame.tView}function Rc(n){return Et.lFrame.contextLView=n,n[hr]}function Ho(n){return Et.lFrame.contextLView=null,n}function Xr(){let n=iy();for(;null!==n&&64===n.type;)n=n.parent;return n}function iy(){return Et.lFrame.currentTNode}function to(n,e){const t=Et.lFrame;t.currentTNode=n,t.isParent=e}function yp(){return Et.lFrame.isParent}function Jr(){const n=Et.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Pc(){return Et.lFrame.bindingIndex++}function ro(n){const e=Et.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Lb(n,e){const t=Et.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gl(e)}function Gl(n){Et.lFrame.currentDirectiveIndex=n}function Ip(n){Et.lFrame.currentQueryIndex=n}function bp(n){const e=n[Ge];return 2===e.type?e.declTNode:1===e.type?n[zr]:null}function ly(n,e,t){if(t&Dt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Dt.Host||(i=bp(s),null===i||(s=s[Uo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Et.lFrame=Cp();return r.currentTNode=e,r.lView=n,!0}function wp(n){const e=Cp(),t=n[Ge];Et.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Cp(){const n=Et.lFrame,e=null===n?null:n.child;return null===e?uy(n):e}function uy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Wl(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dy=Wl;function Tp(){const n=Wl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function yi(){return Et.lFrame.selectedIndex}function Ma(n){Et.lFrame.selectedIndex=n}function Zn(){const n=Et.lFrame;return Y_(n.tView,n.selectedIndex)}let fy=!0;function Rd(){return fy}function vo(n){fy=n}function Pd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function xd(n,e,t){Nd(n,e,3,t)}function Od(n,e,t,r){(3&n[Ct])===t&&Nd(n,e,t,r)}function Dp(n,e){let t=n[Ct];(3&t)===e&&(t&=8191,t+=1,n[Ct]=t)}function Nd(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[bc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[bc]+=65536),(a<s||-1==s)&&(Hb(n,t,e,c),n[bc]=(4294901760&n[bc])+c+2),c++}function kd(n,e){Js(4,n,e);const t=ms(null);try{e.call(n)}finally{ms(t),Js(5,n,e)}}function Hb(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ct]>>13<n[bc]>>16&&(3&n[Ct])===e&&(n[Ct]+=8192,kd(a,s)):kd(a,s)}const qo=-1;class Kl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Fd(n){return n!==qo}function xc(n){return 32767&n}function Ql(n,e){let t=function Gb(n){return n>>16}(n),r=e;for(;t>0;)r=r[Uo],t--;return r}let Rp=!0;function Ld(n){const e=Rp;return Rp=n,e}const Pp=255,gy=5;let UM=0;const io={};function u(n,e){const t=g(n,e);if(-1!==t)return t;const r=e[Ge];r.firstCreatePass&&(n.injectorIndex=e.length,d(r.data,n),d(e,null),d(r.blueprint,null));const i=v(n,e),s=n.injectorIndex;if(Fd(i)){const o=xc(i),a=Ql(i,e),c=a[Ge].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function d(n,e){n.push(0,0,0,0,0,0,0,0,e)}function g(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function v(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vy(i),null===r)return qo;if(t++,i=i[Uo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return qo}function D(n,e,t){!function p(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(yt)&&(r=t[yt]),null==r&&(r=t[yt]=UM++);const i=r&Pp;e.data[n+(i>>gy)]|=1<<i}(n,e,t)}function ie(n,e,t){if(t&Dt.Optional||void 0!==n)return n;dr()}function be(n,e,t,r){if(t&Dt.Optional&&void 0===r&&(r=null),!(t&(Dt.Self|Dt.Host))){const i=n[Ys],s=ci(void 0);try{return i?i.get(e,r,t&Dt.Optional):No(e,r,t&Dt.Optional)}finally{ci(s)}}return ie(r,0,t)}function We(n,e,t,r=Dt.Default,i){if(null!==n){if(2048&e[Ct]&&!(r&Dt.Self)){const o=function yy(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ct]&&!(512&o[Ct]);){const a=ot(s,o,t,r|Dt.Self,io);if(a!==io)return a;let c=s.parent;if(!c){const l=o[md];if(l){const f=l.get(t,io,r);if(f!==io)return f}c=vy(o),o=o[Uo]}s=c}return i}(n,e,t,r,io);if(o!==io)return o}const s=ot(n,e,t,r,io);if(s!==io)return s}return be(e,t,r,i)}function ot(n,e,t,r,i){const s=function Vd(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(yt)?n[yt]:void 0;return"number"==typeof e?e>=0?e&Pp:_y:e}(t);if("function"==typeof s){if(!ly(e,n,r))return r&Dt.Host?ie(i,0,r):be(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Dt.Optional)return o;dr()}finally{dy()}}else if("number"==typeof s){let o=null,a=g(n,e),c=qo,l=r&Dt.Host?e[fr][zr]:null;for((-1===a||r&Dt.SkipSelf)&&(c=-1===a?v(n,e):e[a+8],c!==qo&&Ud(r,!1)?(o=e[Ge],a=xc(c),e=Ql(c,e)):a=-1);-1!==a;){const f=e[Ge];if(xp(s,a,f.data)){const m=Ht(a,e,t,o,r,l);if(m!==io)return m}c=e[a+8],c!==qo&&Ud(r,e[Ge].data[a+8]===l)&&xp(s,a,e)?(o=f,a=xc(c),e=Ql(c,e)):a=-1}}return i}function Ht(n,e,t,r,i,s){const o=e[Ge],a=o.data[n+8],f=function ei(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,f=s>>20,y=i?a+f:n.directiveEnd;for(let I=r?a:a+f;I<y;I++){const T=o[I];if(I<c&&t===T||I>=c&&T.type===t)return I}if(i){const I=o[c];if(I&&Yi(I)&&I.type===t)return c}return null}(a,o,t,null==r?wc(a)&&Rp:r!=o&&0!=(3&a.type),i&Dt.Host&&s===a);return null!==f?xi(e,o,f,a):io}function xi(n,e,t,r){let i=n[t];const s=e.data;if(function py(n){return n instanceof Kl}(i)){const o=i;o.resolving&&function dc(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${t}`)}(function sn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_t(n)}(s[t]));const a=Ld(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?ci(o.injectImpl):null;ly(n,r,Dt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function zb(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=G_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&ci(l),Ld(a),o.resolving=!1,dy()}}return i}function xp(n,e,t){return!!(t[e+(n>>gy)]&1<<n)}function Ud(n,e){return!(n&Dt.Self||n&Dt.Host&&e)}class ti{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return We(this._tNode,this._lView,e,yc(r),t)}}function _y(){return new ti(Xr(),we())}function Hr(n){return Ps(()=>{const e=n.prototype.constructor,t=e[Ze]||Yl(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ze]||Yl(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yl(n){return ac(n)?()=>{const e=Yl(ft(n));return e&&e()}:Aa(n)}function vy(n){const e=n[Ge],t=e.type;return 2===t?e.declTNode:1===t?n[zr]:null}const Bd="__parameters__";function $d(n,e,t){return Ps(()=>{const r=function Wb(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,f){const m=c.hasOwnProperty(Bd)?c[Bd]:Object.defineProperty(c,Bd,{value:[]})[Bd];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Hd(n,e){n.forEach(t=>Array.isArray(t)?Hd(t,e):e(t))}function jM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ey(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Os(n,e,t){let r=qd(n,e);return r>=0?n[1|r]=t:(r=~r,function f4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Kb(n,e){const t=qd(n,e);if(t>=0)return n[1|t]}function qd(n,e){return function $M(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const qr=Ki($d("Optional"),8),kp=Ki($d("SkipSelf"),4);function Ay(n){return 128==(128&n.flags)}var Fc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Fc||{});const Jb=new Map;let L4=0;const t0="__ngContext__";function Oi(n,e){Ri(e)?(n[t0]=e[Bl],function U4(n){Jb.set(n[Bl],n)}(e)):n[t0]=e}let n0;function r0(n,e){return n0(n,e)}function Vp(n){const e=n[jn];return mi(e)?e[jn]:e}function cR(n){return uR(n[ba])}function lR(n){return uR(n[Qi])}function uR(n){for(;null!==n&&!mi(n);)n=n[Qi];return n}function Kd(n,e,t,r,i){if(null!=r){let s,o=!1;mi(r)?s=r:Ri(r)&&(o=!0,r=r[Bn]);const a=vn(r);0===n&&null!==t?null==i?pR(e,t,a):Xl(e,t,a,i||null,!0):1===n&&null!==t?Xl(e,t,a,i||null,!0):2===n?function Oy(n,e,t){const r=Py(n,e);r&&function iz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function az(n,e,t,r,i){const s=t[Xs];s!==vn(t)&&Kd(e,n,r,s,i);for(let a=Yr;a<t.length;a++){const c=t[a];Bp(c[Ge],c,n,e,r,s)}}(e,n,s,t,i)}}function My(n,e,t){return n.createElement(e,t)}function hR(n,e){const t=n[Ta],r=t.indexOf(e);X_(e),t.splice(r,1)}function Ry(n,e){if(n.length<=Yr)return;const t=Yr+e,r=n[t];if(r){const i=r[wa];null!==i&&i!==n&&hR(i,r),e>0&&(n[t-1][Qi]=r[Qi]);const s=Ey(n,Yr+e);!function Q4(n,e){Bp(n,e,e[Tt],2,null,null),e[Bn]=null,e[zr]=null}(r[Ge],r);const o=s[gs];null!==o&&o.detachView(s[Ge]),r[jn]=null,r[Qi]=null,r[Ct]&=-129}return r}function o0(n,e){if(!(256&e[Ct])){const t=e[Tt];e[jl]&&U_(e[jl]),e[Ca]&&U_(e[Ca]),t.destroyNode&&Bp(n,e,t,3,null,null),function J4(n){let e=n[ba];if(!e)return a0(n[Ge],n);for(;e;){let t=null;if(Ri(e))t=e[ba];else{const r=e[Yr];r&&(t=r)}if(!t){for(;e&&!e[Qi]&&e!==n;)Ri(e)&&a0(e[Ge],e),e=e[jn];null===e&&(e=n),Ri(e)&&a0(e[Ge],e),t=e&&e[Qi]}e=t}}(e)}}function a0(n,e){if(!(256&e[Ct])){e[Ct]&=-129,e[Ct]|=256,function rz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Kl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Js(4,a,c);try{c.call(a)}finally{Js(5,a,c)}}else{Js(4,i,s);try{s.call(i)}finally{Js(5,i,s)}}}}}(n,e),function nz(n,e){const t=n.cleanup,r=e[Ec];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Ec]=null);const i=e[Bo];if(null!==i){e[Bo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[Ge].type&&e[Tt].destroy();const t=e[wa];if(null!==t&&mi(e[jn])){t!==e[jn]&&hR(t,e);const r=e[gs];null!==r&&r.detachView(n)}!function B4(n){Jb.delete(n[Bl])}(e)}}function c0(n,e,t){return function fR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Bn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===rr.None||s===rr.Emulated)return null}return Pi(r,t)}}(n,e.parent,t)}function Xl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pR(n,e,t){n.appendChild(e,t)}function gR(n,e,t,r,i){null!==r?Xl(n,e,t,r,i):pR(n,e,t)}function Py(n,e){return n.parentNode(e)}let l0,f0,ky,yR=function _R(n,e,t){return 40&n.type?Pi(n,t):null};function xy(n,e,t,r){const i=c0(n,r,e),s=e[Tt],a=function mR(n,e,t){return yR(n,e,t)}(r.parent||e[zr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)gR(s,i,t[c],a,!1);else gR(s,i,t,a,!1);void 0!==l0&&l0(s,r,e,t,i)}function Up(n,e){if(null!==e){const t=e.type;if(3&t)return Pi(e,n);if(4&t)return u0(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Up(n,r);{const i=n[e.index];return mi(i)?u0(-1,i):vn(i)}}if(32&t)return r0(e,n)()||vn(n[e.index]);{const r=ER(n,e);return null!==r?Array.isArray(r)?r[0]:Up(Vp(n[fr]),r):Up(n,e.next)}}return null}function ER(n,e){return null!==e?n[fr][zr].projection[e.projection]:null}function u0(n,e){const t=Yr+n+1;if(t<e.length){const r=e[t],i=r[Ge].firstChild;if(null!==i)return Up(r,i)}return e[Xs]}function d0(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&Oi(vn(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)d0(n,e,t.child,r,i,s,!1),Kd(e,n,i,a,s);else if(32&c){const l=r0(t,r);let f;for(;f=l();)Kd(e,n,i,f,s);Kd(e,n,i,a,s)}else 16&c?bR(n,e,r,t,i,s):Kd(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Bp(n,e,t,r,i,s){d0(t,r,n.firstChild,e,i,s,!1)}function bR(n,e,t,r,i,s){const o=t[fr],c=o[zr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Kd(e,n,i,c[l],s);else{let l=c;const f=o[jn];Ay(r)&&(l.flags|=128),d0(n,e,l,f,i,s,!0)}}function wR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function CR(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ur(n,e,r),null!==i&&wR(n,e,i),null!==s&&function lz(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function DR(n){return function p0(){if(void 0===ky&&(ky=null,on.trustedTypes))try{ky=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ky}()?.createScriptURL(n)||n}class Jl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pa})`}}function Ns(n){return n instanceof Jl?n.changingThisBreaksApplicationSecurity:n}function Go(n,e){const t=function vz(n){return n instanceof Jl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pa})`)}return t===e}const Sz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var vi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vi||{});function xn(n){const e=$p();return e?e.sanitize(vi.URL,n)||"":Go(n,"URL")?Ns(n):function Fy(n){return(n=String(n)).match(Sz)?n:"unsafe:"+n}(_t(n))}function kR(n){const e=$p();if(e)return DR(e.sanitize(vi.RESOURCE_URL,n)||"");if(Go(n,"ResourceURL"))return DR(Ns(n));throw new he(904,!1)}function $p(){const n=we();return n&&n[Ic].sanitizer}const zp=new Ie("ENVIRONMENT_INITIALIZER"),LR=new Ie("INJECTOR",-1),VR=new Ie("INJECTOR_DEF_TYPES");class y0{get(e,t=Fo){if(t===Fo){const r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return t}}function Bz(...n){return{\u0275providers:BR(0,n),\u0275fromNgModule:!0}}function BR(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Hd(e,o=>{const a=o;Vy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&jR(i,s),t}function jR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];v0(i,s=>{e(s,r)})}}function Vy(n,e,t,r){if(!(n=ft(n)))return!1;let i=null,s=pc(n);const o=!s&&Gt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=pc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Vy(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Hd(s.imports,f=>{Vy(f,e,t,r)&&(l||=[],l.push(f))})}finally{}void 0!==l&&jR(l,e)}if(!a){const l=Aa(i)||(()=>new i);e({provide:i,useFactory:l,deps:U},i),e({provide:VR,useValue:i,multi:!0},i),e({provide:zp,useValue:()=>pe(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=n;v0(c,f=>{e(f,l)})}}}return i!==n&&void 0!==n.providers}function v0(n,e){for(let t of n)cc(t)&&(t=t.\u0275providers),Array.isArray(t)?v0(t,e):e(t)}const jz=Ve({provide:String,useValue:Ve});function E0(n){return null!==n&&"object"==typeof n&&jz in n}function eu(n){return"function"==typeof n}const I0=new Ie("Set Injector scope."),Uy={},zz={};let b0;function By(){return void 0===b0&&(b0=new y0),b0}class oo{}class Yd extends oo{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C0(e,o=>this.processProvider(o)),this.records.set(LR,Xd(void 0,this)),i.has("environment")&&this.records.set(oo,Xd(void 0,this));const s=this.records.get(I0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VR.multi,U,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Qs(this),r=ci(void 0);try{return e()}finally{Qs(t),ci(r)}}get(e,t=Fo,r=Dt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vt))return e[vt](this);r=yc(r);const s=Qs(this),o=ci(void 0);try{if(!(r&Dt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Kz(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ie}(e)&&ga(e);c=l&&this.injectableDefInScope(l)?Xd(w0(e),Uy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Dt.Self?By():this.parent).get(e,t=r&Dt.Optional&&t===Fo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Mr]=a[Mr]||[]).unshift(at(e)),s)throw a;return function cd(n,e,t,r){const i=n[Mr];throw e[Wi]&&i.unshift(e[Wi]),n.message=function vc(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):at(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Fl,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Mr]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ci(o),Qs(s)}}resolveInjectorInitializers(){const e=Qs(this),t=ci(void 0);try{const i=this.get(zp.multi,U,Dt.Self);for(const s of i)s()}finally{Qs(e),ci(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){let t=eu(e=ft(e))?e:ft(e&&e.provide);const r=function qz(n){return E0(n)?Xd(void 0,n.useValue):Xd(HR(n),Uy)}(e);if(eu(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Xd(void 0,Uy,!0),i.factory=()=>Ia(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Uy&&(t.value=zz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Wz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ft(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function w0(n){const e=ga(n),t=null!==e?e.factory:Aa(n);if(null!==t)return t;if(n instanceof Ie)throw new he(204,!1);if(n instanceof Function)return function Hz(n){const e=n.length;if(e>0)throw function Np(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new he(204,!1);const t=function sd(n){return n&&(n[mo]||n[Ms])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new he(204,!1)}function HR(n,e,t){let r;if(eu(n)){const i=ft(n);return Aa(i)||w0(i)}if(E0(n))r=()=>ft(n.useValue);else if(function zR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ia(n.deps||[]));else if(function $R(n){return!(!n||!n.useExisting)}(n))r=()=>pe(ft(n.useExisting));else{const i=ft(n&&(n.useClass||n.provide));if(!function Gz(n){return!!n.deps}(n))return Aa(i)||w0(i);r=()=>new i(...Ia(n.deps))}return r}function Xd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function C0(n,e){for(const t of n)Array.isArray(t)?C0(t,e):t&&cc(t)?C0(t.\u0275providers,e):e(t)}const jy=new Ie("AppId",{providedIn:"root",factory:()=>Zz}),Zz="ng",qR=new Ie("Platform Initializer"),ks=new Ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GR=new Ie("AnimationModuleType"),T0=new Ie("CSP nonce",{providedIn:"root",factory:()=>function Qd(){if(void 0!==f0)return f0;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WR=(n,e,t)=>null;function O0(n,e,t=!1){return WR(n,e,t)}class sH{}class QR{}class aH{resolveComponentFactory(e){throw function oH(n){const e=Error(`No component factory found for ${at(n)}.`);return e.ngComponent=n,e}(e)}}let Wy=(()=>{class n{static#e=this.NULL=new aH}return n})();function cH(){return th(Xr(),we())}function th(n,e){return new Es(Pi(n,e))}let Es=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=cH}return n})();class Gp{}let Pa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function uH(){const n=we(),t=_i(Xr().index,n);return(Ri(t)?t:n)[Tt]}()}return n})(),dH=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>null})}return n})();class Lc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const F0=new Lc("16.2.12"),L0={};function tP(n,e=null,t=null,r){const i=nP(n,e,t,r);return i.resolveInjectorInitializers(),i}function nP(n,e=null,t=null,r,i=new Set){const s=[t||U,Bz(n)];return r=r||("object"==typeof n?void 0:at(n)),new Yd(s,e||By(),r||null,i)}let Ei=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Fo;static#t=this.NULL=new y0;static create(t,r){if(Array.isArray(t))return tP({name:""},r,t,"");{const i=t.name??"";return tP({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Fe({token:n,providedIn:"any",factory:()=>pe(LR)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function U0(n){return n.ngOriginalError}class Eo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&U0(e);for(;t&&U0(t);)t=U0(t);return t||null}}function j0(n){return e=>{setTimeout(n,void 0,e)}}const _r=class yH extends ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=j0(s),i&&(i=j0(i)),o&&(o=j0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pt&&e.add(a),a}};function iP(...n){}class Wt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _r(!1),this.onMicrotaskEmpty=new _r(!1),this.onStable=new _r(!1),this.onError=new _r(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vH(){const n="function"==typeof on.requestAnimationFrame;let e=on[n?"requestAnimationFrame":"setTimeout"],t=on[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function bH(n){const e=()=>{!function IH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(on,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,z0(n),n.isCheckStableRunning=!0,$0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),z0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function CH(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return sP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),oP(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return sP(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),oP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,z0(n),$0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new he(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,EH,iP,iP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const EH={};function $0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function z0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oP(n){n._nesting--,$0(n)}class wH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _r,this.onMicrotaskEmpty=new _r,this.onStable=new _r,this.onError=new _r}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const aP=new Ie("",{providedIn:"root",factory:cP});function cP(){const n=ze(Wt);let e=!0;return S(new bt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new bt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(fe()))}function xa(n){return n instanceof Function?n():n}let H0=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wp(n){for(;n;){n[Ct]|=64;const e=Vp(n);if(tp(n)&&!e)return n;n=e}return null}const fP=new Ie("",{providedIn:"root",factory:()=>!1});let Zy=null;function _P(n,e){return n[e]??EP()}function yP(n,e){const t=EP();t.producerNode?.length&&(n[e]=Zy,t.lView=n,Zy=vP())}const NH={...F_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Wp(n.lView)},lView:null};function vP(){return Object.create(NH)}function EP(){return Zy??=vP(),Zy}const Mt={};function ee(n){IP(Jt(),we(),yi()+n,!1)}function IP(n,e,t,r){if(!r)if(3==(3&e[Ct])){const s=n.preOrderCheckHooks;null!==s&&xd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Od(e,s,0,t)}Ma(t)}function de(n,e=Dt.Default){const t=we();return null===t?pe(n,e):We(Xr(),t,ft(n),e)}function Qy(n,e,t,r,i,s,o,a,c,l,f){const m=e.blueprint.slice();return m[Bn]=i,m[Ct]=140|r,(null!==l||n&&2048&n[Ct])&&(m[Ct]|=2048),pp(m),m[jn]=m[Uo]=n,m[hr]=t,m[Ic]=o||n&&n[Ic],m[Tt]=a||n&&n[Tt],m[Ys]=c||n&&n[Ys]||null,m[zr]=s,m[Bl]=function V4(){return L4++}(),m[xs]=f,m[md]=l,m[fr]=2==e.type?n[fr]:m,m}function ih(n,e,t,r,i){let s=n.data[e];if(null===s)s=function q0(n,e,t,r,i){const s=iy(),o=yp(),c=n.data[e]=function $H(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function zo(){return null!==Et.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function oy(){return Et.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Sa(){const n=Et.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return to(s,!0),s}function Kp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wP(n,e,t,r,i){const s=_P(e,jl),o=yi(),a=2&r;try{Ma(-1),a&&e.length>zt&&IP(n,e,zt,!1),Js(a?2:0,i);const l=a?s:null,f=ip(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{zl(l,f)}}finally{a&&null===e[jl]&&yP(e,jl),Ma(o),Js(a?3:1,i)}}function G0(n,e,t){if(P_(e)){const r=ms(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{ms(r)}}}function W0(n,e,t){ty()&&(function ZH(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;wc(t)&&function nq(n,e,t){const r=Pi(e,n),i=CP(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Yy(n,Qy(n,i,null,o,r,e,null,n[Ic].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||u(t,e),Oi(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=xi(e,n,a,t);Oi(l,e),null!==o&&rq(0,a-i,l,c,0,o),Yi(c)&&(_i(t.index,e)[hr]=xi(e,n,a,t))}}(n,e,t,Pi(t,e)),64==(64&t.flags)&&MP(n,e,t))}function K0(n,e,t=Pi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function CP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Z0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Z0(n,e,t,r,i,s,o,a,c,l,f){const m=zt+r,y=m+i,I=function FH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mt);return t}(m,y),T="function"==typeof l?l():l;return I[Ge]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:f}}let TP=n=>null;function AP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?DP(t,e,i,s):r.hasOwnProperty(i)&&DP(t,e,r[i],s)}return t}function DP(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Fs(n,e,t,r,i,s,o,a){const c=Pi(e,t);let f,l=e.inputs;!a&&null!=l&&(f=l[r])?(ew(n,t,f,r,i),wc(e)&&function qH(n,e){const t=_i(e,n);16&t[Ct]||(t[Ct]|=64)}(t,e.index)):3&e.type&&(r=function HH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Q0(n,e,t,r){if(ty()){const i=null===r?null:{"":-1},s=function YH(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(dd(e,o.selectors,!1))if(r||(r=[]),Yi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Y0(n,e,a.length)}else r.unshift(o),Y0(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&SP(n,e,t,o,i,a),i&&function XH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new he(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=pi(t.mergedAttrs,t.attrs)}function SP(n,e,t,r,i,s){for(let l=0;l<r.length;l++)D(u(t,e),n,r[l].type);!function eq(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,c=Kp(n,e,r.length,null);for(let l=0;l<r.length;l++){const f=r[l];t.mergedAttrs=pi(t.mergedAttrs,f.hostAttrs),tq(n,t,e,c,f),JH(c,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const m=f.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function zH(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let f=e.directiveStart;f<i;f++){const m=s[f],y=t?t.get(m):null,T=y?y.outputs:null;c=AP(m.inputs,f,c,y?y.inputs:null),l=AP(m.outputs,f,l,T);const F=null===c||null===o||zf(e)?null:iq(c,f,o);a.push(F)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function MP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function ay(){return Et.lFrame.currentDirectiveIndex}();try{Ma(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];Gl(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&QH(c,l)}}finally{Ma(-1),Gl(o)}}function QH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Y0(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function JH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Yi(e)&&(t[""]=n)}}function tq(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Aa(i.type)),o=new Kl(s,Yi(i),de);n.blueprint[r]=o,t[r]=o,function WH(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function KH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Kp(n,t,i.hostVars,Mt),i)}function Wo(n,e,t,r,i,s){const o=Pi(n,e);!function X0(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?_t(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Tt],o,s,n.value,t,r,i)}function rq(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)RP(r,t,o[a++],o[a++],o[a++])}function RP(n,e,t,r,i){const s=ms(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{ms(s)}}function iq(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PP(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function xP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Ip(t[r]),o.contentQueries(2,e[s],s)}}}function Yy(n,e){return n[ba]?n[R_][Qi]=e:n[ba]=e,n[R_]=e,e}function J0(n,e,t){Ip(0);const r=ms(null);try{e(n,t)}finally{ms(r)}}function FP(n,e){const t=n[Ys],r=t?t.get(Eo,null):null;r&&r.handleError(e)}function ew(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];RP(n.data[o],e[o],r,a,i)}}function Oa(n,e,t){const r=Mc(e,n);!function dR(n,e,t){n.setValue(e,t)}(n[Tt],r,t)}function sq(n,e){const t=_i(e,n),r=t[Ge];!function oq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Bn];null!==i&&null===t[xs]&&(t[xs]=O0(i,t[Ys])),tw(r,t,t[hr])}function tw(n,e,t){wp(e);try{const r=n.viewQuery;null!==r&&J0(1,r,t);const i=n.template;null!==i&&wP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xP(n,e),n.staticViewQueries&&J0(2,n.viewQuery,t);const s=n.components;null!==s&&function aq(n,e){for(let t=0;t<e.length;t++)sq(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ct]&=-5,Tp()}}let LP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Ab(n,e,t){const r=Object.create(lp);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Ed(r),run:()=>{if(r.dirty=!1,r.hasRun&&!V_(r))return;r.hasRun=!0;const o=ip(r);try{r.cleanupFn(),r.cleanupFn=q_,r.fn(i)}finally{zl(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Vr(i,a):2==s&&(r=Vr(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Zp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(vn(s)),mi(s)&&VP(s,r);const o=t.type;if(8&o)Zp(n,e,t.child,r);else if(32&o){const a=r0(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=ER(e,t);if(Array.isArray(a))r.push(...a);else{const c=Vp(e[fr]);Zp(c[Ge],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VP(n,e){for(let t=Yr;t<n.length;t++){const r=n[t],i=r[Ge].firstChild;null!==i&&Zp(r[Ge],r,i,e)}n[Xs]!==n[Bn]&&e.push(n[Xs])}function Jy(n,e,t,r=!0){const i=e[Ic],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{UP(n,e,n.template,t)}catch(c){throw r&&FP(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function UP(n,e,t,r){const i=e[Ct];if(256!=(256&i)){e[Ic].effectManager?.flush(),wp(e);try{pp(e),function Md(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&wP(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&xd(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Od(e,l,0,null),Dp(e,0)}if(function uq(n){for(let e=cR(n);null!==e;e=lR(e)){if(!e[yd])continue;const t=e[Ta];for(let r=0;r<t.length;r++){xb(t[r])}}}(e),BP(e,2),null!==n.contentQueries&&xP(n,e),o){const l=n.contentCheckHooks;null!==l&&xd(e,l)}else{const l=n.contentHooks;null!==l&&Od(e,l,1),Dp(e,1)}!function kH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=_P(e,Ca);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Ma(~s);else{const o=s,a=t[++i],c=t[++i];Lb(a,o),r.dirty=!1;const l=ip(r);try{c(2,e[o])}finally{zl(r,l)}}}}finally{null===e[Ca]&&yP(e,Ca),Ma(-1)}}(n,e);const a=n.components;null!==a&&$P(e,a,0);const c=n.viewQuery;if(null!==c&&J0(2,c,r),o){const l=n.viewCheckHooks;null!==l&&xd(e,l)}else{const l=n.viewHooks;null!==l&&Od(e,l,2),Dp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ct]&=-73,X_(e)}finally{Tp()}}}function BP(n,e){for(let t=cR(n);null!==t;t=lR(t))for(let r=Yr;r<t.length;r++)jP(t[r],e)}function dq(n,e,t){jP(_i(e,n),t)}function jP(n,e){if(!function Rb(n){return 128==(128&n[Ct])}(n))return;const t=n[Ge],r=n[Ct];if(80&r&&0===e||1024&r||2===e)UP(t,n,t.template,n[hr]);else if(n[Ul]>0){BP(n,1);const i=t.components;null!==i&&$P(n,i,1)}}function $P(n,e,t){for(let r=0;r<e.length;r++)dq(n,e[r],t)}class Qp{get rootNodes(){const e=this._lView,t=e[Ge];return Zp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(e){this._lView[hr]=e}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jn];if(mi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ry(e,r),Ey(t,r))}this._attachedToViewContainer=!1}o0(this._lView[Ge],this._lView)}onDestroy(e){!function J_(n,e){if(256==(256&n[Ct]))throw new he(911,!1);null===n[Bo]&&(n[Bo]=[]),n[Bo].push(e)}(this._lView,e)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){Jy(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function X4(n,e){Bp(n,e,e[Tt],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e}}class hq extends Qp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jy(e[Ge],e,e[hr],!1)}checkNoChanges(){}get context(){return null}}class zP extends Wy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Gt(e);return new Yp(t,this.ngModule)}}function HP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yc(r);const i=this.injector.get(e,L0,r);return i!==L0||t===L0?i:this.parentInjector.get(e,t,r)}}class Yp extends QR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=HP(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return HP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fd(n){return n.map(Kf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof oo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pq(e,s):e,a=o.get(Gp,null);if(null===a)throw new he(407,!1);const m={rendererFactory:a,sanitizer:o.get(dH,null),effectManager:o.get(LP,null),afterRenderEventManager:o.get(H0,null)},y=a.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=r?function LH(n,e,t,r){const s=r.get(fP,!1)||t===rr.ShadowDom,o=n.selectRootElement(e,s);return function VH(n){TP(n)}(o),o}(y,r,this.componentDef.encapsulation,o):My(y,I,function fq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(I)),W=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let z=null;null!==T&&(z=O0(T,o,!0));const X=Z0(0,null,null,1,0,null,null,null,null,null,null),ae=Qy(null,X,null,W,null,null,m,y,o,null,z);let Se,$e;wp(ae);try{const q=this.componentDef;let B,$=null;q.findHostDirectiveDefs?(B=[],$=new Map,q.findHostDirectiveDefs(q,B,$),B.push(q)):B=[q];const K=function mq(n,e){const t=n[Ge],r=zt;return n[r]=e,ih(t,r,2,"#host",null)}(ae,T),Y=function _q(n,e,t,r,i,s,o){const a=i[Ge];!function yq(n,e,t,r){for(const i of n)e.mergedAttrs=pi(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Xy(e,e.mergedAttrs,!0),null!==t&&CR(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=O0(e,i[Ys]));const l=s.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const m=Qy(i,CP(t),null,f,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&Y0(a,n,r.length-1),Yy(i,m),i[n.index]=m}(K,T,q,B,ae,m,y);$e=Y_(X,zt),T&&function Eq(n,e,t,r){if(r)Ur(n,t,["ng-version",F0.full]);else{const{attrs:i,classes:s}=function Zf(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Zi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ur(n,t,i),s&&s.length>0&&wR(n,t,s.join(" "))}}(y,q,T,r),void 0!==t&&function Iq(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}($e,this.ngContentSelectors,t),Se=function vq(n,e,t,r,i,s){const o=Xr(),a=i[Ge],c=Pi(o,i);SP(a,i,o,t,null,r);for(let f=0;f<t.length;f++)Oi(xi(i,a,o.directiveStart+f,o),i);MP(a,i,o),c&&Oi(c,i);const l=xi(i,a,o.directiveStart+o.componentOffset,o);if(n[hr]=i[hr]=l,null!==s)for(const f of s)f(l,e);return G0(a,o,n),l}(Y,q,B,$,ae,[bq]),tw(X,ae,null)}finally{Tp()}return new gq(this.componentType,Se,th($e,ae),ae,$e)}}class gq extends sH{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hq(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;ew(s[Ge],s,i,e,t),this.previousInputValues.set(e,t),Wp(_i(this._tNode.index,s))}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bq(){const n=Xr();Pd(we()[Ge],n)}function Cn(n){let e=function qP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Yi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=ev(n.inputs),o.inputTransforms=ev(n.inputTransforms),o.declaredInputs=ev(n.declaredInputs),o.outputs=ev(n.outputs);const a=i.hostBindings;a&&Aq(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&Cq(n,c),l&&Tq(n,l),wn(n.inputs,i.inputs),wn(n.declaredInputs,i.declaredInputs),wn(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),wn(o.inputTransforms,i.inputTransforms)),Yi(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Cn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pi(i.hostAttrs,t=pi(t,i.hostAttrs))}}(r)}function ev(n){return n===R?{}:n===U?[]:n}function Cq(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Tq(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Aq(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function ZP(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function tv(n){return!!nw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function nw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ko(n,e,t){return n[e]=t}function Ni(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function tu(n,e,t,r){const i=Ni(n,e,t);return Ni(n,e+1,r)||i}function Zo(n,e,t,r){const i=we();return Ni(i,Pc(),e)&&(Jt(),Wo(Zn(),i,n,e,t,r)),Zo}function oh(n,e,t,r){return Ni(n,Pc(),t)?e+_t(t)+r:Mt}function ah(n,e,t,r,i,s){const a=tu(n,function no(){return Et.lFrame.bindingIndex}(),t,i);return ro(2),a?e+_t(t)+r+_t(i)+s:Mt}function En(n,e,t,r,i,s,o,a){const c=we(),l=Jt(),f=n+zt,m=l.firstCreatePass?function Yq(n,e,t,r,i,s,o,a,c){const l=e.consts,f=ih(e,n,4,o||null,eo(l,a));Q0(e,t,f,eo(l,c)),Pd(e,f);const m=f.tView=Z0(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}(f,l,c,e,t,r,i,s,o):l.data[f];to(m,!1);const y=cx(l,c,m,n);Rd()&&xy(l,c,y,m),Oi(y,c),Yy(c,c[f]=PP(y,c,y,m)),ep(m)&&W0(l,c,m),null!=o&&K0(c,m,a)}let cx=function lx(n,e,t,r){return vo(!0),e[Tt].createComment("")};function Le(n,e,t){const r=we();return Ni(r,Pc(),e)&&Fs(Jt(),Zn(),r,n,e,r[Tt],t,!1),Le}function cw(n,e,t,r,i){const o=i?"class":"style";ew(n,t,e.inputs[o],o,r)}function M(n,e,t,r){const i=we(),s=Jt(),o=zt+n,a=i[Tt],c=s.firstCreatePass?function t5(n,e,t,r,i,s){const o=e.consts,c=ih(e,n,2,r,eo(o,i));return Q0(e,t,c,eo(o,s)),null!==c.attrs&&Xy(c,c.attrs,!1),null!==c.mergedAttrs&&Xy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=dx(s,i,c,a,e,n);i[o]=l;const f=ep(c);return to(c,!0),CR(a,l,c),32!=(32&c.flags)&&Rd()&&xy(s,i,l,c),0===function Ob(){return Et.lFrame.elementDepthCount}()&&Oi(l,i),function Hl(){Et.lFrame.elementDepthCount++}(),f&&(W0(s,i,c),G0(s,c,i)),null!==r&&K0(i,c),M}function C(){let n=Xr();yp()?function ql(){Et.lFrame.isParent=!1}():(n=n.parent,to(n,!1));const e=n;(function mp(n){return Et.skipHydrationRootTNode===n})(e)&&function ry(){Et.skipHydrationRootTNode=null}(),function Nb(){Et.lFrame.elementDepthCount--}();const t=Jt();return t.firstCreatePass&&(Pd(t,n),P_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function LM(n){return 0!=(8&n.flags)}(e)&&cw(t,e,we(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Sp(n){return 0!=(16&n.flags)}(e)&&cw(t,e,we(),e.stylesWithoutHost,!1),C}function Je(n,e,t,r){return M(n,e,t,r),C(),Je}let dx=(n,e,t,r,i,s)=>(vo(!0),My(r,i,function hy(){return Et.lFrame.currentNamespace}()));function ng(){return we()}function rg(n){return!!n&&"function"==typeof n.then}function px(n){return!!n&&"function"==typeof n.subscribe}function ht(n,e,t,r){const i=we(),s=Jt(),o=Xr();return function mx(n,e,t,r,i,s,o){const a=ep(r),l=n.firstCreatePass&&function NP(n){return n.cleanup||(n.cleanup=[])}(n),f=e[hr],m=function OP(n){return n[Ec]||(n[Ec]=[])}(e);let y=!0;if(3&r.type||o){const F=Pi(r,e),L=o?o(F):F,W=m.length,z=o?ae=>o(vn(ae[r.index])):r.index;let X=null;if(!o&&a&&(X=function a5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ec],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==X)(X.__ngLastListenerFn__||X).__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,y=!1;else{s=yx(r,e,f,s,!1);const ae=t.listen(L,i,s);m.push(s,ae),l&&l.push(i,z,W,W+1)}}else s=yx(r,e,f,s,!1);const I=r.outputs;let T;if(y&&null!==I&&(T=I[i])){const F=T.length;if(F)for(let L=0;L<F;L+=2){const Se=e[T[L]][T[L+1]].subscribe(s),$e=m.length;m.push(s,Se),l&&l.push(i,r.index,$e,-($e+1))}}}(s,i,i[Tt],o,n,e,r),ht}function _x(n,e,t,r){try{return Js(6,e,t),!1!==t(r)}catch(i){return FP(n,i),!1}finally{Js(7,e,t)}}function yx(n,e,t,r,i){return function s(o){if(o===Function)return r;Wp(n.componentOffset>-1?_i(n.index,e):e);let c=_x(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=_x(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Ls(n=1){return function Vb(n){return(Et.lFrame.contextLView=function Ub(n,e){for(;n>0;)e=e[Uo],n--;return e}(n,Et.lFrame.contextLView))[hr]}(n)}function Io(n,e,t){return Uc(n,"",e,"",t),Io}function Uc(n,e,t,r,i){const s=we(),o=oh(s,e,t,r);return o!==Mt&&Fs(Jt(),Zn(),s,n,o,s[Tt],i,!1),Uc}function av(n,e){return n<<17|e<<2}function Bc(n){return n>>17&32767}function dw(n){return 2|n}function nu(n){return(131068&n)>>2}function hw(n,e){return-131069&n|e<<2}function fw(n){return 1|n}function Dx(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Bc(s):nu(s),c=!1;for(;0!==a&&(!1===c||o);){const f=n[a+1];p5(n[a],e)&&(c=!0,n[a+1]=r?fw(f):dw(f)),a=r?Bc(f):nu(f)}c&&(n[t+1]=r?dw(s):fw(s))}function p5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&qd(n,e)>=0}function gh(n,e){return function bo(n,e,t,r){const i=we(),s=Jt(),o=ro(2);s.firstUpdatePass&&function Fx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[yi()],o=function kx(n,e){return e>=n.expandoStartIndex}(n,t);(function Bx(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function w5(n,e,t,r){const i=function Ep(n){const e=Et.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ig(t=pw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=pw(i,n,e,t,r),null===s){let c=function C5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==nu(r))return n[Bc(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=pw(null,n,e,c[1],r),c=ig(c,e.attrs,r),function T5(n,e,t,r){n[Bc(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function A5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ig(r,n[s].hostAttrs,t);return ig(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function h5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Bc(o),c=nu(o);n[r]=t;let f,l=!1;if(Array.isArray(t)?(f=t[1],(null===f||qd(t,f)>0)&&(l=!0)):f=t,i)if(0!==c){const y=Bc(n[a+1]);n[r+1]=av(y,a),0!==y&&(n[y+1]=hw(n[y+1],r)),n[a+1]=function u5(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=av(a,0),0!==a&&(n[a+1]=hw(n[a+1],r)),a=r;else n[r+1]=av(c,0),0===a?a=r:n[c+1]=hw(n[c+1],r),c=r;l&&(n[r+1]=dw(n[r+1])),Dx(n,f,r,!0),Dx(n,f,r,!1),function f5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&qd(s,e)>=0&&(t[r+1]=fw(t[r+1]))}(e,f,n,r,s),o=av(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Mt&&Ni(i,o,e)&&function Vx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],f=function d5(n){return 1==(1&n)}(l)?Ux(c,e,t,i,nu(l),o):void 0;cv(f)||(cv(s)||function l5(n){return 2==(2&n)}(l)&&(s=Ux(c,null,t,i,a,o)),function cz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Fc.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fc.Important),n.setStyle(t,r,i,s))}}(r,o,Mc(yi(),t),i,s))}(s,s.data[yi()],i,i[Tt],n,i[o+1]=function R5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=at(Ns(n)))),n}(e,t),r,o)}(n,e,null,!0),gh}function pw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ig(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ig(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Os(n,o,!!t||e[++s]))}return void 0===n?null:n}function Ux(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),f=l?c[1]:c,m=null===f;let y=t[i+1];y===Mt&&(y=m?U:void 0);let I=m?Kb(y,r):f===r?y:void 0;if(l&&!cv(I)&&(I=Kb(c,r)),cv(I)&&(a=I,o))return a;const T=n[i+1];i=o?Bc(T):nu(T)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Kb(c,r))}return a}function cv(n){return void 0!==n}function k(n,e=""){const t=we(),r=Jt(),i=n+zt,s=r.firstCreatePass?ih(r,i,1,e,null):r.data[i],o=jx(r,t,s,e,n);t[i]=o,Rd()&&xy(r,t,o,s),to(s,!1)}let jx=(n,e,t,r,i)=>(vo(!0),function Sy(n,e){return n.createText(e)}(e[Tt],r));function nt(n){return Qn("",n,""),nt}function Qn(n,e,t){const r=we(),i=oh(r,n,e,t);return i!==Mt&&Oa(r,yi(),i),Qn}function gw(n,e,t,r,i){const s=we(),o=ah(s,n,e,t,r,i);return o!==Mt&&Oa(s,yi(),o),gw}const ru=void 0;var X5=["en",[["a","p"],["AM","PM"],ru],[["AM","PM"],ru,ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ru,"{1} 'at' {0}",ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Y5(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let mh={};function Xi(n){const e=function J5(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=c1(e);if(t)return t;const r=e.split("-")[0];if(t=c1(r),t)return t;if("en"===r)return X5;throw new he(701,!1)}function c1(n){return n in mh||(mh[n]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[n]),mh[n]}var $n=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}($n||{});const _h="en-US";let l1=_h;function yw(n,e,t,r,i){if(n=ft(n),Array.isArray(n))for(let s=0;s<n.length;s++)yw(n[s],e,t,r,i);else{const s=Jt(),o=we(),a=Xr();let c=eu(n)?n:ft(n.provide);const l=HR(n),f=1048575&a.providerIndexes,m=a.directiveStart,y=a.providerIndexes>>20;if(eu(n)||!n.multi){const I=new Kl(l,i,de),T=Ew(c,e,i?f:f+y,m);-1===T?(D(u(a,o),s,c),vw(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),o.push(I)):(t[T]=I,o[T]=I)}else{const I=Ew(c,e,f+y,m),T=Ew(c,e,f,f+y),L=T>=0&&t[T];if(i&&!L||!i&&!(I>=0&&t[I])){D(u(a,o),s,c);const W=function Y6(n,e,t,r,i){const s=new Kl(n,t,de);return s.multi=[],s.index=e,s.componentProviders=0,N1(s,i,r&&!t),s}(i?Q6:Z6,t.length,i,r,l);!i&&L&&(t[T].providerFactory=W),vw(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),o.push(W)}else vw(s,n,I>-1?I:T,N1(t[i?T:I],l,!i&&r));!i&&r&&L&&t[T].componentProviders++}}}function vw(n,e,t,r){const i=eu(e),s=function $z(n){return!!n.useClass}(e);if(i||s){const c=(s?ft(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=l.indexOf(t);-1===f?l.push(t,[r,c]):l[f+1].push(r,c)}else l.push(t,c)}}}function N1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ew(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Z6(n,e,t,r){return Iw(this.multi,[])}function Q6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=xi(t,t[Ge],this.providerFactory.index,r);s=a.slice(0,o),Iw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Iw(i,s);return s}function Iw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ir(n,e=[]){return t=>{t.providersResolver=(r,i)=>function K6(n,e,t){const r=Jt();if(r.firstCreatePass){const i=Yi(n);yw(t,r.data,r.blueprint,i,!0),yw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class iu{}class k1{}class bw extends iu{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zP(this);const i=gi(e);this._bootstrapComponents=xa(i.bootstrap),this._r3Injector=nP(e,t,[{provide:iu,useValue:this},{provide:Wy,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ww extends k1{constructor(e){super(),this.moduleType=e}create(e){return new bw(this.moduleType,e,[])}}class F1 extends iu{constructor(e){super(),this.componentFactoryResolver=new zP(this),this.instance=null;const t=new Yd([...e.providers,{provide:iu,useValue:this},{provide:Wy,useValue:this.componentFactoryResolver}],e.parent||By(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Cw(n,e,t=null){return new F1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let eG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=BR(0,t.type),i=r.length>0?Cw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fe({token:n,providedIn:"environment",factory:()=>new n(pe(oo))})}return n})();function L1(n){n.getStandaloneInjector=e=>e.get(eG).getOrCreateStandaloneInjector(n)}function ug(n,e,t,r){return H1(we(),Jr(),n,e,t,r)}function dg(n,e){const t=n[e];return t===Mt?void 0:t}function H1(n,e,t,r,i,s){const o=e+t;return Ni(n,o,i)?Ko(n,o+1,s?r.call(s,i):r(i)):dg(n,o+1)}function su(n,e){const t=Jt();let r;const i=n+zt;t.firstCreatePass?(r=function yG(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Aa(r.type)),a=ci(de);try{const c=Ld(!1),l=s();return Ld(c),function e5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,we(),i,l),l}finally{ci(a)}}function yh(n,e,t,r){const i=n+zt,s=we(),o=ys(s,i);return hg(s,i)?function q1(n,e,t,r,i,s,o){const a=e+t;return tu(n,a,i,s)?Ko(n,a+2,o?r.call(o,i,s):r(i,s)):dg(n,a+2)}(s,Jr(),e,o.transform,t,r,o):o.transform(t,r)}function hg(n,e){return n[Ge].data[e].pure}function CG(n,e,t,r=!0){const i=e[Ge];if(function ez(n,e,t,r){const i=Yr+r,s=t.length;r>0&&(t[i-1][Qi]=e),r<s-Yr?(e[Qi]=t[i],jM(t,Yr+r,e)):(t.push(e),e[Qi]=null),e[jn]=t;const o=e[wa];null!==o&&t!==o&&function tz(n,e){const t=n[Ta];e[fr]!==e[jn][jn][fr]&&(n[yd]=!0),null===t?n[Ta]=[e]:t.push(e)}(o,e);const a=e[gs];null!==a&&a.insertView(n),e[Ct]|=128}(i,e,n,t),r){const s=u0(t,n),o=e[Tt],a=Py(o,n[Xs]);null!==a&&function Y4(n,e,t,r,i,s){r[Bn]=i,r[zr]=e,Bp(n,r,t,1,i,s)}(i,n[zr],o,e,a,s)}}Symbol;let Na=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=DG}return n})();const TG=Na,AG=class extends TG{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function wG(n,e,t,r){const i=e.tView,a=Qy(n,i,t,4096&n[Ct]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wa]=n[e.index];const l=n[gs];return null!==l&&(a[gs]=l.createEmbeddedView(i)),tw(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Qp(i)}};function DG(){return function fv(n,e){return 4&n.type?new AG(e,n,th(n,e)):null}(Xr(),we())}let Co=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=OG}return n})();function OG(){return function nO(n,e){let t;const r=e[n.index];return mi(r)?t=r:(t=PP(r,e,null,n),e[n.index]=t,Yy(e,t)),rO(t,e,n,r),new eO(t,n,e)}(Xr(),we())}const NG=Co,eO=class extends NG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const e=v(this._hostTNode,this._hostLView);if(Fd(e)){const t=Ql(e,this._hostLView),r=xc(e);return new ti(t[Ge].data[r+8],t)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Op(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const F=t||{};a=F.index,r=F.injector,i=F.projectableNodes,s=F.environmentInjector||F.ngModuleRef}const c=o?e:new Yp(Gt(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const L=(o?l:this.parentInjector).get(oo,null);L&&(s=L)}Gt(c.componentType??{});const I=c.create(l,i,null,s);return this.insertImpl(I.hostView,a,false),I}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Pb(n){return mi(n[jn])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[jn],f=new eO(l,l[zr],l[jn]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return CG(a,i,o,!r),e.attachToViewContainerRef(),jM(Dw(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ry(this._lContainer,t);r&&(Ey(Dw(this._lContainer),t),o0(r[Ge],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ry(this._lContainer,t);return r&&null!=Ey(Dw(this._lContainer),t)?new Qp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tO(n){return n[8]}function Dw(n){return n[8]||(n[8]=[])}let rO=function iO(n,e,t,r){if(n[Xs])return;let i;i=8&t.type?vn(r):function kG(n,e){const t=n[Tt],r=t.createComment(""),i=Pi(e,n);return Xl(t,Py(t,i),r,function sz(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Xs]=i};const Vw=new Ie("Application Initializer");let Uw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ze(Vw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(rg(s))t.push(s);else if(px(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Xo=new Ie("LocaleId",{providedIn:"root",factory:()=>ze(Xo,Dt.Optional|Dt.SkipSelf)||function hW(){return typeof $localize<"u"&&$localize.locale||_h}()});let RO=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let PO=(()=>{class n{compileModuleSync(t){return new ww(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=xa(gi(t).declarations).reduce((o,a)=>{const c=Gt(a);return c&&o.push(new Yp(c)),o},[]);return new gW(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kO=new Ie(""),_v=new Ie("");let Hw,$w=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hw||(function LW(n){Hw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Wt),pe(zw),pe(_v))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),zw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Hw?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),jc=null;const FO=new Ie("AllowMultipleToken"),qw=new Ie("PlatformDestroyListeners"),Gw=new Ie("appBootstrapListener");class VO{constructor(e,t){this.name=e,this.token=t}}function BO(n,e,t=[]){const r=`Platform: ${e}`,i=new Ie(r);return(s=[])=>{let o=Ww();if(!o||o.injector.get(FO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function BW(n){if(jc&&!jc.get(FO,!1))throw new he(400,!1);(function LO(){!function Ib(n){bd=n}(()=>{throw new he(600,!1)})})(),jc=n;const e=n.get($O);(function UO(n){n.get(qR,null)?.forEach(t=>t())})(n)}(function jO(n=[],e){return Ei.create({name:e,providers:[{provide:I0,useValue:"platform"},{provide:qw,useValue:new Set([()=>jc=null])},...n]})}(a,r))}return function $W(n){const e=Ww();if(!e)throw new he(401,!1);return e}()}}function Ww(){return jc?.get($O)??null}let $O=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function zW(n="zone.js",e){return"noop"===n?new wH:"zone.js"===n?new Wt(e):n}(r?.ngZone,function zO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function J6(n,e,t){return new bw(n,e,t)}(t.moduleType,this.injector,function KO(n){return[{provide:Wt,useFactory:n},{provide:zp,multi:!0,useFactory:()=>{const e=ze(qW,{optional:!0});return()=>e.initialize()}},{provide:WO,useFactory:HW},{provide:aP,useFactory:cP}]}(()=>i)),o=s.injector.get(Eo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{yv(this._modules,s),a.unsubscribe()})}),function HO(n,e,t){try{const r=t();return rg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Uw);return a.runInitializers(),a.donePromise.then(()=>(function u1(n){Mi(n,"Expected localeId to be defined"),"string"==typeof n&&(l1=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Xo,_h)||_h),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=qO({},r);return function VW(n,e,t){const r=new ww(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ou);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new he(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(qw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Ei))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function qO(n,e){return Array.isArray(e)?e.reduce(qO,n):{...n,...e}}let ou=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(WO),this.zoneIsStable=ze(aP),this.componentTypes=[],this.components=[],this.isStable=ze(RO).hasPendingTasks.pipe(He(t=>t?V(!1):this.zoneIsStable),mt(),fe()),this._injector=ze(oo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof QR;if(!this._injector.get(Uw).done)throw!i&&function Vo(n){const e=Gt(n)||Rr(n)||$r(n);return null!==e&&e.standalone}(t),new he(405,!1);let o;o=i?t:this._injector.get(Wy).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function UW(n){return n.isBoundToModule}(o)?void 0:this._injector.get(iu),l=o.create(Ei.NULL,[],r||o.selector,a),f=l.location.nativeElement,m=l.injector.get(kO,null);return m?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),yv(this.components,l),m?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;yv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Gw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new he(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const WO=new Ie("",{providedIn:"root",factory:()=>ze(Eo).handleError.bind(void 0)});function HW(){const n=ze(Wt),e=ze(Eo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let qW=(()=>{class n{constructor(){this.zone=ze(Wt),this.applicationRef=ze(ou)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let vv=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=WW}return n})();function WW(n){return function KW(n,e,t){if(wc(n)&&!t){const r=_i(n.index,e);return new Qp(r,r)}return 47&n.type?new Qp(e[fr],e):null}(Xr(),we(),16==(16&n))}class JO{constructor(){}supports(e){return tv(e)}create(e){return new e9(e)}}const JW=(n,e)=>e;class e9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<tN(r,i,s)?t:r,a=tN(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,f=c-i;if(l!=f){for(let y=0;y<l;y++){const I=y<s.length?s[y]:s[y]=0,T=I+y;f<=T&&T<l&&(s[y]=I+1)}s[o.previousIndex]=f-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!tv(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Oq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new t9(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new eN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class t9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class eN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new n9,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class nN{constructor(){}supports(e){return e instanceof Map||nw(e)}create(){return new r9}}class r9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||nw(e)))throw new he(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new i9(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class i9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rN(){return new bv([new JO])}let bv=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:rN});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rN()),deps:[[n,new kp,new qr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new he(901,!1)}}return n})();function iN(){return new gg([new nN])}let gg=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:iN});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||iN()),deps:[[n,new kp,new qr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new he(901,!1)}}return n})();const a9=BO(null,"core",[]);let c9=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(pe(ou))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({})}return n})();function Ih(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Jw=null;function $c(){return Jw}class b9{}const yr=new Ie("DocumentToken");let eC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return ze(C9)},providedIn:"platform"})}return n})();const w9=new Ie("Location Initialized");let C9=(()=>{class n extends eC{constructor(){super(),this._doc=ze(yr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $c().getBaseHref(this._doc)}onPopState(t){const r=$c().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=$c().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function tC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function fN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ka(n){return n&&"?"!==n[0]?"?"+n:n}let cu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return ze(gN)},providedIn:"root"})}return n})();const pN=new Ie("appBaseHref");let gN=(()=>{class n extends cu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ze(yr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ka(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ka(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ka(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(eC),pe(pN,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T9=(()=>{class n extends cu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=tC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ka(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ka(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(eC),pe(pN,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),nC=(()=>{class n{constructor(t){this._subject=new _r,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function S9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(fN(mN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ka(r))}normalize(t){return n.stripTrailingSlash(function D9(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,mN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ka;static#t=this.joinWithSlash=tC;static#n=this.stripTrailingSlash=fN;static#r=this.\u0275fac=function(r){return new(r||n)(pe(cu))};static#i=this.\u0275prov=Fe({token:n,factory:function(){return function A9(){return new nC(pe(cu))}()},providedIn:"root"})}return n})();function mN(n){return n.replace(/\/index.html$/,"")}var es=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(es||{}),Fn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Fn||{}),Vs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Vs||{}),Pr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Pr||{});function Tv(n,e){return lo(Xi(n)[$n.DateFormat],e)}function Av(n,e){return lo(Xi(n)[$n.TimeFormat],e)}function Dv(n,e){return lo(Xi(n)[$n.DateTimeFormat],e)}function co(n,e){const t=Xi(n),r=t[$n.NumberSymbols][e];if(typeof r>"u"){if(e===Pr.CurrencyDecimal)return t[$n.NumberSymbols][Pr.Decimal];if(e===Pr.CurrencyGroup)return t[$n.NumberSymbols][Pr.Group]}return r}function yN(n){if(!n[$n.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[$n.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function iC(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mg={},z9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fa=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Fa||{}),pn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(pn||{}),gn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(gn||{});function H9(n,e,t,r){let i=function J9(n){if(IN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Sv(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($9))return function e8(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,c,l),e}(r)}const e=new Date(n);if(!IN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=La(t,e)||e;let a,o=[];for(;e;){if(a=z9.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;e=f}}let c=i.getTimezoneOffset();r&&(c=EN(r,c),i=function X9(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Y9(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(EN(e,i)-i))}(i,r,!0));let l="";return o.forEach(f=>{const m=function Q9(n){if(oC[n])return oC[n];let e;switch(n){case"G":case"GG":case"GGG":e=zn(gn.Eras,Fn.Abbreviated);break;case"GGGG":e=zn(gn.Eras,Fn.Wide);break;case"GGGGG":e=zn(gn.Eras,Fn.Narrow);break;case"y":e=Gr(pn.FullYear,1,0,!1,!0);break;case"yy":e=Gr(pn.FullYear,2,0,!0,!0);break;case"yyy":e=Gr(pn.FullYear,3,0,!1,!0);break;case"yyyy":e=Gr(pn.FullYear,4,0,!1,!0);break;case"Y":e=xv(1);break;case"YY":e=xv(2,!0);break;case"YYY":e=xv(3);break;case"YYYY":e=xv(4);break;case"M":case"L":e=Gr(pn.Month,1,1);break;case"MM":case"LL":e=Gr(pn.Month,2,1);break;case"MMM":e=zn(gn.Months,Fn.Abbreviated);break;case"MMMM":e=zn(gn.Months,Fn.Wide);break;case"MMMMM":e=zn(gn.Months,Fn.Narrow);break;case"LLL":e=zn(gn.Months,Fn.Abbreviated,es.Standalone);break;case"LLLL":e=zn(gn.Months,Fn.Wide,es.Standalone);break;case"LLLLL":e=zn(gn.Months,Fn.Narrow,es.Standalone);break;case"w":e=sC(1);break;case"ww":e=sC(2);break;case"W":e=sC(1,!0);break;case"d":e=Gr(pn.Date,1);break;case"dd":e=Gr(pn.Date,2);break;case"c":case"cc":e=Gr(pn.Day,1);break;case"ccc":e=zn(gn.Days,Fn.Abbreviated,es.Standalone);break;case"cccc":e=zn(gn.Days,Fn.Wide,es.Standalone);break;case"ccccc":e=zn(gn.Days,Fn.Narrow,es.Standalone);break;case"cccccc":e=zn(gn.Days,Fn.Short,es.Standalone);break;case"E":case"EE":case"EEE":e=zn(gn.Days,Fn.Abbreviated);break;case"EEEE":e=zn(gn.Days,Fn.Wide);break;case"EEEEE":e=zn(gn.Days,Fn.Narrow);break;case"EEEEEE":e=zn(gn.Days,Fn.Short);break;case"a":case"aa":case"aaa":e=zn(gn.DayPeriods,Fn.Abbreviated);break;case"aaaa":e=zn(gn.DayPeriods,Fn.Wide);break;case"aaaaa":e=zn(gn.DayPeriods,Fn.Narrow);break;case"b":case"bb":case"bbb":e=zn(gn.DayPeriods,Fn.Abbreviated,es.Standalone,!0);break;case"bbbb":e=zn(gn.DayPeriods,Fn.Wide,es.Standalone,!0);break;case"bbbbb":e=zn(gn.DayPeriods,Fn.Narrow,es.Standalone,!0);break;case"B":case"BB":case"BBB":e=zn(gn.DayPeriods,Fn.Abbreviated,es.Format,!0);break;case"BBBB":e=zn(gn.DayPeriods,Fn.Wide,es.Format,!0);break;case"BBBBB":e=zn(gn.DayPeriods,Fn.Narrow,es.Format,!0);break;case"h":e=Gr(pn.Hours,1,-12);break;case"hh":e=Gr(pn.Hours,2,-12);break;case"H":e=Gr(pn.Hours,1);break;case"HH":e=Gr(pn.Hours,2);break;case"m":e=Gr(pn.Minutes,1);break;case"mm":e=Gr(pn.Minutes,2);break;case"s":e=Gr(pn.Seconds,1);break;case"ss":e=Gr(pn.Seconds,2);break;case"S":e=Gr(pn.FractionalSeconds,1);break;case"SS":e=Gr(pn.FractionalSeconds,2);break;case"SSS":e=Gr(pn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Rv(Fa.Short);break;case"ZZZZZ":e=Rv(Fa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Rv(Fa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Rv(Fa.Long);break;default:return null}return oC[n]=e,e}(f);l+=m?m(i,t,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Sv(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function La(n,e){const t=function R9(n){return Xi(n)[$n.LocaleId]}(n);if(mg[t]=mg[t]||{},mg[t][e])return mg[t][e];let r="";switch(e){case"shortDate":r=Tv(n,Vs.Short);break;case"mediumDate":r=Tv(n,Vs.Medium);break;case"longDate":r=Tv(n,Vs.Long);break;case"fullDate":r=Tv(n,Vs.Full);break;case"shortTime":r=Av(n,Vs.Short);break;case"mediumTime":r=Av(n,Vs.Medium);break;case"longTime":r=Av(n,Vs.Long);break;case"fullTime":r=Av(n,Vs.Full);break;case"short":const i=La(n,"shortTime"),s=La(n,"shortDate");r=Mv(Dv(n,Vs.Short),[i,s]);break;case"medium":const o=La(n,"mediumTime"),a=La(n,"mediumDate");r=Mv(Dv(n,Vs.Medium),[o,a]);break;case"long":const c=La(n,"longTime"),l=La(n,"longDate");r=Mv(Dv(n,Vs.Long),[c,l]);break;case"full":const f=La(n,"fullTime"),m=La(n,"fullDate");r=Mv(Dv(n,Vs.Full),[f,m])}return r&&(mg[t][e]=r),r}function Mv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function To(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Gr(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function G9(n,e){switch(n){case pn.FullYear:return e.getFullYear();case pn.Month:return e.getMonth();case pn.Date:return e.getDate();case pn.Hours:return e.getHours();case pn.Minutes:return e.getMinutes();case pn.Seconds:return e.getSeconds();case pn.FractionalSeconds:return e.getMilliseconds();case pn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===pn.Hours)0===a&&-12===t&&(a=12);else if(n===pn.FractionalSeconds)return function q9(n,e){return To(n,3).substring(0,e)}(a,e);const c=co(o,Pr.MinusSign);return To(a,e,c,r,i)}}function zn(n,e,t=es.Format,r=!1){return function(i,s){return function W9(n,e,t,r,i,s){switch(t){case gn.Months:return function O9(n,e,t){const r=Xi(n),s=lo([r[$n.MonthsFormat],r[$n.MonthsStandalone]],e);return lo(s,t)}(e,i,r)[n.getMonth()];case gn.Days:return function x9(n,e,t){const r=Xi(n),s=lo([r[$n.DaysFormat],r[$n.DaysStandalone]],e);return lo(s,t)}(e,i,r)[n.getDay()];case gn.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function L9(n){const e=Xi(n);return yN(e),(e[$n.ExtraData][2]||[]).map(r=>"string"==typeof r?iC(r):[iC(r[0]),iC(r[1])])}(e),f=function V9(n,e,t){const r=Xi(n);yN(r);const s=lo([r[$n.ExtraData][0],r[$n.ExtraData][1]],e)||[];return lo(s,t)||[]}(e,i,r),m=l.findIndex(y=>{if(Array.isArray(y)){const[I,T]=y,F=o>=I.hours&&a>=I.minutes,L=o<T.hours||o===T.hours&&a<T.minutes;if(I.hours<T.hours){if(F&&L)return!0}else if(F||L)return!0}else if(y.hours===o&&y.minutes===a)return!0;return!1});if(-1!==m)return f[m]}return function P9(n,e,t){const r=Xi(n),s=lo([r[$n.DayPeriodsFormat],r[$n.DayPeriodsStandalone]],e);return lo(s,t)}(e,i,r)[o<12?0:1];case gn.Eras:return function N9(n,e){return lo(Xi(n)[$n.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Rv(n){return function(e,t,r){const i=-1*r,s=co(t,Pr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Fa.Short:return(i>=0?"+":"")+To(o,2,s)+To(Math.abs(i%60),2,s);case Fa.ShortGMT:return"GMT"+(i>=0?"+":"")+To(o,1,s);case Fa.Long:return"GMT"+(i>=0?"+":"")+To(o,2,s)+":"+To(Math.abs(i%60),2,s);case Fa.Extended:return 0===r?"Z":(i>=0?"+":"")+To(o,2,s)+":"+To(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const K9=0,Pv=4;function vN(n){return Sv(n.getFullYear(),n.getMonth(),n.getDate()+(Pv-n.getDay()))}function sC(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=vN(t),o=function Z9(n){const e=Sv(n,K9,1).getDay();return Sv(n,0,1+(e<=Pv?Pv:Pv+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return To(i,n,co(r,Pr.MinusSign))}}function xv(n,e=!1){return function(t,r){return To(vN(t).getFullYear(),n,co(r,Pr.MinusSign),e)}}const oC={};function EN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function IN(n){return n instanceof Date&&!isNaN(n.valueOf())}const hC=/\s+/,TN=[];let AN=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=TN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(hC):TN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(hC):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(hC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(de(bv),de(gg),de(Es),de(Pa))};static#t=this.\u0275dir=rt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class p8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Us=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new p8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),SN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{SN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(de(Co),de(Na),de(bv))};static#t=this.\u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function SN(n,e){n.context.$implicit=e.item}let Nv=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new g8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){MN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){MN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(de(Co),de(Na))};static#t=this.\u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class g8{constructor(){this.$implicit=null,this.ngIf=null}}function MN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${at(e)}'.`)}const S8=new Ie("DATE_PIPE_DEFAULT_TIMEZONE"),M8=new Ie("DATE_PIPE_DEFAULT_OPTIONS");let wh=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return H9(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Ao(n,e){return new he(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(de(Xo,16),de(S8,24),de(M8,24))};static#t=this.\u0275pipe=jr({name:"date",type:n,pure:!0,standalone:!0})}return n})(),PN=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=jr({name:"json",type:n,pure:!1,standalone:!0})}return n})(),ON=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({})}return n})();const NN="browser";function kN(n){return n===NN}function kv(n){return"server"===n}let j8=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new $8(pe(yr),window)})}return n})();class $8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function z8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class f7 extends b9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vC extends f7{static makeCurrent(){!function I9(n){Jw||(Jw=n)}(new vC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function p7(){return vg=vg||document.querySelector("base"),vg?vg.getAttribute("href"):null}();return null==t?null:function g7(n){Vv=Vv||document.createElement("a"),Vv.setAttribute("href",n);const e=Vv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function h8(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Vv,vg=null,_7=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const EC=new Ie("EventManagerPlugins");let BN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new he(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(pe(EC),pe(Wt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class jN{constructor(e){this._doc=e}}const IC="ng-app-id";let $N=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kv(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${IC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(IC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(IC,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yr),pe(jy),pe(T0,8),pe(ks))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const bC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wC=/%COMP%/g,I7=new Ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function HN(n,e){return e.map(t=>t.replace(wC,n))}let CC=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=kv(a),this.defaultRenderer=new TC(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rr.ShadowDom&&(r={...r,encapsulation:rr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof GN?i.applyToHost(t):i instanceof AC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case rr.Emulated:s=new GN(c,l,r,this.appId,f,o,a,m);break;case rr.ShadowDom:return new T7(c,l,t,r,o,a,this.nonce,m);default:s=new AC(c,l,r,f,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(pe(BN),pe($N),pe(jy),pe(I7),pe(yr),pe(ks),pe(Wt),pe(T0))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class TC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(bC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new he(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=bC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Fc.DashCase|Fc.Important)?e.style.setProperty(t,r,i&Fc.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Fc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=$c().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function qN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class T7 extends TC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=HN(i.id,i.styles);for(const f of l){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AC extends TC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?HN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class GN extends AC{constructor(e,t,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=function b7(n){return"_ngcontent-%COMP%".replace(wC,n)}(l),this.hostAttr=function w7(n){return"_nghost-%COMP%".replace(wC,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let A7=(()=>{class n extends jN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const WN=["alt","control","meta","shift"],D7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M7=(()=>{class n extends jN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$c().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WN.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=D7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WN.forEach(o=>{o!==i&&(0,S7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const O7=BO(a9,"browser",[{provide:ks,useValue:NN},{provide:qR,useValue:function R7(){vC.makeCurrent()},multi:!0},{provide:yr,useFactory:function x7(){return function fz(n){f0=n}(document),document},deps:[]}]),N7=new Ie(""),QN=[{provide:_v,useClass:class m7{addToWindow(e){on.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new he(5103,!1);return s},on.getAllAngularTestabilities=()=>e.getAllTestabilities(),on.getAllAngularRootElements=()=>e.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(r=>{const i=on.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?$c().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:kO,useClass:$w,deps:[Wt,zw,_v]},{provide:$w,useClass:$w,deps:[Wt,zw,_v]}],YN=[{provide:I0,useValue:"root"},{provide:Eo,useFactory:function P7(){return new Eo},deps:[]},{provide:EC,useClass:A7,multi:!0,deps:[yr,Wt,ks]},{provide:EC,useClass:M7,multi:!0,deps:[yr]},CC,$N,BN,{provide:Gp,useExisting:CC},{provide:class H8{},useClass:_7,deps:[]},[]];let MC,XN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:jy,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(pe(N7,12))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({providers:[...YN,...QN],imports:[ON,c9]})}return n})(),JN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yr))};static#t=this.\u0275prov=Fe({token:n,factory:function(r){let i=null;return i=r?new r:function F7(){return new JN(pe(yr))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;try{MC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MC=!1}let Eg,ik=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?kN(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(pe(ks))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uv(n){return function j7(){if(null==Eg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eg=!0}))}finally{Eg=Eg||!1}return Eg}()?n:!!n.capture}function ok(n){return Array.isArray(n)?n:[n]}const{isArray:Y7}=Array,{getPrototypeOf:X7,prototype:J7,keys:eK}=Object;function ck(n){if(1===n.length){const e=n[0];if(Y7(e))return{args:e,keys:null};if(function tK(n){return n&&"object"==typeof n&&X7(n)===J7}(e)){const t=eK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:nK}=Array;function lk(n){return De(e=>function rK(n,e){return nK(e)?n(...e):n(e)}(n,e))}function uk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jv(...n){const e=ds(n),t=Si(n),{args:r,keys:i}=ck(n);if(0===r.length)return b([],e);const s=new bt(function iK(n,e,t=Nt){return r=>{dk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)dk(e,()=>{const l=b(n[c],e);let f=!1;l.subscribe(Oe(r,m=>{s[c]=m,f||(f=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>uk(i,o):Nt));return t?s.pipe(lk(t)):s}function dk(n,e,t){n?mr(t,n,e):e()}function $v(...n){return function sK(){return Fr(1)}()(b(n,ds(n)))}function Hc(n){return n<=0?()=>Vn:ce((e,t)=>{let r=0;e.subscribe(Oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ws(n,e){return ce((t,r)=>{let i=0;t.subscribe(Oe(r,s=>n.call(e,s,i++)&&r.next(s)))})}class aK extends Pt{constructor(e,t){super()}schedule(e,t=0){return this}}const zv={setInterval(n,e,...t){const{delegate:r}=zv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=zv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class hk extends aK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return zv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&zv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,xe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const PC={now:()=>(PC.delegate||Date).now(),delegate:void 0};class Ig{constructor(e,t=Ig.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ig.now=PC.now;class fk extends Ig{constructor(e,t=Ig.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xC=new fk(hk);function pk(n,e=xC){return ce((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+n,f=e.now();if(f<l)return i=this.schedule(void 0,l-f),void r.add(i);a()}t.subscribe(Oe(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function bg(...n){const e=ds(n);return ce((t,r)=>{(e?$v(n,t,e):$v(n,t)).subscribe(r)})}function gk(n){return ce((e,t)=>{Vt(n).subscribe(Oe(t,()=>t.complete(),Xe)),!t.closed&&e.subscribe(t)})}const mk=new Set;let uu,cK=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function lK(n,e){if(!mk.has(n))try{uu||(uu=document.createElement("style"),e&&(uu.nonce=e),uu.setAttribute("type","text/css"),document.head.appendChild(uu)),uu.sheet&&(uu.sheet.insertRule(`@media ${n} {body{ }}`,0),mk.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(ik),pe(T0,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let dK=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _k(ok(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=jv(_k(ok(t)).map(o=>this._registerQuery(o).observable));return s=$v(s.pipe(Hc(1)),s.pipe(function oK(n){return ws((e,t)=>n<=t)}(1),pk(0))),s.pipe(De(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new bt(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(bg(r),De(({matches:o})=>({query:t,matches:o})),gk(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(pe(cK),pe(Wt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _k(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Ik="cdk-high-contrast-black-on-white",bk="cdk-high-contrast-white-on-black",OC="cdk-high-contrast-active";let bK=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ze(dK).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(OC,Ik,bk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(OC,Ik):2===r&&t.add(OC,bk)}}static#e=this.\u0275fac=function(r){return new(r||n)(pe(ik),pe(yr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({})}return n})();const AK=new Ie("mat-sanity-checks",{providedIn:"root",factory:function TK(){return!0}});let qc=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function H7(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(pe(bK),pe(AK,8),pe(yr))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[wk,wk]})}return n})(),Ak=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[qc,qc]})}return n})();const Dk=Uv({passive:!0,capture:!0});class MK{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function z7(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Dk)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Dk)))}}class NC{static#e=this._eventManager=new MK;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ak(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Sk,...r.animation},o=r.radius||function PK(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-o+"px",f.style.top=c-o+"px",f.style.height=2*o+"px",f.style.width=2*o+"px",null!=r.color&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(f);const m=window.getComputedStyle(f),I=m.transitionDuration,T="none"===m.transitionProperty||"0s"===I||"0s, 0s"===I||0===i.width&&0===i.height,F=new SK(this,f,r,T);f.style.transform="scale3d(1, 1, 1)",F.state=0,r.persistent||(this._mostRecentTransientRipple=F);return!T&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const W=()=>this._finishRippleTransition(F),z=()=>this._destroyRipple(F);f.addEventListener("transitionend",W),f.addEventListener("transitioncancel",z)}),this._activeRipples.set(F,null),(T||!l)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...Sk,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ak(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Rk.forEach(r=>{NC._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pk.forEach(t=>{this._triggerElement.addEventListener(t,this,Mk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function vK(n){return 0===n.buttons||0===n.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function EK(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Rk.forEach(t=>NC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Pk.forEach(t=>e.removeEventListener(t,this,Mk)))}}let VK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[qc,ON,qc]})}return n})();function Th(n,e){const t=O(n)?n:()=>n,r=i=>i.error(t());return new bt(e?i=>e.schedule(r,0,i):r)}function kC(...n){const e=Si(n),{args:t,keys:r}=ck(n),i=new bt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let f=0;f<o;f++){let m=!1;Vt(t[f]).subscribe(Oe(s,y=>{m||(m=!0,l--),a[f]=y},()=>c--,void 0,()=>{(!c||!m)&&(l||s.next(r?uk(r,a):a),s.complete())}))}});return e?i.pipe(lk(e)):i}function Wr(n,e,t){const r=O(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Oe(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Nt}function Gc(n){return ce((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Oe(t,void 0,void 0,o=>{s=Vt(n(o,Gc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Cg(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ah(n,e){return O(e)?nn(n,e,1):nn(n,1)}let _Z=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[qc,qc]})}return n})(),EZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[Ak,qc,Ak,qc]})}return n})();const Zv=Re(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Qk(n){return new bt(e=>{Vt(n()).subscribe(e)})}function zC(){return ce((n,e)=>{let t=null;n._refCount++;const r=Oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yk extends bt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ee(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const t=this.getSubject();e.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return zC()(this)}}function Qv(n){return ce((e,t)=>{let r=!1;e.subscribe(Oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xk(n=bZ){return ce((e,t)=>{let r=!1;e.subscribe(Oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bZ(){return new Zv}function Zc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,s)=>n(i,s,r)):Nt,Hc(1),t?Qv(e):Xk(()=>new Zv))}function Yv(n,e){return ce(function wZ(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Oe(o,f=>{const m=l++;c=a?n(c,f,m):(a=!0,f),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function HC(n){return n<=0?()=>Vn:ce((e,t)=>{let r=[];e.subscribe(Oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const kt="primary",Sg=Symbol("RouteTitle");class AZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Dh(n){return new AZ(n)}function DZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Jo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Jk(n[i],e[i]))return!1;return!0}function Jk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function eF(n){return n.length>0?n[n.length-1]:null}function Qc(n){return function IZ(n){return!!n&&(n instanceof bt||O(n.lift)&&O(n.subscribe))}(n)?n:rg(n)?b(Promise.resolve(n)):V(n)}const MZ={exact:function rF(n,e,t){if(!pu(n.segments,e.segments)||!Xv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rF(n.children[r],e.children[r],t))return!1;return!0},subset:iF},tF={exact:function RZ(n,e){return Jo(n,e)},subset:function PZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Jk(n[t],e[t]))},ignored:()=>!0};function nF(n,e,t){return MZ[t.paths](n.root,e.root,t.matrixParams)&&tF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iF(n,e,t){return sF(n,e,e.segments,t)}function sF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!pu(i,t)||e.hasChildren()||!Xv(i,t,r))}if(n.segments.length===t.length){if(!pu(n.segments,t)||!Xv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!iF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(pu(n.segments,i)&&Xv(n.segments,i,r)&&n.children[kt])&&sF(n.children[kt],e,s,r)}}function Xv(n,e,t){return e.every((r,i)=>tF[t](n[i].parameters,r.parameters))}class Sh{constructor(e=new Tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dh(this.queryParams)),this._queryParamMap}toString(){return NZ.serialize(this)}}class Tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jv(this)}}class Mg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Dh(this.parameters)),this._parameterMap}toString(){return cF(this)}}function pu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return new qC},providedIn:"root"})}return n})();class qC{parse(e){const t=new qZ(e);return new Sh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pg(e.root,!0)}`,r=function LZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${eE(t)}=${eE(i)}`).join("&"):`${eE(t)}=${eE(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const NZ=new qC;function Jv(n){return n.segments.map(e=>cF(e)).join("/")}function Pg(n,e){if(!n.hasChildren())return Jv(n);if(e){const t=n.children[kt]?Pg(n.children[kt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==kt&&r.push(`${i}:${Pg(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function OZ(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===kt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==kt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===kt?[Pg(n.children[kt],!1)]:[`${i}:${Pg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${Jv(n)}/${t[0]}`:`${Jv(n)}/(${t.join("//")})`}}function oF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eE(n){return oF(n).replace(/%3B/gi,";")}function GC(n){return oF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tE(n){return decodeURIComponent(n)}function aF(n){return tE(n.replace(/\+/g,"%20"))}function cF(n){return`${GC(n.path)}${function FZ(n){return Object.keys(n).map(e=>`;${GC(e)}=${GC(n[e])}`).join("")}(n.parameters)}`}const VZ=/^[^\/()?;#]+/;function WC(n){const e=n.match(VZ);return e?e[0]:""}const UZ=/^[^\/()?;=#]+/,jZ=/^[^=?&#]+/,zZ=/^[^&#]+/;class qZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kt]=new Tn(e,t)),r}parseSegment(){const e=WC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new Mg(tE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function BZ(n){const e=n.match(UZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=WC(this.remaining);i&&(r=i,this.capture(r))}e[tE(t)]=tE(r)}parseQueryParam(e){const t=function $Z(n){const e=n.match(jZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function HZ(n){const e=n.match(zZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=aF(t),s=aF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=WC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new he(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=kt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[kt]:new Tn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}}function lF(n){return n.segments.length>0?new Tn([],{[kt]:n}):n}function uF(n){const e={};for(const r of Object.keys(n.children)){const s=uF(n.children[r]);if(r===kt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function GZ(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new Tn(n.segments.concat(e.segments),e.children)}return n}(new Tn(n.segments,e))}function gu(n){return n instanceof Sh}function dF(n){let e;const i=lF(function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new Tn(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function hF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return KC(i,i,i,t,r);const s=function KZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new pF(t,e,r)}(e);if(s.toRoot())return KC(i,i,new Tn([],{}),t,r);const o=function ZZ(n,e,t){if(n.isAbsolute)return new rE(e,!0,0);if(!t)return new rE(e,!1,NaN);if(null===t.parent)return new rE(t,!0,0);const r=nE(n.commands[0])?0:1;return function QZ(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new he(4005,!1);i=r.segments.length}return new rE(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Og(o.segmentGroup,o.index,s.commands):gF(o.segmentGroup,o.index,s.commands);return KC(i,o.segmentGroup,a,t,r)}function nE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xg(n){return"object"==typeof n&&null!=n&&n.outlets}function KC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),o=n===e?t:fF(n,e,t);const a=lF(uF(o));return new Sh(a,s,i)}function fF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:fF(s,e,t)}),new Tn(n.segments,r)}class pF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nE(r[0]))throw new he(4003,!1);const i=r.find(xg);if(i&&i!==eF(r))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gF(n,e,t){if(n||(n=new Tn([],{})),0===n.segments.length&&n.hasChildren())return Og(n,e,t);const r=function XZ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(xg(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!_F(c,l,o))return s;r+=2}else{if(!_F(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Tn(n.segments.slice(0,r.pathIndex),{});return s.children[kt]=new Tn(n.segments.slice(r.pathIndex),n.children),Og(s,0,i)}return r.match&&0===i.length?new Tn(n.segments,{}):r.match&&!n.hasChildren()?ZC(n,e,t):r.match?Og(n,0,i):ZC(n,e,t)}function Og(n,e,t){if(0===t.length)return new Tn(n.segments,{});{const r=function YZ(n){return xg(n[0])?n[0].outlets:{[kt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==kt)&&n.children[kt]&&1===n.numberOfChildren&&0===n.children[kt].segments.length){const s=Og(n.children[kt],e,t);return new Tn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=gF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Tn(n.segments,i)}}function ZC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(xg(s)){const c=JZ(s.outlets);return new Tn(r,c)}if(0===i&&nE(t[0])){r.push(new Mg(n.segments[e].path,mF(t[0]))),i++;continue}const o=xg(s)?s.outlets[kt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&nE(a)?(r.push(new Mg(o,mF(a))),i+=2):(r.push(new Mg(o,{})),i++)}return new Tn(r,{})}function JZ(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ZC(new Tn([],{}),0,r))}),e}function mF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _F(n,e,t){return n==t.path&&Jo(e,t.parameters)}const Ng="imperative";class ea{constructor(e,t){this.id=e,this.url=t}}class iE extends ea{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ua extends ea{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kg extends ea{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mh extends ea{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class sE extends ea{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yF extends ea{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eQ extends ea{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tQ extends ea{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nQ extends ea{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rQ extends ea{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QC{}class YC{constructor(e){this.url=e}}class uQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fg,this.attachRef=null}}let Fg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uQ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class EF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=JC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return JC(e,this._root).map(t=>t.value)}}function XC(n,e){if(n===e.value)return e;for(const t of e.children){const r=XC(n,t);if(r)return r}return null}function JC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=JC(n,t);if(r.length)return r.unshift(e),r}return[]}class Ba{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IF extends EF{constructor(e,t){super(e),this.snapshot=t,eT(this,e)}toString(){return this.snapshot.toString()}}function bF(n,e){const t=function dQ(n,e){const o=new oE([],{},{},"",{},kt,e,null,{});return new CF("",new Ba(o,[]))}(0,e),r=new w([new Mg("",{})]),i=new w({}),s=new w({}),o=new w({}),a=new w(""),c=new Do(r,i,o,a,s,kt,e,t.root);return c.snapshot=t.root,new IF(new Ba(c,[]),t)}class Do{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(De(l=>l[Sg]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>Dh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>Dh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function hQ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class oE{get title(){return this.data?.[Sg]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CF extends EF{constructor(e,t){super(t),this.url=e,eT(this,t)}toString(){return TF(this._root)}}function eT(n,e){e.value._routerState=n,e.children.forEach(t=>eT(n,t))}function TF(n){const e=n.children.length>0?` { ${n.children.map(TF).join(", ")} } `:"";return`${n.value}${e}`}function tT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Jo(e.params,t.params)||n.paramsSubject.next(t.params),function SZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Jo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nT(n,e){const t=Jo(n.params,e.params)&&function xZ(n,e){return pu(n,e)&&n.every((t,r)=>Jo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nT(n.parent,e.parent))}let aE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new _r,this.deactivateEvents=new _r,this.attachEvents=new _r,this.detachEvents=new _r,this.parentContexts=ze(Fg),this.location=ze(Co),this.changeDetector=ze(vv),this.environmentInjector=ze(oo),this.inputBinder=ze(cE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new fQ(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_s]})}return n})();class fQ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Do?this.route:e===Fg?this.childContexts:this.parent.get(e,t)}}const cE=new Ie("");let AF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=jv([r.queryParams,r.params,r.data]).pipe(He(([s,o,a],c)=>(a={...s,...o,...a},0===c?V(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function E9(n){const e=Gt(n);if(!e)return null;const t=new Yp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function Lg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function gQ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lg(n,r,i);return Lg(n,r)})}(n,e,t);return new Ba(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Lg(n,a)),o}}const r=function mQ(n){return new Do(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Lg(n,s));return new Ba(r,i)}}const rT="ngNavigationCancelingError";function DF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=gu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[rT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function MF(n){return n&&n[rT]}let RF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ng-component"]],standalone:!0,features:[L1],decls:1,vars:0,template:function(r,i){1&r&&Je(0,"router-outlet")},dependencies:[aE],encapsulation:2})}return n})();function iT(n){const e=n.children&&n.children.map(iT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=RF),t}function So(n){return n.outlet||kt}function Vg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class CQ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Rh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Rh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aQ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(tT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Vg(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class PF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lE{constructor(e,t){this.component=e,this.route=t}}function TQ(n,e,t){const r=n._root;return Ug(r,e?e._root:null,t,[r.value])}function Ph(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Rl(n){return null!==ga(n)}(n)?e.get(n):n:r}function Ug(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rh(e);return n.children.forEach(o=>{(function DQ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function SQ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pu(n.url,e.url)||!Jo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nT(n,e)||!Jo(n.queryParams,e.queryParams);default:return!nT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new PF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ug(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lE(a.outlet.component,o))}else o&&Bg(e,a,i),i.canActivateChecks.push(new PF(r)),Ug(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bg(a,t.getContext(o),i)),i}function Bg(n,e,t){const r=Rh(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Bg(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new lE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jg(n){return"function"==typeof n}function xF(n){return n instanceof Zv||"EmptyError"===n?.name}const uE=Symbol("INITIAL_VALUE");function xh(){return He(n=>jv(n.map(e=>e.pipe(Hc(1),bg(uE)))).pipe(De(e=>{for(const t of e)if(!0!==t){if(t===uE)return uE;if(!1===t||t instanceof Sh)return t}return!0}),ws(e=>e!==uE),Hc(1)))}function OF(n){return function kn(...n){return hn(n)}(Wr(e=>{if(gu(e))throw DF(0,e)}),De(e=>!0===e))}class dE{constructor(e){this.segmentGroup=e||null}}class NF{constructor(e){this.urlTree=e}}function Oh(n){return Th(new dE(n))}function kF(n){return Th(new NF(n))}class KQ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new he(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[kt])return Th(new he(4e3,!1));i=i.children[kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Sh(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Tn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new he(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const sT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZQ(n,e,t,r,i){const s=oT(n,e,t);return s.matched?(r=function yQ(n,e){return n.providers&&!n._injector&&(n._injector=Cw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function qQ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?V(i.map(o=>{const a=Ph(o,n);return Qc(function NQ(n){return n&&jg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(xh(),OF()):V(!0)}(r,e,t).pipe(De(o=>!0===o?s:{...sT}))):V(s)}function oT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DZ)(t,n,e);if(!i)return{...sT};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function FF(n,e,t,r){return t.length>0&&function XQ(n,e,t){return t.some(r=>hE(n,e,r)&&So(r)!==kt)}(n,t,r)?{segmentGroup:new Tn(e,YQ(r,new Tn(t,n.children))),slicedSegments:[]}:0===t.length&&function JQ(n,e,t){return t.some(r=>hE(n,e,r))}(n,t,r)?{segmentGroup:new Tn(n.segments,QQ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Tn(n.segments,n.children),slicedSegments:t}}function QQ(n,e,t,r,i){const s={};for(const o of r)if(hE(n,t,o)&&!i[So(o)]){const a=new Tn([],{});s[So(o)]=a}return{...i,...s}}function YQ(n,e){const t={};t[kt]=e;for(const r of n)if(""===r.path&&So(r)!==kt){const i=new Tn([],{});t[So(r)]=i}return t}function hE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class rY{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new KQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new he(4002,!1)}recognize(){const e=FF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,kt).pipe(Gc(t=>{if(t instanceof NF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof dE?this.noMatchError(t):t}),De(t=>{const r=new oE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),i=new Ba(r,t),s=new CF("",i),o=function WZ(n,e,t=null,r=null){return hF(dF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,kt).pipe(Gc(r=>{throw r instanceof dE?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=wF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return b(i).pipe(Ah(s=>{const o=r.children[s],a=function bQ(n,e){const t=n.filter(r=>So(r)===e);return t.push(...n.filter(r=>So(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Yv((s,o)=>(s.push(...o),s)),Qv(null),function CZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,s)=>n(i,s,r)):Nt,HC(1),t?Qv(e):Xk(()=>new Zv))}(),nn(s=>{if(null===s)return Oh(r);const o=LF(s);return function iY(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),V(o)}))}processSegment(e,t,r,i,s,o){return b(t).pipe(Ah(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Gc(c=>{if(c instanceof dE)return V(null);throw c}))),Zc(a=>!!a),Gc(a=>{if(xF(a))return function tY(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?V([]):Oh(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function eY(n,e,t,r){return!!(So(n)===r||r!==kt&&hE(e,t,n))&&("**"===n.path||oT(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Oh(i):Oh(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(nn(o=>{const a=new Tn(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:f}=oT(t,i,s);if(!a)return Oh(t);const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?kF(m):this.applyRedirects.lineralizeSegments(i,m).pipe(nn(y=>this.processSegment(e,r,t,y.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?eF(i).parameters:{};a=V({snapshot:new oE(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VF(r),So(r),r.component??r._loadedComponent??null,r,UF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ZQ(t,r,i,e).pipe(De(({matched:c,consumedSegments:l,remainingSegments:f,parameters:m})=>c?{snapshot:new oE(l,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VF(r),So(r),r.component??r._loadedComponent??null,r,UF(r)),consumedSegments:l,remainingSegments:f}:null));return a.pipe(He(c=>null===c?Oh(t):this.getChildConfig(e=r._injector??e,r,i).pipe(He(({routes:l})=>{const f=r._loadedInjector??e,{snapshot:m,consumedSegments:y,remainingSegments:I}=c,{segmentGroup:T,slicedSegments:F}=FF(t,y,I,l);if(0===F.length&&T.hasChildren())return this.processChildren(f,l,T).pipe(De(W=>null===W?null:[new Ba(m,W)]));if(0===l.length&&0===F.length)return V([new Ba(m,[])]);const L=So(r)===s;return this.processSegment(f,l,T,F,L?kt:s,!0).pipe(De(W=>[new Ba(m,W)]))}))))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?V({routes:t._loadedRoutes,injector:t._loadedInjector}):function HQ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(o=>{const a=Ph(o,n);return Qc(function RQ(n){return n&&jg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(xh(),OF())}(e,t,r).pipe(nn(i=>i?this.configLoader.loadChildren(e,t).pipe(Wr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function WQ(n){return Th(SF(!1,3))}())):V({routes:[],injector:e})}}function sY(n){const e=n.value.routeConfig;return e&&""===e.path}function LF(n){const e=[],t=new Set;for(const r of n){if(!sY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=LF(r.children);e.push(new Ba(r.value,i))}return e.filter(r=>!t.has(r))}function VF(n){return n.data||{}}function UF(n){return n.resolve||{}}function BF(n){return"string"==typeof n.title||null===n.title}function aT(n){return He(e=>{const t=n(e);return t?b(t).pipe(De(()=>e)):V(e)})}const Nh=new Ie("ROUTES");let cT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(PO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qc(t.loadComponent()).pipe(De(jF),Wr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Cg(()=>{this.componentLoaders.delete(t)})),i=new Yk(r,()=>new ue).pipe(zC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function hY(n,e,t,r){return Qc(n.loadChildren()).pipe(De(jF),nn(i=>i instanceof k1||Array.isArray(i)?V(i):b(e.compileModuleAsync(i))),De(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Nh,[],{optional:!0,self:!0}).flat()),{routes:o.map(iT),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Cg(()=>{this.childrenLoaders.delete(r)})),o=new Yk(s,()=>new ue).pipe(zC());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jF(n){return function fY(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let fE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=ze(cT),this.environmentInjector=ze(oo),this.urlSerializer=ze(Rg),this.rootContexts=ze(Fg),this.inputBindingEnabled=null!==ze(cE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new sQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new w({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ng,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(s=>0!==s.id),De(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),He(s=>{this.currentTransition=s;let o=!1,a=!1;return V(s).pipe(Wr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),He(c=>{const l=c.currentBrowserUrl.toString(),f=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new Mh(c.id,this.urlSerializer.serialize(c.rawUrl),y,0)),c.resolve(null),Vn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(He(y=>{const I=this.transitions?.getValue();return this.events.next(new iE(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?Vn:Promise.resolve(y)}),function oY(n,e,t,r,i,s){return nn(o=>function nY(n,e,t,r,i,s,o="emptyOnly"){return new rY(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Wr(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const I=new yF(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:y,extractedUrl:I,source:T,restoredState:F,extras:L}=c,W=new iE(y,this.urlSerializer.serialize(I),T,F);this.events.next(W);const z=bF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:z,urlAfterRedirects:I,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},V(s)}{const y="";return this.events.next(new Mh(c.id,this.urlSerializer.serialize(c.extractedUrl),y,1)),c.resolve(null),Vn}}),Wr(c=>{const l=new eQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),De(c=>(this.currentTransition=s={...c,guards:TQ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function FQ(n,e){return nn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?V({...t,guardsResult:!0}):function LQ(n,e,t,r){return b(n).pipe(nn(i=>function zQ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const c=Vg(e)??i,l=Ph(a,c);return Qc(function OQ(n){return n&&jg(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Zc())})).pipe(xh()):V(!0)}(i.component,i.route,t,e,r)),Zc(i=>!0!==i,!0))}(o,r,i,n).pipe(nn(a=>a&&function MQ(n){return"boolean"==typeof n}(a)?function VQ(n,e,t,r){return b(e).pipe(Ah(i=>$v(function BQ(n,e){return null!==n&&e&&e(new oQ(n)),V(!0)}(i.route.parent,r),function UQ(n,e){return null!==n&&e&&e(new cQ(n)),V(!0)}(i.route,r),function $Q(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function AQ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Qk(()=>V(o.guards.map(c=>{const l=Vg(o.node)??t,f=Ph(c,l);return Qc(function xQ(n){return n&&jg(n.canActivateChild)}(f)?f.canActivateChild(r,n):l.runInContext(()=>f(r,n))).pipe(Zc())})).pipe(xh())));return V(s).pipe(xh())}(n,i.path,t),function jQ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(s=>Qk(()=>{const o=Vg(e)??t,a=Ph(s,o);return Qc(function PQ(n){return n&&jg(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Zc())}));return V(i).pipe(xh())}(n,i.route,t))),Zc(i=>!0!==i,!0))}(r,s,n,e):V(a)),De(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Wr(c=>{if(s.guardsResult=c.guardsResult,gu(c.guardsResult))throw DF(0,c.guardsResult);const l=new tQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ws(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),aT(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(Wr(l=>{const f=new nQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),He(l=>{let f=!1;return V(l).pipe(function aY(n,e){return nn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let s=0;return b(i).pipe(Ah(o=>function cY(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!BF(i)&&(s[Sg]=i.title),function lY(n,e,t,r){const i=function uY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return V({});const s={};return b(i).pipe(nn(o=>function dY(n,e,t,r){const i=Vg(e)??r,s=Ph(n,i);return Qc(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Zc(),Wr(a=>{s[o]=a}))),HC(1),function TZ(n){return De(()=>n)}(s),Gc(o=>xF(o)?Vn:Th(o)))}(s,n,e,r).pipe(De(o=>(n._resolvedData=o,n.data=wF(n,t).resolve,i&&BF(i)&&(n.data[Sg]=i.title),null)))}(o.route,r,n,e)),Wr(()=>s++),HC(1),nn(o=>s===i.length?V(t):Vn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Wr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",2)}}))}),Wr(l=>{const f=new rQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),aT(c=>{const l=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Wr(y=>{f.component=y}),De(()=>{})));for(const y of f.children)m.push(...l(y));return m};return jv(l(c.targetSnapshot.root)).pipe(Qv(),Hc(1))}),aT(()=>this.afterPreactivation()),De(c=>{const l=function pQ(n,e,t){const r=Lg(n,e._root,t?t._root:void 0);return new IF(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),Wr(()=>{this.events.next(new QC)}),((n,e,t,r)=>De(i=>(new CQ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hc(1),Wr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ua(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),gk(this.transitionAbortSubject.pipe(Wr(c=>{throw c}))),Cg(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Gc(c=>{if(a=!0,MF(c))this.events.next(new kg(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function _Q(n){return MF(n)&&gu(n.url)}(c)?this.events.next(new YC(c.url)):s.resolve(!1);else{this.events.next(new sE(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(l){s.reject(l)}}return Vn}))}))}cancelNavigationTransition(t,r,i){const s=new kg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $F(n){return n!==Ng}let zF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===kt);return r}getResolvedTitleForRoute(t){return t.data[Sg]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return ze(pY)},providedIn:"root"})}return n})(),pY=(()=>{class n extends zF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(JN))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return ze(_Y)},providedIn:"root"})}return n})();class mY{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let _Y=(()=>{class n extends mY{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pE=new Ie("",{providedIn:"root",factory:()=>({})});let yY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return ze(vY)},providedIn:"root"})}return n})(),vY=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $g=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($g||{});function HF(n,e){n.events.pipe(ws(t=>t instanceof Ua||t instanceof kg||t instanceof sE||t instanceof Mh),De(t=>t instanceof Ua||t instanceof Mh?$g.COMPLETE:t instanceof kg&&(0===t.code||1===t.code)?$g.REDIRECTING:$g.FAILED),ws(t=>t!==$g.REDIRECTING),Hc(1)).subscribe(()=>{e()})}function EY(n){throw n}function IY(n,e,t){return e.parse("/")}const bY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ze(MO),this.isNgZoneEnabled=!1,this._events=new ue,this.options=ze(pE,{optional:!0})||{},this.pendingTasks=ze(RO),this.errorHandler=this.options.errorHandler||EY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ze(yY),this.routeReuseStrategy=ze(gY),this.titleStrategy=ze(zF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ze(Nh,{optional:!0})?.flat()??[],this.navigationTransitions=ze(fE),this.urlSerializer=ze(Rg),this.location=ze(nC),this.componentInputBindingEnabled=!!ze(cE,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=ze(Wt)instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(qF(r)&&this._events.next(r));if(r instanceof iE)$F(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Mh)this.rawUrlTree=i.rawUrl;else if(r instanceof yF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof QC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof kg)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof YC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$F(i.source)};this.scheduleNavigation(s,Ng,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof sE&&this.restoreHistory(i,!0),r instanceof Ua&&(this.navigated=!0),qF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ng,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(iT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let m,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{m=dF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return hF(m,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=gu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ng,null,r)}navigate(t,r={skipLocationChange:!1}){return function CY(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new he(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bY}:!1===r?{...wY}:r,gu(t))return nF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return nF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((m,y)=>{a=m,c=y});const f=this.pendingTasks.add();return HF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qF(n){return!(n instanceof QC||n instanceof YC)}let zg=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Ua&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function FR(n,e,t){return function Uz(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?kR:xn}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(de(Hn),de(Do),function Nc(n){return function G(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(ps(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Xr(),n)}("tabindex"),de(Pa),de(Es),de(cu))};static#t=this.\u0275dir=rt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ht("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Zo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ih],skipLocationChange:["skipLocationChange","skipLocationChange",Ih],replaceUrl:["replaceUrl","replaceUrl",Ih],routerLink:"routerLink"},standalone:!0,features:[ZP,_s]})}return n})();class GF{}let DY=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ws(t=>t instanceof Ua),Ah(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Cw(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return b(i).pipe(Fr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):V(null);const s=i.pipe(nn(o=>null===o?V(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?b([s,this.loader.loadComponent(r)]).pipe(Fr()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Hn),pe(PO),pe(oo),pe(GF),pe(cT))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lT=new Ie("");let WF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof iE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ua?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Mh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function bP(){throw new Error("invalid")}()};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function ja(n,e){return{\u0275kind:n,\u0275providers:e}}function ZF(){const n=ze(Ei);return e=>{const t=n.get(ou);if(e!==t.components[0])return;const r=n.get(Hn),i=n.get(QF);1===n.get(uT)&&r.initialNavigation(),n.get(YF,null,Dt.Optional)?.setUpPreloading(),n.get(lT,null,Dt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const QF=new Ie("",{factory:()=>new ue}),uT=new Ie("",{providedIn:"root",factory:()=>1}),YF=new Ie("");function PY(n){return ja(0,[{provide:YF,useExisting:DY},{provide:GF,useExisting:n}])}const XF=new Ie("ROUTER_FORROOT_GUARD"),OY=[nC,{provide:Rg,useClass:qC},Hn,Fg,{provide:Do,useFactory:function KF(n){return n.routerState.root},deps:[Hn]},cT,[]];function NY(){return new VO("Router",Hn)}let JF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[OY,[],{provide:Nh,multi:!0,useValue:t},{provide:XF,useFactory:VY,deps:[[Hn,new qr,new kp]]},{provide:pE,useValue:r||{}},r?.useHash?{provide:cu,useClass:T9}:{provide:cu,useClass:gN},{provide:lT,useFactory:()=>{const n=ze(j8),e=ze(Wt),t=ze(pE),r=ze(fE),i=ze(Rg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new WF(i,r,n,e,t)}},r?.preloadingStrategy?PY(r.preloadingStrategy).\u0275providers:[],{provide:VO,multi:!0,useFactory:NY},r?.initialNavigation?UY(r):[],r?.bindToComponentInputs?ja(8,[AF,{provide:cE,useExisting:AF}]).\u0275providers:[],[{provide:eL,useFactory:ZF},{provide:Gw,multi:!0,useExisting:eL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Nh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(pe(XF,8))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({})}return n})();function VY(n){return"guarded"}function UY(n){return["disabled"===n.initialNavigation?ja(3,[{provide:Vw,multi:!0,useFactory:()=>{const e=ze(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:uT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ja(2,[{provide:uT,useValue:0},{provide:Vw,multi:!0,deps:[Ei],useFactory:e=>{const t=e.get(w9,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Hn),s=e.get(QF);HF(i,()=>{r(!0)}),e.get(fE).afterPreactivation=()=>(r(!0),s.closed?V(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const eL=new Ie("");var Er=Ke(303);(0,Er.registerVersion)("firebase","10.12.2","app");const qY=new class HY extends fk{}(class zY extends hk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),$a=new Lc("ANGULARFIRE2_VERSION");function dT(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const gE=(n,e)=>{const t=e?[e]:(0,Er.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Hg{constructor(){return gE(GY)}}const GY="app-check";function kh(){}class tL{zone;delegate;constructor(e,t=qY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class WY{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kh,{},kh,kh)),t.pipe(Wr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mu=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new tL(Zone.current)),this.insideAngular=t.run(()=>new tL(Zone.current,xC)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(pe(Wt))};static \u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _u(n){return Fh().ngZone.run(()=>n())}function nL(n){return n.pipe(bn(Fh().outsideAngular))}function ts(n){return function ZY(n){return function(t){return(t=t.lift(new WY(n.ngZone))).pipe(Dr(n.outsideAngular),bn(n.insideAngular))}}(Fh())(n)}const QY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_u(()=>n.apply(void 0,r))},hT=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=_u(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kh,{},kh,kh))),r[s]=QY(r[s],t));const i=function KY(n){return Fh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof bt){const s=Fh();return i.pipe(Dr(s.outsideAngular),bn(s.insideAngular))}return _u(()=>i)}return i instanceof bt?i.pipe(ts):i instanceof Promise?_u(()=>new Promise((s,o)=>i.then(a=>_u(()=>s(a)),a=>_u(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:_u(()=>i)};var Mo=Ke(106);Mo.Z.registerVersion("firebase","10.12.2","app-compat");const JY=["ngOnDestroy"],rL=(n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(JY.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(f=>{const m=f?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,m),m})})})});class fT{constructor(e){return e}}const qg=new Ie("angularfire2.app.options"),Gg=new Ie("angularfire2.app.name");function mE(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Mo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Mo.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;eX("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new fT(o)}const eX=(n,...e)=>{},tX={provide:fT,useFactory:mE,deps:[qg,Wt,[new qr,Gg]]};let nX=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:qg,useValue:t},{provide:Gg,useValue:r}]}}constructor(t){Mo.Z.registerVersion("angularfire",$a.full,"core"),Mo.Z.registerVersion("angularfire",$a.full,"app-compat"),Mo.Z.registerVersion("angular",F0.full,t.toString())}static \u0275fac=function(r){return new(r||n)(pe(ks))};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[tX]})}return n})();function _E(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function rX(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(sL("error",`${e} was already initialized on the ${t} Firebase App with different settings.${iX?" You may need to reload as Firebase is not HMR aware.":""}`),sL("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const iX=typeof module<"u"&&!!module.hot,sL=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ke(365);class sX extends ue{constructor(e=1/0,t=1/0,r=PC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function pT(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,fe({connector:()=>new sX(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function oL(n,e){return O(e)?He(()=>n,e):He(()=>n)}const aL=new Ie("angularfire2.auth.use-emulator"),cL=new Ie("angularfire2.auth.settings"),lL=new Ie("angularfire2.auth.tenant-id"),uL=new Ie("angularfire2.auth.langugage-code"),dL=new Ie("angularfire2.auth.use-device-language"),hL=new Ie("angularfire.auth.persistence"),fL=(n,e,t,r,i,s,o,a)=>_E(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[l,f]of Object.entries(o))c.settings[l]=f;return a&&c.setPersistence(a),c},[t,r,i,s,o,a]);let yE=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,c,l,f,m,y,I){const T=new ue,F=V(void 0).pipe(bn(o.outsideAngular),He(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ke.bind(Ke,365)))),De(()=>mE(t,s,r)),De(L=>fL(L,s,a,l,f,m,c,y)),pT({bufferSize:1,refCount:!1}));if(kv(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{F.pipe(Zc()).subscribe();const L=F.pipe(He(X=>X.getRedirectResult().then(ae=>ae,()=>null)),ts,pT({bufferSize:1,refCount:!1})),W=F.pipe(He(X=>new bt(ae=>({unsubscribe:s.runOutsideAngular(()=>X.onAuthStateChanged(Se=>ae.next(Se),Se=>ae.error(Se),()=>ae.complete()))})))),z=F.pipe(He(X=>new bt(ae=>({unsubscribe:s.runOutsideAngular(()=>X.onIdTokenChanged(Se=>ae.next(Se),Se=>ae.error(Se),()=>ae.complete()))}))));this.authState=L.pipe(oL(W),Dr(o.outsideAngular),bn(o.insideAngular)),this.user=L.pipe(oL(z),Dr(o.outsideAngular),bn(o.insideAngular)),this.idToken=this.user.pipe(He(X=>X?b(X.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(He(X=>X?b(X.getIdTokenResult()):V(null))),this.credential=S(L,T,this.authState.pipe(ws(X=>!X))).pipe(De(X=>X?.user?X:null),Dr(o.outsideAngular),bn(o.insideAngular))}return rL(this,F,s,{spy:{apply:(L,W,z)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&z.then(X=>T.next(X))}}})}static \u0275fac=function(r){return new(r||n)(pe(qg),pe(Gg,8),pe(ks),pe(Wt),pe(mu),pe(aL,8),pe(cL,8),pe(lL,8),pe(uL,8),pe(dL,8),pe(hL,8),pe(Hg,8))};static \u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),aX=(()=>{class n{constructor(){Mo.Z.registerVersion("angularfire",$a.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[yE]})}return n})();function gT(){return ce((n,e)=>{let t,r=!1;n.subscribe(Oe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var yu,mL,_e=Ke(861),vE=Ke(537),ta=Ke(879),Rt=Ke(58),pL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gL={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(q,B,$){$||($=0);var K=Array(16);if("string"==typeof B)for(var Y=0;16>Y;++Y)K[Y]=B.charCodeAt($++)|B.charCodeAt($++)<<8|B.charCodeAt($++)<<16|B.charCodeAt($++)<<24;else for(Y=0;16>Y;++Y)K[Y]=B[$++]|B[$++]<<8|B[$++]<<16|B[$++]<<24;var re=q.g[3],H=(B=q.g[0])+(re^($=q.g[1])&((Y=q.g[2])^re))+K[0]+3614090360&4294967295;H=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=($=(Y=(re=(B=$+(H<<7&4294967295|H>>>25))+((H=re+(Y^B&($^Y))+K[1]+3905402710&4294967295)<<12&4294967295|H>>>20))+((H=Y+($^re&(B^$))+K[2]+606105819&4294967295)<<17&4294967295|H>>>15))+((H=$+(B^Y&(re^B))+K[3]+3250441966&4294967295)<<22&4294967295|H>>>10))+((H=B+(re^$&(Y^re))+K[4]+4118548399&4294967295)<<7&4294967295|H>>>25))+((H=re+(Y^B&($^Y))+K[5]+1200080426&4294967295)<<12&4294967295|H>>>20))+((H=Y+($^re&(B^$))+K[6]+2821735955&4294967295)<<17&4294967295|H>>>15))+((H=$+(B^Y&(re^B))+K[7]+4249261313&4294967295)<<22&4294967295|H>>>10))+((H=B+(re^$&(Y^re))+K[8]+1770035416&4294967295)<<7&4294967295|H>>>25))+((H=re+(Y^B&($^Y))+K[9]+2336552879&4294967295)<<12&4294967295|H>>>20))+((H=Y+($^re&(B^$))+K[10]+4294925233&4294967295)<<17&4294967295|H>>>15))+((H=$+(B^Y&(re^B))+K[11]+2304563134&4294967295)<<22&4294967295|H>>>10))+((H=B+(re^$&(Y^re))+K[12]+1804603682&4294967295)<<7&4294967295|H>>>25))+((H=re+(Y^B&($^Y))+K[13]+4254626195&4294967295)<<12&4294967295|H>>>20))+((H=Y+($^re&(B^$))+K[14]+2792965006&4294967295)<<17&4294967295|H>>>15))+((H=$+(B^Y&(re^B))+K[15]+1236535329&4294967295)<<22&4294967295|H>>>10))+((H=B+(Y^re&($^Y))+K[1]+4129170786&4294967295)<<5&4294967295|H>>>27))+((H=re+($^Y&(B^$))+K[6]+3225465664&4294967295)<<9&4294967295|H>>>23))+((H=Y+(B^$&(re^B))+K[11]+643717713&4294967295)<<14&4294967295|H>>>18))+((H=$+(re^B&(Y^re))+K[0]+3921069994&4294967295)<<20&4294967295|H>>>12))+((H=B+(Y^re&($^Y))+K[5]+3593408605&4294967295)<<5&4294967295|H>>>27))+((H=re+($^Y&(B^$))+K[10]+38016083&4294967295)<<9&4294967295|H>>>23))+((H=Y+(B^$&(re^B))+K[15]+3634488961&4294967295)<<14&4294967295|H>>>18))+((H=$+(re^B&(Y^re))+K[4]+3889429448&4294967295)<<20&4294967295|H>>>12))+((H=B+(Y^re&($^Y))+K[9]+568446438&4294967295)<<5&4294967295|H>>>27))+((H=re+($^Y&(B^$))+K[14]+3275163606&4294967295)<<9&4294967295|H>>>23))+((H=Y+(B^$&(re^B))+K[3]+4107603335&4294967295)<<14&4294967295|H>>>18))+((H=$+(re^B&(Y^re))+K[8]+1163531501&4294967295)<<20&4294967295|H>>>12))+((H=B+(Y^re&($^Y))+K[13]+2850285829&4294967295)<<5&4294967295|H>>>27))+((H=re+($^Y&(B^$))+K[2]+4243563512&4294967295)<<9&4294967295|H>>>23))+((H=Y+(B^$&(re^B))+K[7]+1735328473&4294967295)<<14&4294967295|H>>>18))+((H=$+(re^B&(Y^re))+K[12]+2368359562&4294967295)<<20&4294967295|H>>>12))+((H=B+($^Y^re)+K[5]+4294588738&4294967295)<<4&4294967295|H>>>28))+((H=re+(B^$^Y)+K[8]+2272392833&4294967295)<<11&4294967295|H>>>21))+((H=Y+(re^B^$)+K[11]+1839030562&4294967295)<<16&4294967295|H>>>16))+((H=$+(Y^re^B)+K[14]+4259657740&4294967295)<<23&4294967295|H>>>9))+((H=B+($^Y^re)+K[1]+2763975236&4294967295)<<4&4294967295|H>>>28))+((H=re+(B^$^Y)+K[4]+1272893353&4294967295)<<11&4294967295|H>>>21))+((H=Y+(re^B^$)+K[7]+4139469664&4294967295)<<16&4294967295|H>>>16))+((H=$+(Y^re^B)+K[10]+3200236656&4294967295)<<23&4294967295|H>>>9))+((H=B+($^Y^re)+K[13]+681279174&4294967295)<<4&4294967295|H>>>28))+((H=re+(B^$^Y)+K[0]+3936430074&4294967295)<<11&4294967295|H>>>21))+((H=Y+(re^B^$)+K[3]+3572445317&4294967295)<<16&4294967295|H>>>16))+((H=$+(Y^re^B)+K[6]+76029189&4294967295)<<23&4294967295|H>>>9))+((H=B+($^Y^re)+K[9]+3654602809&4294967295)<<4&4294967295|H>>>28))+((H=re+(B^$^Y)+K[12]+3873151461&4294967295)<<11&4294967295|H>>>21))+((H=Y+(re^B^$)+K[15]+530742520&4294967295)<<16&4294967295|H>>>16))+((H=$+(Y^re^B)+K[2]+3299628645&4294967295)<<23&4294967295|H>>>9))+((H=B+(Y^($|~re))+K[0]+4096336452&4294967295)<<6&4294967295|H>>>26))+((H=re+($^(B|~Y))+K[7]+1126891415&4294967295)<<10&4294967295|H>>>22))+((H=Y+(B^(re|~$))+K[14]+2878612391&4294967295)<<15&4294967295|H>>>17))+((H=$+(re^(Y|~B))+K[5]+4237533241&4294967295)<<21&4294967295|H>>>11))+((H=B+(Y^($|~re))+K[12]+1700485571&4294967295)<<6&4294967295|H>>>26))+((H=re+($^(B|~Y))+K[3]+2399980690&4294967295)<<10&4294967295|H>>>22))+((H=Y+(B^(re|~$))+K[10]+4293915773&4294967295)<<15&4294967295|H>>>17))+((H=$+(re^(Y|~B))+K[1]+2240044497&4294967295)<<21&4294967295|H>>>11))+((H=B+(Y^($|~re))+K[8]+1873313359&4294967295)<<6&4294967295|H>>>26))+((H=re+($^(B|~Y))+K[15]+4264355552&4294967295)<<10&4294967295|H>>>22))+((H=Y+(B^(re|~$))+K[6]+2734768916&4294967295)<<15&4294967295|H>>>17))+((H=$+(re^(Y|~B))+K[13]+1309151649&4294967295)<<21&4294967295|H>>>11))+((re=(B=$+((H=B+(Y^($|~re))+K[4]+4149444226&4294967295)<<6&4294967295|H>>>26))+((H=re+($^(B|~Y))+K[11]+3174756917&4294967295)<<10&4294967295|H>>>22))^((Y=re+((H=Y+(B^(re|~$))+K[2]+718787259&4294967295)<<15&4294967295|H>>>17))|~B))+K[9]+3951481745&4294967295,q.g[0]=q.g[0]+B&4294967295,q.g[1]=q.g[1]+(Y+(H<<21&4294967295|H>>>11))&4294967295,q.g[2]=q.g[2]+Y&4294967295,q.g[3]=q.g[3]+re&4294967295}function o(q,B){this.h=B;for(var $=[],K=!0,Y=q.length-1;0<=Y;Y--){var re=0|q[Y];K&&re==B||($[Y]=re,K=!1)}this.g=$}(function e(q,B){function $(){}$.prototype=B.prototype,q.D=B.prototype,q.prototype=new $,q.prototype.constructor=q,q.C=function(K,Y,re){for(var H=Array(arguments.length-2),fo=2;fo<arguments.length;fo++)H[fo-2]=arguments[fo];return B.prototype[Y].apply(K,H)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(q,B){void 0===B&&(B=q.length);for(var $=B-this.blockSize,K=this.B,Y=this.h,re=0;re<B;){if(0==Y)for(;re<=$;)i(this,q,re),re+=this.blockSize;if("string"==typeof q){for(;re<B;)if(K[Y++]=q.charCodeAt(re++),Y==this.blockSize){i(this,K),Y=0;break}}else for(;re<B;)if(K[Y++]=q[re++],Y==this.blockSize){i(this,K),Y=0;break}}this.h=Y,this.o+=B},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var B=1;B<q.length-8;++B)q[B]=0;var $=8*this.o;for(B=q.length-8;B<q.length;++B)q[B]=255&$,$/=256;for(this.u(q),q=Array(16),B=$=0;4>B;++B)for(var K=0;32>K;K+=8)q[$++]=this.g[B]>>>K&255;return q};var a={};function c(q){return-128<=q&&128>q?function s(q,B){var $=a;return Object.prototype.hasOwnProperty.call($,q)?$[q]:$[q]=B(q)}(q,function(B){return new o([0|B],0>B?-1:0)}):new o([0|q],0>q?-1:0)}function l(q){if(isNaN(q)||!isFinite(q))return m;if(0>q)return L(l(-q));for(var B=[],$=1,K=0;q>=$;K++)B[K]=q/$|0,$*=4294967296;return new o(B,0)}var m=c(0),y=c(1),I=c(16777216);function T(q){if(0!=q.h)return!1;for(var B=0;B<q.g.length;B++)if(0!=q.g[B])return!1;return!0}function F(q){return-1==q.h}function L(q){for(var B=q.g.length,$=[],K=0;K<B;K++)$[K]=~q.g[K];return new o($,~q.h).add(y)}function W(q,B){return q.add(L(B))}function z(q,B){for(;(65535&q[B])!=q[B];)q[B+1]+=q[B]>>>16,q[B]&=65535,B++}function X(q,B){this.g=q,this.h=B}function ae(q,B){if(T(B))throw Error("division by zero");if(T(q))return new X(m,m);if(F(q))return B=ae(L(q),B),new X(L(B.g),L(B.h));if(F(B))return B=ae(q,L(B)),new X(L(B.g),B.h);if(30<q.g.length){if(F(q)||F(B))throw Error("slowDivide_ only works with positive integers.");for(var $=y,K=B;0>=K.l(q);)$=Se($),K=Se(K);var Y=$e($,1),re=$e(K,1);for(K=$e(K,2),$=$e($,2);!T(K);){var H=re.add(K);0>=H.l(q)&&(Y=Y.add($),re=H),K=$e(K,1),$=$e($,1)}return B=W(q,Y.j(B)),new X(Y,B)}for(Y=m;0<=q.l(B);){for($=Math.max(1,Math.floor(q.m()/B.m())),K=48>=(K=Math.ceil(Math.log($)/Math.LN2))?1:Math.pow(2,K-48),H=(re=l($)).j(B);F(H)||0<H.l(q);)H=(re=l($-=K)).j(B);T(re)&&(re=y),Y=Y.add(re),q=W(q,H)}return new X(Y,q)}function Se(q){for(var B=q.g.length+1,$=[],K=0;K<B;K++)$[K]=q.i(K)<<1|q.i(K-1)>>>31;return new o($,q.h)}function $e(q,B){var $=B>>5;B%=32;for(var K=q.g.length-$,Y=[],re=0;re<K;re++)Y[re]=0<B?q.i(re+$)>>>B|q.i(re+$+1)<<32-B:q.i(re+$);return new o(Y,q.h)}(n=o.prototype).m=function(){if(F(this))return-L(this).m();for(var q=0,B=1,$=0;$<this.g.length;$++){var K=this.i($);q+=(0<=K?K:4294967296+K)*B,B*=4294967296}return q},n.toString=function(q){if(2>(q=q||10)||36<q)throw Error("radix out of range: "+q);if(T(this))return"0";if(F(this))return"-"+L(this).toString(q);for(var B=l(Math.pow(q,6)),$=this,K="";;){var Y=ae($,B).g,re=((0<($=W($,Y.j(B))).g.length?$.g[0]:$.h)>>>0).toString(q);if(T($=Y))return re+K;for(;6>re.length;)re="0"+re;K=re+K}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h},n.l=function(q){return F(q=W(this,q))?-1:T(q)?0:1},n.abs=function(){return F(this)?L(this):this},n.add=function(q){for(var B=Math.max(this.g.length,q.g.length),$=[],K=0,Y=0;Y<=B;Y++){var re=K+(65535&this.i(Y))+(65535&q.i(Y)),H=(re>>>16)+(this.i(Y)>>>16)+(q.i(Y)>>>16);K=H>>>16,$[Y]=(H&=65535)<<16|(re&=65535)}return new o($,-2147483648&$[$.length-1]?-1:0)},n.j=function(q){if(T(this)||T(q))return m;if(F(this))return F(q)?L(this).j(L(q)):L(L(this).j(q));if(F(q))return L(this.j(L(q)));if(0>this.l(I)&&0>q.l(I))return l(this.m()*q.m());for(var B=this.g.length+q.g.length,$=[],K=0;K<2*B;K++)$[K]=0;for(K=0;K<this.g.length;K++)for(var Y=0;Y<q.g.length;Y++){var re=this.i(K)>>>16,H=65535&this.i(K),fo=q.i(Y)>>>16,Cl=65535&q.i(Y);$[2*K+2*Y]+=H*Cl,z($,2*K+2*Y),$[2*K+2*Y+1]+=re*Cl,z($,2*K+2*Y+1),$[2*K+2*Y+1]+=H*fo,z($,2*K+2*Y+1),$[2*K+2*Y+2]+=re*fo,z($,2*K+2*Y+2)}for(K=0;K<B;K++)$[K]=$[2*K+1]<<16|$[2*K];for(K=B;K<2*B;K++)$[K]=0;return new o($,0)},n.A=function(q){return ae(this,q).h},n.and=function(q){for(var B=Math.max(this.g.length,q.g.length),$=[],K=0;K<B;K++)$[K]=this.i(K)&q.i(K);return new o($,this.h&q.h)},n.or=function(q){for(var B=Math.max(this.g.length,q.g.length),$=[],K=0;K<B;K++)$[K]=this.i(K)|q.i(K);return new o($,this.h|q.h)},n.xor=function(q){for(var B=Math.max(this.g.length,q.g.length),$=[],K=0;K<B;K++)$[K]=this.i(K)^q.i(K);return new o($,this.h^q.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mL=gL.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function f(q,B){if(0==q.length)throw Error("number format error: empty string");if(2>(B=B||10)||36<B)throw Error("radix out of range: "+B);if("-"==q.charAt(0))return L(f(q.substring(1),B));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=l(Math.pow(B,8)),K=m,Y=0;Y<q.length;Y+=8){var re=Math.min(8,q.length-Y),H=parseInt(q.substring(Y,Y+re),B);8>re?(re=l(Math.pow(B,re)),K=K.j(re).add(l(H))):K=(K=K.j($)).add(l(H))}return K},yu=gL.Integer=o}).apply(typeof pL<"u"?pL:typeof self<"u"?self:typeof window<"u"?window:{});var _L,yL,Wg,vL,IE,mT,EL,IL,bL,EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},za={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,_,E){return h==Array.prototype||h==Object.prototype||(h[_]=E.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof EE&&EE];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}(this);!function i(h,_){if(_)e:{var E=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var J=h[x];if(!(J in E))break e;E=E[J]}(_=_(x=E[h=h[h.length-1]]))!=x&&null!=_&&e(E,h,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(h){return h||function(){return function s(h,_){h instanceof String&&(h+="");var E=0,x=!1,J={next:function(){if(!x&&E<h.length){var ge=E++;return{value:_(ge,h[ge]),done:!1}}return x=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}(this,function(_,E){return E})}});var o=o||{},a=this||self;function c(h){var _=typeof h;return"array"==(_="object"!=_?_:h?Array.isArray(h)?"array":_:"null")||"object"==_&&"number"==typeof h.length}function l(h){var _=typeof h;return"object"==_&&null!=h||"function"==_}function f(h,_,E){return h.call.apply(h.bind,arguments)}function m(h,_,E){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,x),h.apply(_,J)}}return function(){return h.apply(_,arguments)}}function y(h,_,E){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:m).apply(null,arguments)}function I(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function T(h,_){function E(){}E.prototype=_.prototype,h.aa=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(x,J,ge){for(var Be=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)Be[Ln-2]=arguments[Ln];return _.prototype[J].apply(x,Be)}}function F(h){const _=h.length;if(0<_){const E=Array(_);for(let x=0;x<_;x++)E[x]=h[x];return E}return[]}function L(h,_){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(c(x)){const J=h.length||0,ge=x.length||0;h.length=J+ge;for(let Be=0;Be<ge;Be++)h[J+Be]=x[Be]}else h.push(x)}}function z(h){return/^[\s\xa0]*$/.test(h)}function X(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var Se=!(-1==X().indexOf("Gecko")||-1!=X().toLowerCase().indexOf("webkit")&&-1==X().indexOf("Edge")||-1!=X().indexOf("Trident")||-1!=X().indexOf("MSIE")||-1!=X().indexOf("Edge"));function $e(h,_,E){for(const x in h)_.call(E,h[x],x,h)}function B(h){const _={};for(const E in h)_[E]=h[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(h,_){let E,x;for(let J=1;J<arguments.length;J++){for(E in x=arguments[J],x)h[E]=x[E];for(let ge=0;ge<$.length;ge++)E=$[ge],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function Y(h){var _=1;h=h.split(":");const E=[];for(;0<_&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function re(h){a.setTimeout(()=>{throw h},0)}function H(){var h=Qt;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}var Cl=new class W{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new et,h=>h.reset());class et{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,dt=!1,Qt=new class fo{constructor(){this.h=this.g=null}add(_,E){const x=Cl.get();x.set(_,E),this.h?this.h.next=x:this.g=x,this.h=x}},kr=()=>{const h=a.Promise.resolve(void 0);lt=()=>{h.then(po)}};var po=()=>{for(var h;h=H();){try{h.h.call(h.g)}catch(E){re(E)}var _=Cl;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}dt=!1};function br(){this.s=this.s,this.C=this.C}function er(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}br.prototype.s=!1,br.prototype.ma=function(){this.s||(this.s=!0,this.N())},br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},er.prototype.h=function(){this.defaultPrevented=!0};var tr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};a.addEventListener("test",E,_),a.removeEventListener("test",E,_)}catch{}return h}();function Tl(h,_){if(er.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(Se){e:{try{ae(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else"mouseover"==E?_=h.fromElement:"mouseout"==E&&(_=h.toElement);this.relatedTarget=_,x?(this.clientX=void 0!==x.clientX?x.clientX:x.pageX,this.clientY=void 0!==x.clientY?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:QS[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Tl.aa.h.call(this)}}T(Tl,er);var QS={2:"touch",3:"pen",4:"mouse"};Tl.prototype.h=function(){Tl.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var wr="closure_listenable_"+(1e6*Math.random()|0),rc=0;function Ds(h,_,E,x,J){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!x,this.ha=J,this.key=++rc,this.da=this.fa=!1}function ic(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Al(h){this.src=h,this.g={},this.h=0}function YS(h,_){var E=_.type;if(E in h.g){var ge,x=h.g[E],J=Array.prototype.indexOf.call(x,_,void 0);(ge=0<=J)&&Array.prototype.splice.call(x,J,1),ge&&(ic(_),0==h.g[E].length&&(delete h.g[E],h.h--))}}function XS(h,_,E,x){for(var J=0;J<h.length;++J){var ge=h[J];if(!ge.da&&ge.listener==_&&ge.capture==!!E&&ge.ha==x)return J}return-1}Al.prototype.add=function(h,_,E,x,J){var ge=h.toString();(h=this.g[ge])||(h=this.g[ge]=[],this.h++);var Be=XS(h,_,x,J);return-1<Be?(_=h[Be],E||(_.fa=!1)):((_=new Ds(_,this.src,ge,!!x,J)).fa=E,h.push(_)),_};var JS="closure_lm_"+(1e6*Math.random()|0),eM={};function e3(h,_,E,x,J){if(x&&x.once)return n3(h,_,E,x,J);if(Array.isArray(_)){for(var ge=0;ge<_.length;ge++)e3(h,_[ge],E,x,J);return null}return E=iM(E),h&&h[wr]?h.K(_,E,l(x)?!!x.capture:!!x,J):t3(h,_,E,!1,x,J)}function t3(h,_,E,x,J,ge){if(!_)throw Error("Invalid event type");var Be=l(J)?!!J.capture:!!J,Ln=nM(h);if(Ln||(h[JS]=Ln=new Al(h)),(E=Ln.add(_,E,x,Be,ge)).proxy)return E;if(x=function Yce(){const _=Xce;return function h(E){return _.call(h.src,h.listener,E)}}(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)tr||(J=Be),void 0===J&&(J=!1),h.addEventListener(_.toString(),x,J);else if(h.attachEvent)h.attachEvent(s3(_.toString()),x);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(x)}return E}function n3(h,_,E,x,J){if(Array.isArray(_)){for(var ge=0;ge<_.length;ge++)n3(h,_[ge],E,x,J);return null}return E=iM(E),h&&h[wr]?h.L(_,E,l(x)?!!x.capture:!!x,J):t3(h,_,E,!0,x,J)}function r3(h,_,E,x,J){if(Array.isArray(_))for(var ge=0;ge<_.length;ge++)r3(h,_[ge],E,x,J);else x=l(x)?!!x.capture:!!x,E=iM(E),h&&h[wr]?(h=h.i,(_=String(_).toString())in h.g&&-1<(E=XS(ge=h.g[_],E,x,J))&&(ic(ge[E]),Array.prototype.splice.call(ge,E,1),0==ge.length&&(delete h.g[_],h.h--))):h&&(h=nM(h))&&(_=h.g[_.toString()],h=-1,_&&(h=XS(_,E,x,J)),(E=-1<h?_[h]:null)&&tM(E))}function tM(h){if("number"!=typeof h&&h&&!h.da){var _=h.src;if(_&&_[wr])YS(_.i,h);else{var E=h.type,x=h.proxy;_.removeEventListener?_.removeEventListener(E,x,h.capture):_.detachEvent?_.detachEvent(s3(E),x):_.addListener&&_.removeListener&&_.removeListener(x),(E=nM(_))?(YS(E,h),0==E.h&&(E.src=null,_[JS]=null)):ic(h)}}}function s3(h){return h in eM?eM[h]:eM[h]="on"+h}function Xce(h,_){if(h.da)h=!0;else{_=new Tl(_,this);var E=h.listener,x=h.ha||h.src;h.fa&&tM(h),h=E.call(x,_)}return h}function nM(h){return(h=h[JS])instanceof Al?h:null}var rM="__closure_events_fn_"+(1e9*Math.random()>>>0);function iM(h){return"function"==typeof h?h:(h[rM]||(h[rM]=function(_){return h.handleEvent(_)}),h[rM])}function ji(){br.call(this),this.i=new Al(this),this.M=this,this.F=null}function as(h,_){var E,x=h.F;if(x)for(E=[];x;x=x.F)E.push(x);if(h=h.M,x=_.type||_,"string"==typeof _)_=new er(_,h);else if(_ instanceof er)_.target=_.target||h;else{var J=_;K(_=new er(x,h),J)}if(J=!0,E)for(var ge=E.length-1;0<=ge;ge--){var Be=_.g=E[ge];J=tb(Be,x,!0,_)&&J}if(J=tb(Be=_.g=h,x,!0,_)&&J,J=tb(Be,x,!1,_)&&J,E)for(ge=0;ge<E.length;ge++)J=tb(Be=_.g=E[ge],x,!1,_)&&J}function tb(h,_,E,x){if(!(_=h.i.g[String(_)]))return!0;_=_.concat();for(var J=!0,ge=0;ge<_.length;++ge){var Be=_[ge];if(Be&&!Be.da&&Be.capture==E){var Ln=Be.listener,Ci=Be.ha||Be.src;Be.fa&&YS(h.i,Be),J=!1!==Ln.call(Ci,x)&&J}}return J&&!x.defaultPrevented}function o3(h,_,E){if("function"==typeof h)E&&(h=y(h,E));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=y(h.handleEvent,h)}return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function a3(h){h.g=o3(()=>{h.g=null,h.i&&(h.i=!1,a3(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}T(ji,br),ji.prototype[wr]=!0,ji.prototype.removeEventListener=function(h,_,E,x){r3(this,h,_,E,x)},ji.prototype.N=function(){if(ji.aa.N.call(this),this.i){var _,h=this.i;for(_ in h.g){for(var E=h.g[_],x=0;x<E.length;x++)ic(E[x]);delete h.g[_],h.h--}}this.F=null},ji.prototype.K=function(h,_,E,x){return this.i.add(String(h),_,!1,E,x)},ji.prototype.L=function(h,_,E,x){return this.i.add(String(h),_,!0,E,x)};class Jce extends br{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:a3(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function i_(h){br.call(this),this.h=h,this.g={}}T(i_,br);var c3=[];function l3(h){$e(h.g,function(_,E){this.g.hasOwnProperty(E)&&tM(_)},h),h.g={}}i_.prototype.N=function(){i_.aa.N.call(this),l3(this)},i_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sM=a.JSON.stringify,ele=a.JSON.parse,tle=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function oM(){}function d3(){}oM.prototype.h=null;var s_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function aM(){er.call(this,"d")}function cM(){er.call(this,"c")}T(aM,er),T(cM,er);var Zu={},h3=null;function nb(){return h3=h3||new ji}function f3(h){er.call(this,Zu.La,h)}function o_(h){const _=nb();as(_,new f3(_))}function p3(h,_){er.call(this,Zu.STAT_EVENT,h),this.stat=_}function cs(h){const _=nb();as(_,new p3(_,h))}function g3(h,_){er.call(this,Zu.Ma,h),this.size=_}function a_(h,_){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function c_(){this.g=!0}function Of(h,_,E,x){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+function sle(h,_){if(!h.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E)for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var x=E[h];if(!(2>x.length)){var J=x[1];if(Array.isArray(J)&&!(1>J.length)){var ge=J[0];if("noop"!=ge&&"stop"!=ge&&"close"!=ge)for(var Be=1;Be<J.length;Be++)J[Be]=""}}}return sM(E)}catch{return _}}(h,E)+(x?" "+x:"")})}Zu.La="serverreachability",T(f3,er),Zu.STAT_EVENT="statevent",T(p3,er),Zu.Ma="timingevent",T(g3,er),c_.prototype.xa=function(){this.g=!1},c_.prototype.info=function(){};var lM,rb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},m3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ib(){}function Dl(h,_,E,x){this.j=h,this.i=_,this.l=E,this.R=x||1,this.U=new i_(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _3}function _3(){this.i=null,this.g="",this.h=!1}T(ib,oM),ib.prototype.g=function(){return new XMLHttpRequest},ib.prototype.i=function(){return{}},lM=new ib;var y3={},uM={};function dM(h,_,E){h.L=1,h.v=cb(sc(_)),h.m=E,h.P=!0,v3(h,null)}function v3(h,_){h.F=Date.now(),sb(h),h.A=sc(h.v);var E=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),O3(E.i,"t",x),h.C=0,E=h.j.J,h.h=new _3,h.g=Y3(h.j,E?_:null,!h.m),0<h.O&&(h.M=new Jce(y(h.Y,h,h.g),h.O)),_=h.U,E=h.g,x=h.ca;var J="readystatechange";Array.isArray(J)||(J&&(c3[0]=J.toString()),J=c3);for(var ge=0;ge<J.length;ge++){var Be=e3(E,J[ge],x||_.handleEvent,!1,_.h||_);if(!Be)break;_.g[Be.key]=Be}_=h.H?B(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),o_(),function nle(h,_,E,x,J,ge){h.info(function(){if(h.g)if(ge)for(var Be="",Ln=ge.split("&"),Ci=0;Ci<Ln.length;Ci++){var dn=Ln[Ci].split("=");if(1<dn.length){var $i=dn[0];dn=dn[1];var zi=$i.split("_");Be=2<=zi.length&&"type"==zi[1]?Be+($i+"=")+dn+"&":Be+($i+"=redacted&")}}else Be=null;else Be=ge;return"XMLHTTP REQ ("+x+") [attempt "+J+"]: "+_+"\n"+E+"\n"+Be})}(h.i,h.u,h.A,h.l,h.R,h.m)}function E3(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function ole(h,_){var E=h.C,x=_.indexOf("\n",E);return-1==x?uM:(E=Number(_.substring(E,x)),isNaN(E)?y3:(x+=1)+E>_.length?uM:(_=_.slice(x,x+E),h.C=x+E,_))}function sb(h){h.S=Date.now()+h.I,I3(h,h.I)}function I3(h,_){if(null!=h.B)throw Error("WatchDog timer not null");h.B=a_(y(h.ba,h),_)}function hM(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function l_(h){0==h.j.G||h.J||W3(h.j,h)}function Qu(h){hM(h);var _=h.M;_&&"function"==typeof _.ma&&_.ma(),h.M=null,l3(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function fM(h,_){try{var E=h.j;if(0!=E.G&&(E.g==h||pM(E.h,h)))if(!h.K&&pM(E.h,h)&&3==E.G){try{var x=E.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&3==x.length){var J=x;if(0==J[0]){e:if(!E.u){if(E.g){if(!(E.g.F+3e3<h.F))break e;fb(E),db(E)}yM(E),cs(18)}}else E.za=J[1],0<E.za-E.T&&37500>J[2]&&E.F&&0==E.v&&!E.C&&(E.C=a_(y(E.Za,E),6e3));if(1>=C3(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xu(E,11)}else if((h.K||E.g==h)&&fb(E),!z(_))for(J=E.Da.g.parse(_),_=0;_<J.length;_++){let dn=J[_];if(E.T=dn[0],dn=dn[1],2==E.G)if("c"==dn[0]){E.K=dn[1],E.ia=dn[2];const $i=dn[3];null!=$i&&(E.la=$i,E.j.info("VER="+E.la));const zi=dn[4];null!=zi&&(E.Aa=zi,E.j.info("SVER="+E.Aa));const Ff=dn[5];null!=Ff&&"number"==typeof Ff&&0<Ff&&(E.L=x=1.5*Ff,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const xo=h.g;if(xo){const gb=xo.g?xo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gb){var ge=x.h;ge.g||-1==gb.indexOf("spdy")&&-1==gb.indexOf("quic")&&-1==gb.indexOf("h2")||(ge.j=ge.l,ge.g=new Set,ge.h&&(gM(ge,ge.h),ge.h=null))}if(x.D){const EM=xo.g?xo.g.getResponseHeader("X-HTTP-Session-Id"):null;EM&&(x.ya=EM,nr(x.I,x.D,EM))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms"));var Be=h;if((x=E).qa=Q3(x,x.J?x.ia:null,x.W),Be.K){T3(x.h,Be);var Ln=Be,Ci=x.L;Ci&&(Ln.I=Ci),Ln.B&&(hM(Ln),sb(Ln)),x.g=Be}else q3(x);0<E.i.length&&hb(E)}else"stop"!=dn[0]&&"close"!=dn[0]||Xu(E,7);else 3==E.G&&("stop"==dn[0]||"close"==dn[0]?"stop"==dn[0]?Xu(E,7):_M(E):"noop"!=dn[0]&&E.l&&E.l.ta(dn),E.v=0)}o_()}catch{}}function b3(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w3(h){return!!h.h||!!h.g&&h.g.size>=h.j}function C3(h){return h.h?1:h.g?h.g.size:0}function pM(h,_){return h.h?h.h==_:!!h.g&&h.g.has(_)}function gM(h,_){h.g?h.g.add(_):h.h=_}function T3(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}function A3(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let _=h.i;for(const E of h.g.values())_=_.concat(E.D);return _}return F(h.i)}function D3(h,_){if(h.forEach&&"function"==typeof h.forEach)h.forEach(_,void 0);else if(c(h)||"string"==typeof h)Array.prototype.forEach.call(h,_,void 0);else for(var E=function lle(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||"string"==typeof h){var _=[];h=h.length;for(var E=0;E<h;E++)_.push(E);return _}_=[],E=0;for(const x in h)_[E++]=x;return _}}}(h),x=function cle(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(c(h)){for(var _=[],E=h.length,x=0;x<E;x++)_.push(h[x]);return _}for(x in _=[],E=0,h)_[E++]=h[x];return _}(h),J=x.length,ge=0;ge<J;ge++)_.call(void 0,x[ge],E&&E[ge],h)}Dl.prototype.ca=function(h){h=h.target;const _=this.M;_&&3==oc(h)?_.j():this.Y(h)},Dl.prototype.Y=function(h){try{if(h==this.g)e:{const zi=oc(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>zi)&&(3!=zi||this.g&&(this.h.h||this.g.oa()||B3(this.g)))){this.J||4!=zi||7==_||o_(),hM(this);var E=this.g.Z();this.X=E;t:if(E3(this)){var x=B3(this.g);h="";var J=x.length,ge=4==oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qu(this),l_(this);var Be="";break t}this.h.i=new a.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,h+=this.h.i.decode(x[_],{stream:!(ge&&_==J-1)});x.length=0,this.h.g+=h,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=200==E,function rle(h,_,E,x,J,ge,Be){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+J+"]: "+_+"\n"+E+"\n"+ge+" "+Be})}(this.i,this.u,this.A,this.l,this.R,zi,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ln,Ci=this.g;if((Ln=Ci.g?Ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ln)){var dn=Ln;break t}}dn=null}if(!(E=dn)){this.o=!1,this.s=3,cs(12),Qu(this),l_(this);break e}Of(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fM(this,E)}if(this.P){let xo;for(E=!0;!this.J&&this.C<Be.length;){if(xo=ole(this,Be),xo==uM){4==zi&&(this.s=4,cs(14),E=!1),Of(this.i,this.l,null,"[Incomplete Response]");break}if(xo==y3){this.s=4,cs(15),Of(this.i,this.l,Be,"[Invalid Chunk]"),E=!1;break}Of(this.i,this.l,xo,null),fM(this,xo)}if(E3(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=zi||0!=Be.length||this.h.h||(this.s=1,cs(16),E=!1),this.o=this.o&&E,E){if(0<Be.length&&!this.W){this.W=!0;var $i=this.j;$i.g==this&&$i.ba&&!$i.M&&($i.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),vM($i),$i.M=!0,cs(11))}}else Of(this.i,this.l,Be,"[Invalid Chunked Response]"),Qu(this),l_(this)}else Of(this.i,this.l,Be,null),fM(this,Be);4==zi&&Qu(this),this.o&&!this.J&&(4==zi?W3(this.j,this):(this.o=!1,sb(this)))}else(function wle(h){const _={};h=(h.g&&2<=oc(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let x=0;x<h.length;x++){if(z(h[x]))continue;var E=Y(h[x]);const J=E[0];if("string"!=typeof(E=E[1]))continue;E=E.trim();const ge=_[J]||[];_[J]=ge,ge.push(E)}!function q(h,_){for(const E in h)_.call(void 0,h[E],E,h)}(_,function(x){return x.join(", ")})})(this.g),400==E&&0<Be.indexOf("Unknown SID")?(this.s=3,cs(12)):(this.s=0,cs(13)),Qu(this),l_(this)}}}catch{}},Dl.prototype.cancel=function(){this.J=!0,Qu(this)},Dl.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function ile(h,_){h.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(o_(),cs(17)),Qu(this),this.s=2,l_(this)):I3(this,this.S-h)},b3.prototype.cancel=function(){if(this.i=A3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var S3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yu(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Yu){this.h=h.h,ob(this,h.j),this.o=h.o,this.g=h.g,ab(this,h.s),this.l=h.l;var _=h.i,E=new h_;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),M3(this,E),this.m=h.m}else h&&(_=String(h).match(S3))?(this.h=!1,ob(this,_[1]||"",!0),this.o=u_(_[2]||""),this.g=u_(_[3]||"",!0),ab(this,_[4]),this.l=u_(_[5]||"",!0),M3(this,_[6]||"",!0),this.m=u_(_[7]||"")):(this.h=!1,this.i=new h_(null,this.h))}function sc(h){return new Yu(h)}function ob(h,_,E){h.j=E?u_(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ab(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function M3(h,_,E){_ instanceof h_?(h.i=_,function mle(h,_){_&&!h.j&&(Sl(h),h.i=null,h.g.forEach(function(E,x){var J=x.toLowerCase();x!=J&&(P3(this,x),O3(this,J,E))},h)),h.j=_}(h.i,h.h)):(E||(_=d_(_,ple)),h.i=new h_(_,h.h))}function nr(h,_,E){h.i.set(_,E)}function cb(h){return nr(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function u_(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function d_(h,_,E){return"string"==typeof h?(h=encodeURI(h).replace(_,dle),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dle(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Yu.prototype.toString=function(){var h=[],_=this.j;_&&h.push(d_(_,R3,!0),":");var E=this.g;return(E||"file"==_)&&(h.push("//"),(_=this.o)&&h.push(d_(_,R3,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(E=this.s)&&h.push(":",String(E))),(E=this.l)&&(this.g&&"/"!=E.charAt(0)&&h.push("/"),h.push(d_(E,"/"==E.charAt(0)?fle:hle,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",d_(E,gle)),h.join("")};var h,R3=/[#\/\?@]/g,hle=/[#\?:]/g,fle=/[#\?]/g,ple=/[#\?@]/g,gle=/#/g;function h_(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Sl(h){h.g||(h.g=new Map,h.h=0,h.i&&function ule(h,_){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var x=h[E].indexOf("="),J=null;if(0<=x){var ge=h[E].substring(0,x);J=h[E].substring(x+1)}else ge=h[E];_(ge,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}function P3(h,_){Sl(h),_=Nf(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function x3(h,_){return Sl(h),_=Nf(h,_),h.g.has(_)}function O3(h,_,E){P3(h,_),0<E.length&&(h.i=null,h.g.set(Nf(h,_),F(E)),h.h+=E.length)}function Nf(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ml(h,_,E,x,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),x(E)}catch{}}function vle(){this.g=new tle}function Ele(h,_,E){const x=E||"";try{D3(h,function(J,ge){let Be=J;l(J)&&(Be=sM(J)),_.push(x+ge+"="+encodeURIComponent(Be))})}catch(J){throw _.push(x+"type="+encodeURIComponent("_badmap")),J}}function f_(h){this.l=h.Ub||null,this.j=h.eb||!1}function lb(h,_){ji.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function N3(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function p_(h){h.readyState=4,h.l=null,h.j=null,h.v=null,g_(h)}function g_(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function k3(h){let _="";return $e(h,function(E,x){_+=x,_+=":",_+=E,_+="\r\n"}),_}function mM(h,_,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=k3(E),"string"==typeof h?null!=E&&encodeURIComponent(String(E)):nr(h,_,E))}function Cr(h){ji.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=h_.prototype).add=function(h,_){Sl(this),this.i=null,h=Nf(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this},n.forEach=function(h,_){Sl(this),this.g.forEach(function(E,x){E.forEach(function(J){h.call(_,J,x,this)},this)},this)},n.na=function(){Sl(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let x=0;x<_.length;x++){const J=h[x];for(let ge=0;ge<J.length;ge++)E.push(_[x])}return E},n.V=function(h){Sl(this);let _=[];if("string"==typeof h)x3(this,h)&&(_=_.concat(this.g.get(Nf(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)_=_.concat(h[E])}return _},n.set=function(h,_){return Sl(this),this.i=null,x3(this,h=Nf(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h&&0<(h=this.V(h)).length?String(h[0]):_},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var x=_[E];const ge=encodeURIComponent(String(x)),Be=this.V(x);for(x=0;x<Be.length;x++){var J=ge;""!==Be[x]&&(J+="="+encodeURIComponent(String(Be[x]))),h.push(J)}}return this.i=h.join("&")},T(f_,oM),f_.prototype.g=function(){return new lb(this.l,this.j)},f_.prototype.i=(h={},function(){return h}),T(lb,ji),(n=lb.prototype).open=function(h,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,g_(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,p_(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,g_(this)),this.g&&(this.readyState=3,g_(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N3(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?p_(this):g_(this),3==this.readyState&&N3(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,p_(this))},n.Qa=function(h){this.g&&(this.response=h,p_(this))},n.ga=function(){this.g&&p_(this)},n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)h.push((E=E.value)[0]+": "+E[1]),E=_.next();return h.join("\r\n")},Object.defineProperty(lb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),T(Cr,ji);var Ile=/^https?$/i,ble=["POST","PUT"];function F3(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,L3(h),ub(h)}function L3(h){h.A||(h.A=!0,as(h,"complete"),as(h,"error"))}function V3(h){if(h.h&&typeof o<"u"&&(!h.v[1]||4!=oc(h)||2!=h.Z()))if(h.u&&4==oc(h))o3(h.Ea,0,h);else if(as(h,"readystatechange"),4==oc(h)){h.h=!1;try{const Be=h.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var x;if(x=0===Be){var J=String(h.D).match(S3)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),x=!Ile.test(J?J.toLowerCase():"")}E=x}if(E)as(h,"complete"),as(h,"success");else{h.m=6;try{var ge=2<oc(h)?h.g.statusText:""}catch{ge=""}h.l=ge+" ["+h.Z()+"]",L3(h)}}finally{ub(h)}}}function ub(h,_){if(h.g){U3(h);const E=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||as(h,"ready");try{E.onreadystatechange=x}catch{}}}function U3(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function oc(h){return h.g?h.g.readyState:0}function B3(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function m_(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function j3(h){this.Aa=0,this.i=[],this.j=new c_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=m_("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=m_("baseRetryDelayMs",5e3,h),this.cb=m_("retryDelaySeedMs",1e4,h),this.Wa=m_("forwardChannelMaxRetries",2,h),this.wa=m_("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new b3(h&&h.concurrentRequestLimit),this.Da=new vle,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function _M(h){if($3(h),3==h.G){var _=h.U++,E=sc(h.I);if(nr(E,"SID",h.K),nr(E,"RID",_),nr(E,"TYPE","terminate"),__(h,E),(_=new Dl(h,h.j,_)).L=2,_.v=cb(sc(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&a.Image&&((new Image).src=_.v,E=!0),E||(_.g=Y3(_.j,null),_.g.ea(_.v)),_.F=Date.now(),sb(_)}Z3(h)}function db(h){h.g&&(vM(h),h.g.cancel(),h.g=null)}function $3(h){db(h),h.u&&(a.clearTimeout(h.u),h.u=null),fb(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function hb(h){if(!w3(h.h)&&!h.s){h.s=!0;var _=h.Ga;lt||kr(),dt||(lt(),dt=!0),Qt.add(_,h),h.B=0}}function z3(h,_){var E;E=_?_.l:h.U++;const x=sc(h.I);nr(x,"SID",h.K),nr(x,"RID",E),nr(x,"AID",h.T),__(h,x),h.m&&h.o&&mM(x,h.m,h.o),E=new Dl(h,h.j,E,h.B+1),null===h.m&&(E.H=h.o),_&&(h.i=_.D.concat(h.i)),_=H3(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),gM(h.h,E),dM(E,x,_)}function __(h,_){h.H&&$e(h.H,function(E,x){nr(_,x,E)}),h.l&&D3({},function(E,x){nr(_,x,E)})}function H3(h,_,E){E=Math.min(h.i.length,E);var x=h.l?y(h.l.Na,h.l,h):null;e:{var J=h.i;let ge=-1;for(;;){const Be=["count="+E];-1==ge?0<E?(ge=J[0].g,Be.push("ofs="+ge)):ge=0:Be.push("ofs="+ge);let Ln=!0;for(let Ci=0;Ci<E;Ci++){let dn=J[Ci].g;const $i=J[Ci].map;if(dn-=ge,0>dn)ge=Math.max(0,J[Ci].g-100),Ln=!1;else try{Ele($i,Be,"req"+dn+"_")}catch{x&&x($i)}}if(Ln){x=Be.join("&");break e}}}return h=h.i.splice(0,E),_.D=h,x}function q3(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;lt||kr(),dt||(lt(),dt=!0),Qt.add(_,h),h.v=0}}function yM(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=a_(y(h.Fa,h),K3(h,h.v)),h.v++,0))}function vM(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function G3(h){h.g=new Dl(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var _=sc(h.qa);nr(_,"RID","rpc"),nr(_,"SID",h.K),nr(_,"AID",h.T),nr(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&nr(_,"TO",h.ja),nr(_,"TYPE","xmlhttp"),__(h,_),h.m&&h.o&&mM(_,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=cb(sc(_)),E.m=null,E.P=!0,v3(E,h)}function fb(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function W3(h,_){var E=null;if(h.g==_){fb(h),vM(h),h.g=null;var x=2}else{if(!pM(h.h,_))return;E=_.D,T3(h.h,_),x=1}if(0!=h.G)if(_.o)if(1==x){E=_.m?_.m.length:0,_=Date.now()-_.F;var J=h.B;as(x=nb(),new g3(x,E)),hb(h)}else q3(h);else if(3==(J=_.s)||0==J&&0<_.X||!(1==x&&function Cle(h,_){return!(C3(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=_.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=a_(y(h.Ga,h,_),K3(h,h.B)),h.B++,0)))}(h,_)||2==x&&yM(h)))switch(E&&0<E.length&&(_=h.h,_.i=_.i.concat(E)),J){case 1:Xu(h,5);break;case 4:Xu(h,10);break;case 3:Xu(h,6);break;default:Xu(h,2)}}function K3(h,_){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*_}function Xu(h,_){if(h.j.info("Error code "+_),2==_){var E=y(h.fb,h),x=h.Xa;const J=!x;x=new Yu(x||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ob(x,"https"),cb(x),J?function _le(h,_){const E=new c_;if(a.Image){const x=new Image;x.onload=I(Ml,E,"TestLoadImage: loaded",!0,_,x),x.onerror=I(Ml,E,"TestLoadImage: error",!1,_,x),x.onabort=I(Ml,E,"TestLoadImage: abort",!1,_,x),x.ontimeout=I(Ml,E,"TestLoadImage: timeout",!1,_,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else _(!1)}(x.toString(),E):function yle(h,_){new c_;const x=new AbortController,J=setTimeout(()=>{x.abort(),Ml(0,0,!1,_)},1e4);fetch(h,{signal:x.signal}).then(ge=>{clearTimeout(J),Ml(0,0,!!ge.ok,_)}).catch(()=>{clearTimeout(J),Ml(0,0,!1,_)})}(x.toString(),E)}else cs(2);h.G=0,h.l&&h.l.sa(_),Z3(h),$3(h)}function Z3(h){if(h.G=0,h.ka=[],h.l){const _=A3(h.h);(0!=_.length||0!=h.i.length)&&(L(h.ka,_),L(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function Q3(h,_,E){var x=E instanceof Yu?sc(E):new Yu(E);if(""!=x.g)_&&(x.g=_+"."+x.g),ab(x,x.s);else{var J=a.location;x=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var ge=new Yu(null);x&&ob(ge,x),_&&(ge.g=_),J&&ab(ge,J),E&&(ge.l=E),x=ge}return _=h.ya,(E=h.D)&&_&&nr(x,E,_),nr(x,"VER",h.la),__(h,x),x}function Y3(h,_,E){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new Cr(h.Ca&&!h.pa?new f_({eb:E}):h.pa)).Ha(h.J),_}function X3(){}function pb(){}function qs(h,_){ji.call(this),this.g=new j3(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!z(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!z(_)&&(this.g.D=_,null!==(h=this.h)&&_ in h&&_ in(h=this.h)&&delete h[_]),this.j=new kf(this)}function J3(h){aM.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=null!==_&&h in _?_[h]:void 0),this.data=_}else this.data=h}function e4(){cM.call(this),this.status=1}function kf(h){this.g=h}(n=Cr.prototype).Ha=function(h){this.J=h},n.ea=function(h,_,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lM.g(),this.v=function u3(h){return h.h||(h.h=h.i())}(this.o?this.o:lM),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ge){return void F3(this,ge)}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var J in x)E.set(J,x[J]);else{if("function"!=typeof x.keys||"function"!=typeof x.get)throw Error("Unknown input type for opt_headers: "+String(x));for(const ge of x.keys())E.set(ge,x.get(ge))}x=Array.from(E.keys()).find(ge=>"content-type"==ge.toLowerCase()),J=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ble,_,void 0))||x||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Be]of E)this.g.setRequestHeader(ge,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U3(this),this.u=!0,this.g.send(h),this.u=!1}catch(ge){F3(this,ge)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,as(this,"complete"),as(this,"abort"),ub(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ub(this,!0)),Cr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?V3(this):this.bb())},n.bb=function(){V3(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<oc(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&0==_.indexOf(h)&&(_=_.substring(h.length)),ele(_)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=j3.prototype).la=8,n.G=1,n.connect=function(h,_,E,x){cs(0),this.W=h,this.H=_||{},E&&void 0!==x&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Q3(this,null,this.W),hb(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const J=new Dl(this,this.j,h);let ge=this.o;if(this.S&&(ge?(ge=B(ge),K(ge,this.S)):ge=this.S),null!==this.m||this.O||(J.H=ge,ge=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){var x=this.i[E];if(void 0===(x="__data__"in x.map&&"string"==typeof(x=x.map.__data__)?x.length:void 0))break;if(4096<(_+=x)){_=E;break e}if(4096===_||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=H3(this,J,_),nr(E=sc(this.I),"RID",h),nr(E,"CVER",22),this.D&&nr(E,"X-HTTP-Session-Id",this.D),__(this,E),ge&&(this.O?_="headers="+encodeURIComponent(String(k3(ge)))+"&"+_:this.m&&mM(E,this.m,ge)),gM(this.h,J),this.Ua&&nr(E,"TYPE","init"),this.P?(nr(E,"$req",_),nr(E,"SID","null"),J.T=!0,dM(J,E,null)):dM(J,E,_),this.G=2}}else 3==this.G&&(h?z3(this,h):0==this.i.length||w3(this.h)||z3(this))},n.Fa=function(){if(this.u=null,G3(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=a_(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cs(10),db(this),G3(this))},n.Za=function(){null!=this.C&&(this.C=null,db(this),yM(this),cs(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),cs(2)):(this.j.info("Failed to ping google.com"),cs(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=X3.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},pb.prototype.g=function(h,_){return new qs(h,_)},T(qs,ji),qs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qs.prototype.close=function(){_M(this.g)},qs.prototype.o=function(h){var _=this.g;if("string"==typeof h){var E={};E.__data__=h,h=E}else this.u&&((E={}).__data__=sM(h),h=E);_.i.push(new class{constructor(h,_){this.g=h,this.map=_}}(_.Ya++,h)),3==_.G&&hb(_)},qs.prototype.N=function(){this.g.l=null,delete this.j,_M(this.g),delete this.g,qs.aa.N.call(this)},T(J3,aM),T(e4,cM),T(kf,X3),kf.prototype.ua=function(){as(this.g,"a")},kf.prototype.ta=function(h){as(this.g,new J3(h))},kf.prototype.sa=function(h){as(this.g,new e4)},kf.prototype.ra=function(){as(this.g,"b")},pb.prototype.createWebChannel=pb.prototype.g,qs.prototype.send=qs.prototype.o,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,bL=za.createWebChannelTransport=function(){return new pb},IL=za.getStatEventTarget=function(){return nb()},EL=za.Event=Zu,mT=za.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rb.NO_ERROR=0,rb.TIMEOUT=8,rb.HTTP_ERROR=6,IE=za.ErrorCode=rb,m3.COMPLETE="complete",vL=za.EventType=m3,d3.EventType=s_,s_.OPEN="a",s_.CLOSE="b",s_.ERROR="c",s_.MESSAGE="d",ji.prototype.listen=ji.prototype.K,Wg=za.WebChannel=d3,yL=za.FetchXmlHttpFactory=f_,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,_L=za.XhrIo=Cr}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});const wL="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let Lh="10.12.1";const Yc=new ta.Yd("@firebase/firestore");function Vh(){return Yc.logLevel}function Ae(n,...e){if(Yc.logLevel<=ta.in.DEBUG){const t=e.map(_T);Yc.debug(`Firestore (${Lh}): ${n}`,...t)}}function xr(n,...e){if(Yc.logLevel<=ta.in.ERROR){const t=e.map(_T);Yc.error(`Firestore (${Lh}): ${n}`,...t)}}function Cs(n,...e){if(Yc.logLevel<=ta.in.WARN){const t=e.map(_T);Yc.warn(`Firestore (${Lh}): ${n}`,...t)}}function _T(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Qe(n="Unexpected state"){const e=`FIRESTORE (${Lh}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function it(n,e){n||Qe()}function Ue(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class dX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hX{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ii,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,_e.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ii)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new CL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new ui(e)}}class fX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it("string"==typeof t.token),this.R=t.token,new TL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class AL{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=mX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function At(n,e){return n<e?-1:n>e?1:0}function Uh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function DL(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new sr(0,0))}static max(){return new ct(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Qe(),void 0===r?r=e.length-t:r>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Kg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends Kg{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new en(t)}static emptyPath(){return new en([])}}const _X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Kg{construct(e,t,r){return new Yn(e,t,r)}static isValidIdentifier(e){return _X.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(en.fromString(e))}static fromName(e){return new je(en.fromString(e).popFirst(5))}static empty(){return new je(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new en(e.slice()))}}class Bh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function yT(n){return n.fields.find(e=>2===e.kind)}function vu(n){return n.fields.filter(e=>2!==e.kind)}Bh.UNKNOWN_ID=-1;class Eu{constructor(e,t){this.fieldPath=e,this.kind=t}}class jh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jh(0,Bs.min())}}function SL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new Bs(i,je.empty(),e)}function ML(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(ct.min(),je.empty(),-1)}static max(){return new Bs(ct.max(),je.empty(),-1)}}function vT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:At(n.largestBatchId,e.largestBatchId))}const RL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xc(n){return ET.apply(this,arguments)}function ET(){return(ET=(0,_e.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==RL)throw n;Ae("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new te((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class bE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ii,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Zg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=IT(r.target.error);this.V.reject(new Zg(e,i))}}static open(e,t,r,i){try{return new bE(t,e.transaction(i,r))}catch(s){throw new Zg(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new IX(t)}}class na{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===na.S((0,Rt.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ae("SimpleDb","Removing database:",e),Iu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Rt.hl)())return!1;if(na.C())return!0;const e=(0,Rt.z$)(),t=na.S(e),r=0<t&&t<10,i=xL(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Ae("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Zg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new Ce(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ce(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Zg(e,a))},s.onupgradeneeded=o=>{Ae("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Ae("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,_e.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.M(e);const c=bE.open(s.db,e,o?"readonly":"readwrite",r),l=i(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),te.reject(f))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,f="FirebaseError"!==l.name&&a<3;if(Ae("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),!f)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class EX{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Iu(this.B.delete())}}class Zg extends Ce{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jc(n){return"IndexedDbTransactionError"===n.name}class IX{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ae("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Iu(r)}add(e){return Ae("SimpleDb","ADD",this.store.name,e,e),Iu(this.store.add(e))}get(e){return Iu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ae("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ae("SimpleDb","DELETE",this.store.name,e),Iu(this.store.delete(e))}count(){return Ae("SimpleDb","COUNT",this.store.name),Iu(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new te((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){Ae("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new te((r,i)=>{t.onerror=s=>{const o=IT(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){const r=[];return new te((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new EX(a),l=t(a.primaryKey,a.value,c);if(l instanceof te){const f=l.catch(m=>(c.done(),te.reject(m)));r.push(f)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Iu(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=IT(r.target.error);t(i)}})}let OL=!1;function IT(n){const e=na.S((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OL||(OL=!0,setTimeout(()=>{throw r},0)),r}}return n}class bX{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ae("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Ae("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){Jc(r)?Ae("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Xc(r)}yield t.X(6e4)}))}}class wX{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,s=!0;return te.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return Ae("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(Ae("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=ML(s);vT(o,r)>0&&(r=o)}),new Bs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let js=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Qg(n){return null==n}function Yg(n){return 0===n&&1/n==-1/0}function NL(n){return"number"==typeof n&&Number.isInteger(n)&&!Yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kL(e)),e=CX(n.get(t),e);return kL(e)}function CX(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function kL(n){return n+"\x01\x01"}function ra(n){const e=n.length;if(it(e>=2),2===e)return it("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Qe(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Qe()}s=o+2}return new en(r)}const FL=["userId","batchId"];function wE(n,e){return[n,ki(e)]}function LL(n,e,t){return[n,ki(e),t]}const TX={},AX=["prefixPath","collectionGroup","readTime","documentId"],DX=["prefixPath","collectionGroup","documentId"],SX=["collectionGroup","readTime","prefixPath","documentId"],MX=["canonicalId","targetId"],RX=["targetId","path"],PX=["path","targetId"],xX=["collectionId","parent"],OX=["indexId","uid"],NX=["uid","sequenceNumber"],kX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FX=["indexId","uid","orderedDocumentKey"],LX=["userId","collectionPath","documentId"],VX=["userId","collectionPath","largestBatchId"],UX=["userId","collectionGroup","largestBatchId"],VL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],BX=[...VL,"documentOverlays"],UL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BL=UL,jL=[...BL,"indexConfiguration","indexState","indexEntries"],jX=jL;class bT extends PL{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function di(n,e){const t=Ue(n);return na.F(t._e,e)}function $L(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function el(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qn{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CE(this.root,e,this.comparator,!1)}getReverseIterator(){return new CE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CE(this.root,e,this.comparator,!0)}}class CE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ii.RED,this.left=i??Ii.EMPTY,this.right=s??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ii(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qL(this.data.getIterator())}getIteratorFrom(e){return new qL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class qL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $h(n){return n.hasNext()?n.getNext():void 0}class Ts{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Ts([])}unionWith(e){let t=new On(Yn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class GL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class si{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GL("Invalid base64 string: "+s):s}}(e);return new si(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new si(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const zX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(n){if(it(!!n),"string"==typeof n){let e=0;const t=zX.exec(n);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(n.seconds),nanos:Ir(n.nanos)}}function Ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qa(n){return"string"==typeof n?si.fromBase64String(n):si.fromUint8Array(n)}function TE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AE(n){const e=n.mapValue.fields.__previous_value__;return TE(e)?AE(e):e}function Xg(n){const e=Ha(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class HX{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DE={nullValue:"NULL_VALUE"};function rl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TE(n)?4:QL(n)?9007199254740991:10:Qe()}function ia(n,e){if(n===e)return!0;const t=rl(n);if(t!==rl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xg(n).isEqual(Xg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ha(i.timestampValue),a=Ha(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,qa(n.bytesValue).isEqual(qa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ir(i.geoPointValue.latitude)===Ir(s.geoPointValue.latitude)&&Ir(i.geoPointValue.longitude)===Ir(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ir(i.integerValue)===Ir(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ir(i.doubleValue),a=Ir(s.doubleValue);return o===a?Yg(o)===Yg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Uh(n.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($L(o)!==$L(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!ia(o[c],a[c])))return!1;return!0}(n,e);default:return Qe()}var s}function Jg(n,e){return void 0!==(n.values||[]).find(t=>ia(t,e))}function il(n,e){if(n===e)return 0;const t=rl(n),r=rl(e);if(t!==r)return At(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ir(s.integerValue||s.doubleValue),c=Ir(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return WL(n.timestampValue,e.timestampValue);case 4:return WL(Xg(n),Xg(e));case 5:return At(n.stringValue,e.stringValue);case 6:return function(s,o){const a=qa(s),c=qa(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const f=At(a[l],c[l]);if(0!==f)return f}return At(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=At(Ir(s.latitude),Ir(o.latitude));return 0!==a?a:At(Ir(s.longitude),Ir(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const f=il(a[l],c[l]);if(f)return f}return At(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===nl.mapValue&&o===nl.mapValue)return 0;if(s===nl.mapValue)return 1;if(o===nl.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const y=At(c[m],f[m]);if(0!==y)return y;const I=il(a[c[m]],l[f[m]]);if(0!==I)return I}return At(c.length,f.length)}(n.mapValue,e.mapValue);default:throw Qe()}}function WL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return At(n,e);const t=Ha(n),r=Ha(e),i=At(t.seconds,r.seconds);return 0!==i?i:At(t.nanos,r.nanos)}function zh(n){return wT(n)}function wT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ha(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qa(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=wT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wT(t.fields[o])}`;return i+"}"}(n.mapValue):Qe()}function bu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CT(n){return!!n&&"integerValue"in n}function em(n){return!!n&&"arrayValue"in n}function KL(n){return!!n&&"nullValue"in n}function ZL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ME(n){return!!n&&"mapValue"in n}function tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return el(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qX(n){return"nullValue"in n?DE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bu(tl.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Qe()}function GX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bu(tl.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?nl:Qe()}function YL(n,e){const t=il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function XL(n,e){const t=il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ME(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tm(t)}setAll(e){let t=Yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=tm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());ME(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ME(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){el(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bi(tm(this.value))}}function JL(n){const e=[];return el(n.fields,(t,r)=>{const i=new Yn([t]);if(ME(r)){const s=JL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ts(e)}class Xn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xn(e,0,ct.min(),ct.min(),ct.min(),bi.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,ct.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,ct.min(),ct.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,ct.min(),ct.min(),bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}function eV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?je.comparator(je.fromName(o.referenceValue),t.key):il(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function tV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ia(n.position[t],e.position[t]))return!1;return!0}class nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function WX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class nV{}class tn extends nV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new KX(e,t,r):"array-contains"===t?new YX(e,r):"in"===t?new cV(e,r):"not-in"===t?new XX(e,r):"array-contains-any"===t?new JX(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ZX(e,r):new QX(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(il(t,this.value)):null!==t&&rl(this.value)===rl(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends nV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new An(e,t)}matches(e){return Hh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hh(n){return"and"===n.op}function TT(n){return"or"===n.op}function AT(n){return rV(n)&&Hh(n)}function rV(n){for(const e of n.filters)if(e instanceof An)return!1;return!0}function DT(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(AT(n))return n.filters.map(e=>DT(e)).join(",");{const e=n.filters.map(t=>DT(t)).join(",");return`${n.op}(${e})`}}function iV(n,e){return n instanceof tn?(r=n,(i=e)instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&ia(r.value,i.value)):n instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&iV(o,i.filters[a]),!0)}(n,e):void Qe();var r,i}function sV(n,e){const t=n.filters.concat(e);return An.create(t,n.op)}function oV(n){return n instanceof tn?`${(t=n).field.canonicalString()} ${t.op} ${zh(t.value)}`:n instanceof An?function(t){return t.op.toString()+" {"+t.getFilters().map(oV).join(" ,")+"}"}(n):"Filter";var t}class KX extends tn{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZX extends tn{constructor(e,t){super(e,"in",t),this.keys=aV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QX extends tn{constructor(e,t){super(e,"not-in",t),this.keys=aV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class YX extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return em(t)&&Jg(t.arrayValue,this.value)}}class cV extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jg(this.value.arrayValue,t)}}class XX extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jg(this.value.arrayValue,t)}}class JX extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!em(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jg(this.value.arrayValue,r))}}class eJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ST(n,e=null,t=[],r=[],i=null,s=null,o=null){return new eJ(n,e,t,r,i,s,o)}function wu(n){const e=Ue(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>DT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Qg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),e.ue=t}return e.ue}function rm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tV(n.startAt,e.startAt)&&tV(n.endAt,e.endAt)}function RE(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function PE(n,e){return n.filters.filter(t=>t instanceof tn&&t.field.isEqual(e))}function lV(n,e,t){let r=DE,i=!0;for(const s of PE(n,e)){let o=DE,a=!0;switch(s.op){case"<":case"<=":o=qX(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=DE}YL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];YL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function uV(n,e,t){let r=nl,i=!0;for(const s of PE(n,e)){let o=nl,a=!0;switch(s.op){case">=":case">":o=GX(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=nl}XL({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];XL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Ga{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function dV(n,e,t,r,i,s,o,a){return new Ga(n,e,t,r,i,s,o,a)}function qh(n){return new Ga(n)}function hV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function MT(n){return null!==n.collectionGroup}function Gh(n){const e=Ue(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new On(Yn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new nm(s,r))}),t.has(Yn.keyField().canonicalString())||e.ce.push(new nm(Yn.keyField(),r))}return e.ce}function Fi(n){const e=Ue(n);return e.le||(e.le=function pV(n,e){if("F"===n.limitType)return ST(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new nm(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new sl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sl(n.startAt.position,n.startAt.inclusive):null;return ST(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Gh(n))),e.le}function RT(n,e){const t=n.filters.concat([e]);return new Ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xE(n,e,t){return new Ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function im(n,e){return rm(Fi(n),Fi(e))&&n.limitType===e.limitType}function gV(n){return`${wu(Fi(n))}|lt:${n.limitType}`}function Wh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>oV(i)).join(", ")}]`),Qg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zh(i)).join(",")),`Target(${r})`}(Fi(n))}; limitType=${n.limitType})`}function sm(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Gh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const l=eV(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Gh(r),i)||r.endAt&&!function(o,a,c){const l=eV(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Gh(r),i)));var r,i}function mV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _V(n){return(e,t)=>{let r=!1;for(const i of Gh(n)){const s=tJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function tJ(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?il(c,l):Qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HL(this.inner)}size(){return this.innerSize}}const nJ=new qn(je.comparator);function As(){return nJ}const yV=new qn(je.comparator);function om(...n){let e=yV;for(const t of n)e=e.insert(t.key,t);return e}function vV(n){let e=yV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function sa(){return am()}function EV(){return am()}function am(){return new Wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const rJ=new qn(je.comparator),iJ=new On(je.comparator);function Ft(...n){let e=iJ;for(const t of n)e=e.add(t);return e}const sJ=new On(At);function PT(){return sJ}function IV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function bV(n){return{integerValue:""+n}}function wV(n,e){return NL(e)?bV(e):IV(n,e)}class OE{constructor(){this._=void 0}}function oJ(n,e,t){return n instanceof Kh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&TE(s)&&(s=AE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Cu?TV(n,e):n instanceof Tu?AV(n,e):function(i,s){const o=CV(i,s),a=DV(o)+DV(i.Pe);return CT(o)&&CT(i.Pe)?bV(a):IV(i.serializer,a)}(n,e)}function aJ(n,e,t){return n instanceof Cu?TV(n,e):n instanceof Tu?AV(n,e):t}function CV(n,e){return n instanceof Zh?CT(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Kh extends OE{}class Cu extends OE{constructor(e){super(),this.elements=e}}function TV(n,e){const t=SV(e);for(const r of n.elements)t.some(i=>ia(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tu extends OE{constructor(e){super(),this.elements=e}}function AV(n,e){let t=SV(e);for(const r of n.elements)t=t.filter(i=>!ia(i,r));return{arrayValue:{values:t}}}class Zh extends OE{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function DV(n){return Ir(n.integerValue||n.doubleValue)}function SV(n){return em(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cm{constructor(e,t){this.field=e,this.transform=t}}class lJ{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kE{}function MV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yh(n.key,or.none()):new Qh(n.key,n.data,or.none());{const t=n.data,r=bi.empty();let i=new On(Yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ka(n.key,r,new Ts(i.toArray()),or.none())}}function uJ(n,e,t){n instanceof Qh?function(i,s,o){const a=i.value.clone(),c=xV(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(i,s,o){if(!NE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xV(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(PV(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lm(n,e,t,r){return n instanceof Qh?function(s,o,a,c){if(!NE(s.precondition,o))return a;const l=s.value.clone(),f=OV(s.fieldTransforms,c,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ka?function(s,o,a,c){if(!NE(s.precondition,o))return a;const l=OV(s.fieldTransforms,c,o),f=o.data;return f.setAll(PV(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,NE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function dJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=CV(r.transform,i||null);null!=s&&(null===t&&(t=bi.empty()),t.set(r.field,s))}return t||null}function RV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Uh(r,i,(s,o)=>function cJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Cu&&i instanceof Cu||r instanceof Tu&&i instanceof Tu?Uh(r.elements,i.elements,ia):r instanceof Zh&&i instanceof Zh?ia(r.Pe,i.Pe):r instanceof Kh&&i instanceof Kh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Qh extends kE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends kE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xV(n,e,t){const r=new Map;it(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aJ(o,a,t[i]))}return r}function OV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,oJ(s,o,e))}return r}class Yh extends kE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xT extends kE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=EV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=MV(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(t,r)=>RV(t,r))&&Uh(this.baseMutations,e.baseMutations,(t,r)=>RV(t,r))}}class NT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){it(e.mutations.length===r.length);let i=rJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new NT(e,t,r,i)}}class kT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kr,an;function kV(n){switch(n){default:return Qe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function FV(n){if(void 0===n)return xr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Kr.OK:return le.OK;case Kr.CANCELLED:return le.CANCELLED;case Kr.UNKNOWN:return le.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return le.INTERNAL;case Kr.UNAVAILABLE:return le.UNAVAILABLE;case Kr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Kr.NOT_FOUND:return le.NOT_FOUND;case Kr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Kr.ABORTED:return le.ABORTED;case Kr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Kr.DATA_LOSS:return le.DATA_LOSS;default:return Qe()}}(an=Kr||(Kr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";function LV(){return new TextEncoder}const fJ=new yu([4294967295,4294967295],0);function VV(n){const e=LV().encode(n),t=new mL;return t.update(e),new Uint8Array(t.digest())}function UV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yu([t,r],0),new yu([i,s],0)]}class FT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new um(`Invalid padding: ${t}`);if(r<0)throw new um(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new um(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new um(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=yu.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(yu.fromNumber(r)));return 1===i.compare(fJ)&&(i=new yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=VV(e),[r,i]=UV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new FT(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=VV(e),[r,i]=UV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class um extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,hm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dm(ct.min(),i,new qn(At),As(),Ft())}}class hm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hm(r,t,Ft(),Ft(),Ft())}}class LE{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class BV{constructor(e,t){this.targetId=e,this.me=t}}class jV{constructor(e,t,r=si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $V{constructor(){this.fe=0,this.ge=HV(),this.pe=si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ft(),t=Ft(),r=Ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Qe()}}),new hm(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=HV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=As(),this.qe=zV(),this.Qe=new qn(At)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(RE(s))if(0===r){const o=new je(s.path);this.Ue(t,o,Xn.newNoDocument(o,ct.min()))}else it(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=qa(r).toUint8Array()}catch(c){if(c instanceof GL)return Cs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new FT(o,i,s)}catch(c){return Cs(c instanceof um?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&RE(a.target)){const c=new je(a.target.path);null!==this.ke.get(c)||this.it(o,c)||this.Ue(o,c,Xn.newNoDocument(c,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=Ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new dm(e,t,this.Qe,this.ke,r);return this.ke=As(),this.qe=zV(),this.Qe=new qn(At),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new $V,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new On(At),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $V),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zV(){return new qn(je.comparator)}function HV(){return new qn(je.comparator)}const gJ={asc:"ASCENDING",desc:"DESCENDING"},mJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_J={and:"AND",or:"OR"};class yJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function LT(n,e){return n.useProto3Json||Qg(e)?e:{value:e}}function Xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vJ(n,e){return Xh(n,e.toTimestamp())}function Or(n){return it(!!n),ct.fromTimestamp(function(t){const r=Ha(t);return new sr(r.seconds,r.nanos)}(n))}function VT(n,e){return UT(n,e).canonicalString()}function UT(n,e){const t=(i=n,new en(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function GV(n){const e=en.fromString(n);return it(r2(e)),e}function fm(n,e){return VT(n.databaseId,e.path)}function oa(n,e){const t=GV(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(ZV(t))}function WV(n,e){return VT(n.databaseId,e)}function KV(n){const e=GV(n);return 4===e.length?en.emptyPath():ZV(e)}function BT(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZV(n){return it(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QV(n,e,t){return{name:fm(n,e),fields:t.value.mapValue.fields}}function YV(n,e,t){const r=oa(n,e.name),i=Or(e.updateTime),s=e.createTime?Or(e.createTime):ct.min(),o=new bi({mapValue:{fields:e.fields}}),a=Xn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function pm(n,e){let t;if(e instanceof Qh)t={update:QV(n,e.key,e.value)};else if(e instanceof Yh)t={delete:fm(n,e.key)};else if(e instanceof Ka)t={update:QV(n,e.key,e.data),updateMask:DJ(e.fieldMask)};else{if(!(e instanceof xT))return Qe();t={verify:fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:vJ(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Qe()),t;var s}function jT(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?or.updateTime(Or(s.updateTime)):void 0!==s.exists?or.exists(s.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(it("REQUEST_TIME"===a.setToServerValue),c=new Kh):"appendMissingElements"in a?c=new Cu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Tu(a.removeAllFromArray.values||[]):"increment"in a?c=new Zh(o,a.increment):Qe();const l=Yn.fromServerFormat(a.fieldPath);return new cm(l,c)}(n,i)):[];var s;if(e.update){const i=oa(n,e.update.name),s=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ts((e.updateMask.fieldPaths||[]).map(f=>Yn.fromServerFormat(f)));return new Ka(i,s,o,t,r)}return new Qh(i,s,t,r)}if(e.delete){const i=oa(n,e.delete);return new Yh(i,t)}if(e.verify){const i=oa(n,e.verify);return new xT(i,t)}return Qe()}function XV(n,e){return{documents:[WV(n,e.path)]}}function VE(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WV(n,i);const s=function(l){if(0!==l.length)return n2(An.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(l){if(0!==l.length)return l.map(f=>{return{field:ol((y=f).field),direction:CJ(y.dir)};var y})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=LT(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i};var l}function e2(n){let e=KV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){it(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(m){const y=t2(m);return y instanceof An&&AT(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(y=>{return new nm(Jh((T=y).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,Qg(y)?null:y}(t.limit));let c=null;var m;t.startAt&&(c=new sl((m=t.startAt).values||[],!!m.before));let l=null;return t.endAt&&(l=function(m){return new sl(m.values||[],!m.before)}(t.endAt)),dV(e,i,o,s,a,"F",c,l)}function t2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jh(t.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jh(t.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jh(t.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jh(t.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}(n):void 0!==n.fieldFilter?tn.create(Jh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return An.create(t.compositeFilter.filters.map(r=>t2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe()}}(t.compositeFilter.op))}(n):Qe();var t}function CJ(n){return gJ[n]}function TJ(n){return mJ[n]}function AJ(n){return _J[n]}function ol(n){return{fieldPath:n.canonicalString()}}function Jh(n){return Yn.fromServerFormat(n.fieldPath)}function n2(n){return n instanceof tn?function(t){if("=="===t.op){if(ZL(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NAN"}};if(KL(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ZL(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NAN"}};if(KL(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(t.field),op:TJ(t.op),value:t.value}}}(n):n instanceof An?function(t){const r=t.getFilters().map(i=>n2(i));return 1===r.length?r[0]:{compositeFilter:{op:AJ(t.op),filters:r}}}(n):Qe()}function DJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function r2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Za{constructor(e,t,r,i,s=ct.min(),o=ct.min(),a=si.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class i2{constructor(e){this.ct=e}}function s2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:UE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:fm(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Xh(s,o.version.toTimestamp()),createTime:Xh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Au(e.version)};else{if(!e.isUnknownDocument())return Qe();r.unknownDocument={path:t.path.toArray(),version:Au(e.version)}}var s,o;return r}function UE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Au(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Du(n){const e=new sr(n.seconds,n.nanoseconds);return ct.fromTimestamp(e)}function Su(n,e){const t=(e.baseMutations||[]).map(s=>jT(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>jT(n.ct,s)),i=sr.fromMillis(e.localWriteTimeMs);return new OT(e.batchId,i,t,r)}function gm(n){const e=Du(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Du(n.lastLimboFreeSnapshotVersion):ct.min();let r;return r=void 0!==n.query.documents?(it(1===(s=n.query).documents.length),Fi(qh(KV(s.documents[0])))):function(s){return Fi(e2(s))}(n.query),new Za(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,si.fromBase64String(n.resumeToken));var s}function o2(n,e){const t=Au(e.snapshotVersion),r=Au(e.lastLimboFreeSnapshotVersion);let i;i=RE(e.target)?XV(n.ct,e.target):VE(n.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $T(n){const e=e2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xE(e,e.limit,"L"):e}function zT(n,e){return new kT(e.largestBatchId,jT(n.ct,e.overlayMutation))}function a2(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function c2(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Au(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class MJ{getBundleMetadata(e,t){return l2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Du(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return l2(e).put({bundleId:(i=t).id,createTime:Au(Or(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return u2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:$T(s.bundledQuery),readTime:Du(s.readTime)};var s})}saveNamedQuery(e,t){return u2(e).put({name:(i=t).name,readTime:Au(Or(i.readTime)),bundledQuery:i.bundledQuery});var i}}function l2(n){return di(n,"bundles")}function u2(n){return di(n,"namedQueries")}class BE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new BE(e,t.uid||"")}getOverlay(e,t){return mm(e).get(a2(this.userId,t)).next(r=>r?zT(this.serializer,r):null)}getOverlays(e,t){const r=sa();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new kT(t,o);i.push(this.ht(e,a))}),te.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ki(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(mm(e).j("collectionPathOverlayIndex",a))}),te.waitFor(s)}getOverlaysForCollection(e,t,r){const i=sa(),s=ki(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return mm(e).U("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=zT(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=sa();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mm(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,f)=>{const m=zT(this.serializer,l);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):f.done()}).next(()=>s)}ht(e,t){return mm(e).put(function(i,s,o){const[a,c,l]=a2(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:pm(i.ct,o.mutation)}}(this.serializer,this.userId,t))}}function mm(n){return di(n,"documentOverlays")}class Mu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ir(e.integerValue));else if("doubleValue"in e){const r=Ir(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Yg(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=Ha(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(qa(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?QL(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Qe()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),je.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function RJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function d2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=RJ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Mu.bt=new Mu;class PJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=d2(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=d2(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class xJ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class OJ{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class _m{constructor(){this.Gt=new PJ,this.zt=new xJ(this.Gt),this.jt=new OJ(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ru{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ru(this.indexId,this.documentKey,this.arrayValue,r)}}function al(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=h2(n.arrayValue,e.arrayValue),0!==t?t:(t=h2(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function h2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class f2{constructor(e){this.Yt=new On((t,r)=>Yn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(it(e.collectionGroup===this.collectionId),this.en)return!1;const t=yT(e);if(void 0!==t&&!this.nn(t))return!1;const r=vu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Zt.length||!this.sn(this.Zt[o++],r[s]))return!1;return!0}on(){if(this.en)return null;let e=new On(Yn.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Eu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Eu(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Eu(r.field,"asc"===r.dir?0:1)));return new Bh(Bh.UNKNOWN_ID,this.collectionId,t,jh.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function p2(n){var e,t;if(it(n instanceof tn||n instanceof An),n instanceof tn){if(n instanceof cV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>tn.create(n.field,"==",s)))||[];return An.create(i,"or")}return n}const r=n.filters.map(i=>p2(i));return An.create(r,n.op)}function NJ(n){if(0===n.getFilters().length)return[];const e=GT(p2(n));return it(g2(e)),HT(e)||qT(e)?[e]:e.getFilters()}function HT(n){return n instanceof tn}function qT(n){return n instanceof An&&AT(n)}function g2(n){return HT(n)||qT(n)||function(t){if(t instanceof An&&TT(t)){for(const r of t.getFilters())if(!HT(r)&&!qT(r))return!1;return!0}return!1}(n)}function GT(n){if(it(n instanceof tn||n instanceof An),n instanceof tn)return n;if(1===n.filters.length)return GT(n.filters[0]);const e=n.filters.map(r=>GT(r));let t=An.create(e,n.op);return t=jE(t),g2(t)?t:(it(t instanceof An),it(Hh(t)),it(t.filters.length>1),t.filters.reduce((r,i)=>WT(r,i)))}function WT(n,e){let t;return it(n instanceof tn||n instanceof An),it(e instanceof tn||e instanceof An),t=n instanceof tn?e instanceof tn?An.create([n,e],"and"):m2(n,e):e instanceof tn?m2(e,n):function(i,s){if(it(i.filters.length>0&&s.filters.length>0),Hh(i)&&Hh(s))return sV(i,s.getFilters());const o=TT(i)?i:s,a=TT(i)?s:i,c=o.filters.map(l=>WT(l,a));return An.create(c,"or")}(n,e),jE(t)}function m2(n,e){if(Hh(e))return sV(e,n.getFilters());{const t=e.filters.map(r=>WT(n,r));return An.create(t,"or")}}function jE(n){if(it(n instanceof tn||n instanceof An),n instanceof tn)return n;const e=n.getFilters();if(1===e.length)return jE(e[0]);if(rV(n))return n;const t=e.map(i=>jE(i)),r=[];return t.forEach(i=>{i instanceof tn?r.push(i):i instanceof An&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:An.create(r,n.op)}class kJ{constructor(){this._n=new KT}addToCollectionParentIndex(e,t){return this._n.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Bs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class KT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new On(en.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new On(en.comparator)).toArray()}}const $E=new Uint8Array(0);class FJ{constructor(e,t){this.databaseId=t,this.an=new KT,this.un=new Wa(r=>wu(r),(r,i)=>rm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const s={collectionId:r,parent:ki(i)};return _2(e).put(s)}return te.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[DL(t),""],!1,!0);return _2(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(ra(o.parent))}return r})}addFieldIndex(e,t){const r=ym(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=tf(e);return s.next(a=>{o.put(c2(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=ym(e),i=tf(e),s=ef(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ym(e),r=ef(e),i=tf(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return te.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new f2(r).on();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=ef(e);let i=!0;const s=new Map;return te.forEach(this.cn(t),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Ft();const a=[];return te.forEach(s,(c,l)=>{var X;Ae("IndexedDbIndexManager",`Using index ${X=c,`id=${X.indexId}|cg=${X.collectionGroup}|f=${X.fields.map(ae=>`${ae.fieldPath}:${ae.kind}`).join(",")}`} to execute ${wu(t)}`);const f=function(X,ae){const Se=yT(ae);if(void 0===Se)return null;for(const $e of PE(X,Se.fieldPath))switch($e.op){case"array-contains-any":return $e.value.arrayValue.values||[];case"array-contains":return[$e.value]}return null}(l,c),m=function(X,ae){const Se=new Map;for(const $e of vu(ae))for(const q of PE(X,$e.fieldPath))switch(q.op){case"==":case"in":Se.set($e.fieldPath.canonicalString(),q.value);break;case"not-in":case"!=":return Se.set($e.fieldPath.canonicalString(),q.value),Array.from(Se.values())}return null}(l,c),y=function(X,ae){const Se=[];let $e=!0;for(const q of vu(ae)){const B=0===q.kind?lV(X,q.fieldPath,X.startAt):uV(X,q.fieldPath,X.startAt);Se.push(B.value),$e&&($e=B.inclusive)}return new sl(Se,$e)}(l,c),I=function(X,ae){const Se=[];let $e=!0;for(const q of vu(ae)){const B=0===q.kind?uV(X,q.fieldPath,X.endAt):lV(X,q.fieldPath,X.endAt);Se.push(B.value),$e&&($e=B.inclusive)}return new sl(Se,$e)}(l,c),T=this.hn(c,l,y),F=this.hn(c,l,I),L=this.Pn(c,l,m),W=this.In(c.indexId,f,T,y.inclusive,F,I.inclusive,L);return te.forEach(W,z=>r.G(z,t.limit).next(X=>{X.forEach(ae=>{const Se=je.fromSegments(ae.documentKey);o.has(Se)||(o=o.add(Se),a.push(Se))})}))}).next(()=>a)}return te.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:NJ(An.create(e.filters,"and")).map(r=>ST(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,s,o,a){const c=(null!=t?t.length:1)*Math.max(r.length,s.length),l=c/(null!=t?t.length:1),f=[];for(let m=0;m<c;++m){const y=t?this.Tn(t[m/l]):$E,I=this.En(e,y,r[m%l],i),T=this.dn(e,y,s[m%l],o),F=a.map(L=>this.En(e,y,L,!0));f.push(...this.createRange(I,T,F))}return f}En(e,t,r,i){const s=new Ru(e,je.empty(),t,r);return i?s:s.Jt()}dn(e,t,r,i){const s=new Ru(e,je.empty(),t,r);return i?s.Jt():s}ln(e,t){const r=new f2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.cn(t);return te.forEach(i,s=>this.ln(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let l=new On(Yn.comparator),f=!1;for(const m of c.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:l=l.add(y.field));for(const m of c.orderBy)m.field.isKeyField()||(l=l.add(m.field));return l.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}An(e,t){const r=new _m;for(const i of vu(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Ht(i.kind);Mu.bt.Pt(s,o)}return r.Wt()}Tn(e){const t=new _m;return Mu.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new _m;return Mu.bt.Pt(bu(this.databaseId,t),r.Ht(function(s){const o=vu(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(null===r)return[];let i=[];i.push(new _m);let s=0;for(const o of vu(e)){const a=r[s++];for(const c of i)if(this.Vn(t,o.fieldPath)&&em(a))i=this.mn(i,o,a);else{const l=c.Ht(o.kind);Mu.bt.Pt(a,l)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new _m;c.seed(a.Wt()),Mu.bt.Pt(o,c.Ht(t.kind)),s.push(c)}return s}Vn(e,t){return!!e.filters.find(r=>r instanceof tn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ym(e),i=tf(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{const o=[];return te.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(f,m){const y=m?new jh(m.sequenceNumber,new Bs(Du(m.readTime),new je(ra(m.documentKey)),m.largestBatchId)):jh.empty(),I=f.fields.map(([T,F])=>new Eu(Yn.fromServerFormat(T),F));return new Bh(f.indexId,f.collectionGroup,I,y)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:At(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ym(e),s=tf(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>te.forEach(a,c=>s.put(c2(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?te.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),te.forEach(a,c=>this.pn(e,i,c).next(l=>{const f=this.yn(s,c);return l.isEqual(f)?te.resolve():this.wn(e,s,c,l,f)}))))})}Sn(e,t,r,i){return ef(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return ef(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=ef(e);let s=new On(al);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(o,a)=>{s=s.add(new Ru(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,t){let r=new On(al);const i=this.An(t,e);if(null==i)return r;const s=yT(t);if(null!=s){const o=e.data.field(s.fieldPath);if(em(o))for(const a of o.arrayValue.values||[])r=r.add(new Ru(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ru(t.indexId,e.key,$E,i));return r}wn(e,t,r,i,s){Ae("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,l,f,m,y){const I=c.getIterator(),T=l.getIterator();let F=$h(I),L=$h(T);for(;F||L;){let W=!1,z=!1;if(F&&L){const X=f(F,L);X<0?z=!0:X>0&&(W=!0)}else null!=F?z=!0:W=!0;W?(m(L),L=$h(T)):z?(y(F),F=$h(I)):(F=$h(I),L=$h(T))}}(i,s,al,a=>{o.push(this.Sn(e,t,r,a))},a=>{o.push(this.bn(e,t,r,a))}),te.waitFor(o)}gn(e){let t=1;return tf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>al(o,a)).filter((o,a,c)=>!a||0!==al(o,c[a-1]));const i=[];i.push(e);for(const o of r){const a=al(o,e),c=al(o,t);if(0===a)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$E,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$E,[]]))}return s}Dn(e,t){return al(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(y2)}getMinOffset(e,t){return te.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||Qe())).next(y2)}}function _2(n){return di(n,"collectionParents")}function ef(n){return di(n,"indexEntries")}function ym(n){return di(n,"indexConfiguration")}function tf(n){return di(n,"indexState")}function y2(n){it(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;vT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Bs(e.readTime,e.documentKey,t)}const v2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function E2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=r.J({range:o},(f,m,y)=>(a++,y.delete()));s.push(c.next(()=>{it(1===a)}));const l=[];for(const f of t.mutations){const m=LL(e,f.key.path,t.batchId);s.push(i.delete(m)),l.push(f.key)}return te.waitFor(s).next(()=>l)}function zE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Qe();e=n.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class HE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){it(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new HE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=nf(e),o=cl(e);return o.add({}).next(a=>{it("number"==typeof a);const c=new OT(a,t,r,i),l=function(I,T,F){const L=F.baseMutations.map(z=>pm(I.ct,z)),W=F.mutations.map(z=>pm(I.ct,z));return{userId:T,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:L,mutations:W}}(this.serializer,this.userId,c),f=[];let m=new On((y,I)=>At(y.canonicalString(),I.canonicalString()));for(const y of i){const I=LL(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),f.push(o.put(l)),f.push(s.put(I,TX))}return m.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),te.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return cl(e).get(t).next(r=>r?(it(r.userId===this.userId),Su(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?te.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return cl(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(it(a.batchId>=r),s=Su(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).U("userMutationsIndex",t).next(r=>r.map(i=>Su(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return nf(e).J({range:i},(o,a,c)=>{const[l,f,m]=o,y=ra(f);if(l===this.userId&&t.path.isEqual(y))return cl(e).get(m).next(I=>{if(!I)throw Qe();it(I.userId===this.userId),s.push(Su(this.serializer,I))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(At);const i=[];return t.forEach(s=>{const o=wE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=nf(e).J({range:a},(l,f,m)=>{const[y,I,T]=l,F=ra(I);y===this.userId&&s.path.isEqual(F)?r=r.add(T):m.done()});i.push(c)}),te.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=wE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new On(At);return nf(e).J({range:o},(c,l,f)=>{const[m,y,I]=c,T=ra(y);m===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(I)):f.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(cl(e).get(s).next(o=>{if(null===o)throw Qe();it(o.userId===this.userId),r.push(Su(this.serializer,o))}))}),te.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return E2(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),te.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return nf(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=ra(s[1]);i.push(c)}else a.done()}).next(()=>{it(0===i.length)})})}containsKey(e,t){return I2(e,this.userId,t)}xn(e){return b2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function I2(n,e,t){const r=wE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return nf(n).J({range:s,H:!0},(a,c,l)=>{const[f,m,y]=a;f===e&&m===i&&(o=!0),l.done()}).next(()=>o)}function cl(n){return di(n,"mutations")}function nf(n){return di(n,"documentMutations")}function b2(n){return di(n,"mutationQueues")}class Pu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Pu(0)}static Ln(){return new Pu(-1)}}class LJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Pu(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>ct.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rf(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(it(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return rf(e).J((o,a)=>{const c=gm(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>te.waitFor(s)).next(()=>i)}forEachTarget(e,t){return rf(e).J((r,i)=>{const s=gm(i);t(s)})}Bn(e){return w2(e).get("targetGlobalKey").next(t=>(it(null!==t),t))}kn(e,t){return w2(e).put("targetGlobalKey",t)}qn(e,t){return rf(e).put(o2(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rf(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const l=gm(a);rm(t,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=ll(e);return t.forEach(o=>{const a=ki(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),te.waitFor(i)}removeMatchingKeys(e,t,r){const i=ll(e);return te.forEach(t,s=>{const o=ki(s.path);return te.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=ll(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ll(e);let s=Ft();return i.J({range:r,H:!0},(o,a,c)=>{const l=ra(o[1]),f=new je(l);s=s.add(f)}).next(()=>s)}containsKey(e,t){const r=ki(t.path),i=IDBKeyRange.bound([r],[DL(r)],!1,!0);let s=0;return ll(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}ot(e,t){return rf(e).get(t).next(r=>r?gm(r):null)}}function rf(n){return di(n,"targets")}function w2(n){return di(n,"targetGlobal")}function ll(n){return di(n,"targetDocuments")}function C2([n,e],[t,r]){const i=At(n,t);return 0===i?At(e,r):i}class VJ{constructor(e){this.Kn=e,this.buffer=new On(C2),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();C2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;Ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Jc(r)?Ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xc(r)}yield t.zn(3e5)}))}}class UJ{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(js.oe);const r=new VJ(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(v2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v2):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,s,o,a,c,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(l=Date.now(),Vh()<=ta.in.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-f}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(l-c)+`ms\nTotal Duration: ${l-f}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class BJ{constructor(e,t){this.db=e,this.garbageCollector=function A2(n,e){return new UJ(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return qE(e,r)}removeReference(e,t,r){return qE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return qE(e,t)}er(e,t){return function(i,s){let o=!1;return b2(i).Y(a=>I2(i,a,s).next(c=>(c&&(o=!0),te.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=t){const c=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ct.min()),ll(e).delete([0,ki(o.path)])))});i.push(c)}}).next(()=>te.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return qE(e,t)}Xn(e,t){const r=ll(e);let i,s=js.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{0===o?(s!==js.oe&&t(new je(ra(i)),s),s=l,i=c):s=js.oe}).next(()=>{s!==js.oe&&t(new je(ra(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qE(n,e){return ll(n).put((i=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:i}));var i}class D2{constructor(){this.changes=new Wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xu(e).put(r)}removeEntry(e,t,r){return xu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],UE(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return xu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vm(t))},(i,s)=>{r=this.nr(t,s)}).next(()=>r)}rr(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return xu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vm(t))},(i,s)=>{r={document:this.nr(t,s),size:zE(s)}}).next(()=>r)}getEntries(e,t){let r=As();return this.ir(e,t,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,t){let r=As(),i=new qn(je.comparator);return this.ir(e,t,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,zE(o))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return te.resolve();let i=new On(P2);t.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(vm(i.first()),vm(i.last())),o=i.getIterator();let a=o.getNext();return xu(e).J({index:"documentKeyIndex",range:s},(c,l,f)=>{const m=je.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&P2(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?f.$(vm(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),UE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let f=As();for(const m of l){const y=this.nr(je.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(sm(t,y)||i.has(y.key))&&(f=f.insert(y.key,y))}return f})}getAllFromCollectionGroup(e,t,r,i){let s=As();const o=R2(t,r),a=R2(t,Bs.max());return xu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,f)=>{const m=this.nr(je.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(m.key,m),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new $J(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return M2(e).get("remoteDocumentGlobalKey").next(t=>(it(!!t),t))}tr(e,t){return M2(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=function SJ(n,e){let t;if(e.document)t=YV(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=Du(e.noDocument.readTime);t=Xn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qe();{const r=je.fromSegments(e.unknownDocument.path),i=Du(e.unknownDocument.version);t=Xn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new sr(i[0],i[1]);return ct.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ct.min()))return r}return Xn.newInvalidDocument(e)}}function S2(n){return new jJ(n)}class $J extends D2{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Wa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new On((s,o)=>At(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(t.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=s2(this.ar.serializer,o);i=i.add(s.path.popLast());const l=zE(c);r+=l-a.size,t.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=s2(this.ar.serializer,o.convertToNoDocument(ct.min()));t.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ar.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function M2(n){return di(n,"remoteDocumentGlobal")}function xu(n){return di(n,"remoteDocumentsV14")}function vm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function R2(n,e){const t=e.documentKey.path.toArray();return[n,UE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function P2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=At(t[s],r[s]),i)return i;return i=At(t.length,r.length),i||(i=At(t[t.length-2],r[r.length-2]),i||At(t[t.length-1],r[r.length-1]))}class zJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class x2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&lm(r.mutation,i,Ts.empty(),sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ft()){const i=sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=om();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ft()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=As();const o=am(),a=am();return t.forEach((c,l)=>{const f=r.get(l.key);i.has(l.key)&&(void 0===f||f.mutation instanceof Ka)?s=s.insert(l.key,l):void 0!==f?(o.set(l.key,f.mutation.getFieldMask()),lm(f.mutation,l,f.mutation.getFieldMask(),sr.now())):o.set(l.key,Ts.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var m;return a.set(l,new zJ(f,null!==(m=o.get(l))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=am();let i=new qn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let f=r.get(c)||Ts.empty();f=a.applyToLocalView(l,f),r.set(c,f);const m=(i.get(a.batchId)||Ft()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,f=c.value,m=EV();f.forEach(y=>{if(!s.has(y)){const I=MV(t.get(y),r.get(y));null!==I&&m.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,m))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):MT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(sa());let a=-1,c=s;return o.next(l=>te.forEach(l,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ft())).next(f=>({batchId:a,changes:vV(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let i=om();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=om();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,c=>{const l=(m=t,y=c.child(s),new Ga(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{const f=l.getKey();null===o.get(f)&&(o=o.insert(f,Xn.newInvalidDocument(f)))});let a=om();return o.forEach((c,l)=>{const f=s.get(c);void 0!==f&&lm(f.mutation,l,Ts.empty(),sr.now()),sm(t,l)&&(a=a.insert(c,l))}),a})}}class HJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return te.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:Or(i.createTime)}),te.resolve();var i}getNamedQuery(e,t){return te.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:$T(i.bundledQuery),readTime:Or(i.readTime)}),te.resolve();var i}}class qJ{constructor(){this.overlays=new qn(je.comparator),this.hr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=sa();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=sa(),s=t.length+1,o=new je(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new qn((l,f)=>l-f);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);null===f&&(f=sa(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=sa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return te.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kT(t,r));let s=this.hr.get(t);void 0===s&&(s=Ft(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}}class ZT{constructor(){this.Pr=new On(hi.Ir),this.Tr=new On(hi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new hi(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new hi(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new je(new en([])),r=new hi(t,e),i=new hi(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new je(new en([])),r=new hi(t,e),i=new hi(t,e+1);let s=Ft();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new hi(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return je.comparator(e.key,t.key)||At(e.pr,t.pr)}static Er(e,t){return At(e.pr,t.pr)||je.comparator(e.key,t.key)}}class GJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new On(hi.Ir)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.yr;this.yr++;const o=new OT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new hi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,t){return te.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),i=new hi(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(At);return t.forEach(i=>{const s=new hi(i,0),o=new hi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),te.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const o=new hi(new je(s),0);let a=new On(At);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),te.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){it(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return te.forEach(t.mutations,i=>{const s=new hi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new hi(t,0),i=this.wr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WJ{constructor(e){this.vr=e,this.docs=new qn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=As();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=As();const o=t.path,a=new je(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:f}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vT(ML(f),r)<=0||(i.has(f.key)||sm(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Qe()}Fr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KJ(this)}getSize(e){return te.resolve(this.size)}}class KJ extends D2{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class ZJ{constructor(e){this.persistence=e,this.Mr=new Wa(t=>wu(t),rm),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ZT,this.targetCount=0,this.Lr=Pu.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),te.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Pu(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.qn(t),te.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Nr.containsKey(t))}}class QT{constructor(e,t){this.Br={},this.overlays={},this.kr=new js(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ZJ(this),this.indexManager=new kJ,this.remoteDocumentCache=new WJ(r=>this.referenceDelegate.Kr(r)),this.serializer=new i2(t),this.$r=new HJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new GJ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new QJ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return te.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class QJ extends PL{constructor(e){super(),this.currentSequenceNumber=e}}class GE{constructor(e){this.persistence=e,this.zr=new ZT,this.jr=null}static Hr(e){return new GE(e)}get Jr(){if(this.jr)return this.jr;throw Qe()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),te.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,r=>{const i=je.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,ct.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return te.or([()=>te.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class YJ{constructor(e){this.serializer=e}O(e,t,r,i){const s=new bE("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FL,{unique:!0}),c.createObjectStore("documentMutations"),O2(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=te.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),O2(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ct.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,l){return l.store("mutations").U().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FL,{unique:!0});const m=l.store("mutations"),y=f.map(I=>m.put(I));return te.waitFor(y)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:LX});l.createIndex("collectionPathOverlayIndex",VX,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",UX,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:AX});l.createIndex("documentKeyIndex",DX),l.createIndex("collectionGroupIndex",SX)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:OX}).createIndex("sequenceNumberIndex",NX,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:kX}).createIndex("documentKeyIndex",FX,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),o}ei(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=zE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>te.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>te.forEach(a,c=>{it(c.userId===s.userId);const l=Su(this.serializer,c);return E2(e,s.userId,l).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const c=new en(o),l=[0,ki(c)];s.push(t.get(l).next(f=>f?te.resolve():t.put({targetId:0,path:ki(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>te.waitFor(s))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:xX});const r=t.store("collectionParents"),i=new KT,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:ki(c)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const c=new en(o);return s(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,c],l)=>{const f=ra(a);return s(f.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,i)=>{const s=gm(i),o=o2(this.serializer,s);return t.put(o)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=t.store("remoteDocumentsV14"),c=(m=o,m.document?new je(en.fromString(m.document.name).popFirst(5)):m.noDocument?je.fromSegments(m.noDocument.path):m.unknownDocument?je.fromSegments(m.unknownDocument.path):Qe()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(l))}).next(()=>te.waitFor(i))}si(e,t){const r=t.store("mutations"),i=S2(this.serializer),s=new QT(GE.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(c=>{var l;let f=null!==(l=a.get(c.userId))&&void 0!==l?l:Ft();Su(this.serializer,c).keys().forEach(m=>f=f.add(m)),a.set(c.userId,f)}),te.forEach(a,(c,l)=>{const f=new ui(l),m=BE.lt(this.serializer,f),y=s.getIndexManager(f),I=HE.lt(f,this.serializer,y,s.referenceDelegate);return new x2(i,I,m,y).recalculateAndSaveOverlaysForDocumentKeys(new bT(t,js.oe),c).next()})})}}function O2(n){n.createObjectStore("targetDocuments",{keyPath:RX}).createIndex("documentTargetsIndex",PX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MX,{unique:!0}),n.createObjectStore("targetGlobal")}const YT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XT{constructor(e,t,r,i,s,o,a,c,l,f,m=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=f,this.ui=m,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=y=>Promise.resolve(),!XT.D())throw new Ce(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BJ(this,i),this.Ti=t+"main",this.serializer=new i2(c),this.Ei=new na(this.Ti,this.ui,new YJ(this.serializer)),this.Qr=new LJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S2(this.serializer),this.$r=new MJ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,YT);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new js(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>KE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Jc(e))return Ae("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Em(e).get("owner").next(t=>te.resolve(this.Si(t)))}bi(e){return KE(e).delete(this.clientId)}Di(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=di(r,"clientMetadata");return i.U().next(s=>{const o=e.vi(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return te.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of t)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?te.resolve(!0):Em(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,YT);return!1}}return!(!this.networkEnabled||!this.inForeground)||KE(e).U().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ae("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bT(t,js.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>KE(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return HE.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return BE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){Ae("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=16===(c=this.ui)?jX:15===c?jL:14===c?BL:13===c?UL:12===c?BX:11===c?VL:void Qe();var c;let o;return this.Ei.runTransaction(e,i,s,a=>(o=new bT(a,this.kr?this.kr.next():js.oe),"readwrite-primary"===t?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ce(le.FAILED_PRECONDITION,RL);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Em(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ce(le.FAILED_PRECONDITION,YT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Em(e).put("owner",t)}static D(){return na.D()}yi(e){const t=Em(e);return t.get("owner").next(r=>this.Si(r)?(Ae("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Rt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Ae("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Em(n){return di(n,"owner")}function KE(n){return di(n,"clientMetadata")}function JT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class eA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=Ft(),i=Ft();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eA(e,t.fromCache,r,i)}}class XJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Rt.G6)()?8:xL((0,Rt.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new XJ;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Vh()<=ta.in.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(Vh()<=ta.in.DEBUG&&Ae("QueryEngine","Query:",Wh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Vh()<=ta.in.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):te.resolve())}ji(e,t){if(hV(t))return te.resolve(null);let r=Fi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=xE(t,null,"F"),r=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Zi(t,a);return this.Xi(t,l,o,c.readTime)?this.ji(e,xE(t,null,"F")):this.es(e,l,t,c)}))})))}Hi(e,t,r,i){return hV(t)||i.isEqual(ct.min())?te.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,r,i)?te.resolve(null):(Vh()<=ta.in.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wh(t)),this.es(e,o,t,SL(i,-1)).next(a=>a))})}Zi(e,t){let r=new On(_V(e));return t.forEach((i,s)=>{sm(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Vh()<=ta.in.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.zi.getDocumentsMatchingQuery(e,t,Bs.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class JJ{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new qn(At),this.rs=new Wa(s=>wu(s),rm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function k2(n,e,t,r){return new JJ(n,e,t,r)}function F2(n,e){return tA.apply(this,arguments)}function tA(){return(tA=(0,_e.Z)(function*(n,e){const t=Ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ft();for(const l of i){o.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}for(const l of s){a.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function L2(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function V2(n,e,t){let r=Ft(),i=Ft();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=As();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ct.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function nee(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sf(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new Za(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function af(n,e,t){return nA.apply(this,arguments)}function nA(){return(nA=(0,_e.Z)(function*(n,e,t){const r=Ue(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Jc(o))throw o;Ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function ZE(n,e,t){const r=Ue(n);let i=ct.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,f){const m=Ue(c),y=m.rs.get(f);return void 0!==y?te.resolve(m.ns.get(y)):m.Qr.getTargetData(l,f)}(r,o,Fi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:ct.min(),t?s:Ft())).next(a=>(j2(r,mV(e),a),{documents:a,hs:s})))}function U2(n,e){const t=Ue(n),r=Ue(t.Qr),i=t.ns.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function B2(n,e){const t=Ue(n),r=t.ss.get(e)||ct.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.os.getAllFromCollectionGroup(i,e,SL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(j2(t,e,i),i))}function j2(n,e,t){let r=n.ss.get(e)||ct.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}function rA(){return(rA=(0,_e.Z)(function*(n,e,t,r){const i=Ue(n);let s=Ft(),o=As();for(const l of t){const f=e.Ps(l.metadata.name);l.document&&(s=s.add(f));const m=e.Is(l);m.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(f,m)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=yield sf(i,(f=r,Fi(qh(en.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>V2(l,a,o).next(f=>(a.apply(l),f)).next(f=>i.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Qr.addMatchingKeys(l,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,f.cs,f.ls)).next(()=>f.cs)))})).apply(this,arguments)}function iee(n,e){return iA.apply(this,arguments)}function iA(){return(iA=(0,_e.Z)(function*(n,e,t=Ft()){const r=yield sf(n,Fi($T(e.bundledQuery))),i=Ue(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Or(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(si.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})})).apply(this,arguments)}function $2(n,e){return`firestore_clients_${n}_${e}`}function z2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sA(n,e){return`firestore_targets_${n}_${e}`}class QE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Ce(i.error.code,i.error.message))),o?new QE(e,t,i.state,s):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Im{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ce(r.error.code,r.error.message))),s?new Im(e,r.state,i):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=PT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=NL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new YE(e,s):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class oA{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oA(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aA{constructor(){this.activeTargetIds=PT()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cA{constructor(e,t,r,i,s){this.window=e,this.oi=t,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new qn(At),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=$2(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new aA),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Vs)continue;const s=e.getItem($2(e.persistenceKey,i));if(s){const o=YE.Es(i,s);o&&(e.ps=e.ps.insert(o.clientId,o))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sA(this.persistenceKey,e));if(r){const i=Im.Es(e,r);i&&(t=i.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sA(this.persistenceKey,e))}updateQueryState(e,t,r){this.qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ae("SharedClientState","READ",e,t),t}setItem(e,t){Ae("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ae("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ae("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.bs.test(r.key)){if(null==r.newValue){const i=t.$s(r.key);return t.Us(i,null)}{const i=t.Ws(r.key,r.newValue);if(i)return t.Us(i.clientId,i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.Gs(r.key,r.newValue);if(i)return t.zs(i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.js(r.key,r.newValue);if(i)return t.Hs(i)}}else if(r.key===t.vs){if(null!==r.newValue){const i=t.xs(r.newValue);if(i)return t.Os(i)}}else if(r.key===t.Ss){const i=function(o){let a=js.oe;if(null!=o)try{const c=JSON.parse(o);it("number"==typeof c),a=c}catch(c){xr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==js.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Fs){const i=t.Js(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Ys(s)))}}else t.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,r){const i=new QE(this.currentUser,e,t,r),s=z2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const t=z2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,r){const i=sA(this.persistenceKey,e),s=new Im(e,t,r);this.setItem(i,s.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const r=this.$s(e);return YE.Es(r,t)}Gs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return QE.Es(new ui(void 0!==r[2]?r[2]:null),i,t)}js(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return Im.Es(i,t)}xs(e){return oA.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);Ae("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=PT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class H2{constructor(){this.no=new aA,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new aA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class see{io(e){}shutdown(){}}class q2{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XE=null;function lA(){return null===XE?XE=268435456+Math.round(2147483648*Math.random()):XE++,"0x"+XE.toString(16)}const oee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Vi="WebChannelConnection";class cee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(t,r,i,s,o){const a=lA(),c=this.vo(t,r.toUriEncodedString());Ae("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(t,c,l,i).then(f=>(Ae("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Cs("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}xo(t,r,i,s,o,a){return this.Co(t,r,i,s,o)}Fo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Lh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}vo(t,r){return`${this.wo}/v1/${r}:${oee[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const s=lA();return new Promise((o,a)=>{const c=new _L;c.setWithCredentials(!0),c.listenOnce(vL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case IE.NO_ERROR:const f=c.getResponseJson();Ae(Vi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case IE.TIMEOUT:Ae(Vi,`RPC '${e}' ${s} timed out`),a(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case IE.HTTP_ERROR:const m=c.getStatus();if(Ae(Vi,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y?.error;if(I&&I.status&&I.message){const T=function(L){const W=L.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(I.status);a(new Ce(T,I.message))}else a(new Ce(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Ae(Vi,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Ae(Vi,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Oo(e,t,r){const i=lA(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bL(),a=IL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new yL({})),this.Fo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Ae(Vi,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let y=!1,I=!1;const T=new aee({lo:L=>{I?Ae(Vi,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(y||(Ae(Vi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ae(Vi,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},ho:()=>m.close()}),F=(L,W,z)=>{L.listen(W,X=>{try{z(X)}catch(ae){setTimeout(()=>{throw ae},0)}})};return F(m,Wg.EventType.OPEN,()=>{I||(Ae(Vi,`RPC '${e}' stream ${i} transport opened.`),T.mo())}),F(m,Wg.EventType.CLOSE,()=>{I||(I=!0,Ae(Vi,`RPC '${e}' stream ${i} transport closed`),T.po())}),F(m,Wg.EventType.ERROR,L=>{I||(I=!0,Cs(Vi,`RPC '${e}' stream ${i} transport errored:`,L),T.po(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),F(m,Wg.EventType.MESSAGE,L=>{var W;if(!I){const z=L.data[0];it(!!z);const ae=z.error||(null===(W=z[0])||void 0===W?void 0:W.error);if(ae){Ae(Vi,`RPC '${e}' stream ${i} received error:`,ae);const Se=ae.status;let $e=function($){const K=Kr[$];if(void 0!==K)return FV(K)}(Se),q=ae.message;void 0===$e&&($e=le.INTERNAL,q="Unknown error status: "+Se+" with message "+ae.message),I=!0,T.po(new Ce($e,q)),m.close()}else Ae(Vi,`RPC '${e}' stream ${i} received:`,z),T.yo(z)}}),F(a,EL.STAT_EVENT,L=>{L.stat===mT.PROXY?Ae(Vi,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===mT.NOPROXY&&Ae(Vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.fo()},0),T}}function G2(){return typeof window<"u"?window:null}function JE(){return typeof document<"u"?document:null}function bm(n){return new yJ(n,!0)}class uA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class W2{constructor(e,t,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new uA(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,_e.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,_e.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new Ce(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o((0,_e.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lee extends W2{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function IJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Qe(),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(it(void 0===f||"string"==typeof f),si.fromBase64String(f||"")):(it(void 0===f||f instanceof Buffer||f instanceof Uint8Array),si.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const f=void 0===l.code?le.UNKNOWN:FV(l.code);return new Ce(f,l.message||"")}(o);t=new jV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=oa(n,r.document.name),s=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):ct.min(),a=new bi({mapValue:{fields:r.document.fields}}),c=Xn.newFoundDocument(i,s,o,a);t=new LE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=oa(n,r.document),s=r.readTime?Or(r.readTime):ct.min(),o=Xn.newNoDocument(i,s);t=new LE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=oa(n,r.document);t=new LE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Qe();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new hJ(i,s);t=new BV(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?Or(o.readTime):ct.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=BT(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=RE(c)?{documents:XV(s,c)}:{query:VE(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qV(s,o.resumeToken);const l=LT(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ct.min())>0){a.readTime=Xh(s,o.snapshotVersion.toTimestamp());const l=LT(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function wJ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=BT(this.serializer),t.removeTarget=e,this.i_(t)}}class uee extends W2{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function bJ(n,e){return n&&n.length>0?(it(void 0!==e),n.map(t=>function(i,s){let o=Or(i.updateTime?i.updateTime:s);return o.isEqual(ct.min())&&(o=Or(s)),new lJ(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.A_(r,t)}return it(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=BT(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pm(this.serializer,r))};this.i_(t)}}class dee extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,UT(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(le.UNKNOWN,s.toString())})}xo(e,t,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,UT(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(le.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class hee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(xr(t),this.y_=!1):Ae("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class fee{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget((0,_e.Z)(function*(){var c;ul(o)&&(Ae("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,_e.Z)(function*(f){const m=Ue(f);m.M_.add(4),yield cf(m),m.N_.set("Unknown"),m.M_.delete(4),yield wm(m)}),function l(f){return c.apply(this,arguments)})(o))}))}),this.N_=new hee(r,i)}}function wm(n){return dA.apply(this,arguments)}function dA(){return(dA=(0,_e.Z)(function*(n){if(ul(n))for(const e of n.x_)yield e(!0)})).apply(this,arguments)}function cf(n){return hA.apply(this,arguments)}function hA(){return(hA=(0,_e.Z)(function*(n){for(const e of n.x_)yield e(!1)})).apply(this,arguments)}function eI(n,e){const t=Ue(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),gA(t)?pA(t):df(t).Xo()&&fA(t,e))}function lf(n,e){const t=Ue(n),r=df(t);t.F_.delete(e),r.Xo()&&K2(t,e),0===t.F_.size&&(r.Xo()?r.n_():ul(t)&&t.N_.set("Unknown"))}function fA(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}df(n).P_(e)}function K2(n,e){n.L_.xe(e),df(n).I_(e)}function pA(n){n.L_=new pJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),df(n).start(),n.N_.w_()}function gA(n){return ul(n)&&!df(n).Zo()&&n.F_.size>0}function ul(n){return 0===Ue(n).M_.size}function Z2(n){n.L_=void 0}function pee(n){return mA.apply(this,arguments)}function mA(){return(mA=(0,_e.Z)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function gee(n){return _A.apply(this,arguments)}function _A(){return(_A=(0,_e.Z)(function*(n){n.F_.forEach((e,t)=>{fA(n,e)})})).apply(this,arguments)}function mee(n,e){return yA.apply(this,arguments)}function yA(){return(yA=(0,_e.Z)(function*(n,e){Z2(n),gA(n)?(n.N_.D_(e),pA(n)):n.N_.set("Unknown")})).apply(this,arguments)}function _ee(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,_e.Z)(function*(n,e,t){if(n.N_.set("Online"),e instanceof jV&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.F_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.F_.delete(c),s.L_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){Ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tI(n,r)}else if(e instanceof LE?n.L_.Ke(e):e instanceof BV?n.L_.He(e):n.L_.We(e),!t.isEqual(ct.min()))try{const r=yield L2(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.F_.get(l);f&&s.F_.set(l,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const f=s.F_.get(c);if(!f)return;s.F_.set(c,f.withResumeToken(si.EMPTY_BYTE_STRING,f.snapshotVersion)),K2(s,c);const m=new Za(f.target,c,l,f.sequenceNumber);fA(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ae("RemoteStore","Failed to raise snapshot:",r),yield tI(n,r)}var r}),vA.apply(this,arguments)}function tI(n,e,t){return EA.apply(this,arguments)}function EA(){return(EA=(0,_e.Z)(function*(n,e,t){if(!Jc(e))throw e;n.M_.add(1),yield cf(n),n.N_.set("Offline"),t||(t=()=>L2(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield wm(n)}))})).apply(this,arguments)}function Q2(n,e){return e().catch(t=>tI(n,t,e))}function uf(n){return IA.apply(this,arguments)}function IA(){return(IA=(0,_e.Z)(function*(n){const e=Ue(n),t=dl(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;yee(e);)try{const i=yield nee(e.localStore,r);if(null===i){0===e.v_.length&&t.n_();break}r=i.batchId,vee(e,i)}catch(i){yield tI(e,i)}Y2(e)&&X2(e)})).apply(this,arguments)}function yee(n){return ul(n)&&n.v_.length<10}function vee(n,e){n.v_.push(e);const t=dl(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function Y2(n){return ul(n)&&!dl(n).Zo()&&n.v_.length>0}function X2(n){dl(n).start()}function Eee(n){return bA.apply(this,arguments)}function bA(){return(bA=(0,_e.Z)(function*(n){dl(n).V_()})).apply(this,arguments)}function Iee(n){return wA.apply(this,arguments)}function wA(){return(wA=(0,_e.Z)(function*(n){const e=dl(n);for(const t of n.v_)e.d_(t.mutations)})).apply(this,arguments)}function bee(n,e,t){return CA.apply(this,arguments)}function CA(){return(CA=(0,_e.Z)(function*(n,e,t){const r=n.v_.shift(),i=NT.from(r,e,t);yield Q2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uf(n)})).apply(this,arguments)}function wee(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n,e){var t;e&&dl(n).E_&&(yield(t=(0,_e.Z)(function*(i,s){if(kV(a=s.code)&&a!==le.ABORTED){const o=i.v_.shift();dl(i).t_(),yield Q2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield uf(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),Y2(n)&&X2(n)}),TA.apply(this,arguments)}function J2(n,e){return AA.apply(this,arguments)}function AA(){return(AA=(0,_e.Z)(function*(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const r=ul(t);t.M_.add(3),yield cf(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield wm(t)})).apply(this,arguments)}function DA(n,e){return SA.apply(this,arguments)}function SA(){return(SA=(0,_e.Z)(function*(n,e){const t=Ue(n);e?(t.M_.delete(2),yield wm(t)):e||(t.M_.add(2),yield cf(t),t.N_.set("Unknown"))})).apply(this,arguments)}function df(n){return n.B_||(n.B_=function(t,r,i){const s=Ue(t);return s.f_(),new lee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:pee.bind(null,n),To:gee.bind(null,n),Ao:mee.bind(null,n),h_:_ee.bind(null,n)}),n.x_.push(function(){var e=(0,_e.Z)(function*(t){t?(n.B_.t_(),gA(n)?pA(n):n.N_.set("Unknown")):(yield n.B_.stop(),Z2(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function dl(n){return n.k_||(n.k_=function(t,r,i){const s=Ue(t);return s.f_(),new uee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:Eee.bind(null,n),Ao:wee.bind(null,n),R_:Iee.bind(null,n),A_:bee.bind(null,n)}),n.x_.push(function(){var e=(0,_e.Z)(function*(t){t?(n.k_.t_(),yield uf(n)):(yield n.k_.stop(),n.v_.length>0&&(Ae("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class MA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new MA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Jc(n))return new Ce(le.UNAVAILABLE,`${e}: ${n}`);throw n}class ff{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=om(),this.sortedSet=new qn(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ff;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eU{constructor(){this.q_=new qn(je.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Qe():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pf{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new pf(e,t,ff.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Cee{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Tee{constructor(){this.queries=new Wa(e=>gV(e),im),this.onlineState="Unknown",this.z_=new Set}}function RA(n,e){return PA.apply(this,arguments)}function PA(){return(PA=(0,_e.Z)(function*(n,e){const t=Ue(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Cee,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=hf(o,`Initialization of query '${Wh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&NA(t)})).apply(this,arguments)}function xA(n,e){return OA.apply(this,arguments)}function OA(){return(OA=(0,_e.Z)(function*(n,e){const t=Ue(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Aee(n,e){const t=Ue(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&NA(t)}function Dee(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(t);r.queries.delete(e)}function NA(n){n.z_.forEach(e=>{e.next()})}var kA,tU;(tU=kA||(kA={})).J_="default",tU.Cache="cache";class FA{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==kA.Cache}}class See{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class nU{constructor(e){this.serializer=e}Ps(e){return oa(this.serializer,e)}Is(e){return e.metadata.exists?YV(this.serializer,e.document,!1):Xn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Or(e)}}class Mee{constructor(e,t,r){this.oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rU(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const r=en.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,r=new nU(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Ft()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function ree(n,e,t,r){return rA.apply(this,arguments)}(e.localStore,new nU(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield iee(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function rU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iU{constructor(e){this.key=e}}class sU{constructor(e){this.key=e}}class oU{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ft(),this.mutatedKeys=Ft(),this.Ia=_V(e),this.Ta=new ff(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new eU,i=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),I=sm(this.query,m)?m:null,T=!!y&&this.mutatedKeys.has(y.key),F=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;y&&I?y.data.isEqual(I.data)?T!==F&&(r.track({type:3,doc:I}),L=!0):this.Ra(y,I)||(r.track({type:2,doc:I}),L=!0,(c&&this.Ia(I,c)>0||l&&this.Ia(I,l)<0)&&(a=!0)):!y&&I?(r.track({type:0,doc:I}),L=!0):y&&!I&&(r.track({type:1,doc:y}),L=!0,(c||l)&&(a=!0)),L&&(I?(o=o.add(I),s=F?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(I,T){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return F(I)-F(T)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],c=0===this.Pa.size&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,0!==o.length||l?{snapshot:new pf(this.query,e.Ta,s,o,e.mutatedKeys,0===c,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new eU,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ft(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new sU(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new iU(r))}),t}pa(e){this.la=e.hs,this.Pa=Ft();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return pf.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ree{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Pee{constructor(e){this.key=e,this.wa=!1}}class xee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Wa(a=>gV(a),im),this.Da=new Map,this.Ca=new Set,this.va=new qn(je.comparator),this.Fa=new Map,this.Ma=new ZT,this.xa={},this.Oa=new Map,this.Na=Pu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Oee(n,e){return LA.apply(this,arguments)}function LA(){return(LA=(0,_e.Z)(function*(n,e,t=!0){const r=nI(n);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield aU(r,e,t,!0),i})).apply(this,arguments)}function Nee(n,e){return VA.apply(this,arguments)}function VA(){return(VA=(0,_e.Z)(function*(n,e){const t=nI(n);yield aU(t,e,!0,!1)})).apply(this,arguments)}function aU(n,e,t,r){return UA.apply(this,arguments)}function UA(){return(UA=(0,_e.Z)(function*(n,e,t,r){const i=yield sf(n.localStore,Fi(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield BA(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&eI(n.remoteStore,i),a})).apply(this,arguments)}function BA(n,e,t,r,i){return jA.apply(this,arguments)}function jA(){return jA=(0,_e.Z)(function*(n,e,t,r,i){n.Ba=(m,y,I)=>{return(T=(0,_e.Z)(function*(L,W,z,X){let ae=W.view.da(z);ae.Xi&&(ae=yield ZE(L.localStore,W.query,!1).then(({documents:B})=>W.view.da(B,ae)));const Se=X&&X.targetChanges.get(W.targetId),$e=X&&null!=X.targetMismatches.get(W.targetId),q=W.view.applyChanges(ae,L.isPrimaryClient,Se,$e);return XA(L,W.targetId,q.fa),q.snapshot}),function F(L,W,z,X){return T.apply(this,arguments)})(n,m,y,I);var T};const s=yield ZE(n.localStore,e,!0),o=new oU(e,s.hs),a=o.da(s.documents),c=hm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);XA(n,t,l.fa);const f=new Ree(e,t,o);return n.ba.set(e,f),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),l.snapshot}),jA.apply(this,arguments)}function kee(n,e,t){return $A.apply(this,arguments)}function $A(){return($A=(0,_e.Z)(function*(n,e,t){const r=Ue(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!im(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield af(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&lf(r.remoteStore,i.targetId),gf(r,i.targetId)}).catch(Xc))):(gf(r,i.targetId),yield af(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Fee(n,e){return zA.apply(this,arguments)}function zA(){return(zA=(0,_e.Z)(function*(n,e){const t=Ue(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lf(t.remoteStore,r.targetId))})).apply(this,arguments)}function HA(){return(HA=(0,_e.Z)(function*(n,e,t){const r=lD(n);try{const i=yield function(o,a){const c=Ue(o),l=sr.now(),f=a.reduce((I,T)=>I.add(T.key),Ft());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let T=As(),F=Ft();return c.os.getEntries(I,f).next(L=>{T=L,T.forEach((W,z)=>{z.isValidDocument()||(F=F.add(W))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,T)).next(L=>{m=L;const W=[];for(const z of a){const X=dJ(z,m.get(z.key).overlayedDocument);null!=X&&W.push(new Ka(z.key,X,JL(X.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(I,l,W,a)}).next(L=>{y=L;const W=L.applyToLocalDocumentSet(m,F);return c.documentOverlayCache.saveOverlays(I,L.batchId,W)})}).then(()=>({batchId:y.batchId,changes:vV(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new qn(At)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Qa(r,i.changes),yield uf(r.remoteStore)}catch(i){const s=hf(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function cU(n,e){return qA.apply(this,arguments)}function qA(){return(qA=(0,_e.Z)(function*(n,e){const t=Ue(n);try{const r=yield function tee(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(t.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>t.Qr.addMatchingKeys(s,f.addedDocuments,m)));let I=y.withSequenceNumber(s.currentSequenceNumber);var F,L,W;null!==e.targetMismatches.get(m)?I=I.withResumeToken(si.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(m,I),L=I,W=f,(0===(F=y).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(s,I))});let c=As(),l=Ft();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(V2(s,o,e.documentUpdates).next(f=>{c=f.cs,l=f.ls})),!r.isEqual(ct.min())){const f=t.Qr.getLastRemoteSnapshotVersion(s).next(m=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.ns=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Fa.get(s);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?it(o.wa):i.removedDocuments.size>0&&(it(o.wa),o.wa=!1))}),yield Qa(t,r,e)}catch(r){yield Xc(r)}})).apply(this,arguments)}function lU(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Ue(o);c.onlineState=a;let l=!1;c.queries.forEach((f,m)=>{for(const y of m.U_)y.j_(a)&&(l=!0)}),l&&NA(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vee(n,e,t){return GA.apply(this,arguments)}function GA(){return(GA=(0,_e.Z)(function*(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new qn(je.comparator);o=o.insert(s,Xn.newNoDocument(s,ct.min()));const a=Ft().add(s),c=new dm(ct.min(),new Map,new qn(At),o,a);yield cU(r,c),r.va=r.va.remove(s),r.Fa.delete(e),JA(r)}else yield af(r.localStore,e,!1).then(()=>gf(r,e,t)).catch(Xc)})).apply(this,arguments)}function Uee(n,e){return WA.apply(this,arguments)}function WA(){return(WA=(0,_e.Z)(function*(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=yield function eee(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,f){const m=l.batch,y=m.keys();let I=te.resolve();return y.forEach(T=>{I=I.next(()=>f.getEntry(c,T)).next(F=>{const L=l.docVersions.get(T);it(null!==L),F.version.compareTo(L)<0&&(m.applyToRemoteDocument(F,l),F.isValidDocument()&&(F.setReadTime(l.commitVersion),f.addEntry(F)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ft();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);YA(t,r,null),QA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qa(t,i)}catch(i){yield Xc(i)}})).apply(this,arguments)}function Bee(n,e,t){return KA.apply(this,arguments)}function KA(){return(KA=(0,_e.Z)(function*(n,e,t){const r=Ue(n);try{const i=yield function(o,a){const c=Ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return c.mutationQueue.lookupMutationBatch(l,a).next(m=>(it(null!==m),f=m.keys(),c.mutationQueue.removeMutationBatch(l,m))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>c.localDocuments.getDocuments(l,f))})}(r.localStore,e);YA(r,e,t),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qa(r,i)}catch(i){yield Xc(i)}})).apply(this,arguments)}function ZA(){return(ZA=(0,_e.Z)(function*(n,e){const t=Ue(n);ul(t.remoteStore)||Ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=Ue(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Oa.get(r)||[];i.push(e),t.Oa.set(r,i)}catch(r){const i=hf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function QA(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function YA(n,e,t){const r=Ue(n);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||uU(n,r)})}function uU(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(lf(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),JA(n))}function XA(n,e,t){for(const r of t)r instanceof iU?(n.Ma.addReference(r.key,e),$ee(n,r)):r instanceof sU?(Ae("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||uU(n,r.key)):Qe()}function $ee(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(Ae("SyncEngine","New document in limbo: "+t),n.Ca.add(r),JA(n))}function JA(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new je(en.fromString(e)),r=n.Na.next();n.Fa.set(r,new Pee(t)),n.va=n.va.insert(t,r),eI(n.remoteStore,new Za(Fi(qh(t.path)),r,"TargetPurposeLimboResolution",js.oe))}}function Qa(n,e,t){return eD.apply(this,arguments)}function eD(){return eD=(0,_e.Z)(function*(n,e,t){const r=Ue(n),i=[],s=[],o=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l&&!l.fromCache?"current":"not-current"),l){i.push(l);const f=eA.Ki(c.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Sa.h_(i),yield(a=(0,_e.Z)(function*(l,f){const m=Ue(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>te.forEach(f,I=>te.forEach(I.qi,T=>m.persistence.referenceDelegate.addReference(y,I.targetId,T)).next(()=>te.forEach(I.Qi,T=>m.persistence.referenceDelegate.removeReference(y,I.targetId,T)))))}catch(y){if(!Jc(y))throw y;Ae("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const I=y.targetId;if(!y.fromCache){const T=m.ns.get(I),L=T.withLastLimboFreeSnapshotVersion(T.snapshotVersion);m.ns=m.ns.insert(I,L)}}}),function c(l,f){return a.apply(this,arguments)})(r.localStore,s))}),eD.apply(this,arguments)}function zee(n,e){return tD.apply(this,arguments)}function tD(){return(tD=(0,_e.Z)(function*(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){Ae("SyncEngine","User change. New user:",e.toKey());const r=yield F2(t.localStore,e);t.currentUser=e,(s=t).Oa.forEach(a=>{a.forEach(c=>{c.reject(new Ce(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qa(t,r.us)}var s})).apply(this,arguments)}function Hee(n,e){const t=Ue(n),r=t.Fa.get(e);if(r&&r.wa)return Ft().add(r.key);{let i=Ft();const s=t.Da.get(e);if(!s)return i;for(const o of s){const a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function qee(n,e){return nD.apply(this,arguments)}function nD(){return(nD=(0,_e.Z)(function*(n,e){const t=Ue(n),r=yield ZE(t.localStore,e.query,!0),i=e.view.pa(r);return t.isPrimaryClient&&XA(t,e.targetId,i.fa),i})).apply(this,arguments)}function Gee(n,e){return rD.apply(this,arguments)}function rD(){return(rD=(0,_e.Z)(function*(n,e){const t=Ue(n);return B2(t.localStore,e).then(r=>Qa(t,r))})).apply(this,arguments)}function Wee(n,e,t,r){return iD.apply(this,arguments)}function iD(){return(iD=(0,_e.Z)(function*(n,e,t,r){const i=Ue(n),s=yield function(a,c){const l=Ue(a),f=Ue(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",m=>f.vn(m,c).next(y=>y?l.localDocuments.getDocuments(m,y):te.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===t?yield uf(i.remoteStore):"acknowledged"===t||"rejected"===t?(YA(i,e,r||null),QA(i,e),c=e,Ue(Ue(i.localStore).mutationQueue).Mn(c)):Qe(),yield Qa(i,s)):Ae("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function sD(){return(sD=(0,_e.Z)(function*(n,e){const t=Ue(n);if(nI(t),lD(t),!0===e&&!0!==t.La){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield dU(t,r.toArray());t.La=!0,yield DA(t.remoteStore,!0);for(const s of i)eI(t.remoteStore,s)}else if(!1===e&&!1!==t.La){const r=[];let i=Promise.resolve();t.Da.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(gf(t,o),af(t.localStore,o,!0))),lf(t.remoteStore,o)}),yield i,yield dU(t,r),function(o){const a=Ue(o);a.Fa.forEach((c,l)=>{lf(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new qn(je.comparator)}(t),t.La=!1,yield DA(t.remoteStore,!1)}})).apply(this,arguments)}function dU(n,e,t){return oD.apply(this,arguments)}function oD(){return(oD=(0,_e.Z)(function*(n,e,t){const r=Ue(n),i=[],s=[];for(const o of e){let a;const c=r.Da.get(o);if(c&&0!==c.length){a=yield sf(r.localStore,Fi(c[0]));for(const l of c){const f=r.ba.get(l),m=yield qee(r,f);m.snapshot&&s.push(m.snapshot)}}else{const l=yield U2(r.localStore,o);a=yield sf(r.localStore,l),yield BA(r,hU(l),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})).apply(this,arguments)}function hU(n){return dV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Zee(n){return t=Ue(n).localStore,Ue(Ue(t).persistence).Bi();var t}function Qee(n,e,t,r){return aD.apply(this,arguments)}function aD(){return(aD=(0,_e.Z)(function*(n,e,t,r){const i=Ue(n);if(i.La)return void Ae("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield B2(i.localStore,mV(s[0])),a=dm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,si.EMPTY_BYTE_STRING);yield Qa(i,o,a);break}case"rejected":yield af(i.localStore,e,!0),gf(i,e,r);break;default:Qe()}})).apply(this,arguments)}function Yee(n,e,t){return cD.apply(this,arguments)}function cD(){return(cD=(0,_e.Z)(function*(n,e,t){const r=nI(n);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ae("SyncEngine","Adding an already active target "+i);continue}const s=yield U2(r.localStore,i),o=yield sf(r.localStore,s);yield BA(r,hU(s),o.targetId,!1,o.resumeToken),eI(r.remoteStore,o)}for(const i of t)r.Da.has(i)&&(yield af(r.localStore,i,!1).then(()=>{lf(r.remoteStore,i),gf(r,i)}).catch(Xc))}})).apply(this,arguments)}function nI(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vee.bind(null,e),e.Sa.h_=Aee.bind(null,e.eventManager),e.Sa.ka=Dee.bind(null,e.eventManager),e}function lD(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bee.bind(null,e),e}class Cm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=bm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return k2(this.persistence,new N2,e.initialUser,this.serializer)}createPersistence(e){return new QT(GE.Hr,this.serializer)}createSharedClientState(e){return new H2}terminate(){var e=this;return(0,_e.Z)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uD extends Cm{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Qa.initialize(r,e),yield lD(r.Qa.syncEngine),yield uf(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return k2(this.persistence,new N2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new T2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new wX(t,this.persistence);return new bX(e.asyncQueue,r)}createPersistence(e){const t=JT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new XT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,G2(),JE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new H2}}class fU extends uD{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof cA&&(r.sharedClientState.syncEngine={Zs:Wee.bind(null,i),Xs:Qee.bind(null,i),eo:Yee.bind(null,i),Bi:Zee.bind(null,i),Ys:Gee.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var s=(0,_e.Z)(function*(o){yield function Kee(n,e){return sD.apply(this,arguments)}(r.Qa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=G2();if(!cA.D(t))throw new Ce(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=JT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class mf{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zee.bind(null,r.syncEngine),yield DA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tee}createDatastore(e){const t=bm(e.databaseInfo.databaseId),r=new cee(e.databaseInfo);return new dee(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>lU(this.syncEngine,t,0),a=q2.D()?new q2:new see,new fee(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,l,f){const m=new xee(i,s,o,a,c,l);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,_e.Z)(function*(){var t,r;yield(r=(0,_e.Z)(function*(s){const o=Ue(s);Ae("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield cf(o),o.O_.shutdown(),o.N_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function pU(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ete{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,_e.Z)(function*(){const t=yield e.za();if(null===t)return null;const r=e.Wa.decode(t),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const s=yield e.Ha(i);return new See(JSON.parse(s),t.length+i)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,_e.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ha(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const r=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ua.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tte{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Ce(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,_e.Z)(function*(o,a){const c=Ue(o),l={documents:a.map(I=>fm(c.serializer,I))},f=yield c.xo("BatchGetDocuments",c.serializer.databaseId,en.emptyPath(),l,a.length),m=new Map;f.forEach(I=>{const T=function EJ(n,e){return"found"in e?function(r,i){it(!!i.found);const s=oa(r,i.found.name),o=Or(i.found.updateTime),a=i.found.createTime?Or(i.found.createTime):ct.min(),c=new bi({mapValue:{fields:i.found.fields}});return Xn.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){it(!!i.missing),it(!!i.readTime);const s=oa(r,i.missing),o=Or(i.readTime);return Xn.newNoDocument(s,o)}(n,e):Qe()}(c.serializer,I);m.set(T.key.toString(),T)});const y=[];return a.forEach(I=>{const T=m.get(I.toString());it(!!T),y.push(T)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=je.fromPath(i);e.mutations.push(new xT(s,e.precondition(s)))}),yield(r=(0,_e.Z)(function*(s,o){const a=Ue(s),c={writes:o.map(l=>pm(a.serializer,l))};yield a.Co("Commit",a.serializer.databaseId,en.emptyPath(),c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qe();t=ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ce(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ct.min())?or.exists(!1):or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ct.min()))throw new Ce(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nte{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new uA(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,_e.Z)(function*(){const t=new tte(e.datastore),r=e.tu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.nu(s)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const t=this.updateFunction(e);return!Qg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kV(t)}return!1}}class rte{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=AL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,_e.Z)(function*(a){Ae("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=hf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function iI(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(s){r.isEqual(s)||(yield F2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),dD.apply(this,arguments)}function hD(n,e){return fD.apply(this,arguments)}function fD(){return(fD=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pD(n);Ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>J2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>J2(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function gU(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function pD(n){return gD.apply(this,arguments)}function gD(){return(gD=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!gU(t))throw t;Cs("Error using user provided cache. Falling back to memory cache: "+t),yield iI(n,new Cm)}}else Ae("FirestoreClient","Using default OfflineComponentProvider"),yield iI(n,new Cm);return n._offlineComponents})).apply(this,arguments)}function sI(n){return mD.apply(this,arguments)}function mD(){return(mD=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield hD(n,n._uninitializedComponentsProvider._online)):(Ae("FirestoreClient","Using default OnlineComponentProvider"),yield hD(n,new mf))),n._onlineComponents})).apply(this,arguments)}function mU(n){return pD(n).then(e=>e.persistence)}function _f(n){return pD(n).then(e=>e.localStore)}function _U(n){return sI(n).then(e=>e.remoteStore)}function _D(n){return sI(n).then(e=>e.syncEngine)}function yf(n){return yD.apply(this,arguments)}function yD(){return(yD=(0,_e.Z)(function*(n){const e=yield sI(n),t=e.eventManager;return t.onListen=Oee.bind(null,e.syncEngine),t.onUnlisten=kee.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fee.bind(null,e.syncEngine),t})).apply(this,arguments)}function vU(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,o,a,c,l){const f=new rI({next:y=>{o.enqueueAndForget(()=>xA(s,m));const I=y.docs.has(a);!I&&y.fromCache?l.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&y.fromCache&&c&&"server"===c.source?l.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),m=new FA(qh(a.path),f,{includeMetadataChanges:!0,ra:!0});return RA(s,m)}(yield yf(n),n.asyncQueue,e,t,r)})),r.promise}function EU(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,o,a,c,l){const f=new rI({next:y=>{o.enqueueAndForget(()=>xA(s,m)),y.fromCache&&"server"===c.source?l.reject(new Ce(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),m=new FA(a,f,{includeMetadataChanges:!0,ra:!0});return RA(s,m)}(yield yf(n),n.asyncQueue,e,t,r)})),r.promise}function IU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const bU=new Map;function vD(n,e,t){if(!t)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wU(n,e,t,r){if(!0===e&&!0===r)throw new Ce(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CU(n){if(!je.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TU(n){if(je.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Qe()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oI(n);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AU(n,e){if(e<=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class DU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new uX;switch(r.type){case"firstParty":return new pX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bU.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),bU.delete(t),r.terminate())}(this),Promise.resolve()}}function SU(n,e,t,r={}){var i;const s=(n=qt(n,Tm))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=ui.MOCK_USER;else{a=(0,Rt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ui(l)}n._authCredentials=new dX(new CL(a,c))}}class wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class aa extends wi{constructor(e,t,r){super(e,t,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new je(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function MU(n,e,...t){if(n=(0,Rt.m9)(n),vD("collection","path",e),n instanceof Tm){const r=en.fromString(e,...t);return TU(r),new aa(n,null,r)}{if(!(n instanceof Jn||n instanceof aa))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return TU(r),new aa(n.firestore,null,r)}}function aI(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=AL.newId()),vD("doc","path",e),n instanceof Tm){const r=en.fromString(e,...t);return CU(r),new Jn(n,null,new je(r))}{if(!(n instanceof Jn||n instanceof aa))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return CU(r),new Jn(n.firestore,n instanceof aa?n.converter:null,new je(r))}}function RU(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Jn||n instanceof aa)&&(e instanceof Jn||e instanceof aa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ED(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof wi&&e instanceof wi&&n.firestore===e.firestore&&im(n._query,e._query)&&n.converter===e.converter}class mte{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new uA(this,"async_queue_retry"),this.hu=()=>{const t=JE();t&&Ae("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=JE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=JE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new ii;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,_e.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!Jc(t))throw t;Ae("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,xr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=MA.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Qe()}verifyOperationInProgress(){}du(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function ID(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class _te{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nn extends Tm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PU(this),this._firestoreClient.terminate()}}function vte(n,e){const t="object"==typeof n?n:(0,Er.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Er._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,Rt.P0)("firestore");s&&SU(i,...s)}return i}function ar(n){return n._firestoreClient||PU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PU(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new HX(n._databaseId,c,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,IU(f.experimentalLongPollingOptions),f.useFetchStreams));var c,f;n._firestoreClient=new rte(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function xU(n,e,t){const r=new ii;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield iI(n,t),yield hD(n,e),r.resolve()}catch(i){const s=i;if(!gU(s))throw s;Cs("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function OU(n){if(n._initialized||n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(si.fromBase64String(e))}catch(t){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ca(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ou{constructor(e){this._methodName=e}}class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}const Mte=/^__.*__$/;class Rte{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class NU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class lI{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new lI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hI(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(kU(this.fu)&&Mte.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Pte{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bm(e)}Fu(e,t,r,i=!1){return new lI({fu:e,methodName:t,vu:r,path:Yn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(n){const e=n._freezeSettings(),t=bm(n._databaseId);return new Pte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uI(n,e,t,r,i,s={}){const o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);SD("Data must be an object, but it was:",o,r);const a=VU(r,o);let c,l;if(s.merge)c=new Ts(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=Sm(e,m,t);if(!o.contains(y))throw new Ce(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);BU(f,y)||f.push(y)}c=new Ts(f),l=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,l=o.fieldTransforms;return new Rte(new bi(a),c,l)}class Dm extends Ou{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function FU(n,e,t){return new lI({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bD extends Ou{_toFieldTransform(e){return new cm(e.path,new Kh)}isEqual(e){return e instanceof bD}}class wD extends Ou{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=FU(this,e,!0),r=this.Mu.map(s=>ku(s,t)),i=new Cu(r);return new cm(e.path,i)}isEqual(e){return e instanceof wD&&(0,Rt.vZ)(this.Mu,e.Mu)}}class CD extends Ou{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=FU(this,e,!0),r=this.Mu.map(s=>ku(s,t)),i=new Tu(r);return new cm(e.path,i)}isEqual(e){return e instanceof CD&&(0,Rt.vZ)(this.Mu,e.Mu)}}class TD extends Ou{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Zh(e.serializer,wV(e.serializer,this.xu));return new cm(e.path,t)}isEqual(e){return e instanceof TD&&this.xu===e.xu}}function AD(n,e,t,r){const i=n.Fu(1,e,t);SD("Data must be an object, but it was:",i,r);const s=[],o=bi.empty();el(r,(c,l)=>{const f=dI(e,c,t);l=(0,Rt.m9)(l);const m=i.Su(f);if(l instanceof Dm)s.push(f);else{const y=ku(l,m);null!=y&&(s.push(f),o.set(f,y))}});const a=new Ts(s);return new NU(o,a,i.fieldTransforms)}function DD(n,e,t,r,i,s){const o=n.Fu(1,e,t),a=[Sm(e,r,t)],c=[i];if(s.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Sm(e,s[y])),c.push(s[y+1]);const l=[],f=bi.empty();for(let y=a.length-1;y>=0;--y)if(!BU(l,a[y])){const I=a[y];let T=c[y];T=(0,Rt.m9)(T);const F=o.Su(I);if(T instanceof Dm)l.push(I);else{const L=ku(T,F);null!=L&&(l.push(I),f.set(I,L))}}const m=new Ts(l);return new NU(f,m,o.fieldTransforms)}function LU(n,e,t,r=!1){return ku(t,n.Fu(r?4:3,e))}function ku(n,e){if(UU(n=(0,Rt.m9)(n)))return SD("Unsupported field value:",e,n),VU(n,e);if(n instanceof Ou)return function(r,i){if(!kU(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=ku(a,i.bu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,Rt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return wV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=sr.fromDate(r);return{timestampValue:Xh(i.serializer,s)}}if(r instanceof sr){const s=new sr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(i.serializer,s)}}if(r instanceof cI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:qV(i.serializer,r._byteString)};if(r instanceof Jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${oI(r)}`)}(n,e)}function VU(n,e){const t={};return HL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(n,(r,i)=>{const s=ku(i,e.pu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function UU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof cI||n instanceof ca||n instanceof Jn||n instanceof Ou)}function SD(n,e,t){if(!UU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=oI(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function Sm(n,e,t){if((e=(0,Rt.m9)(e))instanceof Ya)return e._internalPath;if("string"==typeof e)return dI(n,e);throw hI("Field path arguments must be of type string or ",n,!1,void 0,t)}const xte=new RegExp("[~\\*/\\[\\]]");function dI(n,e,t){if(e.search(xte)>=0)throw hI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch{throw hI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hI(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ce(le.INVALID_ARGUMENT,a+n+c)}function BU(n,e){return n.some(t=>t.isEqual(e))}class Mm{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ote(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ote extends Mm{data(){return super.data()}}function fI(n,e){return"string"==typeof e?dI(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}function jU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ce(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MD{}class Rm extends MD{}function hl(n,e,...t){let r=[];e instanceof MD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof vf).length,a=s.filter(c=>c instanceof Pm).length;if(o>1||o>0&&a>0)throw new Ce(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Pm extends Rm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pm(e,t,r)}_apply(e){const t=this._parse(e);return qU(e._query,t),new wi(e.firestore,e.converter,RT(e._query,t))}_parse(e){const t=Nu(e.firestore);return function(s,o,a,c,l,f,m){let y;if(l.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){HU(m,f);const I=[];for(const T of m)I.push(zU(c,s,T));y={arrayValue:{values:I}}}else y=zU(c,s,m)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||HU(m,f),y=LU(a,"where",m,"in"===f||"not-in"===f);return tn.create(l,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vf extends MD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vf(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:An.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)qU(o,c),o=RT(o,c)}(e._query,t),new wi(e.firestore,e.converter,RT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RD extends Rm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RD(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nm(s,o)}(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ga(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class pI extends Rm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pI(e,t,r)}_apply(e){return new wi(e.firestore,e.converter,xE(e._query,this._limit,this._limitType))}}class gI extends Rm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gI(e,t,r)}_apply(e){const t=$U(e,this.type,this._docOrFields,this._inclusive);return new wi(e.firestore,e.converter,(s=t,new Ga((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class mI extends Rm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mI(e,t,r)}_apply(e){const t=$U(e,this.type,this._docOrFields,this._inclusive);return new wi(e.firestore,e.converter,(s=t,new Ga((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function $U(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof Mm)return function(s,o,a,c,l){if(!c)throw new Ce(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const m of Gh(s))if(m.field.isKeyField())f.push(bu(o,c.key));else{const y=c.data.field(m.field);if(TE(y))throw new Ce(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const I=m.field.canonicalString();throw new Ce(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}f.push(y)}return new sl(f,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nu(n.firestore);return function(o,a,c,l,f,m){const y=o.explicitOrderBy;if(f.length>y.length)throw new Ce(le.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let T=0;T<f.length;T++){const F=f[T];if(y[T].field.isKeyField()){if("string"!=typeof F)throw new Ce(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof F}`);if(!MT(o)&&-1!==F.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${F}' contains a slash.`);const L=o.path.child(en.fromString(F));if(!je.isDocumentKey(L))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const W=new je(L);I.push(bu(a,W))}else{const L=LU(c,l,F);I.push(L)}}return new sl(I,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zU(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&-1!==t.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!je.isDocumentKey(r))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bu(n,new je(r))}if(t instanceof Jn)return bu(n,t._key);throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oI(t)}.`)}function HU(n,e){if(!Array.isArray(n)||0===n.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qU(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ce(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PD{convertValue(e,t="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return el(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new cI(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=AE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xg(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);it(r2(r));const i=new tl(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(t)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function _I(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $te extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends Mm{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xm extends Xa{data(e={}){return super.data(e)}}class fl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xm(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new xm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new xm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,f=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Hte(a.type),doc:c,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function WU(n,e){return n instanceof Xa&&e instanceof Xa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fl&&e instanceof fl&&n._firestore===e._firestore&&ED(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class pl extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function KU(n,e,t){n=qt(n,Jn);const r=qt(n.firestore,Nn),i=_I(n.converter,e,t);return Ef(r,[uI(Nu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,or.none())])}function ZU(n,e,t,...r){n=qt(n,Jn);const i=qt(n.firestore,Nn),s=Nu(i);let o;return o="string"==typeof(e=(0,Rt.m9)(e))||e instanceof Ya?DD(s,"updateDoc",n._key,e,t,r):AD(s,"updateDoc",n._key,e),Ef(i,[o.toMutation(n._key,or.exists(!0))])}function QU(n,...e){var t,r,i;n=(0,Rt.m9)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||ID(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ID(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let c,l,f;if(n instanceof Jn)l=qt(n.firestore,Nn),f=qh(n._key.path),c={next:m=>{e[o]&&e[o](xD(l,n,m))},error:e[o+1],complete:e[o+2]};else{const m=qt(n,wi);l=qt(m.firestore,Nn),f=m._query;const y=new pl(l);c={next:I=>{e[o]&&e[o](new fl(l,y,m,I))},error:e[o+1],complete:e[o+2]},jU(n._query)}return function(y,I,T,F){const L=new rI(F),W=new FA(I,L,T);return y.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return RA(yield yf(y),W)})),()=>{L.$a(),y.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return xA(yield yf(y),W)}))}}(ar(l),f,a,c)}function Ef(n,e){return function(r,i){const s=new ii;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Lee(n,e,t){return HA.apply(this,arguments)}(yield _D(r),i,s)})),s.promise}(ar(n),e)}function xD(n,e,t){const r=t.docs.get(e._key),i=new pl(n);return new Xa(n,i,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}const cne={maxAttempts:5};class YU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,t,r){this._verifyNotCommitted();const i=gl(e,this._firestore),s=_I(i.converter,t,r),o=uI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,or.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=gl(e,this._firestore);let o;return o="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Ya?DD(this._dataReader,"WriteBatch.update",s._key,t,r,i):AD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gl(e,this._firestore);return this._mutations=this._mutations.concat(new Yh(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gl(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Ce(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lne extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Nu(t)}get(t){const r=gl(t,this._firestore),i=new $te(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Qe();const o=s[0];if(o.isFoundDocument())return new Mm(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Mm(this._firestore,i,r._key,null,r.converter);throw Qe()})}set(t,r,i){const s=gl(t,this._firestore),o=_I(s.converter,r,i),a=uI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=gl(t,this._firestore);let a;return a="string"==typeof(r=(0,Rt.m9)(r))||r instanceof Ya?DD(this._dataReader,"Transaction.update",o._key,r,i,s):AD(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=gl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gl(e,this._firestore),r=new pl(this._firestore);return super.get(e).then(i=>new Xa(this._firestore,r,t._key,i._document,new Fu(!1,!1),t.converter))}}function ND(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function tB(){if(typeof Uint8Array>"u")throw new Ce("unimplemented","Uint8Arrays are not available in this environment.")}function nB(){if(!function $X(){return typeof atob<"u"}())throw new Ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Lh=Er.SDK_VERSION,(0,Er._registerComponent)(new vE.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Nn(new hX(r.getProvider("auth-internal")),new gX(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Er.registerVersion)(wL,"4.6.3",e),(0,Er.registerVersion)(wL,"4.6.3","esm2017")}();class Om{constructor(e){this._delegate=e}static fromBase64String(e){return nB(),new Om(ca.fromBase64String(e))}static fromUint8Array(e){return tB(),new Om(ca.fromUint8Array(e))}toBase64(){return nB(),this._delegate.toBase64()}toUint8Array(){return tB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kD(n){return function vne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ene{enableIndexedDbPersistence(e,t){return function Ete(n,e){OU(n=qt(n,Nn));const t=ar(n);if(t._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new mf;return xU(t,i,new uD(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ite(n){OU(n=qt(n,Nn));const e=ar(n);if(e._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new mf;return xU(e,r,new fU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bte(n){if(n._initialized&&!n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!na.D())return Promise.resolve();const s=i+"main";yield na.delete(s)}),function r(i){return t.apply(this,arguments)})(JT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class rB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){SU(this._delegate,e,t,r)}enableNetwork(){return function Cte(n){return function ite(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield mU(n),t=yield _U(n);return e.setNetworkEnabled(!0),function(i){const s=Ue(i);return s.M_.delete(0),wm(s)}(t)}))}(ar(n=qt(n,Nn)))}(this._delegate)}disableNetwork(){return function Tte(n){return function ste(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield mU(n),t=yield _U(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(s){const o=Ue(s);o.M_.add(0),yield cf(o),o.N_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(ar(n=qt(n,Nn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wte(n){return function(t){const r=new ii;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function jee(n,e){return ZA.apply(this,arguments)}(yield _D(t),r)})),r.promise}(ar(n=qt(n,Nn)))}(this._delegate)}onSnapshotsInSync(e){return function Jte(n,e){return function lte(n,e){const t=new rI(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield yf(n),s=t,Ue(i).z_.add(s),void s.next();var i,s})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield yf(n),s=t,void Ue(i).z_.delete(s);var i,s}))}}(ar(n=qt(n,Nn)),ID(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new If(this,MU(this._delegate,e))}catch(t){throw ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new uo(this,aI(this._delegate,e))}catch(t){throw ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rs(this,function gte(n,e){if(n=qt(n,Tm),vD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wi(n,null,(r=e,new Ga(en.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function une(n,e,t){n=qt(n,Nn);const r=Object.assign(Object.assign({},cne),t);return function(s){if(s.maxAttempts<1)throw new Ce(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new ii;return s.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const l=yield function yU(n){return sI(n).then(e=>e.datastore)}(s);new nte(s.asyncQueue,l,a,o,c).Xa()})),c.promise}(ar(n),i=>e(new lne(n,i)),r)}(this._delegate,t=>e(new iB(this,t)))}batch(){return ar(this._delegate),new sB(new YU(this._delegate,e=>Ef(this._delegate,e)))}loadBundle(e){return function Ate(n,e){const t=ar(n=qt(n,Nn)),r=new _te;return function ute(n,e,t,r){const i=function(o,a){let c;return c="string"==typeof o?LV().encode(o):o,f=function(f,m){if(f instanceof Uint8Array)return pU(f,m);if(f instanceof ArrayBuffer)return pU(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new ete(f,a);var f}(t,bm(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function Xee(n,e,t){const r=Ue(n);var i;(i=(0,_e.Z)(function*(o,a,c){try{const l=yield a.getMetadata();if(yield function(T,F){const L=Ue(T),W=Or(F.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",z=>L.$r.getBundleMetadata(z,F.id)).then(z=>!!z&&z.createTime.compareTo(W)>=0)}(o.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(T=l).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);c._updateProgress(rU(l));const f=new Mee(l,o.localStore,a.serializer);let m=yield a.qa();for(;m;){const I=yield f._a(m);I&&c._updateProgress(I),m=yield a.qa()}const y=yield f.complete();return yield Qa(o,y.ca,void 0),yield function(T,F){const L=Ue(T);return L.persistence.runTransaction("Save bundle","readwrite",W=>L.$r.saveBundleMetadata(W,F))}(o.localStore,l),c._completeWith(y.progress),Promise.resolve(y.ua)}catch(l){return Cs("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var T}),function s(o,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield _D(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Dte(n,e){return function dte(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(r,i){const s=Ue(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(yield _f(n),e)}))}(ar(n=qt(n,Nn)),e).then(t=>t?new wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rs(this,t):null)}}class vI extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Om(new ca(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return uo.forKey(t,this.firestore,null)}}class iB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}get(e){const t=Vu(e);return this._delegate.get(t).then(r=>new Nm(this._firestore,new Xa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vu(e);return r?(ND("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vu(e);return this._delegate.delete(t),this}}class sB{constructor(e){this._delegate=e}set(e,t,r){const i=Vu(e);return r?(ND("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new xm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new km(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Lu(e,new vI(e),t),i.set(t,s)),s}}Lu.INSTANCES=new WeakMap;class uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uo(t,new Jn(t._delegate,r,new je(e)))}static forKey(e,t,r){return new uo(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new If(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new If(this.firestore,MU(this._delegate,e))}catch(t){throw ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Jn&&RU(this._delegate,e)}set(e,t){t=ND("DocumentReference.set",t);try{return t?KU(this._delegate,e,t):KU(this._delegate,e)}catch(r){throw ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ZU(this._delegate,e):ZU(this._delegate,e,t,...r)}catch(i){throw ns(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Yte(n){return Ef(qt(n.firestore,Nn),[new Yh(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=oB(e),r=aB(e,i=>new Nm(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return QU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Gte(n){n=qt(n,Jn);const e=qt(n.firestore,Nn),t=ar(e),r=new pl(e);return function ote(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,o,a){try{const c=yield function(f,m){const y=Ue(f);return y.persistence.runTransaction("read document","readonly",I=>y.localDocuments.getDocument(I,m))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Ce(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=hf(c,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield _f(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Xa(e,r,n._key,i,new Fu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Wte(n){n=qt(n,Jn);const e=qt(n.firestore,Nn);return vU(ar(e),n._key,{source:"server"}).then(t=>xD(e,n,t))}(this._delegate):function qte(n){n=qt(n,Jn);const e=qt(n.firestore,Nn);return vU(ar(e),n._key).then(t=>xD(e,n,t))}(this._delegate),t.then(r=>new Nm(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new uo(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}function ns(n,e,t){return n.message=n.message.replace(e,t),n}function oB(n){for(const e of n)if("object"==typeof e&&!kD(e))return e;return{}}function aB(n,e){var t,r;let i;return i=kD(n[0])?n[0]:kD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Nm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return WU(this._delegate,e._delegate)}}class km extends Nm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function lX(n,e){n||Qe()}(void 0!==t),t}}class rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}where(e,t,r){try{return new rs(this.firestore,hl(this._delegate,function Nte(n,e,t){const r=e,i=fI("where",n);return Pm._create(i,r,t)}(e,t,r)))}catch(i){throw ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rs(this.firestore,hl(this._delegate,function kte(n,e="asc"){const t=e,r=fI("orderBy",n);return RD._create(r,t)}(e,t)))}catch(r){throw ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rs(this.firestore,hl(this._delegate,function Fte(n){return AU("limit",n),pI._create("limit",n,"F")}(e)))}catch(t){throw ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rs(this.firestore,hl(this._delegate,function Lte(n){return AU("limitToLast",n),pI._create("limitToLast",n,"L")}(e)))}catch(t){throw ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rs(this.firestore,hl(this._delegate,function Vte(...n){return gI._create("startAt",n,!0)}(...e)))}catch(t){throw ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rs(this.firestore,hl(this._delegate,function Ute(...n){return gI._create("startAfter",n,!1)}(...e)))}catch(t){throw ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rs(this.firestore,hl(this._delegate,function Bte(...n){return mI._create("endBefore",n,!1)}(...e)))}catch(t){throw ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rs(this.firestore,hl(this._delegate,function jte(...n){return mI._create("endAt",n,!0)}(...e)))}catch(t){throw ns(t,"endAt()","Query.endAt()")}}isEqual(e){return ED(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Zte(n){n=qt(n,wi);const e=qt(n.firestore,Nn),t=ar(e),r=new pl(e);return function ate(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,o,a){try{const c=yield ZE(s,o,!0),l=new oU(o,c.hs),f=l.da(c.documents),m=l.applyChanges(f,!1);a.resolve(m.snapshot)}catch(c){const l=hf(c,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield _f(n),e,t);var r})),t.promise}(t,n._query).then(i=>new fl(e,r,n,i))}(this._delegate):"server"===e?.source?function Qte(n){n=qt(n,wi);const e=qt(n.firestore,Nn),t=ar(e),r=new pl(e);return EU(t,n._query,{source:"server"}).then(i=>new fl(e,r,n,i))}(this._delegate):function Kte(n){n=qt(n,wi);const e=qt(n.firestore,Nn),t=ar(e),r=new pl(e);return jU(n._query),EU(t,n._query).then(i=>new fl(e,r,n,i))}(this._delegate),t.then(r=>new FD(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=oB(e),r=aB(e,i=>new FD(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return QU(this._delegate,t,r)}withConverter(e){return new rs(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}class bne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new km(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new km(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bne(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new km(this._firestore,r))})}isEqual(e){return WU(this._delegate,e._delegate)}}class If extends rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uo(this.firestore,e):null}doc(e){try{return new uo(this.firestore,void 0===e?aI(this._delegate):aI(this._delegate,e))}catch(t){throw ns(t,"doc()","CollectionReference.doc()")}}add(e){return function Xte(n,e){const t=qt(n.firestore,Nn),r=aI(n),i=_I(n.converter,e);return Ef(t,[uI(Nu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new uo(this.firestore,t))}isEqual(e){return RU(this._delegate,e._delegate)}withConverter(e){return new If(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}function Vu(n){return qt(n,Jn)}class LD{constructor(...e){this._delegate=new Ya(...e)}static documentId(){return new LD(Yn.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hne(){return new bD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Uu(e)}static delete(){const e=function dne(){return new Dm("deleteField")}();return e._methodName="FieldValue.delete",new Uu(e)}static arrayUnion(...e){const t=function fne(...n){return new wD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Uu(t)}static arrayRemove(...e){const t=function pne(...n){return new CD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Uu(t)}static increment(e){const t=function gne(n){return new TD("increment",n)}(e);return t._methodName="FieldValue.increment",new Uu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wne={Firestore:rB,GeoPoint:cI,Timestamp:sr,Blob:Om,Transaction:iB,WriteBatch:sB,DocumentReference:uo,DocumentSnapshot:Nm,Query:rs,QueryDocumentSnapshot:km,QuerySnapshot:FD,CollectionReference:If,FieldPath:LD,FieldValue:Uu,setLogLevel:function Ine(n){!function cX(n){Yc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function cB(n,e){return function Ane(n,e=xC){return new bt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function VD(n,e){return cB(n,e).pipe(De(t=>({payload:t,type:"query"})))}!function Tne(n){(function Cne(n,e){n.INTERNAL.registerComponent(new vE.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},wne)))})(n,(e,t)=>new rB(e,t,new Ene)),n.registerVersion("@firebase/firestore-compat","0.3.32")}(Mo.Z);class lB{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=gB(r,t);return new hB(i,s,this.afs)}snapshotChanges(){return function Dne(n,e){return cB(n,e).pipe(bg(void 0),gT(),De(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return this.snapshotChanges().pipe(De(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return b(this.ref.get(e)).pipe(ts)}}function EI(n,e){return VD(n,e).pipe(bg(void 0),gT(),De(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=s.find(m=>m.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function uB(n,e,t){return EI(n,t).pipe(Yv((r,i)=>function Sne(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Mne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),mt(),De(r=>r.map(i=>({type:i.type,payload:i}))))}function UD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function dB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class hB{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=EI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(De(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bg(void 0),gT(),ws(([r,i])=>i.length>0||!r),De(([,r])=>r),ts)}auditTrail(e){return this.stateChanges(e).pipe(Yv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dB(e);return uB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return VD(this.query,this.afs.schedulers.outsideAngular).pipe(De(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),ts)}get(e){return b(this.query.get(e)).pipe(ts)}add(e){return this.ref.add(e)}doc(e){return new lB(this.ref.doc(e),this.afs)}}class Rne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?EI(this.query,this.afs.schedulers.outsideAngular).pipe(De(t=>t.filter(r=>e.indexOf(r.type)>-1)),ws(t=>t.length>0),ts):EI(this.query,this.afs.schedulers.outsideAngular).pipe(ts)}auditTrail(e){return this.stateChanges(e).pipe(Yv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dB(e);return uB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts)}valueChanges(e={}){return VD(this.query,this.afs.schedulers.outsideAngular).pipe(De(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),ts)}get(e){return b(this.query.get(e)).pipe(ts)}}const fB=new Ie("angularfire2.enableFirestorePersistence"),pB=new Ie("angularfire2.firestore.persistenceSettings"),Pne=new Ie("angularfire2.firestore.settings"),xne=new Ie("angularfire2.firestore.use-emulator");function gB(n,e=(t=>t)){return{query:e(n),ref:n}}let Bu=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,c,l,f,m,y,I,T,F,L,W,z){this.schedulers=c;const X=mE(t,a,r),ae=f;m&&fL(X,a,y,T,F,L,I,W),[this.firestore,this.persistenceEnabled$]=_E(`${X.name}.firestore`,"AngularFirestore",X.name,()=>{const Se=a.runOutsideAngular(()=>X.firestore());if(s&&Se.settings(s),ae&&Se.useEmulator(...ae),i&&!kv(o)){const $e=()=>{try{return b(Se.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(q){return typeof console<"u"&&console.warn(q),V(!1)}};return[Se,a.runOutsideAngular($e)]}return[Se,V(!1)]},[s,ae,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=gB(i,r),a=this.schedulers.ngZone.run(()=>s);return new hB(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Rne(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new lB(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(pe(qg),pe(Gg,8),pe(fB,8),pe(Pne,8),pe(ks),pe(Wt),pe(mu),pe(pB,8),pe(xne,8),pe(yE,8),pe(aL,8),pe(cL,8),pe(lL,8),pe(uL,8),pe(dL,8),pe(hL,8),pe(Hg,8))};static \u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),One=(()=>{class n{constructor(){Mo.Z.registerVersion("angularfire",$a.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:fB,useValue:!0},{provide:pB,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[Bu]})}return n})(),II=(()=>{class n{constructor(t){this.firestore=t}getEvents(){return this.firestore.collection("Events",t=>t.orderBy("Community_Sponsor","desc")).valueChanges()}addEvent(t){const r=this.firestore.createId();return this.firestore.collection("Events").doc(r).set(t)}updateEvent(t,r){return this.eventsCollection.doc(t).update(r)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Bu))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fm=(()=>{class n{constructor(t){this.firestore=t}getAllOffers(){return this.firestore.collection("Offers",t=>t.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe(De(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getOffers(){return this.firestore.collection("Offers",t=>t.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe(De(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}}))).pipe(De(t=>t.filter(r=>1==r.Approved)))}addOffer(t){t.id=this.firestore.createId();const r=(new Date).toISOString().split("T")[0];return t.Date_Created=r,this.firestore.collection("Offers").doc(t.id).set(t)}getOffer(t){return this.firestore.collection("Offers").doc(t).valueChanges()}updateOffer(t,r){return console.log("Update Offer: "+t),this.firestore.collection("Offers").doc(t).update(r)}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe(De(t=>{const r=t.map(i=>i.OfferType);return Array.from(new Set(r))}))}getOfferById(t){return this.firestore.collection("Offers").doc(t).valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Bu))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nne(n,e){1&n&&(M(0,"span",12),k(1,"\u2605"),C())}function kne(n,e){1&n&&(M(0,"p"),k(1,"Oferta a expirat"),C())}function Fne(n,e){1&n&&(M(0,"p"),k(1,"Oferta este valabil\u0101"),C())}function Lne(n,e){if(1&n&&(M(0,"div")(1,"a",13),Je(2,"img",14),C(),Je(3,"br"),k(4," Facebook"),C()),2&n){const t=Ls();ee(1),Io("href",t.offer.Facebook,xn)}}function Vne(n,e){if(1&n&&(M(0,"div")(1,"a",13),Je(2,"img",15),C(),Je(3,"br"),k(4," Instagram"),C()),2&n){const t=Ls();ee(1),Uc("href","https://www.instagram.com/",t.offer.Instagram,"",xn)}}function Une(n,e){if(1&n&&(M(0,"div")(1,"a",16),Je(2,"img",17),C(),Je(3,"br"),k(4," Email"),C()),2&n){const t=Ls();ee(1),Uc("href","mailto:",t.offer.Email,"",xn)}}function Bne(n,e){if(1&n&&(M(0,"div")(1,"a",13),Je(2,"img",18),C(),Je(3,"br"),k(4," Website"),C()),2&n){const t=Ls();ee(1),Io("href",t.offer.Website,xn)}}let mB=(()=>{class n{constructor(t){this.router=t,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(r){return new(r||n)(de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"button",2),ht("click",function(){return i.prevImage()}),k(3,"\u276e"),C(),M(4,"button",3),ht("click",function(){return i.nextImage()}),k(5,"\u276f"),C(),M(6,"div",4),Je(7,"img",5),C()(),M(8,"div",6)(9,"h3"),k(10),C(),En(11,Nne,2,0,"span",7),M(12,"p")(13,"strong"),k(14,"Compania:"),C(),k(15),C(),M(16,"p")(17,"strong"),k(18,"Persona de contact:"),C(),k(19),C(),Je(20,"hr"),M(21,"p")(22,"strong"),k(23,"Numar de Tel:"),C(),k(24),C(),M(25,"p")(26,"strong"),k(27,"Locatie:"),C(),k(28),C(),M(29,"p")(30,"strong"),k(31,"Descriiere:"),C(),k(32),C(),M(33,"p")(34,"strong"),k(35,"Pret:"),C(),k(36),C(),M(37,"p")(38,"strong"),k(39,"Tip de ofert\u0101:"),C(),k(40),C(),M(41,"p")(42,"strong"),k(43,"Creata pe data de:"),C(),k(44),su(45,"date"),C(),En(46,kne,2,0,"p",8),En(47,Fne,2,0,"p",8),M(48,"button",9),ht("click",function(){return i.navigateToDetails()}),k(49,"Detalii"),C()(),M(50,"div",10)(51,"div",11),En(52,Lne,5,1,"div",8),En(53,Vne,5,1,"div",8),En(54,Une,5,1,"div",8),En(55,Bne,5,1,"div",8),C()()()),2&r&&(ee(7),Uc("alt","Image ",i.currentImageIndex,""),Le("src",i.offer["Image"+i.currentImageIndex],xn),ee(3),nt(i.offer.Title),ee(1),Le("ngIf",i.offer.Community_Sponsor),ee(4),Qn(" ",i.offer.Company_Name,""),ee(4),Qn(" ",i.offer.Contact_Name,""),ee(5),Qn(" ",i.offer.Phone_Number,""),ee(4),Qn(" ",i.offer.Location,""),ee(4),nt(i.offer.Description),ee(4),nt(i.offer.Price),ee(4),nt(i.offer.OfferType),ee(4),Qn(" ",yh(45,18,i.offer.Date_Created,"shortDate"),""),ee(2),Le("ngIf",i.offer.Filled),ee(1),Le("ngIf",!i.offer.Filled),ee(5),Le("ngIf",i.offer.Facebook),ee(1),Le("ngIf",i.offer.Instagram),ee(1),Le("ngIf",i.offer.Email),ee(1),Le("ngIf",i.offer.Website))},dependencies:[Nv,wh],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return n})();function jne(n,e){if(1&n&&(M(0,"div",7),Je(1,"img",8),C()),2&n){const t=Ls();ee(1),Io("alt",t.event.Name),Le("src",t.event.Poster_Image,xn)}}function $ne(n,e){1&n&&(M(0,"div",9)(1,"span",10),k(2,"Event Expired"),C()())}let _B=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["app-event-card"]],inputs:{event:"event"},decls:44,vars:19,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,""]],template:function(r,i){1&r&&(M(0,"div",0),En(1,jne,2,2,"div",1),M(2,"div",2)(3,"div",3),k(4),C(),M(5,"p")(6,"strong"),k(7,"Location:"),C(),k(8),C(),M(9,"p")(10,"strong"),k(11,"Date:"),C(),k(12),su(13,"date"),C(),M(14,"p")(15,"strong"),k(16,"Time:"),C(),k(17),C(),M(18,"p")(19,"strong"),k(20,"Price:"),C(),k(21),C(),M(22,"p")(23,"strong"),k(24,"Contact:"),C(),k(25),C(),M(26,"p")(27,"strong"),k(28,"Website:"),C(),M(29,"a",4),k(30),C()(),M(31,"p")(32,"strong"),k(33,"Facebook:"),C(),M(34,"a",4),k(35),C()(),M(36,"p")(37,"strong"),k(38,"Instagram:"),C(),M(39,"a",4),k(40),C()(),M(41,"div",5),k(42),C(),En(43,$ne,3,0,"div",6),C()()),2&r&&(ee(1),Le("ngIf",i.event.Poster_Image),ee(3),nt(i.event.Name),ee(4),Qn(" ",i.event.Location,""),ee(4),Qn(" ",yh(13,16,i.event.Event_Date,"longDate"),""),ee(5),Qn(" ",i.event.Time,""),ee(4),Qn(" ",i.event.Price,""),ee(4),gw(" ",i.event.Contact," - ",i.event.Phone_Number,""),ee(4),Le("href",i.event.Website,xn),ee(1),nt(i.event.Website),ee(4),Le("href",i.event.Facebook,xn),ee(1),nt(i.event.Facebook),ee(4),Le("href",i.event.Instagram,xn),ee(1),nt(i.event.Instagram),ee(2),nt(i.event.Description),ee(1),Le("ngIf",i.event.Expired))},dependencies:[Nv,wh],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return n})();function zne(n,e){1&n&&Je(0,"app-event-card",25),2&n&&Le("event",e.$implicit)}function Hne(n,e){1&n&&Je(0,"app-offer-card",26),2&n&&Le("offer",e.$implicit)}function qne(n,e){if(1&n&&(M(0,"li",27)(1,"a",28),k(2),C()()),2&n){const t=e.$implicit;ee(1),Io("href",t.url,xn),ee(1),nt(t.name)}}let Gne=(()=>{class n{constructor(t,r,i){this.eventService=t,this.offersService=r,this.router=i,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(t=>{this.events=t}),this.offersService.getOffers().subscribe(t=>{this.offers=t})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(r){return new(r||n)(de(II),de(Fm),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),k(5,"Bine ati venit in comunitatea "),M(6,"a",4),k(7,"Romani in Seattle"),C()(),M(8,"p"),k(9,"Discutii si evenimente pentru persoanele care locuiesc in zona Seattle."),C(),M(10,"a",5),k(11,"Join our Facebook Group"),C()(),M(12,"div",6),Je(13,"img",7),C()()(),M(14,"section",8)(15,"div",0)(16,"h2"),k(17,"Despre communitatea noastra"),C(),M(18,"p"),k(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),C()()(),M(20,"div",9)(21,"div",10)(22,"h2"),k(23,"Evenimente"),C(),M(24,"p"),k(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),C()(),M(26,"div",10)(27,"h2"),k(28,"Servicii"),C(),M(29,"p"),k(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),C()(),M(31,"div",10)(32,"h2"),k(33,"Oportunit\u0103\u021bi si Oferte"),C(),M(34,"p"),k(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),C()(),M(36,"div",10)(37,"h2"),k(38,"Resurse"),C(),M(39,"p"),k(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),C()()(),M(41,"div",11)(42,"h1"),k(43,"Evenimente"),C(),M(44,"div",12),En(45,zne,1,1,"app-event-card",13),C()(),M(46,"div",11)(47,"h1"),k(48,"Oportunit\u0103\u021bi si Oferte"),C(),M(49,"div",14),En(50,Hne,1,1,"app-offer-card",15),C()(),M(51,"div",11)(52,"h1"),k(53,"Resurse"),C(),M(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),k(58,"Consulatul Rom\xe2niei la New York"),C(),M(59,"h3"),k(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),C(),M(61,"p"),k(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),C(),M(63,"a",17),k(64,"http://newyork.mae.ro/"),C()(),M(65,"div",10)(66,"h2"),k(67,"Consulatul Rom\xe2niei la Chicago"),C(),M(68,"h3"),k(69,"CONSUL GENERAL: "),C(),M(70,"p"),k(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),C(),M(72,"a",18),k(73,"http://chicago.mae.ro/"),C()(),M(74,"div",10)(75,"h2"),k(76,"Consulatul Rom\xe2niei la Los Angeles"),C(),M(77,"h3"),k(78,"CONSUL GENERAL: doamna Lucia SAVA"),C(),M(79,"p"),k(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),C(),M(81,"a",19),k(82,"http://losangeles.mae.ro/"),C()(),M(83,"div",10)(84,"h2"),k(85,"Consulatul Rom\xe2niei la Miami"),C(),M(86,"h3"),k(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),C(),M(88,"p"),k(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),C(),M(90,"a",20),k(91,"http://miami.mae.ro/"),C()()()()(),M(92,"section",21)(93,"h2",22),k(94,"Resurse utile pentru comunitate"),C(),M(95,"ul",23),En(96,qne,3,2,"li",24),C()()()),2&r&&(ee(45),Le("ngForOf",i.events),ee(5),Le("ngForOf",i.offers),ee(46),Le("ngForOf",i.resourceLinks))},dependencies:[Us,mB,_B],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return n})(),Lm=(()=>{class n{constructor(t){this.firestore=t,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",t=>t.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe(De(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}}))).pipe(De(t=>t.filter(r=>1==r.Approved)))}getAllServices(){return this.firestore.collection("Services",t=>t.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe(De(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getServiceById(t){return this.firestore.collection("Services").doc(t).valueChanges()}getServicesByType(t){return this.firestore.collection("Services",r=>r.where("Service_Type","==",t)).valueChanges()}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe(De(t=>{const r=t.map(i=>i.Name);return Array.from(new Set(r))}))}addService(t){const r=this.firestore.createId();return t.id=r,t.Date_Created=(new Date).toISOString(),this.firestore.collection("Services").doc(r).set(t),this.firestore.doc(`Services/${r}`).valueChanges().pipe(De(i=>i?{id:r,...i}:void 0))}updateService(t,r){return console.log("update",t),r.Date_Updated=(new Date).toISOString(),this.firestore.collection("Services").doc(t).update(r),this.firestore.doc(`Services/${t}`).valueChanges().pipe(De(i=>i?{id:t,...i}:void 0))}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Bu))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(Pa),de(Es))};static#t=this.\u0275dir=rt({type:n})}return n})(),ju=(()=>{class n extends yB{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275dir=rt({type:n,features:[Cn]})}return n})();const la=new Ie("NgValueAccessor"),Wne={provide:la,useExisting:ln(()=>BD),multi:!0};let BD=(()=>{class n extends ju{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275dir=rt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ht("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[ir([Wne]),Cn]})}return n})();const Kne={provide:la,useExisting:ln(()=>ml),multi:!0},Qne=new Ie("CompositionEventMode");let ml=(()=>{class n extends yB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zne(){const n=$c()?$c().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(Pa),de(Es),de(Qne,8))};static#t=this.\u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ht("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ir([Kne]),Cn]})}return n})();function _l(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vB(n){return null!=n&&"number"==typeof n.length}const Ui=new Ie("NgValidators"),yl=new Ie("NgAsyncValidators"),Yne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nr{static min(e){return function EB(n){return e=>{if(_l(e.value)||_l(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IB(n){return e=>{if(_l(e.value)||_l(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return bB(e)}static requiredTrue(e){return function wB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function CB(n){return _l(n.value)||Yne.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function TB(n){return e=>_l(e.value)||!vB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function AB(n){return e=>vB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function DB(n){if(!n)return bI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(_l(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return OB(e)}static composeAsync(e){return NB(e)}}function bB(n){return _l(n.value)?{required:!0}:null}function bI(n){return null}function SB(n){return null!=n}function MB(n){return rg(n)?b(n):n}function RB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function PB(n,e){return e.map(t=>t(n))}function xB(n){return n.map(e=>function Xne(n){return!n.validate}(e)?e:t=>e.validate(t))}function OB(n){if(!n)return null;const e=n.filter(SB);return 0==e.length?null:function(t){return RB(PB(t,e))}}function jD(n){return null!=n?OB(xB(n)):null}function NB(n){if(!n)return null;const e=n.filter(SB);return 0==e.length?null:function(t){return kC(PB(t,e).map(MB)).pipe(De(RB))}}function $D(n){return null!=n?NB(xB(n)):null}function kB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FB(n){return n._rawValidators}function LB(n){return n._rawAsyncValidators}function zD(n){return n?Array.isArray(n)?n:[n]:[]}function wI(n,e){return Array.isArray(n)?n.includes(e):n===e}function VB(n,e){const t=zD(e);return zD(n).forEach(i=>{wI(t,i)||t.push(i)}),t}function UB(n,e){return zD(e).filter(t=>!wI(n,t))}class BB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class is extends BB{get formDirective(){return null}get path(){return null}}class vl extends BB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let El=(()=>{class n extends jB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(vl,2))};static#t=this.\u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&gh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Cn]})}return n})(),bf=(()=>{class n extends jB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(is,10))};static#t=this.\u0275dir=rt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&gh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Cn]})}return n})();const Vm="VALID",TI="INVALID",wf="PENDING",Um="DISABLED";function GD(n){return(AI(n)?n.validators:n)||null}function WD(n,e){return(AI(e)?e.asyncValidators:n)||null}function AI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new he(1e3,"");if(!r[t])throw new he(1001,"")}function HB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new he(1002,"")})}class DI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vm}get invalid(){return this.status===TI}get pending(){return this.status==wf}get disabled(){return this.status===Um}get enabled(){return this.status!==Um}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(VB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UB(e,this._rawAsyncValidators))}hasValidator(e){return wI(this._rawValidators,e)}hasAsyncValidator(e){return wI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Um,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vm||this.status===wf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Um:Vm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wf,this._hasOwnPendingAsyncValidator=!0;const t=MB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _r,this.statusChanges=new _r}_calculateStatus(){return this._allControlsDisabled()?Um:this.errors?TI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wf)?wf:this._anyControlsHaveStatus(TI)?TI:Vm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function nre(n){return Array.isArray(n)?jD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function rre(n){return Array.isArray(n)?$D(n):n||null}(this._rawAsyncValidators)}}class Bm extends DI{constructor(e,t,r){super(GD(t),WD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){HB(this,0,e),Object.keys(e).forEach(r=>{zB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class qB extends Bm{}const $u=new Ie("CallSetDisabledState",{providedIn:"root",factory:()=>jm}),jm="always";function SI(n,e){return[...e.path,n]}function $m(n,e,t=jm){KD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function sre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GB(n,e)})}(n,e),function are(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ore(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ire(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function MI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),PI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function RI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KD(n,e){const t=FB(n);null!==e.validator?n.setValidators(kB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=LB(n);null!==e.asyncValidator?n.setAsyncValidators(kB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();RI(e._rawValidators,i),RI(e._rawAsyncValidators,i)}function PI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=FB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=LB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return RI(e._rawValidators,r),RI(e._rawAsyncValidators,r),t}function GB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WB(n,e){KD(n,e)}function QD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function KB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ml?t=s:function ure(n){return Object.getPrototypeOf(n.constructor)===ju}(s)?r=s:i=s}),i||r||t||null}const hre={provide:is,useExisting:ln(()=>Hm)},zm=(()=>Promise.resolve())();let Hm=(()=>{class n extends is{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _r,this.form=new Bm({},jD(t),$D(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$m(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zm.then(()=>{const r=this._findContainer(t.path),i=new Bm({});WB(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,KB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(de(Ui,10),de(yl,10),de($u,8))};static#t=this.\u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ht("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ir([hre]),Cn]})}return n})();function ZB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function QB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qm=class extends DI{constructor(e=null,t,r){super(GD(t),WD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=QB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gre={provide:vl,useExisting:ln(()=>Cf)},JB=(()=>Promise.resolve())();let Cf=(()=>{class n extends vl{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new qm,this._registered=!1,this.name="",this.update=new _r,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YD(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),QD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$m(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){JB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ih(r);JB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?SI(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(de(is,9),de(Ui,10),de(yl,10),de(la,10),de(vv,8),de($u,8))};static#t=this.\u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ir([gre]),Cn,_s]})}return n})(),Tf=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),tj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({})}return n})();const XD=new Ie("NgModelWithFormControlWarning"),Ire={provide:is,useExisting:ln(()=>Af)};let Af=(()=>{class n extends is{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _r,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $m(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){MI(t.control||null,t,!1),function dre(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,KB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(MI(r||null,t),(n=>n instanceof qm)(i)&&($m(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);WB(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function cre(n,e){return PI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KD(this.form,this),this._oldForm&&PI(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(de(Ui,10),de(yl,10),de($u,8))};static#t=this.\u0275dir=rt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ht("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ir([Ire]),Cn,_s]})}return n})();const Cre={provide:vl,useExisting:ln(()=>Gm)};let Gm=(()=>{class n extends vl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new _r,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YD(0,s)}ngOnChanges(t){this._added||this._setUpControl(),QD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return SI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(de(is,13),de(Ui,10),de(yl,10),de(la,10),de(XD,8))};static#n=this.\u0275dir=rt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ir([Cre]),Cn,_s]})}return n})();const Tre={provide:la,useExisting:ln(()=>zu),multi:!0};function oj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let zu=(()=>{class n extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=oj(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Are(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275dir=rt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ht("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ir([Tre]),Cn]})}return n})(),Wm=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(oj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(de(Es),de(Pa),de(zu,9))};static#t=this.\u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Dre={provide:la,useExisting:ln(()=>tS),multi:!0};function aj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tS=(()=>{class n extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Sre(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275dir=rt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ht("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ir([Dre]),Cn]})}return n})(),Km=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(aj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(aj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(de(Es),de(Pa),de(tS,9))};static#t=this.\u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Hu=(()=>{class n{constructor(){this._validator=bI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=rt({type:n,features:[_s]})}return n})();const Pre={provide:Ui,useExisting:ln(()=>Il),multi:!0};let Il=(()=>{class n extends Hu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ih,this.createValidator=t=>bB}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Hr(n)))(i||n)}}();static#t=this.\u0275dir=rt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Zo("required",i._enabled?"":null)},inputs:{required:"required"},features:[ir([Pre]),Cn]})}return n})(),_j=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[tj]})}return n})();class yj extends DI{constructor(e,t,r){super(GD(t),WD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){HB(this,0,e),e.forEach((r,i)=>{zB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function vj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let xI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return vj(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Bm(i,s)}record(t,r=null){const i=this._reduceControls(t);return new qB(i,r)}control(t,r,i){let s={};return this.useNonNullable?(vj(r)?s=r:(s.validators=r,s.asyncValidators=i),new qm(t,{...s,nonNullable:!0})):new qm(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new yj(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof qm||t instanceof DI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$u,useValue:t.callSetDisabledState??jm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[_j]})}return n})(),Vre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$u,useValue:t.callSetDisabledState??jm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[_j]})}return n})();function Ej(n){return n?/^https?:\/\//i.test(n)?n:`http://${n}`:""}function Ure(n,e){1&n&&(M(0,"span",15),k(1,"\u2605"),C())}function Bre(n,e){if(1&n&&(M(0,"div")(1,"a",16),Je(2,"img",17),C(),Je(3,"br"),k(4," Facebook"),C()),2&n){const t=Ls();ee(1),Io("href",t.svc.Facebook,xn)}}function jre(n,e){if(1&n&&(M(0,"div")(1,"a",16),Je(2,"img",18),C(),Je(3,"br"),k(4," Instagram"),C()),2&n){const t=Ls();ee(1),Uc("href","https://www.instagram.com/",t.svc.Instagram,"",xn)}}function $re(n,e){if(1&n&&(M(0,"div")(1,"a",19),Je(2,"img",20),C(),Je(3,"br"),k(4," Email"),C()),2&n){const t=Ls();ee(1),Uc("href","mailto:",t.svc.Email,"",xn)}}function zre(n,e){if(1&n&&(M(0,"div")(1,"a",16),Je(2,"img",21),C(),Je(3,"br"),k(4," Website"),C()),2&n){const t=Ls();ee(1),Io("href",t.svc.Website,xn)}}let Hre=(()=>{class n{constructor(t){this.router=t}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=Ej(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(r){return new(r||n)(de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1),Je(2,"img",2),C(),M(3,"div",3)(4,"div",4)(5,"div",5),k(6),En(7,Ure,2,0,"span",6),C(),M(8,"div",7),k(9),C(),M(10,"div",8),k(11),C(),M(12,"div",9),k(13),C(),M(14,"div",10)(15,"button",11),ht("click",function(){return i.viewDetails()}),k(16,"Detalii"),C()()(),M(17,"div",12)(18,"div",13),En(19,Bre,5,1,"div",14),En(20,jre,5,1,"div",14),En(21,$re,5,1,"div",14),En(22,zre,5,1,"div",14),C()()()()),2&r&&(ee(2),Io("alt",i.svc.Name),Le("src",i.svc.Image,xn),ee(4),nt(i.svc.Name),ee(1),Le("ngIf",i.svc.Community_Sponsor),ee(2),nt(i.svc.Service_Type),ee(2),nt(i.svc.Phone_Number),ee(2),nt(i.svc.Description),ee(6),Le("ngIf",i.svc.Facebook),ee(1),Le("ngIf",i.svc.Instagram),ee(1),Le("ngIf",i.svc.Email),ee(1),Le("ngIf",i.svc.Website))},dependencies:[Nv],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return n})();function qre(n,e){if(1&n&&(M(0,"option",14),k(1),C()),2&n){const t=e.$implicit;Le("value",t),ee(1),nt(t)}}function Gre(n,e){1&n&&Je(0,"app-service-card",15),2&n&&Le("svc",e.$implicit)}let Wre=(()=>{class n{constructor(t,r,i){this.servicesService=t,this.route=r,this.router=i,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.selectedServiceType=t.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(t){const{target:r}=t;return r&&console.log(r.value),r.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(t=>{this.serviceTypes=t,t.forEach(r=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(t){console.log("Filter changed:",t),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:t},queryParamsHandling:"merge"}),this.filterServices(t)}filterServices(t){console.log("Filter Serices: "+t),this.fetchServiceTypes(),t&&""!==t?this.servicesService.getServicesByType(t).subscribe(r=>{this.services=r.filter(i=>i.Approved),this.filteredServices=r.filter(i=>i.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(r=>{this.services=r.filter(i=>i.Approved),this.filteredServices=r.filter(i=>i.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(t=>t.Service_Type))]}shareLink(){const r=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(r?"?"+r:"")).then(()=>{alert("Link copied to clipboard!")},s=>{console.error("Could not copy text: ",s)})}static#e=this.\u0275fac=function(r){return new(r||n)(de(Lm),de(Do),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Lista de Servicii"),C()(),M(4,"div",2)(5,"h2"),k(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),C()()(),M(7,"div",3)(8,"div",4)(9,"label",5),k(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),C()(),M(11,"div",4)(12,"select",6),ht("change",function(o){return i.onFilterChange(i.handleChange(o))})("ngModelChange",function(o){return i.selectedServiceType=o}),M(13,"option",7),k(14,"Toate serviciile"),C(),En(15,qre,2,2,"option",8),C()(),M(16,"div",4)(17,"button",9),ht("click",function(){return i.navigateToAddService()}),k(18,"Adaugati un Serviciu"),C()(),M(19,"button",10),ht("click",function(){return i.shareLink()}),Je(20,"i",11),k(21," Share "),C()(),M(22,"div",12),En(23,Gre,1,1,"app-service-card",13),C()),2&r&&(ee(12),Le("ngModel",i.selectedServiceType),ee(3),Le("ngForOf",i.serviceTypes),ee(8),Le("ngForOf",i.filteredServices))},dependencies:[Us,Wm,Km,zu,El,Cf,Hre],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return n})(),Kre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["app-rules"]],decls:32,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","#",1,"cta-button"]],template:function(r,i){1&r&&(M(0,"div",0),Je(1,"div",1),M(2,"div",2)(3,"h1"),k(4,"Regulile \u0219i Reglement\u0103rile"),C(),M(5,"p"),k(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),C(),M(7,"a",3),k(8,"Get Started"),C()()(),M(9,"h2"),k(10,"Regulile \u0219i Reglement\u0103rile"),C(),M(11,"ul")(12,"li"),k(13,"Nu este permis\u0103 nicio form\u0103 de publicitate."),C(),M(14,"li"),k(15,"Respecta\u021bi to\u021bi membrii."),C(),M(16,"li"),k(17,"F\u0103r\u0103 spam."),C(),M(18,"li"),k(19,"F\u0103r\u0103 limbaj ofensator."),C(),M(20,"li"),k(21,"R\u0103m\xe2ne\u021bi la subiect."),C(),M(22,"li"),k(23,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),C(),M(24,"li"),k(25,"Folosi\u021bi un limbaj adecvat."),C(),M(26,"li"),k(27,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),C(),M(28,"li"),k(29,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),C()(),M(30,"p"),k(31,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),C())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(http://source.unsplash.com/800x600/?Seattle) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:#f60;border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}"]})}return n})();function Zre(n,e){1&n&&Je(0,"app-event-card",7),2&n&&Le("event",e.$implicit)}let Qre=(()=>{class n{constructor(t,r){this.eventService=t,this.router=r,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(t=>{this.events=t})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(r){return new(r||n)(de(II),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Lista de Evenimente"),C()(),M(4,"div",2)(5,"h2"),k(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),C()()(),M(7,"div",3)(8,"button",4),ht("click",function(){return i.navigateToAddEvent()}),k(9,"Adaugati un Eveniment"),C()(),M(10,"div",5),En(11,Zre,1,1,"app-event-card",6),C()),2&r&&(ee(11),Le("ngForOf",i.events))},dependencies:[Us,_B],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return n})();function Yre(n,e){1&n&&Je(0,"app-offer-card",7),2&n&&Le("offer",e.$implicit)}let Xre=(()=>{class n{constructor(t,r){this.offersService=t,this.router=r,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(t=>{console.log(t),this.offers=t})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(r){return new(r||n)(de(Fm),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1"),k(3,"De toate pentru to\u021bi"),C()(),M(4,"div",2)(5,"h2"),k(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),C()()(),M(7,"div",3)(8,"button",4),ht("click",function(){return i.navigateToAddOffer()}),k(9,"Adaugati oferte"),C()(),M(10,"div",5),En(11,Yre,1,1,"app-offer-card",6),C()),2&r&&(ee(11),Le("ngForOf",i.offers))},dependencies:[Us,mB],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return n})();class Jre{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour=""}}class nS extends Jre{constructor(){super(...arguments),this.id=""}}const Ij="firebasestorage.googleapis.com",bj="storageBucket";class gr extends Rt.ZR{constructor(e,t,r=0){super(rS(e),`Firebase Storage: ${t} (${rS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var cr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(cr||{});function rS(n){return"storage/"+n}function iS(){return new gr(cr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wj(){return new gr(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cj(){return new gr(cr.CANCELED,"User canceled the upload/download.")}function Tj(){return new gr(cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Df(n){return new gr(cr.INVALID_ARGUMENT,n)}function Aj(){return new gr(cr.APP_DELETED,"The Firebase app was deleted.")}function Dj(n){return new gr(cr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zm(n,e){return new gr(cr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qm(n){throw new gr(cr.INTERNAL_ERROR,"Internal error: "+n)}class Bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Bi.makeFromUrl(e,t)}catch{return new Bi(e,"")}if(""===r.path)return r;throw function lie(n){return new gr(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(ae){ae.path_=decodeURIComponent(ae.path)}const m=t.replace(/[.]/g,"\\."),X=[{regex:a,indices:{bucket:1,path:3},postModify:function s(ae){"/"===ae.path.charAt(ae.path.length-1)&&(ae.path_=ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${m}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===Ij?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let ae=0;ae<X.length;ae++){const Se=X[ae],$e=Se.regex.exec(e);if($e){let B=$e[Se.indices.path];B||(B=""),r=new Bi($e[Se.indices.bucket],B),Se.postModify(r);break}}if(null==r)throw function cie(n){return new gr(cr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class pie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function OI(n){return"string"==typeof n||n instanceof String}function Sj(n){return sS()&&n instanceof Blob}function sS(){return typeof Blob<"u"}function oS(n,e,t,r){if(r<e)throw Df(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Df(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ja(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Mj(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Sf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Sf||{});function Rj(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class Eie{constructor(e,t,r,i,s,o,a,c,l,f,m,y=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,T)=>{this.resolve_=I,this.reject_=T,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function _ie(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=iS();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(i.canceled?this.appDelete_?Aj():Cj():wj())};this.canceled_?t(0,new NI(!1,null,!0)):this.backoffId_=function gie(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function f(...L){l||(l=!0,e.apply(null,L))}function m(L){i=setTimeout(()=>{i=null,n(I,c())},L)}function y(){s&&clearTimeout(s)}function I(L,...W){if(l)return void y();if(L)return y(),void f.call(null,L,...W);if(c()||o)return y(),void f.call(null,L,...W);let X;r<64&&(r*=2),1===a?(a=2,X=0):X=1e3*(r+Math.random()),m(X)}let T=!1;function F(L){T||(T=!0,y(),!l&&(null!==i?(L||(a=2),clearTimeout(i),m(0)):L||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,F(!0)},t),F}((r,i)=>{if(i)return void r(!1,new NI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Sf.NO_ERROR,c=s.getStatus();if(!a||Rj(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Sf.ABORT;return void r(!1,new NI(!1,null,f))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new NI(l,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function mie(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class NI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Die(...n){const e=function Aie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(sS())return new Blob(n);throw new gr(cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const $s={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aS{constructor(e,t){this.data=e,this.contentType=t||null}}function cS(n,e){switch(n){case $s.RAW:return new aS(Pj(e));case $s.BASE64:case $s.BASE64URL:return new aS(xj(n,e));case $s.DATA_URL:return new aS(function Pie(n){const e=new Oj(n);return e.base64?xj($s.BASE64,e.rest):function Rie(n){let e;try{e=decodeURIComponent(n)}catch{throw Zm($s.DATA_URL,"Malformed data URL.")}return Pj(e)}(e.rest)}(e),function xie(n){return new Oj(n).contentType}(e))}throw iS()}function Pj(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function xj(n,e){switch(n){case $s.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Zm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $s.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Zm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Mie(n){if(typeof atob>"u")throw function fie(n){return new gr(cr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Zm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Oj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Zm($s.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Oie(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ua{constructor(e,t){let r=0,i="";Sj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Sj(this.data_)){const i=function Sie(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new ua(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ua(r,!0)}}static getBlob(...e){if(sS()){const t=e.map(r=>r instanceof ua?r.data_:r);return new ua(Die.apply(null,t))}{const t=e.map(o=>OI(o)?cS($s.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ua(i,!0)}}uploadData(){return this.data_}}function lS(n){let e;try{e=JSON.parse(n)}catch{return null}return function vie(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Nj(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Fie(n,e){return e}class ss{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Fie}}let kI=null;function Ym(){if(kI)return kI;const n=[];n.push(new ss("bucket")),n.push(new ss("generation")),n.push(new ss("metageneration")),n.push(new ss("name","fullPath",!0));const t=new ss("name");t.xform=function e(s,o){return function Lie(n){return!OI(n)||n.length<2?n:Nj(n)}(o)},n.push(t);const i=new ss("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new ss("timeCreated")),n.push(new ss("updated")),n.push(new ss("md5Hash",null,!0)),n.push(new ss("cacheControl",null,!0)),n.push(new ss("contentDisposition",null,!0)),n.push(new ss("contentEncoding",null,!0)),n.push(new ss("contentLanguage",null,!0)),n.push(new ss("contentType",null,!0)),n.push(new ss("metadata","customMetadata",!0)),kI=n,kI}function kj(n,e,t){const r=lS(e);return null===r?null:function Uie(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function Vie(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Bi(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function uS(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const Fj="prefixes",Lj="items";class da{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ha(n){if(!n)throw iS()}function FI(n,e){return function t(r,i){const s=kj(n,i,e);return ha(null!==s),s}}function Mf(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function oie(){return new gr(cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function sie(){return new gr(cr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function iie(n){return new gr(cr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function aie(n){return new gr(cr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Xm(n){const e=Mf(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function rie(n){return new gr(cr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function Vj(n,e,t){const i=Ja(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new da(i,"GET",FI(n,t),o);return a.errorHandler=Xm(e),a}function qie(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Ja(e.bucketOnlyServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new da(a,"GET",function zie(n,e){return function t(r,i){const s=function $ie(n,e,t){const r=lS(t);return null===r?null:function jie(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Fj])for(const i of t[Fj]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new Bi(e,s));r.prefixes.push(o)}if(t[Lj])for(const i of t[Lj]){const s=n._makeStorageReference(new Bi(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return ha(null!==s),s}}(n,e.bucket),l);return f.urlParams=s,f.errorHandler=Mf(e),f}function Bj(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Zie(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class LI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function dS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ha(!1)}return ha(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Jie={STATE_CHANGED:"state_changed"},os={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hS(n){switch(n){case"running":case"pausing":case"canceling":return os.RUNNING;case"paused":return os.PAUSED;case"success":return os.SUCCESS;case"canceled":return os.CANCELED;default:return os.ERROR}}class ese{constructor(e,t,r){if(function yie(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Rf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let zj=null;class tse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Qm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class nse extends tse{initXhr(){this.xhr_.responseType="text"}}function Ro(){return zj?zj():new nse}class Hj{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Ym(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Rj(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=wj()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(cr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Qie(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Bj(e,r,i),a={name:o.fullPath},c=Ja(s,n.host,n._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=uS(o,t),T=new da(c,"POST",function I(F){let L;dS(F);try{L=F.getResponseHeader("X-Goog-Upload-URL")}catch{ha(!1)}return ha(OI(L)),L},n.maxUploadRetryTime);return T.urlParams=a,T.headers=f,T.body=m,T.errorHandler=Mf(e),T}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ro,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Yie(n,e,t,r){const c=new da(t,"POST",function s(l){const f=dS(l,["active","final"]);let m=null;try{m=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ha(!1)}m||ha(!1);const y=Number(m);return ha(!isNaN(y)),new LI(y,r.size(),"final"===f)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Mf(e),c}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ro,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new LI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function Xie(n,e,t,r,i,s,o,a){const c=new LI(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function die(){return new gr(cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let f=l;i>0&&(f=Math.min(f,i));const m=c.current;let I="";I=0===f?"finalize":l===f?"upload, finalize":"upload";const T={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${c.current}`},F=r.slice(m,m+f);if(null===F)throw Tj();const X=new da(t,"POST",function L(ae,Se){const $e=dS(ae,["active","final"]),q=c.current+f,B=r.size();let $;return $="final"===$e?FI(e,s)(ae,Se):null,new LI(q,B,"final"===$e,$)},e.maxUploadRetryTime);return X.headers=T,X.body=F.uploadData(),X.progressCallback=a||null,X.errorHandler=Mf(n),X}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Ro,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Vj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ro,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function jj(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let X="";for(let ae=0;ae<2;ae++)X+=Math.random().toString().slice(2);return X}();o["Content-Type"]="multipart/related; boundary="+c;const l=Bj(e,r,i),f=uS(l,t),I=ua.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+f+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===I)throw Tj();const T={name:l.fullPath},F=Ja(s,n.host,n._protocol),W=n.maxUploadRetryTime,z=new da(F,"POST",FI(n,t),W);return z.urlParams=T,z.headers=o,z.body=I.uploadData(),z.errorHandler=Mf(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ro,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Cj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=hS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new ese(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(hS(this._state)){case os.SUCCESS:Rf(this._resolve.bind(null,this.snapshot))();break;case os.CANCELED:case os.ERROR:Rf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hS(this._state)){case os.RUNNING:case os.PAUSED:e.next&&Rf(e.next.bind(e,this.snapshot))();break;case os.SUCCESS:e.complete&&Rf(e.complete.bind(e))();break;default:e.error&&Rf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class qu{constructor(e,t){this._service=e,this._location=t instanceof Bi?t:Bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qu(e,t)}get root(){const e=new Bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nj(this._location.path)}get storage(){return this._service}get parent(){const e=function Nie(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Bi(this._location.bucket,e);return new qu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Dj(e)}}function Gj(n,e,t){return fS.apply(this,arguments)}function fS(){return(fS=(0,_e.Z)(function*(n,e,t){const i=yield Wj(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Gj(n,e,i.nextPageToken))})).apply(this,arguments)}function Wj(n,e){null!=e&&"number"==typeof e.maxResults&&oS("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=qie(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ro)}function pse(n){n._throwIfRoot("getDownloadURL");const e=function Gie(n,e,t){const i=Ja(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new da(i,"GET",function Hie(n,e){return function t(r,i){const s=kj(n,i,e);return ha(null!==s),function Bie(n,e,t,r){const i=lS(e);if(null===i||!OI(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const m=n.fullPath;return Ja("/b/"+o(n.bucket)+"/o/"+o(m),t,r)+Mj({alt:"media",token:l})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=Xm(e),a}(n.storage,n._location,Ym());return n.storage.makeRequestWithTokens(e,Ro).then(t=>{if(null===t)throw function hie(){return new gr(cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Kj(n,e){const t=function kie(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Bi(n._location.bucket,t);return new qu(n.storage,r)}function Zj(n,e){if(n instanceof pS){const t=n;if(null==t._bucket)throw function uie(){return new gr(cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bj+"' property when initializing the app?")}();const r=new qu(t,t._bucket);return null!=e?Zj(r,e):r}return void 0!==e?Kj(n,e):n}function yse(n,e){if(e&&function mse(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof pS)return function _se(n,e){return new qu(n,e)}(n,e);throw Df("To use ref(service, url), the first argument must be a Storage instance.")}return Zj(n,e)}function Qj(n,e){const t=e?.[bj];return null==t?null:Bi.makeFromBucketSpec(t,n)}class pS{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ij,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bi.makeFromBucketSpec(i,this._host):Qj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bi.makeFromBucketSpec(this._url,e):Qj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new pie(Aj());{const o=function Tie(n,e,t,r,i,s,o=!0){const a=Mj(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function wie(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function Iie(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function bie(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function Cie(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new Eie(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return(0,_e.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const Yj="@firebase/storage",Jj="storage";function e$(n,e){return yse(n=(0,Rt.m9)(n),e)}function Sse(n=(0,Er.getApp)(),e){n=(0,Rt.m9)(n);const r=(0,Er._getProvider)(n,Jj).getImmediate({identifier:e}),i=(0,Rt.P0)("storage");return i&&t$(r,...i),r}function t$(n,e,t,r={}){!function vse(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Rt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function Mse(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new pS(t,r,i,e,Er.SDK_VERSION)}!function Rse(){(0,Er._registerComponent)(new vE.wA(Jj,Mse,"PUBLIC").setMultipleInstances(!0)),(0,Er.registerVersion)(Yj,"0.12.5",""),(0,Er.registerVersion)(Yj,"0.12.5","esm2017")}();class VI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class n${constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new VI(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?o=>t(new VI(o,this,this._ref)):{next:t.next?o=>t.next(new VI(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class r${constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ec(e,this._service))}get items(){return this._delegate.items.map(e=>new ec(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ec{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Dse(n,e){return Kj(n,e)}(this._delegate,e);return new ec(t,this.storage)}get root(){return new ec(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ec(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new n$(function Ese(n,e,t){return function lse(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Hj(n,new ua(e),t)}(n=(0,Rt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=$s.RAW,r){this._throwIfRoot("putString");const i=cS(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new n$(new Hj(this._delegate,new ua(i.data,!0),s),this)}listAll(){return function Cse(n){return function dse(n){const e={prefixes:[],items:[]};return Gj(n,e).then(()=>e)}(n=(0,Rt.m9)(n))}(this._delegate).then(e=>new r$(e,this.storage))}list(e){return function wse(n,e){return Wj(n=(0,Rt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new r$(t,this.storage))}getMetadata(){return function Ise(n){return function hse(n){n._throwIfRoot("getMetadata");const e=Vj(n.storage,n._location,Ym());return n.storage.makeRequestWithTokens(e,Ro)}(n=(0,Rt.m9)(n))}(this._delegate)}updateMetadata(e){return function bse(n,e){return function fse(n,e){n._throwIfRoot("updateMetadata");const t=function Wie(n,e,t,r){const s=Ja(e.fullServerUrl(),n.host,n._protocol),a=uS(t,r),l=n.maxOperationRetryTime,f=new da(s,"PATCH",FI(n,r),l);return f.headers={"Content-Type":"application/json; charset=utf-8"},f.body=a,f.errorHandler=Xm(e),f}(n.storage,n._location,e,Ym());return n.storage.makeRequestWithTokens(t,Ro)}(n=(0,Rt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Tse(n){return pse(n=(0,Rt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ase(n){return function gse(n){n._throwIfRoot("deleteObject");const e=function Kie(n,e){const r=Ja(e.fullServerUrl(),n.host,n._protocol),a=new da(r,"DELETE",function o(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Xm(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ro)}(n=(0,Rt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Dj(e)}}class i${constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(s$(e))throw Df("ref() expected a child path but got a URL, use refFromURL instead.");return new ec(e$(this._delegate,e),this)}refFromURL(e){if(!s$(e))throw Df("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bi.makeFromUrl(e,this._delegate.host)}catch{throw Df("refFromUrl() expected a valid full URL but got an invalid one.")}return new ec(e$(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){t$(this._delegate,e,t,r)}}function s$(n){return/^[A-Za-z]+:\/\//.test(n)}function Nse(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new i$(t,r)}function o$(n){const e=function Fse(n){return new bt(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(pk(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(De(t=>t.bytesTransferred/t.totalBytes*100))}}function UI(n){return{getDownloadURL:()=>V(void 0).pipe(nL,He(()=>n.getDownloadURL()),ts),getMetadata:()=>V(void 0).pipe(nL,He(()=>n.getMetadata()),ts),delete:()=>b(n.delete()),child:e=>UI(n.child(e)),updateMetadata:e=>b(n.updateMetadata(e)),put:(e,t)=>o$(n.put(e,t)),putString:(e,t,r)=>o$(n.putString(e,t,r)),list:e=>b(n.list(e)),listAll:()=>b(n.listAll())}}!function kse(n){const e={TaskState:os,TaskEvent:Jie,StringFormat:$s,Storage:i$,Reference:ec};n.INTERNAL.registerComponent(new vE.wA("storage-compat",Nse,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.8")}(Mo.Z);const Lse=new Ie("angularfire2.storageBucket"),Vse=new Ie("angularfire2.storage.maxUploadRetryTime"),Use=new Ie("angularfire2.storage.maxOperationRetryTime"),Bse=new Ie("angularfire2.storage.use-emulator");let a$=(()=>{class n{storage;constructor(t,r,i,s,o,a,c,l,f,m){const y=mE(t,o,r);this.storage=_E(`${y.name}.storage.${i}`,"AngularFireStorage",y.name,()=>{const I=o.runOutsideAngular(()=>y.storage(i||void 0)),T=f;return T&&I.useEmulator(...T),c&&I.setMaxUploadRetryTime(c),l&&I.setMaxOperationRetryTime(l),I},[c,l])}ref(t){return UI(this.storage.ref(t))}refFromURL(t){return UI(this.storage.refFromURL(t))}upload(t,r,i){return UI(this.storage.ref(t)).put(r,i)}static \u0275fac=function(r){return new(r||n)(pe(qg),pe(Gg,8),pe(Lse,8),pe(ks),pe(Wt),pe(mu),pe(Vse,8),pe(Use,8),pe(Bse,8),pe(Hg,8))};static \u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),jse=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({})}return n})(),$se=(()=>{class n{constructor(){Mo.Z.registerVersion("angularfire",$a.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[a$],imports:[jse]})}return n})(),gS=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=`${r}/${t.name}`,s=this.storage.ref(i),o=this.storage.upload(i,t);return new bt(a=>{o.snapshotChanges().pipe(Cg(()=>{s.getDownloadURL().subscribe(c=>{a.next(c),a.complete()})})).subscribe()})}static#e=this.\u0275fac=function(r){return new(r||n)(pe(a$))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zse(n,e){if(1&n&&(M(0,"option",26),k(1),C()),2&n){const t=e.$implicit;Le("value",t),ee(1),nt(t)}}let c$=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.servicesService=r,this.imageUploadService=i,this.router=s,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new nS,this.serviceForm=this.fb.group({Name:["",Nr.required],Email:["",[Nr.required,Nr.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[""],Service_Type:["",Nr.required]})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(t){this.selectedFile=t.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(t=>{this.serviceTypes=t})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(t=>{this.serviceObj.Image=t,console.log(t),this.saveService()}):this.saveService())}saveService(){const t={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:(new Date).getDate.toString(),Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};this.servicesService.addService(t).subscribe(r=>{console.log("Service added successfully with ID:",r?.id),this.serviceForm.reset(),this.router.navigate(["/services",r?.id])})}static#e=this.\u0275fac=function(r){return new(r||n)(de(xI),de(Lm),de(gS),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-add-service"]],decls:51,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Lista de Servicii"),C()(),M(4,"div",2)(5,"h2"),k(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),C(),Je(7,"p"),C()(),M(8,"div",3)(9,"h2"),k(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),C(),M(11,"form",4),ht("ngSubmit",function(){return i.onSubmit()}),M(12,"div",5)(13,"label",6),k(14,"Nume:"),C(),Je(15,"input",7),C(),M(16,"div",5)(17,"label",8),k(18,"Adresa Email:"),C(),Je(19,"input",9),C(),M(20,"div",5)(21,"label",10),k(22,"Numar de telefon:"),C(),Je(23,"input",11),C(),M(24,"div",5)(25,"label",12),k(26,"Pagina Web:"),C(),Je(27,"input",13),C(),M(28,"div",5)(29,"label",14),k(30,"Pagina Facebook:"),C(),Je(31,"input",15),C(),M(32,"div",5)(33,"label",16),k(34,"Instagram:(@username)"),C(),Je(35,"input",17),C(),M(36,"div",5)(37,"label",18),k(38,"Descriere a serviciile oferite:"),C(),Je(39,"textarea",19),C(),M(40,"div",5)(41,"label",20),k(42,"Categoria de serviciului:"),C(),M(43,"select",21),En(44,zse,2,2,"option",22),C()(),M(45,"div",5)(46,"label",23),k(47,"Imagine:"),C(),M(48,"input",24),ht("change",function(o){return i.onFileSelected(o)}),C()(),M(49,"button",25),k(50,"Add Service"),C()()()),2&r&&(ee(11),Le("formGroup",i.serviceForm),ee(33),Le("ngForOf",i.serviceTypes),ee(5),Le("disabled",i.serviceForm.invalid))},dependencies:[Us,Tf,Wm,Km,ml,zu,El,bf,Il,Af,Gm],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return n})(),Hse=(()=>{class n{constructor(t,r){this.fb=t,this.eventsService=r,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",Nr.required],Event_date:["",Nr.required],Location:["",Nr.required],Name:["",Nr.required],Phone_Number:[""],Poster_Image:["",Nr.required],Price:["",Nr.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(r=>{console.error("Error adding event: ",r)})}static#e=this.\u0275fac=function(r){return new(r||n)(de(xI),de(II))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"form",1),ht("ngSubmit",function(){return i.onSubmit()}),M(2,"div",2)(3,"label",3),k(4,"Titlu:"),C(),Je(5,"input",4),C(),M(6,"div",2)(7,"label",5),k(8,"Persoana de contact:"),C(),Je(9,"input",6),C(),M(10,"div",2)(11,"label",7),k(12,"Imagine poster:"),C(),Je(13,"input",8),C(),M(14,"div",2)(15,"label",9),k(16,"Numar de Telefon:"),C(),Je(17,"input",10),C(),M(18,"div",2)(19,"label",11),k(20,"Data Evenimentului:"),C(),Je(21,"input",12),C(),M(22,"div",2)(23,"label",13),k(24,"Locatie:"),C(),Je(25,"input",14),C(),M(26,"div",2)(27,"label",15),k(28,"Descriere:"),C(),Je(29,"textarea",16),C(),M(30,"div",2)(31,"label",17),k(32,"Pret:"),C(),Je(33,"input",18),C(),M(34,"div",2)(35,"label",19),k(36,"Website:"),C(),Je(37,"input",20),C(),M(38,"button",21),k(39,"Adauga Eveniment"),C()()()),2&r&&(ee(1),Le("formGroup",i.eventForm),ee(37),Le("disabled",i.eventForm.invalid))},dependencies:[Tf,ml,El,bf,Il,Af,Gm],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return n})();function qse(n,e){if(1&n&&(M(0,"option",28),k(1),C()),2&n){const t=e.$implicit;Le("value",t),ee(1),nt(t)}}let Gse=(()=>{class n{constructor(t,r,i,s,o){this.fb=t,this.offersService=r,this.firestore=i,this.imageUploadService=s,this.router=o,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",Nr.required],Company_Name:[""],Contact_Name:["",Nr.required],Phone_Number:["",Nr.required],Email:["",[Nr.email]],Location:["",Nr.required],Website:[""],Description:["",Nr.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(t){this.selectedFiles=t.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(t=>{this.offerTypes=t})}onSubmit(t){var r=this;if(console.log(t),this.selectedFiles&&this.selectedFiles.length>0){const i=[];for(let s=0;s<this.selectedFiles.length;s++){const a=this.imageUploadService.uploadImage(this.selectedFiles[s],"offers");i.push(a)}kC(i).pipe(De(s=>{this.offer.Image1=s[0]||"",this.offer.Image2=s[1]||"",this.offer.Image3=s[2]||"",this.offer.Image4=s[3]||"",this.offer.Image5=s[4]||""}),He((0,_e.Z)(function*(){return r.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return b(this.firestore.collection("Offers").add(this.offer).then(t=>{console.log("Offer added with ID:",t.id),this.router.navigate(["/offers",t.id])}).catch(t=>{console.error("Error adding offer:",t)}))}static#e=this.\u0275fac=function(r){return new(r||n)(de(xI),de(Fm),de(Bu),de(gS),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(r,i){if(1&r){const s=ng();M(0,"div",0)(1,"form",1,2),ht("ngSubmit",function(){Rc(s);const a=function ux(n){return ys(function Fb(){return Et.lFrame.contextLView}(),zt+n)}(2);return Ho(i.onSubmit(a))}),M(3,"div",3)(4,"label",4),k(5,"Titlu:"),C(),M(6,"input",5),ht("ngModelChange",function(a){return i.offer.Title=a}),C()(),M(7,"div",3)(8,"label",6),k(9,"Numele Companiei:"),C(),M(10,"input",7),ht("ngModelChange",function(a){return i.offer.Company_Name=a}),C()(),M(11,"div",3)(12,"label",8),k(13,"Numele persoanei de contact:"),C(),M(14,"input",9),ht("ngModelChange",function(a){return i.offer.Contact_Name=a}),C()(),M(15,"div",3)(16,"label",10),k(17,"Numar de telefon:"),C(),M(18,"input",11),ht("ngModelChange",function(a){return i.offer.Phone_Number=a}),C()(),M(19,"div",3)(20,"label",12),k(21,"Adresa de Email:"),C(),M(22,"input",13),ht("ngModelChange",function(a){return i.offer.Email=a}),C()(),M(23,"div",3)(24,"label",14),k(25,"Descriere:"),C(),M(26,"textarea",15),ht("ngModelChange",function(a){return i.offer.Description=a}),C()(),M(27,"div",3)(28,"label",16),k(29,"Pret:"),C(),M(30,"input",17),ht("ngModelChange",function(a){return i.offer.Price=a}),C()(),M(31,"div",3)(32,"label",18),k(33,"Locatie:"),C(),M(34,"input",19),ht("ngModelChange",function(a){return i.offer.Location=a}),C()(),M(35,"div",3)(36,"label",20),k(37,"Website:"),C(),M(38,"input",21),ht("ngModelChange",function(a){return i.offer.Website=a}),C()(),M(39,"div",3)(40,"label",22),k(41,"Tip de oferta"),C(),M(42,"select",23),ht("ngModelChange",function(a){return i.offer.OfferType=a}),En(43,qse,2,2,"option",24),C()(),M(44,"div",3)(45,"label",25),k(46,"Images"),C(),M(47,"input",26),ht("change",function(a){return i.onFileSelected(a)}),C()(),M(48,"button",27),k(49,"Adauga Oferta"),C()()()}2&r&&(ee(6),Le("ngModel",i.offer.Title),ee(4),Le("ngModel",i.offer.Company_Name),ee(4),Le("ngModel",i.offer.Contact_Name),ee(4),Le("ngModel",i.offer.Phone_Number),ee(4),Le("ngModel",i.offer.Email),ee(4),Le("ngModel",i.offer.Description),ee(4),Le("ngModel",i.offer.Price),ee(4),Le("ngModel",i.offer.Location),ee(4),Le("ngModel",i.offer.Website),ee(4),Le("ngModel",i.offer.OfferType),ee(1),Le("ngForOf",i.offerTypes))},dependencies:[Us,Tf,Wm,Km,ml,zu,El,bf,Il,Cf,Hm],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return n})();function Wse(n,e){if(1&n&&(M(0,"option",31),k(1),C()),2&n){const t=e.$implicit;Le("value",t),ee(1),nt(t)}}let Kse=(()=>{class n{constructor(t,r,i,s,o){this.fb=t,this.route=r,this.router=i,this.servicesService=s,this.imageUploadService=o,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new nS,this.oldImage=null,this.serviceForm=this.fb.group({Name:["",Nr.required],Email:["",Nr.email],Phone_Number:["",Nr.required],Website:[""],Facebook:[""],Instagram:[""],Description:["",Nr.required],Service_Type:["",Nr.required],Image:[""],Date_Created:[""],Date_Updated:[""],Approved:[""]})}onFileSelected(t){this.selectedFile=t.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(t=>{this.serviceForm.patchValue({Id:this.serviceId,Name:t?.Name,Email:t?.Email,Phone_Number:t?.Phone_Number,Service_Type:t?.Service_Type,Website:t?.Website,Facebook:t?.Facebook,Instagram:t?.Instagram,Description:t?.Description,Date_Created:t?.Date_Created,Date_Updated:t?.Date_Updated,Approved:t?.Approved}),t?.Image&&(this.oldImage=t?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(t=>{this.serviceTypes=t})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Approved=this.serviceForm.value.Approved,this.serviceObj.Image=this.serviceForm.value.Image,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(t=>{this.serviceObj.Image=t,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){const t={id:this.serviceObj.id,Name:this.serviceObj.Name,Phone_Number:this.serviceObj.Phone_Number,Service_Type:this.serviceObj.Service_Type,Community_Sponsor:!1,Email:this.serviceObj.Email,Website:this.serviceObj.Website,Facebook:this.serviceObj.Facebook,Instagram:this.serviceObj.Instagram,Description:this.serviceObj.Description,Date_Created:this.serviceObj.Date_Created,Date_Updated:(new Date).getDate.toString(),Image:this.serviceObj.Image,Approved:!1,OpenHour:"",CloseHour:""};console.log(t);let r=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(r,t).subscribe(i=>{console.log("Service updated successfully  ID:",i?.id),this.serviceForm.reset(),this.router.navigate(["/services",i?.id])})}static#e=this.\u0275fac=function(r){return new(r||n)(de(xI),de(Do),de(Hn),de(Lm),de(gS))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-edit-services"]],decls:55,vars:4,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Email",1,"required"],["id","Email","type","Email","formControlName","Email"],["for","Phone_Number",1,"required"],["id","Phone_Number","formControlName","Phone_Number"],["for","Website"],["id","Website","formControlName","Website"],["for","Facebook"],["id","Facebook","formControlName","Facebook"],["for","Instagram"],["id","Instagram","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Lista de Servicii"),C()(),M(4,"div",2)(5,"h2"),k(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),C()()(),M(7,"div",3)(8,"form",4),ht("ngSubmit",function(){return i.onSubmit()}),M(9,"div",5)(10,"label",6),k(11,"Nume:"),C(),Je(12,"input",7),C(),M(13,"div",5)(14,"label",8),k(15,"Adresa Email:"),C(),Je(16,"input",9),C(),M(17,"div",5)(18,"label",10),k(19,"Numar de telefon:"),C(),Je(20,"input",11),C(),M(21,"div",5)(22,"label",12),k(23,"Pagina Web:"),C(),Je(24,"input",13),C(),M(25,"div",5)(26,"label",14),k(27,"Pagina Facebook:"),C(),Je(28,"input",15),C(),M(29,"div",5)(30,"label",16),k(31,"Instagram:"),C(),Je(32,"input",17),C(),M(33,"div",5)(34,"label",18),k(35,"Descriere a serviciile oferite:"),C(),Je(36,"textarea",19),C(),M(37,"div",5)(38,"label",20),k(39,"Imagine:"),C(),M(40,"div",21),Je(41,"img",22),C(),M(42,"input",23),ht("change",function(o){return i.onFileSelected(o)}),C()(),M(43,"div",5)(44,"label",24),k(45,"Categoria de serviciului:"),C(),M(46,"select",25),En(47,Wse,2,2,"option",26),C()(),M(48,"button",27),k(49,"Salvati Serviciu"),C(),M(50,"div",28)(51,"div")(52,"label",29),k(53,"Approved:"),C(),Je(54,"input",30),C()()()()),2&r&&(ee(8),Le("formGroup",i.serviceForm),ee(33),Le("src",i.oldImage,xn),ee(6),Le("ngForOf",i.serviceTypes),ee(1),Le("disabled",i.serviceForm.invalid))},dependencies:[Us,Tf,Wm,Km,ml,zu,El,bf,Il,Af,Gm],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}']})}return n})(),Zse=(()=>{class n{constructor(t){this.firestore=t}getAnalytics(){return this.firestore.collection("analytics").valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Bu))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qse(n,e){if(1&n&&(M(0,"tr")(1,"td"),k(2),C(),M(3,"td"),k(4),su(5,"json"),C(),M(6,"td"),k(7),su(8,"date"),C()()),2&n){const t=e.$implicit;ee(2),nt(t.page_path),ee(2),nt(function Z1(n,e,t){const r=n+zt,i=we(),s=ys(i,r);return hg(i,r)?H1(i,Jr(),e,s.transform,t,s):s.transform(t)}(5,3,t.query_params)),ee(3),nt(yh(8,5,t.timestamp,"medium"))}}let l$=(()=>{class n{constructor(t){this.analyticsService=t,this.analyticsData=[]}ngOnInit(){this.analyticsService.getAnalytics().subscribe(t=>{this.analyticsData=t})}static#e=this.\u0275fac=function(r){return new(r||n)(de(Zse))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-analytics"]],decls:14,vars:1,consts:[[1,"container"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),k(2,"Analytics Data"),C(),M(3,"table",1)(4,"thead")(5,"tr")(6,"th"),k(7,"Page Path"),C(),M(8,"th"),k(9,"Query Params"),C(),M(10,"th"),k(11,"Timestamp"),C()()(),M(12,"tbody"),En(13,Qse,9,8,"tr",2),C()()()),2&r&&(ee(13),Le("ngForOf",i.analyticsData))},dependencies:[Us,PN,wh],styles:[".container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}return n})();function Yse(n,e){if(1&n&&(M(0,"div",5),Je(1,"img",6),C()),2&n){const t=e.$implicit;ee(1),Le("src",t,xn)}}let Xse=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.offerService=i,this.images=[]}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.offerService.getOfferById(t).subscribe(r=>{this.offer=r,this.images=[r.Image1,r.Image2,r.Image3,r.Image4,r.Image5].filter(i=>!!i)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(r){return new(r||n)(de(Do),de(Hn),de(Fm))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),k(2),C(),M(3,"div",1),En(4,Yse,2,1,"div",2),C(),M(5,"p")(6,"strong"),k(7,"Company Name:"),C(),k(8),C(),M(9,"p")(10,"strong"),k(11,"Contact Name:"),C(),k(12),C(),M(13,"p")(14,"strong"),k(15,"Phone Number:"),C(),k(16),C(),M(17,"p")(18,"strong"),k(19,"Email:"),C(),k(20),C(),M(21,"p")(22,"strong"),k(23,"Description:"),C(),k(24),C(),M(25,"p")(26,"strong"),k(27,"Location:"),C(),k(28),C(),M(29,"p")(30,"strong"),k(31,"Website:"),C(),M(32,"a",3),k(33),C()(),M(34,"p")(35,"strong"),k(36,"Offer Type:"),C(),k(37),C(),M(38,"p")(39,"strong"),k(40,"Date Created:"),C(),k(41),su(42,"date"),C(),M(43,"button",4),ht("click",function(){return i.goBack()}),k(44,"Back to Offers"),C()()),2&r&&(ee(2),nt(null==i.offer?null:i.offer.Title),ee(2),Le("ngForOf",i.images),ee(4),Qn(" ",null==i.offer?null:i.offer.Company_Name,""),ee(4),Qn(" ",null==i.offer?null:i.offer.Contact_Name,""),ee(4),Qn(" ",null==i.offer?null:i.offer.Phone_Number,""),ee(4),Qn(" ",null==i.offer?null:i.offer.Email,""),ee(4),Qn(" ",null==i.offer?null:i.offer.Description,""),ee(4),Qn(" ",null==i.offer?null:i.offer.Location,""),ee(4),Le("href",null==i.offer?null:i.offer.Website,xn),ee(1),nt(null==i.offer?null:i.offer.Website),ee(4),Qn(" ",null==i.offer?null:i.offer.OfferType,""),ee(4),Qn(" ",yh(42,12,null==i.offer?null:i.offer.Date_Created,"shortDate"),""))},dependencies:[Us,wh],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),Jse=(()=>{class n{constructor(t,r,i){this.route=t,this.servicesService=r,this.router=i,this.service=new nS,this.serviceId=null}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(t=>{t&&(this.service.Community_Sponsor=t?.Community_Sponsor,this.service.Name=t.Name,this.service.Date_Created=t.Date_Created,this.service.Description=t.Description,this.service.Email=t.Email,this.service.Facebook=t.Facebook,this.service.Instagram=t.Instagram,this.service.Phone_Number=t.Phone_Number,this.service.Service_Type=t.Service_Type,this.service.Website=Ej(t.Website),this.service.Image=t.Image,this.serviceId&&(this.service.id=this.serviceId),console.log("Image",t?.Image),(""==t.Image||void 0===t.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(t){this.router.navigate(["/edit-service",t])}static#e=this.\u0275fac=function(r){return new(r||n)(de(Do),de(Lm),de(Hn))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-service-detail"]],decls:61,vars:19,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],[1,"editButton",3,"click"],[3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),k(4,"Name:"),C(),k(5),C(),M(6,"div",2)(7,"h3")(8,"strong"),k(9,"Service Id:"),C(),k(10),C()()(),M(11,"div",3)(12,"div",4),Je(13,"img",5),C(),M(14,"div",6)(15,"div")(16,"label",7),k(17,"Tip Serviciu:"),C(),k(18),C(),M(19,"div")(20,"label",7),k(21,"Nr Telefon:"),C(),k(22),C(),M(23,"div")(24,"label",7),k(25,"Email:"),C(),k(26),C(),M(27,"div")(28,"label",7),k(29,"Website:"),C(),M(30,"a",8),k(31),C()(),M(32,"div")(33,"label",7),k(34,"Facebook:"),C(),M(35,"a",8),k(36),C()(),M(37,"div")(38,"label",7),k(39,"Instagram:"),C(),M(40,"a",8),k(41),C()(),M(42,"div")(43,"label",7),k(44,"Sponsor:"),C(),k(45),C(),M(46,"div")(47,"label",7),k(48,"Date Created:"),C(),k(49),su(50,"date"),C(),M(51,"div")(52,"label",7),k(53,"Description:"),C(),k(54),C()()(),M(55,"div",9)(56,"button",10),ht("click",function(){return i.navigateToEditService(i.service.id)}),k(57,"Edit"),C(),k(58," \xa0 "),M(59,"button",11),ht("click",function(){return i.goBack()}),k(60,"Inapoi la Servicii"),C()()()),2&r&&(ee(5),nt(i.service.Name),ee(5),nt(i.service.id),ee(3),Io("alt",i.service.Name),Le("src",i.service.Image,xn),ee(5),Qn(" ",i.service.Service_Type,""),ee(4),Qn(" ",i.service.Phone_Number,""),ee(4),Qn(" ",i.service.Email,""),ee(4),Le("href",i.service.Website,xn),ee(1),nt(i.service.Website),ee(4),Le("href",i.service.Facebook,xn),ee(1),nt(i.service.Facebook),ee(4),Le("href",i.service.Instagram,xn),ee(1),nt(i.service.Instagram),ee(4),Qn(" ",i.service.Community_Sponsor?"Yes":"No",""),ee(4),Qn(" ",yh(50,16,i.service.Date_Created,"shortDate"),""),ee(5),nt(i.service.Description))},dependencies:[wh],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:#007bff;border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),mS=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r,this.user$=this.afAuth.authState}login(t,r){var i=this;return(0,_e.Z)(function*(){try{yield i.afAuth.signInWithEmailAndPassword(t,r),i.router.navigate(["/admin"])}catch(s){console.error("Login error",s)}})()}logout(){var t=this;return(0,_e.Z)(function*(){yield t.afAuth.signOut(),t.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe(De(t=>!!t))}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yE),pe(Hn))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const u$=()=>{const n=ze(mS),e=ze(Hn);return n.isLoggedIn().pipe(Hc(1),De(t=>!!t||(e.navigate(["/login"]),!1)))};let eoe=(()=>{class n{constructor(t){this.authService=t}logout(){this.authService.logout()}static#e=this.\u0275fac=function(r){return new(r||n)(de(mS))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-admin"]],decls:25,vars:0,consts:[[1,"container"],[1,"header-container"],[1,"title-container"],[1,"nav-pills"],["routerLink","analytics"],["routerLink","service-manager"],["routerLink","offer-management"],["routerLink","event-management"],[3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div")(2,"div",1),Je(3,"div",2),C(),M(4,"nav",3)(5,"ul")(6,"li")(7,"h2"),k(8,"Admin Pannel"),C()(),M(9,"li")(10,"a",4),k(11,"Analytics"),C()(),M(12,"li")(13,"a",5),k(14,"Service Manager"),C()(),M(15,"li")(16,"a",6),k(17,"Offers Manager"),C()(),M(18,"li")(19,"a",7),k(20,"Event Manager"),C()(),M(21,"li")(22,"button",8),ht("click",function(){return i.logout()}),k(23,"Logout"),C()()()(),Je(24,"router-outlet"),C()())},dependencies:[aE,zg],styles:[".container[_ngcontent-%COMP%]{padding-top:100px}.admin-container[_ngcontent-%COMP%]{width:80%;margin:0 auto;background:#fff;box-shadow:0 2px 4px #0000001a;border-radius:8px;overflow:hidden}.header-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{color:#fff;padding:20px;text-align:center}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px}.nav-pills[_ngcontent-%COMP%]{margin:0;padding:0}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;display:flex;justify-content:center}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 20px;border-radius:20px;text-decoration:none;color:#fff;background:#007bff;transition:background-color .3s,color .3s}button[_ngcontent-%COMP%]{margin:0;display:block;padding:10px 20px;border-radius:20px;text-decoration:none;color:#fff;background:#007bff;transition:background-color .3s,color .3s}.nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-pills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}main[_ngcontent-%COMP%]{padding:20px;background:#fff}main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}"]})}return n})(),toe=(()=>{class n{constructor(t){this.authService=t,this.email="",this.password=""}login(){this.authService.login(this.email,this.password)}static#e=this.\u0275fac=function(r){return new(r||n)(de(mS))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Login"),C(),M(4,"form",2),ht("submit",function(){return i.login()}),M(5,"div",3)(6,"label",4),k(7,"Email"),C(),M(8,"input",5),ht("ngModelChange",function(o){return i.email=o}),C()(),M(9,"div",3)(10,"label",6),k(11,"Password"),C(),M(12,"input",7),ht("ngModelChange",function(o){return i.password=o}),C()(),M(13,"button",8),k(14,"Login"),C()()()()),2&r&&(ee(8),Le("ngModel",i.email),ee(4),Le("ngModel",i.password))},dependencies:[Tf,ml,El,bf,Il,Cf,Hm],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})();function noe(n,e){if(1&n){const t=ng();M(0,"tr")(1,"td"),Je(2,"img",2),C(),M(3,"td"),k(4),C(),M(5,"td"),k(6),C(),M(7,"td"),k(8),C(),M(9,"td"),k(10),C(),M(11,"td"),k(12),C(),M(13,"td"),k(14),C(),M(15,"td"),k(16),C(),M(17,"td"),k(18),C(),M(19,"td"),k(20),C(),M(21,"td"),k(22),C(),M(23,"td")(24,"input",3),ht("change",function(){const s=Rc(t).$implicit;return Ho(Ls().toggleApproval(s))}),C()()()}if(2&n){const t=e.$implicit;ee(2),Io("src",t.Image,xn),ee(2),nt(t.Name),ee(2),nt(t.Service_Type),ee(2),nt(t.Phone_Number),ee(2),nt(t.Email),ee(2),nt(t.Description),ee(2),nt(t.Website),ee(2),nt(t.Facebook),ee(2),nt(t.Instagram),ee(2),nt(t.Community_Sponsor),ee(2),nt(t.Date_Created),ee(2),Le("checked",t.Approved)}}let roe=(()=>{class n{constructor(t){this.serviceManagementService=t,this.services=[]}ngOnInit(){this.serviceManagementService.getAllServices().subscribe(t=>{this.services=t.sort((r,i)=>r.Approved===i.Approved?new Date(i.Date_Created).getTime()-new Date(r.Date_Created).getTime():r.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,this.serviceManagementService.updateService(t.id,t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(Lm))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-manage-services"]],decls:32,vars:1,consts:[[1,"admin-container"],[4,"ngFor","ngForOf"],[1,"service-card-image",3,"src"],["type","checkbox",3,"checked","change"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),k(2,"Manage Services"),C(),M(3,"table")(4,"thead")(5,"tr")(6,"th"),k(7,"Image"),C(),M(8,"th"),k(9,"Name"),C(),M(10,"th"),k(11,"Service Type"),C(),M(12,"th"),k(13,"Phone Number"),C(),M(14,"th"),k(15,"Email"),C(),M(16,"th"),k(17,"Description"),C(),M(18,"th"),k(19,"Website"),C(),M(20,"th"),k(21,"Facebook"),C(),M(22,"th"),k(23,"Instagram"),C(),M(24,"th"),k(25,"Community Sponsor"),C(),M(26,"th"),k(27,"Date Created"),C(),M(28,"th"),k(29,"Approved"),C()()(),M(30,"tbody"),En(31,noe,25,12,"tr",1),C()()()),2&r&&(ee(31),Le("ngForOf",i.services))},dependencies:[Us],styles:[".admin-container[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}.service-manager-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}"]})}return n})();function ioe(n,e){if(1&n){const t=ng();M(0,"tr")(1,"td"),k(2),C(),M(3,"td"),k(4),C(),M(5,"td"),k(6),C(),M(7,"td"),k(8),C(),M(9,"td"),k(10),C(),M(11,"td"),k(12),C(),M(13,"td"),k(14),C(),M(15,"td"),k(16),C(),M(17,"td"),k(18),C(),M(19,"td"),k(20),C(),M(21,"td"),k(22),C(),M(23,"td"),k(24),C(),M(25,"td")(26,"input",2),ht("change",function(){const s=Rc(t).$implicit;return Ho(Ls().toggleApproval(s))}),C()()()}if(2&n){const t=e.$implicit;ee(2),nt(t.Title),ee(2),nt(t.Company_Name),ee(2),nt(t.Contact_Name),ee(2),nt(t.Phone_Number),ee(2),nt(t.Email),ee(2),nt(t.Description),ee(2),nt(t.Price),ee(2),nt(t.Location),ee(2),nt(t.Website),ee(2),nt(t.Facebook),ee(2),nt(t.Instagram),ee(2),nt(t.Date_Created),ee(2),Le("checked",t.Approved)}}let soe=(()=>{class n{constructor(t){this.offerService=t,this.offers=[]}ngOnInit(){this.offerService.getAllOffers().subscribe(t=>{this.offers=t.sort((r,i)=>r.Approved===i.Approved?new Date(i.Date_Created).getTime()-new Date(r.Date_Created).getTime():r.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,t.ApprovedDate=(new Date).toISOString(),this.offerService.updateOffer(t.id,t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(Fm))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-offer-management"]],decls:34,vars:1,consts:[[1,"offer-management-container"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),k(2,"Manage Offers"),C(),M(3,"table")(4,"thead")(5,"tr")(6,"th"),k(7,"Title"),C(),M(8,"th"),k(9,"Company Name"),C(),M(10,"th"),k(11,"Contact Name"),C(),M(12,"th"),k(13,"Phone Number"),C(),M(14,"th"),k(15,"Email"),C(),M(16,"th"),k(17,"Description"),C(),M(18,"th"),k(19,"Price"),C(),M(20,"th"),k(21,"Location"),C(),M(22,"th"),k(23,"Website"),C(),M(24,"th"),k(25,"Facebook"),C(),M(26,"th"),k(27,"Instagram"),C(),M(28,"th"),k(29,"Date Created"),C(),M(30,"th"),k(31,"Approved"),C()()(),M(32,"tbody"),En(33,ioe,27,13,"tr",1),C()()()),2&r&&(ee(33),Le("ngForOf",i.offers))},dependencies:[Us],styles:[".offer-management-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}"]})}return n})();function ooe(n,e){if(1&n){const t=ng();M(0,"tr")(1,"td"),k(2),C(),M(3,"td"),k(4),C(),M(5,"td"),k(6),C(),M(7,"td"),k(8),C(),M(9,"td"),k(10),C(),M(11,"td"),k(12),C(),M(13,"td")(14,"a",2),k(15),C()(),M(16,"td")(17,"a",2),k(18),C()(),M(19,"td")(20,"a",2),k(21),C()(),M(22,"td")(23,"input",3),ht("ngModelChange",function(i){return Ho(Rc(t).$implicit.Approved=i)})("change",function(){const s=Rc(t).$implicit;return Ho(Ls().toggleApproval(s))}),C()(),M(24,"td"),k(25),C(),Je(26,"td"),C()}if(2&n){const t=e.$implicit;ee(2),nt(t.Name),ee(2),nt(t.Description),ee(2),nt(t.Location),ee(2),nt(t.Event_Date),ee(2),nt(t.Time),ee(2),nt(t.Contact),ee(2),Le("href",t.Website,xn),ee(1),nt(t.Website),ee(2),Le("href",t.Facebook,xn),ee(1),nt(t.Facebook),ee(2),Le("href",t.Instagram,xn),ee(1),nt(t.Instagram),ee(2),Le("ngModel",t.Approved),ee(2),nt(t.Date_Created)}}const aoe=[{path:"",component:Gne},{path:"rules",component:Kre},{path:"analytics",component:l$},{path:"events",component:Qre},{path:"add-event",component:Hse},{path:"offers",component:Xre},{path:"add-offers",component:Gse},{path:"offers/:id",component:Xse},{path:"services",component:Wre},{path:"add-service",component:c$},{path:"services/add",component:c$},{path:"services/:id",component:Jse},{path:"edit-service/:id",component:Kse},{path:"test",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(r,i){1&r&&(M(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),k(4,"Welcome to Seattle Community"),C(),M(5,"p"),k(6,"Your go-to place for community services and events"),C(),M(7,"a",3),k(8,"Join our Facebook Group"),C()(),M(9,"div",4),Je(10,"img",5),C()()(),M(11,"section",6)(12,"div",7)(13,"h2"),k(14,"About Our Community"),C(),M(15,"p"),k(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),C()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return n})()},{path:"admin",component:eoe,canMatch:[u$],canActivate:[u$],children:[{path:"analytics",component:l$},{path:"service-manager",component:roe},{path:"offer-management",component:soe},{path:"event-management",component:(()=>{class n{constructor(t){this.eventService=t,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(t=>{this.events=t.sort((r,i)=>r.Approved===i.Approved?new Date(i.Date_Created).getTime()-new Date(r.Date_Created).getTime():r.Approved?1:-1)})}toggleApproval(t){t.Approved=!t.Approved,t.ApprovedDate=(new Date).toISOString(),this.eventService.updateEvent(t.id,t)}static#e=this.\u0275fac=function(r){return new(r||n)(de(II))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-event-management"]],decls:32,vars:1,consts:[[1,"event-management-container"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),k(2,"Manage Events"),C(),M(3,"table")(4,"thead")(5,"tr")(6,"th"),k(7,"Title"),C(),M(8,"th"),k(9,"Description"),C(),M(10,"th"),k(11,"Location"),C(),M(12,"th"),k(13,"Date"),C(),M(14,"th"),k(15,"Time"),C(),M(16,"th"),k(17,"Organizer"),C(),M(18,"th"),k(19,"Website"),C(),M(20,"th"),k(21,"Facebook"),C(),M(22,"th"),k(23,"Instagram"),C(),M(24,"th"),k(25,"Approved"),C(),M(26,"th"),k(27,"Date Created"),C(),M(28,"th"),k(29,"Actions"),C()()(),M(30,"tbody"),En(31,ooe,27,14,"tr",1),C()()()),2&r&&(ee(31),Le("ngForOf",i.events))},dependencies:[Us,BD,El,Cf],styles:[".event-management-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}"]})}return n})()}]},{path:"login",component:toe},{path:"",redirectTo:"/login",pathMatch:"full"}];let coe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({imports:[JF.forRoot(aoe),JF]})}return n})();var loe=Ke(513);const doe=new Ie("angularfire2.analytics.analyticsCollectionEnabled"),hoe=new Ie("angularfire2.analytics.appVersion"),foe=new Ie("angularfire2.analytics.appName"),poe=new Ie("angularfire2.analytics.debugMode"),goe=new Ie("angularfire2.analytics.config"),BI="dataLayer";let h$=(()=>{class n{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(t){var r=this;return(0,_e.Z)(function*(){yield r.analyticsInitialized,window.gtag("config",r.measurementId,{...t,update:!0})})()}constructor(t,r,i,s,o,a,c,l,f){if(kN(c)){window[BI]=window[BI]||[];const y=(...F)=>"config"===F[0]&&"firebase"===F[2].origin&&(this.measurementId=F[1],!0),I=F=>{window.gtag=(...L)=>{F&&F(...L),"event"===L[0]&&L[2].send_to===this.measurementId&&(s&&(L[2].app_name=s),i&&(L[2].app_version=i)),o&&typeof console<"u"&&console.info(...L),function(...W){window[BI].push(arguments)}(...L)}};window[BI].some(y)?(this.analyticsInitialized=Promise.resolve(),I()):this.analyticsInitialized=new Promise(F=>{I((...L)=>{y(...L)&&F()})}),a&&this.updateConfig(a),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const m=V(void 0).pipe(bn(f.outsideAngular),He(loe.Gb),He(y=>y?l.runOutsideAngular(()=>Ke.e(861).then(Ke.bind(Ke,244))):Vn),De(()=>_E("analytics","AngularFireAnalytics",t.name,()=>{const y=t.analytics();return!1===r&&y.setAnalyticsCollectionEnabled(!1),y},[t,r,a,o])),pT({bufferSize:1,refCount:!1}));return rL(this,m,l)}static \u0275fac=function(r){return new(r||n)(pe(fT),pe(doe,8),pe(hoe,8),pe(foe,8),pe(poe,8),pe(goe,8),pe(ks),pe(Wt),pe(mu))};static \u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const Ioe=function(n){return{"open-bar1":n}},boe=function(n){return{"open-bar2":n}},woe=function(n){return{"open-bar3":n}},Coe=function(n){return{active:n}};let Toe=(()=>{class n{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),k(4,"Romani in Seattle"),C()(),M(5,"div",4),ht("click",function(){return i.toggleMenu()}),Je(6,"div",5)(7,"div",6)(8,"div",7),C(),M(9,"ul",8)(10,"li",9)(11,"a",10),ht("click",function(){return i.closeMenu()}),k(12,"Home"),C()(),M(13,"li",9)(14,"a",11),ht("click",function(){return i.closeMenu()}),k(15,"Servicii"),C()(),M(16,"li",9)(17,"a",12),ht("click",function(){return i.closeMenu()}),k(18,"Evenimente"),C()(),M(19,"li",9)(20,"a",13),ht("click",function(){return i.closeMenu()}),k(21,"Oferte"),C()(),M(22,"li",9)(23,"a",14),ht("click",function(){return i.closeMenu()}),k(24,"Regulament"),C()()()()()),2&r&&(ee(6),Le("ngClass",ug(4,Ioe,i.menuOpen)),ee(1),Le("ngClass",ug(6,boe,i.menuOpen)),ee(1),Le("ngClass",ug(8,woe,i.menuOpen)),ee(1),Le("ngClass",ug(10,Coe,i.menuOpen)))},dependencies:[AN,zg],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return n})(),Aoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(r,i){1&r&&(M(0,"footer",0)(1,"div",1),k(2," \xa9 2024 Romani in Seattle. All rights reserved. "),C()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),Doe=(()=>{class n{constructor(t,r,i,s){this.router=t,this.analytics=r,this.activatedRoute=i,this.firestore=s,this.title="romani-in-seattle"}ngOnInit(){this.router.events.pipe(ws(t=>t instanceof Ua)).subscribe(t=>{const r=t.urlAfterRedirects,i=this.activatedRoute.snapshot.queryParams,s=new Date;this.firestore.collection("analytics").add({page_path:r,query_params:i,timestamp:s}).then(()=>{console.log("Analytics data saved")}).catch(o=>{console.error("Error saving analytics data",o)})})}static#e=this.\u0275fac=function(r){return new(r||n)(de(Hn),de(h$),de(Do),de(Bu))};static#t=this.\u0275cmp=un({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(r,i){1&r&&(M(0,"div",0),Je(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),C())},dependencies:[aE,Toe,Aoe],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return n})();class f${}class Soe{}const tc="*";function p$(n,e=null){return{type:2,steps:n,options:e}}function g$(n){return{type:6,styles:n,offset:null}}class Jm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class m${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function _$(n){return new he(3e3,!1)}function bl(n){switch(n.length){case 0:return new Jm;case 1:return n[0];default:return new m$(n)}}function y$(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),f=l==o,m=f&&a||new Map;c.forEach((y,I)=>{let T=I,F=y;if("offset"!==I)switch(T=n.normalizePropertyName(T,i),F){case"!":F=t.get(I);break;case tc:F=r.get(I);break;default:F=n.normalizeStyleValue(I,T,F,i)}m.set(T,F)}),f||s.push(m),a=m,o=l}),i.length)throw function Yoe(n){return new he(3502,!1)}();return s}function yS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vS(t,"destroy",n)))}}function vS(n,e,t){const s=ES(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function ES(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function zs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function v$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const lae=(()=>typeof document>"u"?null:document.documentElement)();function IS(n){const e=n.parentNode||n.host||null;return e===lae?null:e}let Gu=null,E$=!1;function I$(n,e){for(;e;){if(e===n)return!0;e=IS(e)}return!1}function b$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let w$=(()=>{class n{validateStyleProperty(t){return function dae(n){Gu||(Gu=function hae(){return typeof document<"u"?document.body:null}()||{},E$=!!Gu.style&&"WebkitAppearance"in Gu.style);let e=!0;return Gu.style&&!function uae(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gu.style,!e&&E$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gu.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return I$(t,r)}getParentElement(t){return IS(t)}query(t,r,i){return b$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new Jm(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),bS=(()=>{class n{static#e=this.NOOP=new w$}return n})();const fae=1e3,wS="ng-enter",jI="ng-leave",$I="ng-trigger",zI=".ng-trigger",T$="ng-animating",CS=".ng-animating";function nc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TS(parseFloat(e[1]),e[2])}function TS(n,e){return"s"===e?n*fae:n}function HI(n,e,t){return n.hasOwnProperty("duration")?n:function gae(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(_$()),{duration:0,delay:0,easing:""};i=TS(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=TS(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function Moe(){return new he(3100,!1)}()),a=!0),s<0&&(e.push(function Roe(){return new he(3101,!1)}()),a=!0),a&&e.splice(c,0,_$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function e_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function A$(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function wl(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function fa(n,e,t){e.forEach((r,i)=>{const s=DS(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Wu(n,e){e.forEach((t,r)=>{const i=DS(r);n.style[i]=""})}function t_(n){return Array.isArray(n)?1==n.length?n[0]:p$(n):n}const AS=new RegExp("{{\\s*(.+?)\\s*}}","g");function S$(n){let e=[];if("string"==typeof n){let t;for(;t=AS.exec(n);)e.push(t[1]);AS.lastIndex=0}return e}function n_(n,e,t){const r=n.toString(),i=r.replace(AS,(s,o)=>{let a=e[o];return null==a&&(t.push(function xoe(n){return new he(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function qI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yae=/-+([a-z0-9])/g;function DS(n){return n.replace(yae,(...e)=>e[1].toUpperCase())}function Hs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ooe(n){return new he(3004,!1)}()}}function M$(n,e){return window.getComputedStyle(n)[e]}const GI="*";function Iae(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bae(n,e,t){if(":"==n[0]){const c=function wae(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Woe(n){return new he(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Goe(n){return new he(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(R$(i,o));"<"==s[0]&&!(i==GI&&o==GI)&&e.push(R$(o,i))}(r,t,e)):t.push(n),t}const WI=new Set(["true","1"]),KI=new Set(["false","0"]);function R$(n,e){const t=WI.has(n)||KI.has(n),r=WI.has(e)||KI.has(e);return(i,s)=>{let o=n==GI||n==i,a=e==GI||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?WI.has(n):KI.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?WI.has(e):KI.has(e)),o&&a}}const Cae=new RegExp("s*:selfs*,?","g");function SS(n,e,t,r){return new Tae(n).build(e,t,r)}class Tae{constructor(e){this._driver=e}build(e,t,r){const i=new Sae(t);return this._resetContextStyleTimingState(i),Hs(this,t_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function koe(){return new he(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function Foe(){return new he(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{S$(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(qI(s.values()),t.errors.push(function Loe(n,e){return new he(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hs(this,t_(e.animation),t);return{type:1,matchers:Iae(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ku(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hs(this,r,t)),options:Ku(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Hs(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Ku(e.options)}}visitAnimate(e,t){const r=function Rae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MS(HI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MS(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=HI(t,e);return MS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:g$({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=g$(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===tc?r.push(a):t.errors.push(new he(3002,!1)):r.push(A$(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),f=l.get(c);let m=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(t.errors.push(function Uoe(n,e,t,r,i){return new he(3010,!1)}()),m=!1),s=f.startTime),m&&l.set(c,{startTime:s,endTime:i}),t.options&&function _ae(n,e,t){const r=e.params||{},i=S$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Poe(n){return new he(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Boe(){return new he(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const f=e.steps.map(W=>{const z=this._makeStyleAst(W,t);let X=null!=z.offset?z.offset:function Mae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(z.styles),ae=0;return null!=X&&(s++,ae=z.offset=X),c=c||ae<0||ae>1,a=a||ae<l,l=ae,o.push(ae),z});c&&t.errors.push(function joe(){return new he(3012,!1)}()),a&&t.errors.push(function $oe(){return new he(3200,!1)}());const m=e.steps.length;let y=0;s>0&&s<m?t.errors.push(function zoe(){return new he(3202,!1)}()):0==s&&(y=1/(m-1));const I=m-1,T=t.currentTime,F=t.currentAnimateTimings,L=F.duration;return f.forEach((W,z)=>{const X=y>0?z==I?1:y*z:o[z],ae=X*L;t.currentTime=T+F.delay+ae,F.duration=ae,this._validateStyleAst(W,t),W.offset=X,r.styles.push(W)}),r}visitReference(e,t){return{type:8,animation:Hs(this,t_(e.animation),t),options:Ku(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ku(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ku(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Aae(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Cae,"")),n=n.replace(/@\*/g,zI).replace(/@\w+/g,t=>zI+"-"+t.slice(1)).replace(/:animating/g,CS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,zs(t.collectedStyles,t.currentQuerySelector,new Map);const a=Hs(this,t_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ku(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Hoe(){return new he(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:HI(e.timings,t.errors,!0);return{type:12,animation:Hs(this,t_(e.animation),t),timings:r,options:null}}}class Sae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ku(n){return n?(n=e_(n)).params&&(n.params=function Dae(n){return n?e_(n):null}(n.params)):n={},n}function MS(n,e,t){return{duration:n,delay:e,easing:t}}function RS(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ZI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Oae=new RegExp(":enter","g"),kae=new RegExp(":leave","g");function PS(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new Fae).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class Fae{buildKeyframes(e,t,r,i,s,o,a,c,l,f=[]){l=l||new ZI;const m=new xS(e,t,l,i,s,f,[]);m.options=c;const y=c.delay?nc(c.delay):0;m.currentTimeline.delayNextStep(y),m.currentTimeline.setStyles([o],null,m.errors,c),Hs(this,r,m);const I=m.timelines.filter(T=>T.containsAnimation());if(I.length&&a.size){let T;for(let F=I.length-1;F>=0;F--){const L=I[F];if(L.element===t){T=L;break}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([a],null,m.errors,c)}return I.length?I.map(T=>T.buildKeyframes()):[RS(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:nc(n_(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?nc(r.duration):null,a=null!=r.delay?nc(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Hs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=QI);const o=nc(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Hs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?nc(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Hs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return HI(t.params?n_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?nc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=QI);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,f)=>{t.currentQueryIndex=f;const m=t.createSubContext(e.options,l);s&&m.delayNextStep(s),l===t.element&&(c=m.currentTimeline),Hs(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const f=t.currentTimeline;c&&f.delayNextStep(c);const m=f.currentTime;Hs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const QI={};class xS{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=QI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new YI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nc(r.duration)),null!=r.delay&&(i.delay=nc(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=n_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new xS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=QI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Lae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Oae,"."+this._enterClassName)).replace(kae,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function qoe(n){return new he(3014,!1)}()),a}}class YI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new YI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||tc),this._currentKeyframe.set(t,tc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Vae(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,tc)}else wl(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=n_(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??tc),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=wl(a,new Map,this._backFill);l.forEach((f,m)=>{"!"===f?e.add(m):f===tc&&t.add(m)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?qI(e.values()):[],o=t.size?qI(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return RS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Lae extends YI{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=wl(e[0]);c.set("offset",0),s.push(c);const l=wl(e[0]);l.set("offset",O$(a)),s.push(l);const f=e.length-1;for(let m=1;m<=f;m++){let y=wl(e[m]);const I=y.get("offset");y.set("offset",O$((t+I*r)/o)),s.push(y)}r=o,t=0,i="",e=s}return RS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function O$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class OS{}const Uae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bae extends OS{normalizePropertyName(e,t){return DS(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Uae.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Noe(n,e){return new he(3005,!1)}())}return o+s}}function N$(n,e,t,r,i,s,o,a,c,l,f,m,y){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:f,totalTime:m,errors:y}}const NS={};class k${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jae(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,f){const m=[],y=this.ast.options&&this.ast.options.params||NS,T=this.buildStyles(r,a&&a.params||NS,m),F=c&&c.params||NS,L=this.buildStyles(i,F,m),W=new Set,z=new Map,X=new Map,ae="void"===i,Se={params:$ae(F,y),delay:this.ast.options?.delay},$e=f?[]:PS(e,t,this.ast.animation,s,o,T,L,Se,l,m);let q=0;if($e.forEach($=>{q=Math.max($.duration+$.delay,q)}),m.length)return N$(t,this._triggerName,r,i,ae,T,L,[],[],z,X,q,m);$e.forEach($=>{const K=$.element,Y=zs(z,K,new Set);$.preStyleProps.forEach(H=>Y.add(H));const re=zs(X,K,new Set);$.postStyleProps.forEach(H=>re.add(H)),K!==t&&W.add(K)});const B=qI(W.values());return N$(t,this._triggerName,r,i,ae,T,L,$e,B,z,X,q)}}function $ae(n,e){const t=e_(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class zae{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=e_(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=n_(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class qae{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new zae(i.style,i.options&&i.options.params||{},r))}),F$(this.states,"true","1"),F$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new k$(e,i,this.states))}),this.fallbackTransition=function Gae(n,e,t){return new k$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function F$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Wae=new ZI;class Kae{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=SS(this._driver,t,r,[]);if(r.length)throw function Xoe(n){return new he(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=y$(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=PS(this._driver,t,s,wS,jI,new Map,new Map,r,Wae,i),o.forEach(f=>{const m=zs(a,f.element,new Map);f.postStyleProps.forEach(y=>m.set(y,null))})):(i.push(function Joe(){return new he(3300,!1)}()),o=[]),i.length)throw function eae(n){return new he(3504,!1)}();a.forEach((f,m)=>{f.forEach((y,I)=>{f.set(I,this._driver.computeStyle(m,I,tc))})});const l=bl(o.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,new Map,m)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tae(n){return new he(3301,!1)}();return t}listen(e,t,r,i){const s=ES(t,"","","");return yS(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const L$="ng-animate-queued",kS="ng-animate-disabled",Jae=[],V$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ece={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Po="__ng_removed";class FS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ice(n){return n??null}(r?e.value:e),r){const s=e_(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const r_="void",LS=new FS(r_);class tce{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ho(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function nae(n,e){return new he(3302,!1)}();if(null==r||0==r.length)throw function rae(n){return new he(3303,!1)}();if(!function sce(n){return"start"==n||"done"==n}(r))throw function iae(n,e){return new he(3400,!1)}();const s=zs(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=zs(this._engine.statesByElement,e,new Map);return a.has(t)||(ho(e,$I),ho(e,$I+"-"+t),a.set(t,LS)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function sae(n){return new he(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new VS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ho(e,$I),ho(e,$I+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new FS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=LS),l.value!==r_&&c.value===l.value){if(!function cce(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const F=[],L=s.matchStyles(c.value,c.params,F),W=s.matchStyles(l.value,l.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{Wu(e,L),fa(e,W)})}return}const y=zs(this._engine.playersByElement,e,[]);y.forEach(F=>{F.namespaceId==this.id&&F.triggerName==t&&F.queued&&F.destroy()});let I=s.matchTransition(c.value,l.value,e,l.params),T=!1;if(!I){if(!i)return;I=s.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:c,toState:l,player:o,isFallbackTransition:T}),T||(ho(e,L$),o.onStart(()=>{Pf(e,L$)})),o.onDone(()=>{let F=this.players.indexOf(o);F>=0&&this.players.splice(F,1);const L=this._engine.playersByElement.get(e);if(L){let W=L.indexOf(o);W>=0&&L.splice(W,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zI,!0);r.forEach(i=>{if(i[Po])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const f=this.trigger(e,l,r_,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&bl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||LS,f=new FS(r_),m=new VS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Po];(!s||s===V$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ho(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=ES(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,yS(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class nce{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(XI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!XI(t))return;const s=t[Po];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ho(e,kS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pf(e,kS))}removeNode(e,t,r){if(XI(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Po]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return XI(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,zI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,CS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Po];if(t&&t.setForRemoval){if(e[Po]=V$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(kS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ho(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?bl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function oae(n){return new he(3402,!1)}()}_flushAnimations(e,t){const r=new ZI,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(et=>{f.add(et);const lt=this.driver.query(et,".ng-animate-queued",!0);for(let dt=0;dt<lt.length;dt++)f.add(lt[dt])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),I=j$(y,this.collectedEnterElements),T=new Map;let F=0;I.forEach((et,lt)=>{const dt=wS+F++;T.set(lt,dt),et.forEach(Qt=>ho(Qt,dt))});const L=[],W=new Set,z=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const lt=this.collectedLeaveElements[et],dt=lt[Po];dt&&dt.setForRemoval&&(L.push(lt),W.add(lt),dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Qt=>W.add(Qt)):z.add(lt))}const X=new Map,ae=j$(y,Array.from(W));ae.forEach((et,lt)=>{const dt=jI+F++;X.set(lt,dt),et.forEach(Qt=>ho(Qt,dt))}),e.push(()=>{I.forEach((et,lt)=>{const dt=T.get(lt);et.forEach(Qt=>Pf(Qt,dt))}),ae.forEach((et,lt)=>{const dt=X.get(lt);et.forEach(Qt=>Pf(Qt,dt))}),L.forEach(et=>{this.processLeaveNode(et)})});const Se=[],$e=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(t).forEach(dt=>{const Qt=dt.player,kr=dt.element;if(Se.push(Qt),this.collectedEnterElements.length){const wr=kr[Po];if(wr&&wr.setForMove){if(wr.previousTriggersValues&&wr.previousTriggersValues.has(dt.triggerName)){const rc=wr.previousTriggersValues.get(dt.triggerName),Ds=this.statesByElement.get(dt.element);if(Ds&&Ds.has(dt.triggerName)){const ic=Ds.get(dt.triggerName);ic.value=rc,Ds.set(dt.triggerName,ic)}}return void Qt.destroy()}}const po=!m||!this.driver.containsElement(m,kr),br=X.get(kr),er=T.get(kr),tr=this._buildInstruction(dt,r,er,br,po);if(tr.errors&&tr.errors.length)return void $e.push(tr);if(po)return Qt.onStart(()=>Wu(kr,tr.fromStyles)),Qt.onDestroy(()=>fa(kr,tr.toStyles)),void i.push(Qt);if(dt.isFallbackTransition)return Qt.onStart(()=>Wu(kr,tr.fromStyles)),Qt.onDestroy(()=>fa(kr,tr.toStyles)),void i.push(Qt);const Tl=[];tr.timelines.forEach(wr=>{wr.stretchStartingKeyframe=!0,this.disabledNodes.has(wr.element)||Tl.push(wr)}),tr.timelines=Tl,r.append(kr,tr.timelines),o.push({instruction:tr,player:Qt,element:kr}),tr.queriedElements.forEach(wr=>zs(a,wr,[]).push(Qt)),tr.preStyleProps.forEach((wr,rc)=>{if(wr.size){let Ds=c.get(rc);Ds||c.set(rc,Ds=new Set),wr.forEach((ic,Al)=>Ds.add(Al))}}),tr.postStyleProps.forEach((wr,rc)=>{let Ds=l.get(rc);Ds||l.set(rc,Ds=new Set),wr.forEach((ic,Al)=>Ds.add(Al))})});if($e.length){const et=[];$e.forEach(lt=>{et.push(function aae(n,e){return new he(3505,!1)}())}),Se.forEach(lt=>lt.destroy()),this.reportError(et)}const q=new Map,B=new Map;o.forEach(et=>{const lt=et.element;r.has(lt)&&(B.set(lt,lt),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,q))}),i.forEach(et=>{const lt=et.element;this._getPreviousPlayers(lt,!1,et.namespaceId,et.triggerName,null).forEach(Qt=>{zs(q,lt,[]).push(Qt),Qt.destroy()})});const $=L.filter(et=>z$(et,c,l)),K=new Map;B$(K,this.driver,z,l,tc).forEach(et=>{z$(et,c,l)&&$.push(et)});const re=new Map;I.forEach((et,lt)=>{B$(re,this.driver,new Set(et),c,"!")}),$.forEach(et=>{const lt=K.get(et),dt=re.get(et);K.set(et,new Map([...lt?.entries()??[],...dt?.entries()??[]]))});const H=[],fo=[],Cl={};o.forEach(et=>{const{element:lt,player:dt,instruction:Qt}=et;if(r.has(lt)){if(f.has(lt))return dt.onDestroy(()=>fa(lt,Qt.toStyles)),dt.disabled=!0,dt.overrideTotalTime(Qt.totalTime),void i.push(dt);let kr=Cl;if(B.size>1){let br=lt;const er=[];for(;br=br.parentNode;){const tr=B.get(br);if(tr){kr=tr;break}er.push(br)}er.forEach(tr=>B.set(tr,kr))}const po=this._buildAnimation(dt.namespaceId,Qt,q,s,re,K);if(dt.setRealPlayer(po),kr===Cl)H.push(dt);else{const br=this.playersByElement.get(kr);br&&br.length&&(dt.parentPlayer=bl(br)),i.push(dt)}}else Wu(lt,Qt.fromStyles),dt.onDestroy(()=>fa(lt,Qt.toStyles)),fo.push(dt),f.has(lt)&&i.push(dt)}),fo.forEach(et=>{const lt=s.get(et.element);if(lt&&lt.length){const dt=bl(lt);et.setRealPlayer(dt)}}),i.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<L.length;et++){const lt=L[et],dt=lt[Po];if(Pf(lt,jI),dt&&dt.hasAnimation)continue;let Qt=[];if(a.size){let po=a.get(lt);po&&po.length&&Qt.push(...po);let br=this.driver.query(lt,CS,!0);for(let er=0;er<br.length;er++){let tr=a.get(br[er]);tr&&tr.length&&Qt.push(...tr)}}const kr=Qt.filter(po=>!po.destroyed);kr.length?oce(this,lt,kr):this.processLeaveNode(lt)}return L.length=0,H.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const lt=this.players.indexOf(et);this.players.splice(lt,1)}),et.play()}),H}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==r_;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,f=l!==s,m=zs(r,l,[]);this._getPreviousPlayers(l,f,o,a,t.toState).forEach(I=>{const T=I.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),I.destroy(),m.push(I)})}Wu(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],f=new Set,m=new Set,y=t.timelines.map(T=>{const F=T.element;f.add(F);const L=F[Po];if(L&&L.removedBeforeQueried)return new Jm(T.duration,T.delay);const W=F!==c,z=function ace(n){const e=[];return $$(n,e),e}((r.get(F)||Jae).map(q=>q.getRealPlayer())).filter(q=>!!q.element&&q.element===F),X=s.get(F),ae=o.get(F),Se=y$(this._normalizer,T.keyframes,X,ae),$e=this._buildPlayer(T,Se,z);if(T.subTimeline&&i&&m.add(F),W){const q=new VS(e,a,F);q.setRealPlayer($e),l.push(q)}return $e});l.forEach(T=>{zs(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function rce(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,T.element,T))}),f.forEach(T=>ho(T,T$));const I=bl(y);return I.onDestroy(()=>{f.forEach(T=>Pf(T,T$)),fa(c,t.toStyles)}),m.forEach(T=>{zs(i,T,[]).push(I)}),I}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Jm(e.duration,e.delay)}}class VS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Jm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>yS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function XI(n){return n&&1===n.nodeType}function U$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function B$(n,e,t,r,i){const s=[];t.forEach(c=>s.push(U$(c)));const o=[];r.forEach((c,l)=>{const f=new Map;c.forEach(m=>{const y=e.computeStyle(l,m,i);f.set(m,y),(!y||0==y.length)&&(l[Po]=ece,o.push(l))}),n.set(l,f)});let a=0;return t.forEach(c=>U$(c,s[a++])),o}function j$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function ho(n,e){n.classList?.add(e)}function Pf(n,e){n.classList?.remove(e)}function oce(n,e,t){bl(t).onDone(()=>n.processLeaveNode(e))}function $$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof m$?$$(r.players,e):e.push(r)}}function z$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class JI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nce(e,t,r),this._timelineEngine=new Kae(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],f=SS(this._driver,s,c,[]);if(c.length)throw function Qoe(n,e){return new he(3404,!1)}();a=function Hae(n,e,t){return new qae(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=v$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=v$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let uce=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fa(this._element,this._initialStyles),this._endStyles&&(fa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wu(this._element,this._endStyles),this._endStyles=null),fa(this._element,this._initialStyles),this._state=3)}}return n})();function US(n){let e=null;return n.forEach((t,r)=>{(function dce(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class H${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:M$(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hce{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return I$(e,t)}getParentElement(e){return IS(e)}query(e,t,r){return b$(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,f=o.filter(I=>I instanceof H$);(function vae(n,e){return 0===n||0===e})(r,i)&&f.forEach(I=>{I.currentSnapshot.forEach((T,F)=>l.set(F,T))});let m=function mae(n){return n.length?n[0]instanceof Map?n:n.map(e=>A$(e)):[]}(t).map(I=>wl(I));m=function Eae(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,M$(n,a)))}}return e}(e,m,l);const y=function lce(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=US(e[0]),e.length>1&&(r=US(e[e.length-1]))):e instanceof Map&&(t=US(e)),t||r?new uce(n,t,r):null}(e,m);return new H$(e,m,c,y)}}let fce=(()=>{class n extends f${constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:rr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?p$(t):t;return q$(this._renderer,null,r,"register",[i]),new pce(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Gp),pe(yr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class pce extends Soe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gce(this._id,e,t||{},this._renderer)}}class gce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return q$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function q$(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const G$="@.disabled";let mce=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new W$("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(o,a,t,f.name,f)};return r.data.animation.forEach(c),new _ce(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(pe(Gp),pe(JI),pe(Wt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class W${constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==G$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _ce extends W${constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==G$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yce(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vce(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const K$=[{provide:f$,useClass:fce},{provide:OS,useFactory:function Ice(){return new Bae}},{provide:JI,useClass:(()=>{class n extends JI{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(pe(yr),pe(bS),pe(OS),pe(ou))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})()},{provide:Gp,useFactory:function bce(n,e,t){return new mce(n,e,t)},deps:[CC,JI,Wt]}],BS=[{provide:bS,useFactory:()=>new hce},{provide:GR,useValue:"BrowserAnimations"},...K$],Z$=[{provide:bS,useClass:w$},{provide:GR,useValue:"NoopAnimations"},...K$];let wce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Z$:BS}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=rn({providers:BS,imports:[XN]})}return n})();const Q$_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};class xf{constructor(e){return e}}class jS{constructor(){return(0,Er.getApps)()}}const $S=new Ie("angularfire2._apps"),Tce={provide:xf,useFactory:function Cce(n){return n&&1===n.length?n[0]:new xf((0,Er.getApp)())},deps:[[new qr,$S]]},Ace={provide:jS,deps:[[new qr,$S]]};function Dce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xf(r)}}let Sce=(()=>{class n{constructor(t){(0,Er.registerVersion)("angularfire",$a.full,"core"),(0,Er.registerVersion)("angularfire",$a.full,"app"),(0,Er.registerVersion)("angular",F0.full,t.toString())}static \u0275fac=function(r){return new(r||n)(pe(ks))};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[Tce,Ace]})}return n})();function Mce(n,...e){return{ngModule:Sce,providers:[{provide:$S,useFactory:Dce(n),multi:!0,deps:[Wt,Ei,mu,...e]}]}}const Rce=hT(Er.initializeApp,!0);Ke(35);class HS{constructor(){return gE("auth")}}class GS{constructor(e){return e}}const X$="firestore",WS=new Ie("angularfire2.firestore-instances");function Fce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GS(r)}}const Lce={provide:class Nce{constructor(){return gE(X$)}},deps:[[new qr,WS]]},Vce={provide:GS,useFactory:function kce(n,e){const t=dT(X$,n,e);return t&&new GS(t)},deps:[[new qr,WS],xf]};let Uce=(()=>{class n{constructor(){(0,Er.registerVersion)("angularfire",$a.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[Vce,Lce]})}return n})();function Bce(n,...e){return{ngModule:Uce,providers:[{provide:WS,useFactory:Fce(n),multi:!0,deps:[Wt,Ei,mu,jS,[new qr,HS],[new qr,Hg],...e]}]}}const jce=hT(vte,!0);class KS{constructor(e){return e}}const J$="storage",ZS=new Ie("angularfire2.storage-instances");function Hce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new KS(r)}}const qce={provide:class $ce{constructor(){return gE(J$)}},deps:[[new qr,ZS]]},Gce={provide:KS,useFactory:function zce(n,e){const t=dT(J$,n,e);return t&&new KS(t)},deps:[[new qr,ZS],xf]};let Wce=(()=>{class n{constructor(){(0,Er.registerVersion)("angularfire",$a.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=rn({providers:[Gce,qce]})}return n})();function Kce(n,...e){return{ngModule:Wce,providers:[{provide:ZS,useFactory:Hce(n),multi:!0,deps:[Wt,Ei,mu,jS,[new qr,HS],[new qr,Hg],...e]}]}}const Zce=hT(Sse,!0);let Qce=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n,bootstrap:[Doe]});static#n=this.\u0275inj=rn({imports:[XN,coe,wce,VK,_Z,EZ,One,$se,aX,nX.initializeApp(Q$_firebase),Mce(()=>Rce(Q$_firebase)),Bce(()=>jce()),Kce(()=>Zce()),Vre,Lre]})}return n})();O7().bootstrapModule(Qce).catch(n=>console.error(n))},513:(ls,Gn,Ke)=>{Ke.d(Gn,{Gb:()=>Qs,Kz:()=>cd,EI:()=>Ki,lT:()=>pe,Iv:()=>yc,xP:()=>Ia,Xd:()=>Fl});var O=Ke(861),Re=Ke(303),j=Ke(879),xe=Ke(58),Pt=Ke(537),Dn=Ke(878);const Sn="@firebase/installations",Bt="0.6.7",St=1e4,ye=`w:${Bt}`,Te="FIS_v2",Xe="https://firebaseinstallations.googleapis.com/v1",wt=36e5,ut=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(R){return R instanceof xe.ZR&&R.code.includes("request-failed")}function Mn({projectId:R}){return`${Xe}/projects/${R}/installations`}function mn(R){return{token:R.token,requestStatus:2,expiresIn:ne(R.expiresIn),creationTime:Date.now()}}function Kt(R,U){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,O.Z)(function*(R,U){const ve=(yield U.json()).error;return ut.create("request-failed",{requestName:R,serverCode:ve.code,serverMessage:ve.message,serverStatus:ve.status})})).apply(this,arguments)}function Tr({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function gt(R){return Me.apply(this,arguments)}function Me(){return(Me=(0,O.Z)(function*(R){const U=yield R();return U.status>=500&&U.status<600?R():U})).apply(this,arguments)}function ne(R){return Number(R.replace("s","000"))}function Nt(){return(Nt=(0,O.Z)(function*({appConfig:R,heartbeatServiceProvider:U},{fid:Q}){const ve=Mn(R),Pe=Tr(R),qe=U.getImmediate({optional:!0});if(qe){const $t=yield qe.getHeartbeatsHeader();$t&&Pe.append("x-firebase-client",$t)}const yt={method:"POST",headers:Pe,body:JSON.stringify({fid:Q,authVersion:Te,appId:R.appId,sdkVersion:ye})},vt=yield gt(()=>fetch(ve,yt));if(vt.ok){const $t=yield vt.json();return{fid:$t.fid||Q,registrationStatus:2,refreshToken:$t.refreshToken,authToken:mn($t.authToken)}}throw yield Kt("Create Installation",vt)})).apply(this,arguments)}function kn(R){return new Promise(U=>{setTimeout(U,R)})}const bt=/^[cdef][\w-]{21}$/,_n="";function lr(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const Q=function se(R){return function hn(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return bt.test(Q)?Q:_n}catch{return _n}}function oe(R){return`${R.appName}!${R.appId}`}const ue=new Map;function me(R,U){const Q=oe(R);Oe(Q,U),function Lt(R,U){const Q=function Ye(){return!De&&"BroadcastChannel"in self&&(De=new BroadcastChannel("[Firebase] FID Change"),De.onmessage=R=>{Oe(R.data.key,R.data.fid)}),De}();Q&&Q.postMessage({key:R,fid:U}),function Ut(){0===ue.size&&De&&(De.close(),De=null)}()}(Q,U)}function Oe(R,U){const Q=ue.get(R);if(Q)for(const ve of Q)ve(U)}let De=null;const yn="firebase-installations-database",fn=1,In="firebase-installations-store";let Rn=null;function Yt(){return Rn||(Rn=(0,Dn.X3)(yn,fn,{upgrade:(R,U)=>{0===U&&R.createObjectStore(In)}})),Rn}function Kn(R,U){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,O.Z)(function*(R,U){const Q=oe(R),Pe=(yield Yt()).transaction(In,"readwrite"),qe=Pe.objectStore(In),Ze=yield qe.get(Q);return yield qe.put(U,Q),yield Pe.done,(!Ze||Ze.fid!==U.fid)&&me(R,U.fid),U})).apply(this,arguments)}function Hi(R){return oi.apply(this,arguments)}function oi(){return(oi=(0,O.Z)(function*(R){const U=oe(R),ve=(yield Yt()).transaction(In,"readwrite");yield ve.objectStore(In).delete(U),yield ve.done})).apply(this,arguments)}function Vt(R,U){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(R,U){const Q=oe(R),Pe=(yield Yt()).transaction(In,"readwrite"),qe=Pe.objectStore(In),Ze=yield qe.get(Q),yt=U(Ze);return void 0===yt?yield qe.delete(Q):yield qe.put(yt,Q),yield Pe.done,yt&&(!Ze||Ze.fid!==yt.fid)&&me(R,yt.fid),yt})).apply(this,arguments)}function us(R){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,O.Z)(function*(R){let U;const Q=yield Vt(R.appConfig,ve=>{const Pe=function qi(R){return Fr(R||{fid:lr(),registrationStatus:0})}(ve),qe=function Zr(R,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(ut.create("app-offline"))};const Q={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},ve=function Gs(R,U){return Ai.apply(this,arguments)}(R,Q);return{installationEntry:Q,registrationPromise:ve}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:mr(R)}:{installationEntry:U}}(R,Pe);return U=qe.registrationPromise,qe.installationEntry});return Q.fid===_n?{installationEntry:yield U}:{installationEntry:Q,registrationPromise:U}}),Ti.apply(this,arguments)}function Ai(){return Ai=(0,O.Z)(function*(R,U){try{const Q=yield function It(R,U){return Nt.apply(this,arguments)}(R,U);return Kn(R.appConfig,Q)}catch(Q){throw st(Q)&&409===Q.customData.serverCode?yield Hi(R.appConfig):yield Kn(R.appConfig,{fid:U.fid,registrationStatus:0}),Q}}),Ai.apply(this,arguments)}function mr(R){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(R){let U=yield nn(R.appConfig);for(;1===U.registrationStatus;)yield kn(100),U=yield nn(R.appConfig);if(0===U.registrationStatus){const{installationEntry:Q,registrationPromise:ve}=yield us(R);return ve||Q}return U})).apply(this,arguments)}function nn(R){return Vt(R,U=>{if(!U)throw ut.create("installation-not-found");return Fr(U)})}function Fr(R){return function Vn(R){return 1===R.registrationStatus&&R.registrationTime+St<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Di(){return(Di=(0,O.Z)(function*({appConfig:R,heartbeatServiceProvider:U},Q){const ve=function cn(R,{fid:U}){return`${Mn(R)}/${U}/authTokens:generate`}(R,Q),Pe=function Ot(R,{refreshToken:U}){const Q=Tr(R);return Q.append("Authorization",function tt(R){return`${Te} ${R}`}(U)),Q}(R,Q),qe=U.getImmediate({optional:!0});if(qe){const $t=yield qe.getHeartbeatsHeader();$t&&Pe.append("x-firebase-client",$t)}const yt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:ye,appId:R.appId}})},vt=yield gt(()=>fetch(ve,yt));if(vt.ok)return mn(yield vt.json());throw yield Kt("Generate Auth Token",vt)})).apply(this,arguments)}function Lr(R){return Si.apply(this,arguments)}function Si(){return Si=(0,O.Z)(function*(R,U=!1){let Q;const ve=yield Vt(R.appConfig,qe=>{if(!fs(qe))throw ut.create("not-registered");const Ze=qe.authToken;if(!U&&function Ss(R){return 2===R.requestStatus&&!function Ks(R){const U=Date.now();return U<R.creationTime||R.creationTime+R.expiresIn<U+wt}(R)}(Ze))return qe;if(1===Ze.requestStatus)return Q=function ds(R,U){return ur.apply(this,arguments)}(R,U),qe;{if(!navigator.onLine)throw ut.create("app-offline");const yt=function ke(R){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:U})}(qe);return Q=function Dr(R,U){return hs.apply(this,arguments)}(R,yt),yt}});return Q?yield Q:ve.authToken}),Si.apply(this,arguments)}function ur(){return(ur=(0,O.Z)(function*(R,U){let Q=yield bn(R.appConfig);for(;1===Q.authToken.requestStatus;)yield kn(100),Q=yield bn(R.appConfig);const ve=Q.authToken;return 0===ve.requestStatus?Lr(R,U):ve})).apply(this,arguments)}function bn(R){return Vt(R,U=>{if(!fs(U))throw ut.create("not-registered");return function P(R){return 1===R.requestStatus&&R.requestTime+St<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function hs(){return hs=(0,O.Z)(function*(R,U){try{const Q=yield function Ws(R,U){return Di.apply(this,arguments)}(R,U),ve=Object.assign(Object.assign({},U),{authToken:Q});return yield Kn(R.appConfig,ve),Q}catch(Q){if(!st(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const ve=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Kn(R.appConfig,ve)}else yield Hi(R.appConfig);throw Q}}),hs.apply(this,arguments)}function fs(R){return void 0!==R&&2===R.registrationStatus}function b(){return(b=(0,O.Z)(function*(R){const U=R,{installationEntry:Q,registrationPromise:ve}=yield us(U);return ve?ve.catch(console.error):Lr(U).catch(console.error),Q.fid})).apply(this,arguments)}function w(){return w=(0,O.Z)(function*(R,U=!1){const Q=R;return yield function V(R){return fe.apply(this,arguments)}(Q),(yield Lr(Q,U)).token}),w.apply(this,arguments)}function fe(){return(fe=(0,O.Z)(function*(R){const{registrationPromise:U}=yield us(R);U&&(yield U)})).apply(this,arguments)}function go(R){return ut.create("missing-app-config-values",{valueName:R})}const ln="installations",ac=R=>{const U=R.getProvider("app").getImmediate(),Q=function Vr(R){if(!R||!R.options)throw go("App Configuration");if(!R.name)throw go("App Name");const U=["projectId","apiKey","appId"];for(const Q of U)if(!R.options[Q])throw go(Q);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(U);return{app:U,appConfig:Q,heartbeatServiceProvider:(0,Re._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},cc=R=>{const U=R.getProvider("app").getImmediate(),Q=(0,Re._getProvider)(U,ln).getImmediate();return{getId:()=>function N(R){return b.apply(this,arguments)}(Q),getToken:Pe=>function S(R){return w.apply(this,arguments)}(Q,Pe)}};(function lc(){(0,Re._registerComponent)(new Pt.wA(ln,ac,"PUBLIC")),(0,Re._registerComponent)(new Pt.wA("installations-internal",cc,"PRIVATE"))})(),(0,Re.registerVersion)(Sn,Bt),(0,Re.registerVersion)(Sn,Bt,"esm2017");const pa="analytics",he="firebase_id",uc="origin",_t=6e4,sn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dc="https://www.googletagmanager.com/gtag/js",Sr=new j.Yd("@firebase/analytics"),dr=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fi(R){if(!R.startsWith(dc)){const U=dr.create("invalid-gtag-resource",{gtagURL:R});return Sr.warn(U.message),""}return R}function Vf(R){return Promise.all(R.map(U=>U.catch(Q=>Q)))}function Ju(){return(Ju=(0,O.Z)(function*(R,U,Q,ve,Pe,qe){const Ze=ve[Pe];try{if(Ze)yield U[Ze];else{const vt=(yield Vf(Q)).find($t=>$t.measurementId===Pe);vt&&(yield U[vt.appId])}}catch(yt){Sr.error(yt)}R("config",Pe,qe)})).apply(this,arguments)}function td(){return(td=(0,O.Z)(function*(R,U,Q,ve,Pe){try{let qe=[];if(Pe&&Pe.send_to){let Ze=Pe.send_to;Array.isArray(Ze)||(Ze=[Ze]);const yt=yield Vf(Q);for(const vt of Ze){const $t=yt.find(ps=>ps.measurementId===vt),Ur=$t&&U[$t.appId];if(!Ur){qe=[];break}qe.push(Ur)}}0===qe.length&&(qe=Object.values(U)),yield Promise.all(qe),R("event",ve,Pe||{})}catch(qe){Sr.error(qe)}})).apply(this,arguments)}const v_=30,rd=new class pt{constructor(U={},Q=1e3){this.throttleMetadata=U,this.intervalMillis=Q}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Q){this.throttleMetadata[U]=Q}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function id(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Fe(){return(Fe=(0,O.Z)(function*(R){var U;const{appId:Q,apiKey:ve}=R,Pe={method:"GET",headers:id(ve)},qe=sn.replace("{app-id}",Q),Ze=yield fetch(qe,Pe);if(200!==Ze.status&&304!==Ze.status){let yt="";try{const vt=yield Ze.json();null!==(U=vt.error)&&void 0!==U&&U.message&&(yt=vt.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:yt})}return Ze.json()})).apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(R,U=rd,Q){const{appId:ve,apiKey:Pe,measurementId:qe}=R.options;if(!ve)throw dr.create("no-app-id");if(!Pe){if(qe)return{measurementId:qe,appId:ve};throw dr.create("no-api-key")}const Ze=U.getThrottleMetadata(ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yt=new pc;return setTimeout((0,O.Z)(function*(){yt.abort()}),void 0!==Q?Q:_t),ga({appId:ve,apiKey:Pe,measurementId:qe},Ze,yt,U)})).apply(this,arguments)}function ga(R,U,Q){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,O.Z)(function*(R,{throttleEndTimeMillis:U,backoffCount:Q},ve,Pe=rd){var qe;const{appId:Ze,measurementId:yt}=R;try{yield function Pl(R,U){return new Promise((Q,ve)=>{const Pe=Math.max(U-Date.now(),0),qe=setTimeout(Q,Pe);R.addEventListener(()=>{clearTimeout(qe),ve(dr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(ve,U)}catch(vt){if(yt)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:Ze,measurementId:yt};throw vt}try{const vt=yield function fc(R){return Fe.apply(this,arguments)}(R);return Pe.deleteThrottleMetadata(Ze),vt}catch(vt){const $t=vt;if(!function sd(R){if(!(R instanceof xe.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}($t)){if(Pe.deleteThrottleMetadata(Ze),yt)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:Ze,measurementId:yt};throw vt}const Ur=503===Number(null===(qe=$t?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,xe.$s)(Q,Pe.intervalMillis,v_):(0,xe.$s)(Q,Pe.intervalMillis),ps={throttleEndTimeMillis:Date.now()+Ur,backoffCount:Q+1};return Pe.setThrottleMetadata(Ze,ps),Sr.debug(`Calling attemptFetch again in ${Ur} millis`),ga(R,ps,ve,Pe)}}),Rl.apply(this,arguments)}class pc{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let mo,Ie;function Ms(){return(Ms=(0,O.Z)(function*(R,U,Q,ve,Pe){if(Pe&&Pe.global)R("event",Q,ve);else{const qe=yield U;R("event",Q,Object.assign(Object.assign({},ve),{send_to:qe}))}})).apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(R,U,Q,ve){if(ve&&ve.global)return R("set",{screen_name:Q}),Promise.resolve();R("config",yield U,{update:!0,screen_name:Q})})).apply(this,arguments)}function Oo(){return(Oo=(0,O.Z)(function*(R,U,Q,ve){if(ve&&ve.global)return R("set",{user_id:Q}),Promise.resolve();R("config",yield U,{update:!0,user_id:Q})})).apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(R,U,Q,ve){if(ve&&ve.global){const Pe={};for(const qe of Object.keys(Q))Pe[`user_properties.${qe}`]=Q[qe];return R("set",Pe),Promise.resolve()}R("config",yield U,{update:!0,user_properties:Q})})).apply(this,arguments)}function gc(){return(gc=(0,O.Z)(function*(R,U){const Q=yield R;window[`ga-disable-${Q}`]=!U})).apply(this,arguments)}function ma(){return(ma=(0,O.Z)(function*(){if(!(0,xe.hl)())return Sr.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(R){return Sr.warn(dr.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return _a=(0,O.Z)(function*(R,U,Q,ve,Pe,qe,Ze){var yt;const vt=function E_(R){return rn.apply(this,arguments)}(R);vt.then(pi=>{Q[pi.measurementId]=pi.appId,R.options.measurementId&&pi.measurementId!==R.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pi=>Sr.error(pi)),U.push(vt);const $t=function _c(){return ma.apply(this,arguments)}().then(pi=>{if(pi)return ve.getId()}),[Ur,ps]=yield Promise.all([vt,$t]);(function nd(R){const U=window.document.getElementsByTagName("script");for(const Q of Object.values(U))if(Q.src&&Q.src.includes(dc)&&Q.src.includes(R))return Q;return null})(qe)||function Un(R,U){const Q=function Uf(R,U){let Q;return window.trustedTypes&&(Q=window.trustedTypes.createPolicy(R,U)),Q}("firebase-js-sdk-policy",{createScriptURL:fi}),ve=document.createElement("script"),Pe=`${dc}?l=${R}&id=${U}`;ve.src=Q?Q?.createScriptURL(Pe):Pe,ve.async=!0,document.head.appendChild(ve)}(qe,Ur.measurementId),Ie&&(Pe("consent","default",Ie),function ko(R){Ie=R}(void 0)),Pe("js",new Date);const Br=null!==(yt=Ze?.config)&&void 0!==yt?yt:{};return Br[uc]="firebase",Br.update=!0,null!=ps&&(Br[he]=ps),Pe("config",Ur.measurementId,Br),mo&&(Pe("set",mo),function mc(R){mo=R}(void 0)),Ur.measurementId}),_a.apply(this,arguments)}class ad{constructor(U){this.app=U}_delete(){return delete Rs[this.app.options.appId],Promise.resolve()}}let Rs={},kl=[];const jf={};let Lo,Mr,ya="dataLayer",Fo="gtag",Gi=!1;function Fl(R){if(Gi)throw dr.create("already-initialized");R.dataLayerName&&(ya=R.dataLayerName),R.gtagName&&(Fo=R.gtagName)}function Wi(R,U,Q){!function $f(){const R=[];if((0,xe.ru)()&&R.push("This is a browser extension environment."),(0,xe.zI)()||R.push("Cookies are not available."),R.length>0){const U=R.map((ve,Pe)=>`(${Pe+1}) ${ve}`).join(" "),Q=dr.create("invalid-analytics-context",{errorInfo:U});Sr.warn(Q.message)}}();const ve=R.options.appId;if(!ve)throw dr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw dr.create("no-api-key");Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rs[ve])throw dr.create("already-exists",{id:ve});if(!Gi){!function Zs(R){let U=[];Array.isArray(window[R])?U=window[R]:window[R]=U}(ya);const{wrappedGtag:qe,gtagCore:Ze}=function y_(R,U,Q,ve,Pe){let qe=function(...Ze){window[ve].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(qe=window[Pe]),window[Pe]=function Bf(R,U,Q,ve){function qe(){return qe=(0,O.Z)(function*(Ze,...yt){try{if("event"===Ze){const[vt,$t]=yt;yield function ed(R,U,Q,ve,Pe){return td.apply(this,arguments)}(R,U,Q,vt,$t)}else if("config"===Ze){const[vt,$t]=yt;yield function hc(R,U,Q,ve,Pe,qe){return Ju.apply(this,arguments)}(R,U,Q,ve,vt,$t)}else if("consent"===Ze){const[vt,$t]=yt;R("consent",vt,$t)}else if("get"===Ze){const[vt,$t,Ur]=yt;R("get",vt,$t,Ur)}else if("set"===Ze){const[vt]=yt;R("set",vt)}else R(Ze,...yt)}catch(vt){Sr.error(vt)}}),qe.apply(this,arguments)}return function Pe(Ze){return qe.apply(this,arguments)}}(qe,R,U,Q),{gtagCore:qe,wrappedGtag:window[Pe]}}(Rs,kl,jf,ya,Fo);Mr=qe,Lo=Ze,Gi=!0}return Rs[ve]=function Nl(R,U,Q,ve,Pe,qe,Ze){return _a.apply(this,arguments)}(R,kl,jf,U,Lo,ya,Q),new ad(R)}function Qs(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}function pe(R,U,Q){R=(0,xe.m9)(R),function od(R,U,Q,ve){return Dt.apply(this,arguments)}(Mr,Rs[R.app.options.appId],U,Q).catch(ve=>Sr.error(ve))}function yc(R,U,Q){R=(0,xe.m9)(R),function Ol(R,U,Q,ve){return Oo.apply(this,arguments)}(Mr,Rs[R.app.options.appId],U,Q).catch(ve=>Sr.error(ve))}function Ia(R,U,Q){R=(0,xe.m9)(R),function ci(R,U,Q,ve){return No.apply(this,arguments)}(Mr,Rs[R.app.options.appId],U,Q).catch(ve=>Sr.error(ve))}function Ki(R,U){R=(0,xe.m9)(R),function b_(R,U){return gc.apply(this,arguments)}(Rs[R.app.options.appId],U).catch(Q=>Sr.error(Q))}function cd(R,U,Q,ve){R=(0,xe.m9)(R),function xl(R,U,Q,ve,Pe){return Ms.apply(this,arguments)}(Mr,Rs[R.app.options.appId],U,Q,ve).catch(Pe=>Sr.error(Pe))}const Ps="@firebase/analytics";!function rr(){(0,Re._registerComponent)(new Pt.wA(pa,(U,{options:Q})=>Wi(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,Re._registerComponent)(new Pt.wA("analytics-internal",function R(U){try{const Q=U.getProvider(pa).getImmediate();return{logEvent:(ve,Pe,qe)=>cd(Q,ve,Pe,qe)}}catch(Q){throw dr.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,Re.registerVersion)(Ps,"0.10.4"),(0,Re.registerVersion)(Ps,"0.10.4","esm2017")}()},106:(ls,Gn,Ke)=>{Ke.d(Gn,{Z:()=>Wn});var O=Ke(58),Re=Ke(537),j=Ke(303),xe=Ke(879);class Pt{constructor(ut,st){this._delegate=ut,this.firebase=st,(0,j._addComponent)(ut,new Re.wA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(ut,st=j._DEFAULT_ENTRY_NAME){var Mn;this._delegate.checkDestroyed();const mn=this._delegate.container.getProvider(ut);return!mn.isInitialized()&&"EXPLICIT"===(null===(Mn=mn.getComponent())||void 0===Mn?void 0:Mn.instantiationMode)&&mn.initialize(),mn.getImmediate({identifier:st})}_removeServiceInstance(ut,st=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(st)}_addComponent(ut){(0,j._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,j._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Sn=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function St(){const xt=function Bt(xt){const ut={},st={__esModule:!0,initializeApp:function Kt(gt,Me={}){const ne=j.initializeApp(gt,Me);if((0,O.r3)(ut,ne.name))return ut[ne.name];const tt=new xt(ne,st);return ut[ne.name]=tt,tt},app:mn,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Tr(gt){const Me=gt.name,ne=Me.replace("-compat","");if(j._registerComponent(gt)&&"PUBLIC"===gt.type){const tt=(It=mn())=>{if("function"!=typeof It[ne])throw Sn.create("invalid-app-argument",{appName:Me});return It[ne]()};void 0!==gt.serviceProps&&(0,O.ZB)(tt,gt.serviceProps),st[ne]=tt,xt.prototype[ne]=function(...It){return this._getService.bind(this,Me).apply(this,gt.multipleInstances?It:[])}}return"PUBLIC"===gt.type?st[ne]:null},removeApp:function Mn(gt){delete ut[gt]},useAsService:function Ot(gt,Me){return"serverAuth"===Me?null:Me},modularAPIs:j}};function mn(gt){if(!(0,O.r3)(ut,gt=gt||j._DEFAULT_ENTRY_NAME))throw Sn.create("no-app",{appName:gt});return ut[gt]}return st.default=st,Object.defineProperty(st,"apps",{get:function Zt(){return Object.keys(ut).map(gt=>ut[gt])}}),mn.App=xt,st}(Pt);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:St,extendNamespace:function ut(st){(0,O.ZB)(xt,st)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),xt}(),Te=new xe.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Wn=ye;!function jt(xt){(0,j.registerVersion)("@firebase/app-compat","0.2.35",xt)}()},303:(ls,Gn,Ke)=>{Ke.r(Gn),Ke.d(Gn,{FirebaseError:()=>xe.ZR,SDK_VERSION:()=>Hi,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>Oe,_addOrOverwriteComponent:()=>Lt,_apps:()=>me,_clearComponents:()=>In,_components:()=>ce,_getProvider:()=>Ye,_isFirebaseApp:()=>yn,_isFirebaseServerApp:()=>fn,_registerComponent:()=>De,_removeServiceInstance:()=>Ut,_serverApps:()=>Ee,deleteApp:()=>Ti,getApp:()=>ai,getApps:()=>us,initializeApp:()=>oi,initializeServerApp:()=>Vt,onLog:()=>Gs,registerVersion:()=>Zr,setLogLevel:()=>Ai});var O=Ke(861),Re=Ke(537),j=Ke(879),xe=Ke(58),Pt=Ke(878);class Dn{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(N=>{if(function Sn(ke){const P=ke.getComponent();return"VERSION"===P?.type}(N)){const b=N.getImmediate();return`${b.library}/${b.version}`}return null}).filter(N=>N).join(" ")}}const Bt="@firebase/app",St="0.10.5",ye=new j.Yd("@firebase/app"),oe="[DEFAULT]",ue={[Bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},me=new Map,Ee=new Map,ce=new Map;function Oe(ke,P){try{ke.container.addComponent(P)}catch(N){ye.debug(`Component ${P.name} failed to register with FirebaseApp ${ke.name}`,N)}}function Lt(ke,P){ke.container.addOrOverwriteComponent(P)}function De(ke){const P=ke.name;if(ce.has(P))return ye.debug(`There were multiple attempts to register component ${P}.`),!1;ce.set(P,ke);for(const N of me.values())Oe(N,ke);for(const N of Ee.values())Oe(N,ke);return!0}function Ye(ke,P){const N=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return N&&N.triggerHeartbeat(),ke.container.getProvider(P)}function Ut(ke,P,N=oe){Ye(ke,P).clearInstance(N)}function yn(ke){return void 0!==ke.options}function fn(ke){return void 0!==ke.settings}function In(){ce.clear()}const Yt=new xe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Kn{constructor(P,N,b){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},N),this._name=N.name,this._automaticDataCollectionEnabled=N.automaticDataCollectionEnabled,this._container=b,this.container.addComponent(new Re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}class Ar extends Kn{constructor(P,N,b,S){const w=void 0!==N.automaticDataCollectionEnabled&&N.automaticDataCollectionEnabled,V={name:b,automaticDataCollectionEnabled:w};super(void 0!==P.apiKey?P:P.options,V,S),this._serverConfig=Object.assign({automaticDataCollectionEnabled:w},N),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,N.releaseOnDeref=void 0,Zr(Bt,St,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(P){this.isDeleted||(this._refCount++,void 0!==P&&this._finalizationRegistry.register(P,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ti(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yt.create("server-app-deleted")}}const Hi="10.12.2";function oi(ke,P={}){let N=ke;"object"!=typeof P&&(P={name:P});const b=Object.assign({name:oe,automaticDataCollectionEnabled:!1},P),S=b.name;if("string"!=typeof S||!S)throw Yt.create("bad-app-name",{appName:String(S)});if(N||(N=(0,xe.aH)()),!N)throw Yt.create("no-options");const w=me.get(S);if(w){if((0,xe.vZ)(N,w.options)&&(0,xe.vZ)(b,w.config))return w;throw Yt.create("duplicate-app",{appName:S})}const V=new Re.H0(S);for(const Ne of ce.values())V.addComponent(Ne);const fe=new Kn(N,b,V);return me.set(S,fe),fe}function Vt(ke,P){if((0,xe.jU)())throw Yt.create("invalid-server-app-environment");let N;void 0===P.automaticDataCollectionEnabled&&(P.automaticDataCollectionEnabled=!1),N=yn(ke)?ke.options:ke;const b=Object.assign(Object.assign({},P),N);if(void 0!==b.releaseOnDeref&&delete b.releaseOnDeref,void 0!==P.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Yt.create("finalization-registry-not-supported",{});const w=""+(He=JSON.stringify(b),[...He].reduce((mt,Xt)=>Math.imul(31,mt)+Xt.charCodeAt(0)|0,0)),V=Ee.get(w);var He;if(V)return V.incRefCount(P.releaseOnDeref),V;const fe=new Re.H0(w);for(const He of ce.values())fe.addComponent(He);const Ne=new Ar(N,P,w,fe);return Ee.set(w,Ne),Ne}function ai(ke=oe){const P=me.get(ke);if(!P&&ke===oe&&(0,xe.aH)())return oi();if(!P)throw Yt.create("no-app",{appName:ke});return P}function us(){return Array.from(me.values())}function Ti(ke){return qi.apply(this,arguments)}function qi(){return(qi=(0,O.Z)(function*(ke){let P=!1;const N=ke.name;me.has(N)?(P=!0,me.delete(N)):Ee.has(N)&&ke.decRefCount()<=0&&(Ee.delete(N),P=!0),P&&(yield Promise.all(ke.container.getProviders().map(b=>b.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function Zr(ke,P,N){var b;let S=null!==(b=ue[ke])&&void 0!==b?b:ke;N&&(S+=`-${N}`);const w=S.match(/\s|\//),V=P.match(/\s|\//);if(w||V){const fe=[`Unable to register library "${S}" with version "${P}":`];return w&&fe.push(`library name "${S}" contains illegal characters (whitespace or "/")`),w&&V&&fe.push("and"),V&&fe.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void ye.warn(fe.join(" "))}De(new Re.wA(`${S}-version`,()=>({library:S,version:P}),"VERSION"))}function Gs(ke,P){if(null!==ke&&"function"!=typeof ke)throw Yt.create("invalid-log-argument");(0,j.Am)(ke,P)}function Ai(ke){(0,j.Ub)(ke)}const mr="firebase-heartbeat-database",Qr=1,nn="firebase-heartbeat-store";let Fr=null;function Vn(){return Fr||(Fr=(0,Pt.X3)(mr,Qr,{upgrade:(ke,P)=>{if(0===P)try{ke.createObjectStore(nn)}catch(N){console.warn(N)}}}).catch(ke=>{throw Yt.create("idb-open",{originalErrorMessage:ke.message})})),Fr}function Di(){return(Di=(0,O.Z)(function*(ke){try{const N=(yield Vn()).transaction(nn),b=yield N.objectStore(nn).get(Si(ke));return yield N.done,b}catch(P){if(P instanceof xe.ZR)ye.warn(P.message);else{const N=Yt.create("idb-get",{originalErrorMessage:P?.message});ye.warn(N.message)}}})).apply(this,arguments)}function cn(ke,P){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(ke,P){try{const b=(yield Vn()).transaction(nn,"readwrite");yield b.objectStore(nn).put(P,Si(ke)),yield b.done}catch(N){if(N instanceof xe.ZR)ye.warn(N.message);else{const b=Yt.create("idb-set",{originalErrorMessage:N?.message});ye.warn(b.message)}}})).apply(this,arguments)}function Si(ke){return`${ke.name}!${ke.options.appId}`}class bn{constructor(P){this.container=P,this._heartbeatsCache=null;const N=this.container.getProvider("app").getImmediate();this._storage=new fs(N),this._heartbeatsCachePromise=this._storage.read().then(b=>(this._heartbeatsCache=b,b))}triggerHeartbeat(){var P=this;return(0,O.Z)(function*(){var N,b;const w=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),V=Dr();if((null!=(null===(N=P._heartbeatsCache)||void 0===N?void 0:N.heartbeats)||(P._heartbeatsCache=yield P._heartbeatsCachePromise,null!=(null===(b=P._heartbeatsCache)||void 0===b?void 0:b.heartbeats)))&&P._heartbeatsCache.lastSentHeartbeatDate!==V&&!P._heartbeatsCache.heartbeats.some(fe=>fe.date===V))return P._heartbeatsCache.heartbeats.push({date:V,agent:w}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(fe=>{const Ne=new Date(fe.date).valueOf();return Date.now()-Ne<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,O.Z)(function*(){var N;if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null==(null===(N=P._heartbeatsCache)||void 0===N?void 0:N.heartbeats)||0===P._heartbeatsCache.heartbeats.length)return"";const b=Dr(),{heartbeatsToSend:S,unsentEntries:w}=function hs(ke,P=1024){const N=[];let b=ke.slice();for(const S of ke){const w=N.find(V=>V.agent===S.agent);if(w){if(w.dates.push(S.date),Ss(N)>P){w.dates.pop();break}}else if(N.push({agent:S.agent,dates:[S.date]}),Ss(N)>P){N.pop();break}b=b.slice(1)}return{heartbeatsToSend:N,unsentEntries:b}}(P._heartbeatsCache.heartbeats),V=(0,xe.L)(JSON.stringify({version:2,heartbeats:S}));return P._heartbeatsCache.lastSentHeartbeatDate=b,w.length>0?(P._heartbeatsCache.heartbeats=w,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),V})()}}function Dr(){return(new Date).toISOString().substring(0,10)}class fs{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,xe.hl)()&&(0,xe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,O.Z)(function*(){if(yield P._canUseIndexedDBPromise){const b=yield function Ws(ke){return Di.apply(this,arguments)}(P.app);return b?.heartbeats?b:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(P){var N=this;return(0,O.Z)(function*(){var b;if(yield N._canUseIndexedDBPromise){const w=yield N.read();return cn(N.app,{lastSentHeartbeatDate:null!==(b=P.lastSentHeartbeatDate)&&void 0!==b?b:w.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var N=this;return(0,O.Z)(function*(){var b;if(yield N._canUseIndexedDBPromise){const w=yield N.read();return cn(N.app,{lastSentHeartbeatDate:null!==(b=P.lastSentHeartbeatDate)&&void 0!==b?b:w.lastSentHeartbeatDate,heartbeats:[...w.heartbeats,...P.heartbeats]})}})()}}function Ss(ke){return(0,xe.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Ks(ke){De(new Re.wA("platform-logger",P=>new Dn(P),"PRIVATE")),De(new Re.wA("heartbeat",P=>new bn(P),"PRIVATE")),Zr(Bt,St,ke),Zr(Bt,St,"esm2017"),Zr("fire-js","")}("")},537:(ls,Gn,Ke)=>{Ke.d(Gn,{H0:()=>Bt,wA:()=>j});var O=Ke(861),Re=Ke(58);class j{constructor(ye,Te,Xe){this.name=ye,this.instanceFactory=Te,this.type=Xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const xe="[DEFAULT]";class Pt{constructor(ye,Te){this.name=ye,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const Te=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(Te)){const Xe=new Re.BH;if(this.instancesDeferred.set(Te,Xe),this.isInitialized(Te)||this.shouldAutoInitialize())try{const wt=this.getOrInitializeService({instanceIdentifier:Te});wt&&Xe.resolve(wt)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(ye){var Te;const Xe=this.normalizeInstanceIdentifier(ye?.identifier),wt=null!==(Te=ye?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Xe)&&!this.shouldAutoInitialize()){if(wt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Xe})}catch(jt){if(wt)return null;throw jt}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function Sn(St){return"EAGER"===St.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:xe})}catch{}for(const[Te,Xe]of this.instancesDeferred.entries()){const wt=this.normalizeInstanceIdentifier(Te);try{const jt=this.getOrInitializeService({instanceIdentifier:wt});Xe.resolve(jt)}catch{}}}}clearInstance(ye=xe){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,O.Z)(function*(){const Te=Array.from(ye.instances.values());yield Promise.all([...Te.filter(Xe=>"INTERNAL"in Xe).map(Xe=>Xe.INTERNAL.delete()),...Te.filter(Xe=>"_delete"in Xe).map(Xe=>Xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=xe){return this.instances.has(ye)}getOptions(ye=xe){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:Te={}}=ye,Xe=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Xe))throw Error(`${this.name}(${Xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const wt=this.getOrInitializeService({instanceIdentifier:Xe,options:Te});for(const[jt,Wn]of this.instancesDeferred.entries())Xe===this.normalizeInstanceIdentifier(jt)&&Wn.resolve(wt);return wt}onInit(ye,Te){var Xe;const wt=this.normalizeInstanceIdentifier(Te),jt=null!==(Xe=this.onInitCallbacks.get(wt))&&void 0!==Xe?Xe:new Set;jt.add(ye),this.onInitCallbacks.set(wt,jt);const Wn=this.instances.get(wt);return Wn&&ye(Wn,wt),()=>{jt.delete(ye)}}invokeOnInitCallbacks(ye,Te){const Xe=this.onInitCallbacks.get(Te);if(Xe)for(const wt of Xe)try{wt(ye,Te)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:Te={}}){let Xe=this.instances.get(ye);if(!Xe&&this.component&&(Xe=this.component.instanceFactory(this.container,{instanceIdentifier:(St=ye,St===xe?void 0:St),options:Te}),this.instances.set(ye,Xe),this.instancesOptions.set(ye,Te),this.invokeOnInitCallbacks(Xe,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Xe)}catch{}var St;return Xe||null}normalizeInstanceIdentifier(ye=xe){return this.component?this.component.multipleInstances?ye:xe:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Bt{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const Te=this.getProvider(ye.name);if(Te.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);Te.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const Te=new Pt(ye,this);return this.providers.set(ye,Te),Te}getProviders(){return Array.from(this.providers.values())}}},879:(ls,Gn,Ke)=>{Ke.d(Gn,{Am:()=>St,Ub:()=>Bt,Yd:()=>Sn,in:()=>Re});const O=[];var Re=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(Re||{});const j={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},xe=Re.INFO,Pt={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Dn=(ye,Te,...Xe)=>{if(Te<ye.logLevel)return;const wt=(new Date).toISOString(),jt=Pt[Te];if(!jt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[jt](`[${wt}]  ${ye.name}:`,...Xe)};class Sn{constructor(Te){this.name=Te,this._logLevel=xe,this._logHandler=Dn,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in Re))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?j[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...Te),this._logHandler(this,Re.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...Te),this._logHandler(this,Re.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...Te),this._logHandler(this,Re.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...Te),this._logHandler(this,Re.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...Te),this._logHandler(this,Re.ERROR,...Te)}}function Bt(ye){O.forEach(Te=>{Te.setLogLevel(ye)})}function St(ye,Te){for(const Xe of O){let wt=null;Te&&Te.level&&(wt=j[Te.level]),Xe.userLogHandler=null===ye?null:(jt,Wn,...xt)=>{const ut=xt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");Wn>=(wt??jt.logLevel)&&ye({level:Re[Wn].toLowerCase(),message:ut,args:xt,type:jt.name})}}}},365:(ls,Gn,Ke)=>{Ke.r(Gn);var O=Ke(861),Re=Ke(106),j=Ke(35),xe=Ke(58),Sn=(Ke(303),Ke(879),Ke(537));function Bt(){return window}function Te(){return Te=(0,O.Z)(function*(b,S,w){var V;const{BuildInfo:fe}=Bt();(0,j.au)(S.sessionId,"AuthEvent did not contain a session ID");const Ne=yield function st(b){return Mn.apply(this,arguments)}(S.sessionId),He={};return(0,j.av)()?He.ibi=fe.packageName:(0,j.aw)()?He.apn=fe.packageName:(0,j.ax)(b,"operation-not-supported-in-this-environment"),fe.displayName&&(He.appDisplayName=fe.displayName),He.sessionId=Ne,(0,j.ay)(b,w,S.type,void 0,null!==(V=S.eventId)&&void 0!==V?V:void 0,He)}),Te.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*(b){const{BuildInfo:S}=Bt(),w={};(0,j.av)()?w.iosBundleId=S.packageName:(0,j.aw)()?w.androidPackageName=S.packageName:(0,j.ax)(b,"operation-not-supported-in-this-environment"),yield(0,j.az)(b,w)})).apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(b,S,w){const{cordova:V}=Bt();let fe=()=>{};try{yield new Promise((Ne,He)=>{let mt=null;function Xt(){var at;Ne();const Vr=null===(at=V.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Vr&&Vr(),"function"==typeof w?.close&&w.close()}function Ve(){mt||(mt=window.setTimeout(()=>{He((0,j.aB)(b,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Ve()}S.addPassiveListener(Xt),document.addEventListener("resume",Ve,!1),(0,j.aw)()&&document.addEventListener("visibilitychange",wn,!1),fe=()=>{S.removePassiveListener(Xt),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",wn,!1),mt&&window.clearTimeout(mt)}})}finally{fe()}})).apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(b){const S=function mn(b){if((0,j.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const S=new ArrayBuffer(b.length),w=new Uint8Array(S);for(let V=0;V<b.length;V++)w[V]=b.charCodeAt(V);return w}(b),w=yield crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(w)).map(fe=>fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zt extends j.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(S=>{this.resolveInialized=S})}addPassiveListener(S){this.passiveListeners.add(S)}removePassiveListener(S){this.passiveListeners.delete(S)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(S){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(S)),super.onEvent(S)}initialized(){var S=this;return(0,O.Z)(function*(){yield S.initPromise})()}}function gt(b){return Me.apply(this,arguments)}function Me(){return(Me=(0,O.Z)(function*(b){const S=yield It()._get(Nt(b));return S&&(yield It()._remove(Nt(b))),S})).apply(this,arguments)}function tt(){const b=[];for(let w=0;w<20;w++){const V=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return b.join("")}function It(){return(0,j.aE)(j.b)}function Nt(b){return(0,j.aF)("authEvent",b.config.apiKey,b.name)}function bt(b){if(!b?.includes("?"))return{};const[S,...w]=b.split("?");return(0,xe.zd)(w.join("?"))}const se=class lr{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(S){var w=this;return(0,O.Z)(function*(){const V=S._key();let fe=w.eventManagers.get(V);return fe||(fe=new Zt(S),w.eventManagers.set(V,fe),w.attachCallbackListeners(S,fe)),fe})()}_openPopup(S){(0,j.ax)(S,"operation-not-supported-in-this-environment")}_openRedirect(S,w,V,fe){var Ne=this;return(0,O.Z)(function*(){!function ut(b){var S,w,V,fe,Ne,He,mt,Xt,Ve,wn;const at=Bt();(0,j.aC)("function"==typeof(null===(S=at?.universalLinks)||void 0===S?void 0:S.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aC)(typeof(null===(w=at?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aC)("function"==typeof(null===(Ne=null===(fe=null===(V=at?.cordova)||void 0===V?void 0:V.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Ne?void 0:Ne.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(Xt=null===(mt=null===(He=at?.cordova)||void 0===He?void 0:He.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===Xt?void 0:Xt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(wn=null===(Ve=at?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===wn?void 0:wn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(S);const He=yield Ne._initialize(S);yield He.initialized(),He.resetRedirect(),(0,j.aI)(),yield Ne._originValidation(S);const mt=function Tr(b,S,w=null){return{type:S,eventId:w,urlResponse:null,sessionId:tt(),postBody:null,tenantId:b.tenantId,error:(0,j.aB)(b,"no-auth-event")}}(S,V,fe);yield function Ot(b,S){return It()._set(Nt(b),S)}(S,mt);const Xt=yield function ye(b,S,w){return Te.apply(this,arguments)}(S,mt,w),Ve=yield function jt(b){const{cordova:S}=Bt();return new Promise(w=>{S.plugins.browsertab.isAvailable(V=>{let fe=null;V?S.plugins.browsertab.openUrl(b):fe=S.InAppBrowser.open(b,(0,j.aA)()?"_blank":"_system","location=yes"),w(fe)})})}(Xt);return function Wn(b,S,w){return xt.apply(this,arguments)}(S,He,Ve)})()}_isIframeWebStorageSupported(S,w){throw new Error("Method not implemented.")}_originValidation(S){const w=S._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Xe(b){return wt.apply(this,arguments)}(S)),this.originValidationPromises[w]}attachCallbackListeners(S,w){const{universalLinks:V,handleOpenURL:fe,BuildInfo:Ne}=Bt(),He=setTimeout((0,O.Z)(function*(){yield gt(S),w.onEvent(oe())}),500),mt=function(){var wn=(0,O.Z)(function*(at){clearTimeout(He);const Vr=yield gt(S);let go=null;Vr&&at?.url&&(go=function ne(b,S){var w,V;const fe=function hn(b){const S=bt(b),w=S.link?decodeURIComponent(S.link):void 0,V=bt(w).link,fe=S.deep_link_id?decodeURIComponent(S.deep_link_id):void 0;return bt(fe).link||fe||V||w||b}(S);if(fe.includes("/__/auth/callback")){const Ne=bt(fe),He=Ne.firebaseError?function kn(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,mt=null===(V=null===(w=He?.code)||void 0===w?void 0:w.split("auth/"))||void 0===V?void 0:V[1],Xt=mt?(0,j.aB)(mt):null;return Xt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:fe,postBody:null}}return null}(Vr,at.url)),w.onEvent(go||oe())});return function(Vr){return wn.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,mt);const Xt=fe,Ve=`${Ne.packageName.toLowerCase()}://`;Bt().handleOpenURL=function(){var wn=(0,O.Z)(function*(at){if(at.toLowerCase().startsWith(Ve)&&mt({url:at}),"function"==typeof Xt)try{Xt(at)}catch(Vr){console.error(Vr)}});return function(at){return wn.apply(this,arguments)}}()}};function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aB)("no-auth-event")}}function Oe(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function De(b=(0,xe.z$)()){return!("file:"!==Oe()&&"ionic:"!==Oe()&&"capacitor:"!==Oe()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function In(){try{const b=self.localStorage,S=j.aN();if(b)return b.setItem(S,"1"),b.removeItem(S),!function fn(b=(0,xe.z$)()){return function Ut(){return(0,xe.w1)()&&11===document?.documentMode}()||function yn(b=(0,xe.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,xe.hl)()}catch{return Rn()&&(0,xe.hl)()}return!1}function Rn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yt(){return(function Lt(){return"http:"===Oe()||"https:"===Oe()}()||(0,xe.ru)()||De())&&!function Ye(){return(0,xe.b$)()||(0,xe.UG)()}()&&In()&&!Rn()}function Kn(){return De()&&typeof document<"u"}function Hi(){return(Hi=(0,O.Z)(function*(){return!!Kn()&&new Promise(b=>{const S=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(S),b(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},ai=j.aC,us="persistence";function qi(b){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(b){yield b._initializationPromise;const S=Ai(),w=j.aF(us,b.config.apiKey,b.name);S&&S.setItem(w,b._getPersistence())})).apply(this,arguments)}function Ai(){var b;try{return(null===(b=function oi(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const mr=j.aC;class Qr{constructor(){this.browserResolver=j.aE(j.k),this.cordovaResolver=j.aE(se),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(S){var w=this;return(0,O.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(S)})()}_openPopup(S,w,V,fe){var Ne=this;return(0,O.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(S,w,V,fe)})()}_openRedirect(S,w,V,fe){var Ne=this;return(0,O.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(S,w,V,fe)})()}_isIframeWebStorageSupported(S,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(S,w)}_originValidation(S){return this.assertedUnderlyingResolver._originValidation(S)}get _shouldInitProactively(){return Kn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var S=this;return(0,O.Z)(function*(){if(S.underlyingResolver)return;const w=yield function Ar(){return Hi.apply(this,arguments)}();S.underlyingResolver=w?S.cordovaResolver:S.browserResolver})()}}function nn(b){return b.unwrap()}function Vn(b){return Di(b)}function Di(b){const{_tokenResponse:S}=b instanceof xe.ZR?b.customData:b;if(!S)return null;if(!(b instanceof xe.ZR)&&"temporaryProof"in S&&"phoneNumber"in S)return j.P.credentialFromResult(b);const w=S.providerId;if(!w||w===j.p.PASSWORD)return null;let V;switch(w){case j.p.GOOGLE:V=j.X;break;case j.p.FACEBOOK:V=j.W;break;case j.p.GITHUB:V=j.Y;break;case j.p.TWITTER:V=j.$;break;default:const{oauthIdToken:fe,oauthAccessToken:Ne,oauthTokenSecret:He,pendingToken:mt,nonce:Xt}=S;return Ne||He||fe||mt?mt?w.startsWith("saml.")?j.aQ._create(w,mt):j.N._fromParams({providerId:w,signInMethod:w,pendingToken:mt,idToken:fe,accessToken:Ne}):new j.Z(w).credential({idToken:fe,accessToken:Ne,rawNonce:Xt}):null}return b instanceof xe.ZR?V.credentialFromError(b):V.credentialFromResult(b)}function cn(b,S){return S.catch(w=>{throw w instanceof xe.ZR&&function Ws(b,S){var w;const V=null===(w=S.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===S?.code)S.resolver=new ds(b,j.as(b,S));else if(V){const fe=Di(S),Ne=S;fe&&(Ne.credential=fe,Ne.tenantId=V.tenantId||void 0,Ne.email=V.email||void 0,Ne.phoneNumber=V.phoneNumber||void 0)}}(b,w),w}).then(w=>{const fe=w.user;return{operationType:w.operationType,credential:Vn(w),additionalUserInfo:j.aq(w),user:ur.getOrCreate(fe)}})}function Lr(b,S){return Si.apply(this,arguments)}function Si(){return(Si=(0,O.Z)(function*(b,S){const w=yield S;return{verificationId:w.verificationId,confirm:V=>cn(b,w.confirm(V))}})).apply(this,arguments)}class ds{constructor(S,w){this.resolver=w,this.auth=function Fr(b){return b.wrapped()}(S)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(S){return cn(nn(this.auth),this.resolver.resolveSignIn(S))}}class ur{constructor(S){this._delegate=S,this.multiFactor=j.at(S)}static getOrCreate(S){return ur.USER_MAP.has(S)||ur.USER_MAP.set(S,new ur(S)),ur.USER_MAP.get(S)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(S){return this._delegate.getIdTokenResult(S)}getIdToken(S){return this._delegate.getIdToken(S)}linkAndRetrieveDataWithCredential(S){return this.linkWithCredential(S)}linkWithCredential(S){var w=this;return(0,O.Z)(function*(){return cn(w.auth,j.a2(w._delegate,S))})()}linkWithPhoneNumber(S,w){var V=this;return(0,O.Z)(function*(){return Lr(V.auth,j.l(V._delegate,S,w))})()}linkWithPopup(S){var w=this;return(0,O.Z)(function*(){return cn(w.auth,j.d(w._delegate,S,Qr))})()}linkWithRedirect(S){var w=this;return(0,O.Z)(function*(){return yield qi(j.aJ(w.auth)),j.g(w._delegate,S,Qr)})()}reauthenticateAndRetrieveDataWithCredential(S){return this.reauthenticateWithCredential(S)}reauthenticateWithCredential(S){var w=this;return(0,O.Z)(function*(){return cn(w.auth,j.a3(w._delegate,S))})()}reauthenticateWithPhoneNumber(S,w){return Lr(this.auth,j.r(this._delegate,S,w))}reauthenticateWithPopup(S){return cn(this.auth,j.e(this._delegate,S,Qr))}reauthenticateWithRedirect(S){var w=this;return(0,O.Z)(function*(){return yield qi(j.aJ(w.auth)),j.h(w._delegate,S,Qr)})()}sendEmailVerification(S){return j.ag(this._delegate,S)}unlink(S){var w=this;return(0,O.Z)(function*(){return yield j.ap(w._delegate,S),w})()}updateEmail(S){return j.al(this._delegate,S)}updatePassword(S){return j.am(this._delegate,S)}updatePhoneNumber(S){return j.u(this._delegate,S)}updateProfile(S){return j.ak(this._delegate,S)}verifyBeforeUpdateEmail(S,w){return j.ah(this._delegate,S,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;const bn=j.aC;let Dr=(()=>{class b{constructor(w,V){if(this.app=w,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:fe}=w.options;bn(fe,"invalid-api-key",{appName:w.name}),bn(fe,"invalid-api-key",{appName:w.name});const Ne=typeof window<"u"?Qr:void 0;this._delegate=V.initialize({options:{persistence:fs(fe,w.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(j.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,V){j.K(this._delegate,w,V)}applyActionCode(w){return j.a7(this._delegate,w)}checkActionCode(w){return j.a8(this._delegate,w)}confirmPasswordReset(w,V){return j.a6(this._delegate,w,V)}createUserWithEmailAndPassword(w,V){var fe=this;return(0,O.Z)(function*(){return cn(fe._delegate,j.aa(fe._delegate,w,V))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return j.af(this._delegate,w)}isSignInWithEmailLink(w){return j.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,O.Z)(function*(){bn(Yt(),w._delegate,"operation-not-supported-in-this-environment");const V=yield j.j(w._delegate,Qr);return V?cn(w._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function ue(b,S){(0,j.aJ)(b)._logFramework(S)}(this._delegate,w)}onAuthStateChanged(w,V,fe){const{next:Ne,error:He,complete:mt}=hs(w,V,fe);return this._delegate.onAuthStateChanged(Ne,He,mt)}onIdTokenChanged(w,V,fe){const{next:Ne,error:He,complete:mt}=hs(w,V,fe);return this._delegate.onIdTokenChanged(Ne,He,mt)}sendSignInLinkToEmail(w,V){return j.ac(this._delegate,w,V)}sendPasswordResetEmail(w,V){return j.a5(this._delegate,w,V||void 0)}setPersistence(w){var V=this;return(0,O.Z)(function*(){let fe;switch(function Ti(b,S){ai(Object.values(Vt).includes(S),b,"invalid-persistence-type"),(0,xe.b$)()?ai(S!==Vt.SESSION,b,"unsupported-persistence-type"):(0,xe.UG)()?ai(S===Vt.NONE,b,"unsupported-persistence-type"):Rn()?ai(S===Vt.NONE||S===Vt.LOCAL&&(0,xe.hl)(),b,"unsupported-persistence-type"):ai(S===Vt.NONE||In(),b,"unsupported-persistence-type")}(V._delegate,w),w){case Vt.SESSION:fe=j.a;break;case Vt.LOCAL:fe=(yield j.aE(j.i)._isAvailable())?j.i:j.b;break;case Vt.NONE:fe=j.U;break;default:return j.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(fe)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return cn(this._delegate,j.a0(this._delegate))}signInWithCredential(w){return cn(this._delegate,j.a1(this._delegate,w))}signInWithCustomToken(w){return cn(this._delegate,j.a4(this._delegate,w))}signInWithEmailAndPassword(w,V){return cn(this._delegate,j.ab(this._delegate,w,V))}signInWithEmailLink(w,V){return cn(this._delegate,j.ae(this._delegate,w,V))}signInWithPhoneNumber(w,V){return Lr(this._delegate,j.s(this._delegate,w,V))}signInWithPopup(w){var V=this;return(0,O.Z)(function*(){return bn(Yt(),V._delegate,"operation-not-supported-in-this-environment"),cn(V._delegate,j.c(V._delegate,w,Qr))})()}signInWithRedirect(w){var V=this;return(0,O.Z)(function*(){return bn(Yt(),V._delegate,"operation-not-supported-in-this-environment"),yield qi(V._delegate),j.f(V._delegate,w,Qr)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return j.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Vt,b})();function hs(b,S,w){let V=b;"function"!=typeof b&&({next:V,error:S,complete:w}=b);const fe=V;return{next:He=>fe(He&&ur.getOrCreate(He)),error:S,complete:w}}function fs(b,S){const w=function Gs(b,S){const w=Ai();if(!w)return[];const V=j.aF(us,b,S);switch(w.getItem(V)){case Vt.NONE:return[j.U];case Vt.LOCAL:return[j.i,j.a];case Vt.SESSION:return[j.a];default:return[]}}(b,S);if(typeof self<"u"&&!w.includes(j.i)&&w.push(j.i),typeof window<"u")for(const V of[j.b,j.a])w.includes(V)||w.push(V);return w.includes(j.U)||w.push(j.U),w}class Ss{constructor(){this.providerId="phone",this._delegate=new j.P(nn(Re.Z.auth()))}static credential(S,w){return j.P.credential(S,w)}verifyPhoneNumber(S,w){return this._delegate.verifyPhoneNumber(S,w)}unwrap(){return this._delegate}}Ss.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,Ss.PROVIDER_ID=j.P.PROVIDER_ID;const Ks=j.aC;class ke{constructor(S,w,V=Re.Z.app()){var fe;Ks(null===(fe=V.options)||void 0===fe?void 0:fe.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new j.R(V.auth(),S,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function N(b){b.INTERNAL.registerComponent(new Sn.wA("auth-compat",S=>{const w=S.getProvider("app-compat").getImmediate(),V=S.getProvider("auth");return new Dr(w,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.V,FacebookAuthProvider:j.W,GithubAuthProvider:j.Y,GoogleAuthProvider:j.X,OAuthProvider:j.Z,SAMLAuthProvider:j._,PhoneAuthProvider:Ss,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:ke,TwitterAuthProvider:j.$,Auth:Dr,AuthCredential:j.L,Error:xe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.9")}(Re.Z)},878:(ls,Gn,Ke)=>{Ke.d(Gn,{X3:()=>mn});var O=Ke(861);const Re=(Me,ne)=>ne.some(tt=>Me instanceof tt);let j,xe;const Sn=new WeakMap,Bt=new WeakMap,St=new WeakMap,ye=new WeakMap,Te=new WeakMap;let jt={get(Me,ne,tt){if(Me instanceof IDBTransaction){if("done"===ne)return Bt.get(Me);if("objectStoreNames"===ne)return Me.objectStoreNames||St.get(Me);if("store"===ne)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return st(Me[ne])},set:(Me,ne,tt)=>(Me[ne]=tt,!0),has:(Me,ne)=>Me instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in Me};function ut(Me){return"function"==typeof Me?function xt(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dn(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...ne){return Me.apply(Mn(this),ne),st(Sn.get(this))}:function(...ne){return st(Me.apply(Mn(this),ne))}:function(ne,...tt){const It=Me.call(Mn(this),ne,...tt);return St.set(It,ne.sort?ne.sort():[ne]),st(It)}}(Me):(Me instanceof IDBTransaction&&function wt(Me){if(Bt.has(Me))return;const ne=new Promise((tt,It)=>{const Nt=()=>{Me.removeEventListener("complete",kn),Me.removeEventListener("error",hn),Me.removeEventListener("abort",hn)},kn=()=>{tt(),Nt()},hn=()=>{It(Me.error||new DOMException("AbortError","AbortError")),Nt()};Me.addEventListener("complete",kn),Me.addEventListener("error",hn),Me.addEventListener("abort",hn)});Bt.set(Me,ne)}(Me),Re(Me,function Pt(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,jt):Me)}function st(Me){if(Me instanceof IDBRequest)return function Xe(Me){const ne=new Promise((tt,It)=>{const Nt=()=>{Me.removeEventListener("success",kn),Me.removeEventListener("error",hn)},kn=()=>{tt(st(Me.result)),Nt()},hn=()=>{It(Me.error),Nt()};Me.addEventListener("success",kn),Me.addEventListener("error",hn)});return ne.then(tt=>{tt instanceof IDBCursor&&Sn.set(tt,Me)}).catch(()=>{}),Te.set(ne,Me),ne}(Me);if(ye.has(Me))return ye.get(Me);const ne=ut(Me);return ne!==Me&&(ye.set(Me,ne),Te.set(ne,Me)),ne}const Mn=Me=>Te.get(Me);function mn(Me,ne,{blocked:tt,upgrade:It,blocking:Nt,terminated:kn}={}){const hn=indexedDB.open(Me,ne),bt=st(hn);return It&&hn.addEventListener("upgradeneeded",_n=>{It(st(hn.result),_n.oldVersion,_n.newVersion,st(hn.transaction),_n)}),tt&&hn.addEventListener("blocked",_n=>tt(_n.oldVersion,_n.newVersion,_n)),bt.then(_n=>{kn&&_n.addEventListener("close",()=>kn()),Nt&&_n.addEventListener("versionchange",lr=>Nt(lr.oldVersion,lr.newVersion,lr))}).catch(()=>{}),bt}const Zt=["get","getKey","getAll","getAllKeys","count"],Tr=["put","add","delete","clear"],Ot=new Map;function gt(Me,ne){if(!(Me instanceof IDBDatabase)||ne in Me||"string"!=typeof ne)return;if(Ot.get(ne))return Ot.get(ne);const tt=ne.replace(/FromIndex$/,""),It=ne!==tt,Nt=Tr.includes(tt);if(!(tt in(It?IDBIndex:IDBObjectStore).prototype)||!Nt&&!Zt.includes(tt))return;const kn=function(){var hn=(0,O.Z)(function*(bt,..._n){const lr=this.transaction(bt,Nt?"readwrite":"readonly");let se=lr.store;return It&&(se=se.index(_n.shift())),(yield Promise.all([se[tt](..._n),Nt&&lr.done]))[0]});return function(_n){return hn.apply(this,arguments)}}();return Ot.set(ne,kn),kn}!function Wn(Me){jt=Me(jt)}(Me=>({...Me,get:(ne,tt,It)=>gt(ne,tt)||Me.get(ne,tt,It),has:(ne,tt)=>!!gt(ne,tt)||Me.has(ne,tt)}))},861:(ls,Gn,Ke)=>{function O(j,xe,Pt,Dn,Sn,Bt,St){try{var ye=j[Bt](St),Te=ye.value}catch(Xe){return void Pt(Xe)}ye.done?xe(Te):Promise.resolve(Te).then(Dn,Sn)}function Re(j){return function(){var xe=this,Pt=arguments;return new Promise(function(Dn,Sn){var Bt=j.apply(xe,Pt);function St(Te){O(Bt,Dn,Sn,St,ye,"next",Te)}function ye(Te){O(Bt,Dn,Sn,St,ye,"throw",Te)}St(void 0)})}}Ke.d(Gn,{Z:()=>Re})},582:(ls,Gn,Ke)=>{function xe(se,oe){var ue={};for(var me in se)Object.prototype.hasOwnProperty.call(se,me)&&oe.indexOf(me)<0&&(ue[me]=se[me]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(me=Object.getOwnPropertySymbols(se);Ee<me.length;Ee++)oe.indexOf(me[Ee])<0&&Object.prototype.propertyIsEnumerable.call(se,me[Ee])&&(ue[me[Ee]]=se[me[Ee]])}return ue}function Xe(se,oe,ue,me){return new(ue||(ue=Promise))(function(ce,Oe){function Lt(Ut){try{Ye(me.next(Ut))}catch(yn){Oe(yn)}}function De(Ut){try{Ye(me.throw(Ut))}catch(yn){Oe(yn)}}function Ye(Ut){Ut.done?ce(Ut.value):function Ee(ce){return ce instanceof ue?ce:new ue(function(Oe){Oe(ce)})}(Ut.value).then(Lt,De)}Ye((me=me.apply(se,oe||[])).next())})}function Kt(se){return this instanceof Kt?(this.v=se,this):new Kt(se)}function Zt(se,oe,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,me=ue.apply(se,oe||[]),ce=[];return Ee={},Oe("next"),Oe("throw"),Oe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Oe(fn){me[fn]&&(Ee[fn]=function(In){return new Promise(function(Rn,Yt){ce.push([fn,In,Rn,Yt])>1||Lt(fn,In)})})}function Lt(fn,In){try{!function De(fn){fn.value instanceof Kt?Promise.resolve(fn.value.v).then(Ye,Ut):yn(ce[0][2],fn)}(me[fn](In))}catch(Rn){yn(ce[0][3],Rn)}}function Ye(fn){Lt("next",fn)}function Ut(fn){Lt("throw",fn)}function yn(fn,In){fn(In),ce.shift(),ce.length&&Lt(ce[0][0],ce[0][1])}}function Ot(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,oe=se[Symbol.asyncIterator];return oe?oe.call(se):(se=function xt(se){var oe="function"==typeof Symbol&&Symbol.iterator,ue=oe&&se[oe],me=0;if(ue)return ue.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&me>=se.length&&(se=void 0),{value:se&&se[me++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ue={},me("next"),me("throw"),me("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function me(ce){ue[ce]=se[ce]&&function(Oe){return new Promise(function(Lt,De){!function Ee(ce,Oe,Lt,De){Promise.resolve(De).then(function(Ye){ce({value:Ye,done:Lt})},Oe)}(Lt,De,(Oe=se[ce](Oe)).done,Oe.value)})}}}Ke.d(Gn,{FC:()=>Zt,KL:()=>Ot,_T:()=>xe,mG:()=>Xe,qq:()=>Kt}),"function"==typeof SuppressedError&&SuppressedError}},ls=>{ls(ls.s=713)}]);