"use strict";(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(Jt,Ke,U)=>{U.d(Ke,{$:()=>Xs,A:()=>se,G:()=>rt,K:()=>Is,L:()=>es,N:()=>Si,P:()=>$m,R:()=>Xo,U:()=>sn,V:()=>qo,W:()=>$i,X:()=>Ya,Y:()=>Ps,Z:()=>ui,_:()=>is,a:()=>Nt,a0:()=>F,a1:()=>Fc,a2:()=>eo,a3:()=>dd,a4:()=>hu,a5:()=>Vc,a6:()=>nc,a7:()=>Wo,a8:()=>rc,a9:()=>Uc,aA:()=>dn,aB:()=>it,aC:()=>ve,aD:()=>bu,aE:()=>bt,aF:()=>Xt,aG:()=>Bh,aH:()=>Yf,aI:()=>uc,aJ:()=>rr,aN:()=>oc,aQ:()=>Fi,aa:()=>Mh,ab:()=>hd,ac:()=>Na,ad:()=>bl,ae:()=>ka,af:()=>P,ag:()=>j,ah:()=>Te,ak:()=>Rr,al:()=>Br,am:()=>pr,ap:()=>Zi,aq:()=>Qo,as:()=>pd,at:()=>Rh,au:()=>an,av:()=>cr,aw:()=>Ut,ax:()=>Fe,ay:()=>Ua,az:()=>fn,b:()=>ko,c:()=>mg,d:()=>zm,e:()=>Ml,f:()=>na,g:()=>Qf,h:()=>Eu,i:()=>qr,j:()=>Jf,k:()=>zh,l:()=>ea,m:()=>Pd,p:()=>De,r:()=>Kf,s:()=>kh,u:()=>Dl});var g=U(5861),l=U(534),G=U(9058),Ie=U(7879),_e=U(7582),Ae=U(4537);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rt=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},mt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ie.Yd("@firebase/auth");function qe(C,..._){Et.logLevel<=Ie.in.ERROR&&Et.error(`Auth (${l.SDK_VERSION}): ${C}`,..._)}function Fe(C,..._){throw kt(C,..._)}function it(C,..._){return kt(C,..._)}function ze(C,_,v){const M=Object.assign(Object.assign({},mt()),{[_]:v});return new G.LL("auth","Firebase",M).create(_,{appName:C.name})}function ct(C){return ze(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function At(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Fe(C,"argument-error"),ze(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(C,..._){if("string"!=typeof C){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return ft.create(C,..._)}function ve(C,_,...v){if(!C)throw kt(_,...v)}function jt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw qe(_),new Error(_)}function an(C,_){C||jt(_)}function hr(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Rt(){return"http:"===qt()||"https:"===qt()}function qt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Re{constructor(_,v){this.shortDelay=_,this.longDelay=v,an(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(C,_){an(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class ke{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Re(3e4,6e4);function ut(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function It(C,_,v,M){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(C,_,v,M,Y={}){return $t(C,Y,(0,g.Z)(function*(){let ue={},Ue={};M&&("GET"===_?Ue=M:ue={body:JSON.stringify(M)});const dt=(0,G.xO)(Object.assign({key:C.config.apiKey},Ue)).slice(1),Ft=yield C._getAdditionalHeaders();return Ft["Content-Type"]="application/json",C.languageCode&&(Ft["X-Firebase-Locale"]=C.languageCode),ke.fetch()(Cn(C,C.config.apiHost,v,dt),Object.assign({method:_,headers:Ft,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function $t(C,_,v){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Je),_);try{const Y=new Wt(C),ue=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const Ue=yield ue.json();if("needConfirmation"in Ue)throw Dn(C,"account-exists-with-different-credential",Ue);if(ue.ok&&!("errorMessage"in Ue))return Ue;{const dt=ue.ok?Ue.errorMessage:Ue.error.message,[Ft,vn]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Dn(C,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Ft)throw Dn(C,"email-already-in-use",Ue);if("USER_DISABLED"===Ft)throw Dn(C,"user-disabled",Ue);const jn=M[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw ze(C,jn,vn);Fe(C,jn)}}catch(Y){if(Y instanceof G.ZR)throw Y;Fe(C,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function gn(C,_,v,M){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(C,_,v,M,Y={}){const ue=yield It(C,_,v,M,Y);return"mfaPendingCredential"in ue&&Fe(C,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Cn(C,_,v,M){const Y=`${_}${v}?${M}`;return C.config.emulator?fe(C.config,Y):`${C.config.apiScheme}://${Y}`}function Mn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(it(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(C,_,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Y=it(C,_,M);return Y.customData._tokenResponse=v,Y}function ar(C){return void 0!==C&&void 0!==C.getResponse}function Gn(C){return void 0!==C&&void 0!==C.enterprise}class Lt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Mn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function In(){return(In=(0,g.Z)(function*(C){return(yield It(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dr(C,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(C,_){return It(C,"GET","/v2/recaptchaConfig",ut(C,_))})).apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function vr(C,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Fn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function fi(){return(fi=(0,g.Z)(function*(C,_=!1){const v=(0,G.m9)(C),M=yield v.getIdToken(_),Y=pi(M);ve(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const ue="object"==typeof Y.firebase?Y.firebase:void 0,Ue=ue?.sign_in_provider;return{claims:Y,token:M,authTime:Fn(rn(Y.auth_time)),issuedAtTime:Fn(rn(Y.iat)),expirationTime:Fn(rn(Y.exp)),signInProvider:Ue||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(C){return 1e3*Number(C)}function pi(C){const[_,v,M]=C.split(".");if(void 0===_||void 0===v||void 0===M)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,G.tV)(v);return Y?JSON.parse(Y):(qe("Failed to decode base64 JWT payload"),null)}catch(Y){return qe("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function nr(C){const _=pi(C);return ve(_,"internal-error"),ve(typeof _.exp<"u","internal-error"),ve(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Sr(C,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof G.ZR&&function Jr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class He{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class vt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ae(C){return be.apply(this,arguments)}function be(){return(be=(0,g.Z)(function*(C){var _;const v=C.auth,M=yield C.getIdToken(),Y=yield Sr(C,vr(v,{idToken:M}));ve(Y?.users.length,v,"internal-error");const ue=Y.users[0];C._notifyReloadListener(ue);const Ue=null!==(_=ue.providerUserInfo)&&void 0!==_&&_.length?ci(ue.providerUserInfo):[],dt=function Nn(C,_){return[...C.filter(M=>!_.some(Y=>Y.providerId===M.providerId)),..._]}(C.providerData,Ue),jn=!!C.isAnonymous&&!(C.email&&ue.passwordHash||dt?.length),dr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:dt,metadata:new vt(ue.createdAt,ue.lastLoginAt),isAnonymous:jn};Object.assign(C,dr)})).apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(C){const _=(0,G.m9)(C);yield ae(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ci(C){return C.map(_=>{var{providerId:v}=_,M=(0,_e._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function xe(){return(xe=(0,g.Z)(function*(C,_){const v=yield $t(C,{},(0,g.Z)(function*(){const M=(0,G.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Y,apiKey:ue}=C.config,Ue=Cn(C,Y,"/v1/token",`key=${ue}`),dt=yield C._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ue,{method:"POST",headers:dt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function q(){return(q=(0,g.Z)(function*(C,_){return It(C,"POST","/v2/accounts:revokeToken",ut(C,_))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ve(_.idToken,"internal-error"),ve(typeof _.idToken<"u","internal-error"),ve(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):nr(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){ve(0!==_.length,"internal-error");const v=nr(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var M=this;return(0,g.Z)(function*(){return v||!M.accessToken||M.isExpired?(ve(M.refreshToken,_,"user-token-expired"),M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,g.Z)(function*(){const{accessToken:Y,refreshToken:ue,expiresIn:Ue}=yield function Ir(C,_){return xe.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(Y,ue,Number(Ue))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:Y,expirationTime:ue}=v,Ue=new H;return M&&(ve("string"==typeof M,"internal-error",{appName:_}),Ue.refreshToken=M),Y&&(ve("string"==typeof Y,"internal-error",{appName:_}),Ue.accessToken=Y),ue&&(ve("number"==typeof ue,"internal-error",{appName:_}),Ue.expirationTime=ue),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return jt("not implemented")}}function B(C,_){ve("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class pe{constructor(_){var{uid:v,auth:M,stsTokenManager:Y}=_,ue=(0,_e._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new He(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new vt(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const M=yield Sr(v,v.stsTokenManager.getToken(v.auth,_));return ve(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function Hr(C){return fi.apply(this,arguments)}(this,_)}reload(){return function yt(C){return zt.apply(this,arguments)}(this)}_assign(_){this!==_&&(ve(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,g.Z)(function*(){let Y=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),Y=!0),v&&(yield ae(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,g.Z)(function*(){if((0,l._isFirebaseServerApp)(_.auth.app))return Promise.reject(ct(_.auth));const v=yield _.getIdToken();return yield Sr(_,function Vt(C,_){return Tn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,Y,ue,Ue,dt,Ft,vn,jn;const dr=null!==(M=v.displayName)&&void 0!==M?M:void 0,ao=null!==(Y=v.email)&&void 0!==Y?Y:void 0,Eo=null!==(ue=v.phoneNumber)&&void 0!==ue?ue:void 0,ja=null!==(Ue=v.photoURL)&&void 0!==Ue?Ue:void 0,Bl=null!==(dt=v.tenantId)&&void 0!==dt?dt:void 0,ya=null!==(Ft=v._redirectEventId)&&void 0!==Ft?Ft:void 0,qh=null!==(vn=v.createdAt)&&void 0!==vn?vn:void 0,tl=null!==(jn=v.lastLoginAt)&&void 0!==jn?jn:void 0,{uid:nl,emailVerified:Zh,isAnonymous:ip,providerData:Od,stsTokenManager:Wh}=v;ve(nl&&Wh,_,"internal-error");const vc=H.fromJSON(this.name,Wh);ve("string"==typeof nl,_,"internal-error"),B(dr,_.name),B(ao,_.name),ve("boolean"==typeof Zh,_,"internal-error"),ve("boolean"==typeof ip,_,"internal-error"),B(Eo,_.name),B(ja,_.name),B(Bl,_.name),B(ya,_.name),B(qh,_.name),B(tl,_.name);const rl=new pe({uid:nl,auth:_,email:ao,emailVerified:Zh,displayName:dr,isAnonymous:ip,photoURL:ja,phoneNumber:Eo,tenantId:Bl,stsTokenManager:vc,createdAt:qh,lastLoginAt:tl});return Od&&Array.isArray(Od)&&(rl.providerData=Od.map(Ns=>Object.assign({},Ns))),ya&&(rl._redirectEventId=ya),rl}static _fromIdTokenResponse(_,v,M=!1){return(0,g.Z)(function*(){const Y=new H;Y.updateFromServerResponse(v);const ue=new pe({uid:v.localId,auth:_,stsTokenManager:Y,isAnonymous:M});return yield ae(ue),ue})()}static _fromGetAccountInfoResponse(_,v,M){return(0,g.Z)(function*(){const Y=v.users[0];ve(void 0!==Y.localId,"internal-error");const ue=void 0!==Y.providerUserInfo?ci(Y.providerUserInfo):[],Ue=!(Y.email&&Y.passwordHash||ue?.length),dt=new H;dt.updateFromIdToken(M);const Ft=new pe({uid:Y.localId,auth:_,stsTokenManager:dt,isAnonymous:Ue}),vn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ue,metadata:new vt(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||ue?.length)};return Object.assign(Ft,vn),Ft})()}}const Be=new Map;function bt(C){an(C instanceof Function,"Expected a class definition");let _=Be.get(C);return _?(an(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Be.set(C,_),_)}const sn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){Y.storage[v]=M})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=M.storage[v];return void 0===Y?null:Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function Xt(C,_,v){return`firebase:${C}:${_}:${v}`}class ln{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:Y,name:ue}=this.auth;this.fullUserKey=Xt(this.userKey,Y.apiKey,ue),this.fullPersistenceKey=Xt("persistence",Y.apiKey,ue),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?pe._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,g.Z)(function*(){if(!v.length)return new ln(bt(sn),_,M);const Y=(yield Promise.all(v.map(function(){var vn=(0,g.Z)(function*(jn){if(yield jn._isAvailable())return jn});return function(jn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ue=Y[0]||bt(sn);const Ue=Xt(M,_.config.apiKey,_.name);let dt=null;for(const vn of v)try{const jn=yield vn._get(Ue);if(jn){const dr=pe._fromJSON(_,jn);vn!==ue&&(dt=dr),ue=vn;break}}catch{}const Ft=Y.filter(vn=>vn._shouldAllowMigration);return ue._shouldAllowMigration&&Ft.length?(ue=Ft[0],dt&&(yield ue._set(Ue,dt.toJSON())),yield Promise.all(v.map(function(){var vn=(0,g.Z)(function*(jn){if(jn!==ue)try{yield jn._remove(Ue)}catch{}});return function(jn){return vn.apply(this,arguments)}}())),new ln(ue,_,M)):new ln(ue,_,M)})()}}function Zn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(St(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Oe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(un(_))return"Blackberry";if(Qt(_))return"Webos";if(we(_))return"Safari";if((_.includes("chrome/")||Ve(_))&&!_.includes("edge/"))return"Chrome";if(Ut(_))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Oe(C=(0,G.z$)()){return/firefox\//i.test(C)}function we(C=(0,G.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Ve(C=(0,G.z$)()){return/crios\//i.test(C)}function St(C=(0,G.z$)()){return/iemobile/i.test(C)}function Ut(C=(0,G.z$)()){return/android/i.test(C)}function un(C=(0,G.z$)()){return/blackberry/i.test(C)}function Qt(C=(0,G.z$)()){return/webos/i.test(C)}function cr(C=(0,G.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function dn(C=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Tt(C=(0,G.z$)()){return cr(C)||Ut(C)||Qt(C)||un(C)||/windows phone/i.test(C)||St(C)}function wn(C,_=[]){let v;switch(C){case"Browser":v=Zn((0,G.z$)());break;case"Worker":v=`${Zn((0,G.z$)())}-${C}`;break;default:v=C}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${l.SDK_VERSION}/${M}`}class Sn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const M=ue=>new Promise((Ue,dt)=>{try{Ue(_(ue))}catch(Ft){dt(Ft)}});M.onAbort=v,this.queue.push(M);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===_)return;const M=[];try{for(const Y of v.queue)yield Y(_),Y.onAbort&&M.push(Y.onAbort)}catch(Y){M.reverse();for(const ue of M)try{ue()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Ln(){return(Ln=(0,g.Z)(function*(C,_={}){return It(C,"GET","/v2/passwordPolicy",ut(C,_))})).apply(this,arguments)}class Ai{constructor(_){var v,M,Y,ue;const Ue=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ue.minPasswordLength)&&void 0!==v?v:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(M=_.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(ue=_.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,M,Y,ue,Ue,dt;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Ft),this.validatePasswordCharacterOptions(_,Ft),Ft.isValid&&(Ft.isValid=null===(v=Ft.meetsMinPasswordLength)||void 0===v||v),Ft.isValid&&(Ft.isValid=null===(M=Ft.meetsMaxPasswordLength)||void 0===M||M),Ft.isValid&&(Ft.isValid=null===(Y=Ft.containsLowercaseLetter)||void 0===Y||Y),Ft.isValid&&(Ft.isValid=null===(ue=Ft.containsUppercaseLetter)||void 0===ue||ue),Ft.isValid&&(Ft.isValid=null===(Ue=Ft.containsNumericCharacter)||void 0===Ue||Ue),Ft.isValid&&(Ft.isValid=null===(dt=Ft.containsNonAlphanumericCharacter)||void 0===dt||dt),Ft}validatePasswordLengthOptions(_,v){const M=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=_.length>=M),Y&&(v.meetsMaxPasswordLength=_.length<=Y)}validatePasswordCharacterOptions(_,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<_.length;Y++)M=_.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(_,v,M,Y,ue){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ue))}}class Wr{constructor(_,v,M,Y){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=bt(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Y,ue;if(!M._deleted&&(M.persistenceManager=yield ln.create(M,_),!M._deleted)){if(null!==(Y=M._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(ue=M.currentUser)||void 0===ue?void 0:ue.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,g.Z)(function*(){try{const M=yield vr(v,{idToken:_}),Y=yield pe._fromGetAccountInfoResponse(v,M,_);yield v.directlySetCurrentUser(Y)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var M;if((0,l._isFirebaseServerApp)(v.app)){const dt=v.app.settings.authIdToken;return dt?new Promise(Ft=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(dt).then(Ft,Ft))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let ue=Y,Ue=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const dt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Ft=ue?._redirectEventId,vn=yield v.tryRedirectSignIn(_);(!dt||dt===Ft)&&vn?.user&&(ue=vn.user,Ue=!0)}if(!ue)return v.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ue)try{yield v.beforeStateQueue.runMiddleware(ue)}catch(dt){ue=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(dt))}return ue?v.reloadAndSetCurrentUserOrClear(ue):v.directlySetCurrentUser(null)}return ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ue._redirectEventId?v.directlySetCurrentUser(ue):v.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield ae(_)}catch(M){if("auth/network-request-failed"!==M?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if((0,l._isFirebaseServerApp)(v.app))return Promise.reject(ct(v));const M=_?(0,G.m9)(_):null;return M&&ve(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_,v=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return _&&ve(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(0,l._isFirebaseServerApp)(_.app)?Promise.reject(ct(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,l._isFirebaseServerApp)(this.app)?Promise.reject(ct(this)):this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(bt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,g.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,g.Z)(function*(){const v=yield function yn(C){return Ln.apply(this,arguments)}(_),M=new Ai(v);null===_.tenantId?_._projectPasswordPolicy=M:_._tenantPasswordPolicies[_.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new G.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const M=this.onAuthStateChanged(()=>{M(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,g.Z)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:M};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function re(C,_){return q.apply(this,arguments)}(v,Y)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,g.Z)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(v);return null===_?Y.removeCurrentUser():Y.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&bt(_)||v._popupRedirectResolver;ve(M,v,"argument-error"),v.redirectPersistenceManager=yield ln.create(v,[bt(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var M,Y;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,Y){if(this._deleted)return()=>{};const ue="function"==typeof v?v:v.next.bind(v);let Ue=!1;const dt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(dt,this,"internal-error"),dt.then(()=>{Ue||ue(this.currentUser)}),"function"==typeof v){const Ft=_.addObserver(v,M,Y);return()=>{Ue=!0,Ft()}}{const Ft=_.addObserver(v);return()=>{Ue=!0,Ft()}}}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,g.Z)(function*(){var v;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const Y=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(M["X-Firebase-Client"]=Y);const ue=yield _._getAppCheckToken();return ue&&(M["X-Firebase-AppCheck"]=ue),M})()}_getAppCheckToken(){var _=this;return(0,g.Z)(function*(){var v;const M=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return M?.error&&function nn(C,..._){Et.logLevel<=Ie.in.WARN&&Et.warn(`Auth (${l.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function rr(C){return(0,G.m9)(C)}class Ii{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cs={loadJS:()=>(0,g.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vr(C){return cs.loadJS(C)}function xc(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Pi{constructor(_){this.type="recaptcha-enterprise",this.auth=rr(_)}verify(_="verify",v=!1){var M=this;return(0,g.Z)(function*(){function ue(){return ue=(0,g.Z)(function*(dt){if(!v){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var Ft=(0,g.Z)(function*(vn,jn){Dr(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dr=>{if(void 0!==dr.recaptchaKey){const ao=new Lt(dr);return null==dt.tenantId?dt._agentRecaptchaConfig=ao:dt._tenantRecaptchaConfigs[dt.tenantId]=ao,vn(ao.siteKey)}jn(new Error("recaptcha Enterprise site key undefined"))}).catch(dr=>{jn(dr)})});return function(vn,jn){return Ft.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Ue(dt,Ft,vn){const jn=window.grecaptcha;Gn(jn)?jn.enterprise.ready(()=>{jn.enterprise.execute(dt,{action:_}).then(dr=>{Ft(dr)}).catch(()=>{Ft("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,Ft)=>{(function Y(dt){return ue.apply(this,arguments)})(M.auth).then(vn=>{if(!v&&Gn(window.grecaptcha))Ue(vn,dt,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));let jn=function ls(){return cs.recaptchaEnterpriseScript}();0!==jn.length&&(jn+=vn),Vr(jn).then(()=>{Ue(vn,dt,Ft)}).catch(dr=>{Ft(dr)})}}).catch(vn=>{Ft(vn)})})})()}}function $r(C,_,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,g.Z)(function*(C,_,v,M=!1){const Y=new Pi(C);let ue;try{ue=yield Y.verify(v)}catch{ue=yield Y.verify(v,!0)}const Ue=Object.assign({},_);return Object.assign(Ue,M?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function Us(C,_,v,M){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,g.Z)(function*(C,_,v,M){var Y;if(null!==(Y=C._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield $r(C,_,v,"getOobCode"===v);return M(C,ue)}return M(C,_).catch(function(){var ue=(0,g.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const dt=yield $r(C,_,v,"getOobCode"===v);return M(C,dt)}return Promise.reject(Ue)});return function(Ue){return ue.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function Is(C,_,v){const M=rr(C);ve(M._canInitEmulator,M,"emulator-config-failed"),ve(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,ue=gi(_),{host:Ue,port:dt}=function Ts(C){const _=gi(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const ue=Y[1];return{host:ue,port:Ys(M.substr(ue.length+1))}}{const[ue,Ue]=M.split(":");return{host:ue,port:Ys(Ue)}}}(_);M.config.emulator={url:`${ue}//${Ue}${null===dt?"":`:${dt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ue,port:dt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function So(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function gi(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Ys(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class es{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return jt("not implemented")}_getIdTokenResponse(_){return jt("not implemented")}_linkToIdToken(_,v){return jt("not implemented")}_getReauthenticationResolver(_){return jt("not implemented")}}function $o(C,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:resetPassword",ut(C,_))})).apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ji(C,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",ut(C,_))})).apply(this,arguments)}function zo(C,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPassword",ut(C,_))})).apply(this,arguments)}function Bs(C,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:sendOobCode",ut(C,_))})).apply(this,arguments)}function qn(){return(qn=(0,g.Z)(function*(C,_){return Bs(C,_)})).apply(this,arguments)}function Mr(C,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,g.Z)(function*(C,_){return Bs(C,_)})).apply(this,arguments)}function Qs(C,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(C,_){return Bs(C,_)})).apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(C,_){return Bs(C,_)})).apply(this,arguments)}function mo(){return(mo=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",ut(C,_))})).apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithEmailLink",ut(C,_))})).apply(this,arguments)}class kr extends es{constructor(_,v,M,Y=null){super("password",M),this._email=_,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(_,v){return new kr(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new kr(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return Us(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zo);case"emailLink":return function ds(C,_){return mo.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Fe(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return Us(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ji);case"emailLink":return function Wn(C,_){return hs.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:Fe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ni(C,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithIdp",ut(C,_))})).apply(this,arguments)}class Si extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Si(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Fe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y}=v,ue=(0,_e._T)(v,["providerId","signInMethod"]);if(!M||!Y)return null;const Ue=new Si(M,Y);return Ue.idToken=ue.idToken||void 0,Ue.accessToken=ue.accessToken||void 0,Ue.secret=ue.secret,Ue.nonce=ue.nonce,Ue.pendingToken=ue.pendingToken||null,Ue}_getIdTokenResponse(_){return Ni(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Ni(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ni(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,G.xO)(v)}return _}}function Ms(){return(Ms=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:sendVerificationCode",ut(C,_))})).apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,_))})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(C,_){const v=yield gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,_));if(v.temporaryProof)throw Dn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const _o={USER_NOT_FOUND:"user-not-found"};function Sa(){return(Sa=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",ut(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),_o)})).apply(this,arguments)}class rs extends es{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new rs({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new rs({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Nc(C,_){return js.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Xn(C,_){return fr.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function lr(C,_){return Sa.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:Y}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:Y}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}=_;return M||v||Y||ue?new rs({verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:ue}):null}}class Cs{constructor(_){var v,M,Y,ue,Ue,dt;const Ft=(0,G.zd)((0,G.pd)(_)),vn=null!==(v=Ft.apiKey)&&void 0!==v?v:null,jn=null!==(M=Ft.oobCode)&&void 0!==M?M:null,dr=function ki(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Ft.mode)&&void 0!==Y?Y:null);ve(vn&&jn&&dr,"argument-error"),this.apiKey=vn,this.operation=dr,this.code=jn,this.continueUrl=null!==(ue=Ft.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ue=Ft.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(dt=Ft.tenantId)&&void 0!==dt?dt:null}static parseLink(_){const v=function bs(C){const _=(0,G.zd)((0,G.pd)(C)).link,v=_?(0,G.zd)((0,G.pd)(_)).deep_link_id:null,M=(0,G.zd)((0,G.pd)(C)).deep_link_id;return(M?(0,G.zd)((0,G.pd)(M)).link:null)||M||v||_||C}(_);try{return new Cs(v)}catch{return null}}}let qo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return kr._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Y=Cs.parseLink(M);return ve(Y,"argument-error"),kr._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class li{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ma extends li{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ui extends Ma{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ve("providerId"in v&&"signInMethod"in v,"argument-error"),Si._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ve(_.idToken||_.accessToken,"argument-error"),Si._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ui.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ui.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:ue,nonce:Ue,providerId:dt}=_;if(!M&&!Y&&!v&&!ue||!dt)return null;try{return new ui(dt)._credential({idToken:v,accessToken:M,nonce:Ue,pendingToken:ue})}catch{return null}}}let $i=(()=>{class C extends Ma{constructor(){super("facebook.com")}static credential(v){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Ya=(()=>{class C extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Y}=v;if(!M&&!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ps=(()=>{class C extends Ma{constructor(){super("github.com")}static credential(v){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Fi extends es{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Ni(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,Ni(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ni(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:Y,pendingToken:ue}=v;return M&&Y&&ue&&M===Y?new Fi(M,ue):null}static _create(_,v){return new Fi(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class is extends li{constructor(_){ve(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return is.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return is.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Fi.fromJSON(_);return ve(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:M}=_;if(!v||!M)return null;try{return Fi._create(M,v)}catch{return null}}}let Xs=(()=>{class C extends Ma{constructor(){super("twitter.com")}static credential(v,M){return Si._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=v;if(!M||!Y)return null;try{return C.credential(M,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Qa(C,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signUp",ut(C,_))})).apply(this,arguments)}class W{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,Y=!1){return(0,g.Z)(function*(){const ue=yield pe._fromIdTokenResponse(_,M,Y),Ue=X(M);return new W({user:ue,providerId:Ue,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const Y=X(M);return new W({user:_,providerId:Y,_tokenResponse:M,operationType:v})})()}}function X(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function F(C){return le.apply(this,arguments)}function le(){return(le=(0,g.Z)(function*(C){var _;if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=rr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new W({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield Qa(v,{returnSecureToken:!0}),Y=yield W._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ce extends G.ZR{constructor(_,v,M,Y){var ue;super(v.code,v.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,Ce.prototype),this.customData={appName:_.name,tenantId:null!==(ue=_.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,v,M,Y){return new Ce(_,v,M,Y)}}function bn(C,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Ce._fromErrorAndOperation(C,ue,_,M):ue})}function ur(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Zi(C,_){return ri.apply(this,arguments)}function ri(){return ri=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);yield Ja(!0,v,_);const{providerUserInfo:M}=yield function xn(C,_){return On.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Y=ur(M||[]);return v.providerData=v.providerData.filter(ue=>Y.has(ue.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ri.apply(this,arguments)}function Pa(C,_){return Il.apply(this,arguments)}function Il(){return(Il=(0,g.Z)(function*(C,_,v=!1){const M=yield Sr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return W._forOperation(C,"link",M)})).apply(this,arguments)}function Ja(C,_,v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,g.Z)(function*(C,_,v){yield ae(_);const Y=!1===C?"provider-already-linked":"no-such-provider";ve(ur(_.providerData).has(v)===C,_.auth,Y)})).apply(this,arguments)}function Ra(C,_){return kc.apply(this,arguments)}function kc(){return(kc=(0,g.Z)(function*(C,_,v=!1){const{auth:M}=C;if((0,l._isFirebaseServerApp)(M.app))return Promise.reject(ct(M));const Y="reauthenticate";try{const ue=yield Sr(C,bn(M,Y,_,C),v);ve(ue.idToken,M,"internal-error");const Ue=pi(ue.idToken);ve(Ue,M,"internal-error");const{sub:dt}=Ue;return ve(C.uid===dt,M,"user-mismatch"),W._forOperation(C,Y,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Fe(M,"user-mismatch"),ue}})).apply(this,arguments)}function ec(C,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,g.Z)(function*(C,_,v=!1){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M="signIn",Y=yield bn(C,M,_),ue=yield W._fromIdTokenResponse(C,M,Y);return v||(yield C._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Fc(C,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(C,_){return ec(rr(C),_)})).apply(this,arguments)}function eo(C,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);return yield Ja(!1,v,_.providerId),Pa(v,_)})).apply(this,arguments)}function dd(C,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(C,_){return Ra((0,G.m9)(C),_)})).apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(C,_){return gn(C,"POST","/v1/accounts:signInWithCustomToken",ut(C,_))})).apply(this,arguments)}function hu(C,_){return $s.apply(this,arguments)}function $s(){return $s=(0,g.Z)(function*(C,_){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=rr(C),M=yield function la(C,_){return Li.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Y=yield W._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Y.user),Y}),$s.apply(this,arguments)}class to{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?no._fromServerResponse(_,v):"totpInfo"in v?Mo._fromServerResponse(_,v):Fe(_,"internal-error")}}class no extends to{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new no(v)}}class Mo extends to{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new Mo(v)}}function xa(C,_,v){var M;ve((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ve(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ve(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ve(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function sr(C){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,g.Z)(function*(C){const _=rr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Vc(C,_,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,g.Z)(function*(C,_,v){const M=rr(C),Y={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&xa(M,Y,v),yield Us(M,Y,"getOobCode",Mr)})).apply(this,arguments)}function nc(C,_,v){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,g.Z)(function*(C,_,v){yield $o((0,G.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&sr(C),Y});return function(Y){return M.apply(this,arguments)}}())}),Oa.apply(this,arguments)}function Wo(C,_){return Po.apply(this,arguments)}function Po(){return Po=(0,g.Z)(function*(C,_){yield function ts(C,_){return Hi.apply(this,arguments)}((0,G.m9)(C),{oobCode:_})}),Po.apply(this,arguments)}function rc(C,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C),M=yield $o(v,{oobCode:_}),Y=M.requestType;switch(ve(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(M.mfaInfo,v,"internal-error");default:ve(M.email,v,"internal-error")}let ue=null;return M.mfaInfo&&(ue=to._fromServerResponse(rr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:ue},operation:Y}})).apply(this,arguments)}function Uc(C,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(C,_){const{data:v}=yield rc((0,G.m9)(C),_);return v.email})).apply(this,arguments)}function Mh(C,_,v){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(C,_,v){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=rr(C),Ue=yield Us(M,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qa).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&sr(C),Ft}),dt=yield W._fromIdTokenResponse(M,"signIn",Ue);return yield M._updateCurrentUser(dt.user),dt})).apply(this,arguments)}function hd(C,_,v){return(0,l._isFirebaseServerApp)(C.app)?Promise.reject(ct(C)):Fc((0,G.m9)(C),qo.credential(_,v)).catch(function(){var M=(0,g.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&sr(C),Y});return function(Y){return M.apply(this,arguments)}}())}function Na(C,_,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(C,_,v){const M=rr(C),Y={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function ue(Ue,dt){ve(dt.handleCodeInApp,M,"argument-error"),dt&&xa(M,Ue,dt)})(Y,v),yield Us(M,Y,"getOobCode",Qs)})).apply(this,arguments)}function bl(C,_){const v=Cs.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function ka(C,_,v){return fd.apply(this,arguments)}function fd(){return(fd=(0,g.Z)(function*(C,_,v){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=(0,G.m9)(C),Y=qo.credentialWithLink(_,v||hr());return ve(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Fc(M,Y)})).apply(this,arguments)}function ei(){return(ei=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:createAuthUri",ut(C,_))})).apply(this,arguments)}function P(C,_){return ne.apply(this,arguments)}function ne(){return ne=(0,g.Z)(function*(C,_){const M={identifier:_,continueUri:Rt()?hr():"http://localhost"},{signinMethods:Y}=yield function Bc(C,_){return ei.apply(this,arguments)}((0,G.m9)(C),M);return Y||[]}),ne.apply(this,arguments)}function j(C,_){return J.apply(this,arguments)}function J(){return J=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&xa(v.auth,Y,_);const{email:ue}=yield function on(C,_){return qn.apply(this,arguments)}(v.auth,Y);ue!==C.email&&(yield C.reload())}),J.apply(this,arguments)}function Te(C,_,v){return _t.apply(this,arguments)}function _t(){return _t=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&xa(M.auth,ue,v);const{email:Ue}=yield function us(C,_){return Ar.apply(this,arguments)}(M.auth,ue);Ue!==C.email&&(yield C.reload())}),_t.apply(this,arguments)}function _n(){return(_n=(0,g.Z)(function*(C,_){return It(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Rr(C,_){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,G.m9)(C),ue={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Ue=yield Sr(M,function Mt(C,_){return _n.apply(this,arguments)}(M.auth,ue));M.displayName=Ue.displayName||null,M.photoURL=Ue.photoUrl||null;const dt=M.providerData.find(({providerId:Ft})=>"password"===Ft);dt&&(dt.displayName=M.displayName,dt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ue)}),Gr.apply(this,arguments)}function Br(C,_){const v=(0,G.m9)(C);return(0,l._isFirebaseServerApp)(v.auth.app)?Promise.reject(ct(v.auth)):Yr(v,_,null)}function pr(C,_){return Yr((0,G.m9)(C),null,_)}function Yr(C,_,v){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,g.Z)(function*(C,_,v){const{auth:M}=C,ue={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(ue.email=_),v&&(ue.password=v);const Ue=yield Sr(C,function Ur(C,_){return ni.apply(this,arguments)}(M,ue));yield C._updateTokensIfNecessary(Ue,!0)}),Fr.apply(this,arguments)}class ss{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class Ki extends ss{constructor(_,v,M,Y){super(_,v,M),this.username=Y}}class Yo extends ss{constructor(_,v){super(_,"facebook.com",v)}}class Rs extends Ki{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class ii extends ss{constructor(_,v){super(_,"google.com",v)}}class Jn extends Ki{constructor(_,v,M){super(_,"twitter.com",v,M)}}function Qo(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ri(C){var _,v;if(!C)return null;const{providerId:M}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ue=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Ue=null===(v=null===(_=pi(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ue)return new ss(ue,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!M)return null;switch(M){case"facebook.com":return new Yo(ue,Y);case"github.com":return new Rs(ue,Y);case"google.com":return new ii(ue,Y);case"twitter.com":return new Jn(ue,Y,C.screenName||null);case"custom":case"anonymous":return new ss(ue,null);default:return new ss(ue,M,Y)}}(v)}class Oo{constructor(_,v,M){this.type=_,this.credential=v,this.user=M}static _fromIdtoken(_,v){return new Oo("enroll",_,v)}static _fromMfaPendingCredential(_){return new Oo("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Oo._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return Oo._fromIdtoken(_.multiFactorSession.idToken)}return null}}class No{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=rr(_),Y=v.customData._serverResponse,ue=(Y.mfaInfo||[]).map(dt=>to._fromServerResponse(M,dt));ve(Y.mfaPendingCredential,M,"internal-error");const Ue=Oo._fromMfaPendingCredential(Y.mfaPendingCredential);return new No(Ue,ue,function(){var dt=(0,g.Z)(function*(Ft){const vn=yield Ft._process(M,Ue);delete Y.mfaInfo,delete Y.mfaPendingCredential;const jn=Object.assign(Object.assign({},Y),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(v.operationType){case"signIn":const dr=yield W._fromIdTokenResponse(M,v.operationType,jn);return yield M._updateCurrentUser(dr.user),dr;case"reauthenticate":return ve(v.user,M,"internal-error"),W._forOperation(v.user,v.operationType,jn);default:Fe(M,"internal-error")}});return function(Ft){return dt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function pd(C,_){var v;const M=(0,G.m9)(C),Y=_;return ve(_.customData.operationType,M,"argument-error"),ve(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),No._fromError(M,Y)}class Hc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>to._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Hc(_)}getSession(){var _=this;return(0,g.Z)(function*(){return Oo._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var M=this;return(0,g.Z)(function*(){const Y=_,ue=yield M.getSession(),Ue=yield Sr(M.user,Y._process(M.user.auth,ue,v));return yield M.user._updateTokensIfNecessary(Ue),M.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const M="string"==typeof _?_:_.uid,Y=yield v.user.getIdToken();try{const ue=yield Sr(v.user,function gd(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(C,_))}(v.user.auth,{idToken:Y,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ue})=>Ue!==M),yield v.user._updateTokensIfNecessary(ue),yield v.user.reload()}catch(ue){throw ue}})()}}const Fa=new WeakMap;function Rh(C){const _=(0,G.m9)(C);return Fa.has(_)||Fa.set(_,Hc._fromUser(_)),Fa.get(_)}const md="__sak";class Ti{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ko=(()=>{class C extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function La(){const C=(0,G.z$)();return we(C)||cr(C)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),ue=this.localCache[M];Y!==ue&&v(M,ue,Y)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((dt,Ft,vn)=>{this.notifyListeners(dt,vn)});const Y=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(Y);if(v.newValue!==dt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!M)return}const ue=()=>{const dt=this.storage.getItem(Y);!M&&this.localCache[Y]===dt||this.notifyListeners(Y,dt)},Ue=this.storage.getItem(Y);!function We(){return(0,G.w1)()&&10===document.documentMode}()||Ue===v.newValue||v.newValue===v.oldValue?ue():setTimeout(ue,10)}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Y=()=>super._set,ue=this;return(0,g.Z)(function*(){yield Y().call(ue,v,M),ue.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Y=this;return(0,g.Z)(function*(){const ue=yield M().call(Y,v);return Y.localCache[v]=JSON.stringify(ue),ue})()}_remove(v){var M=()=>super._remove,Y=this;return(0,g.Z)(function*(){yield M().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),Nt=(()=>{class C extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let yd=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(ue=>ue.isListeningto(v));if(M)return M;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,g.Z)(function*(){const Y=v,{eventId:ue,eventType:Ue,data:dt}=Y.data,Ft=M.handlersMap[Ue];if(!Ft?.size)return;Y.ports[0].postMessage({status:"ack",eventId:ue,eventType:Ue});const vn=Array.from(Ft).map(function(){var dr=(0,g.Z)(function*(ao){return ao(Y.origin,dt)});return function(ao){return dr.apply(this,arguments)}}()),jn=yield function Nr(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}(vn);Y.ports[0].postMessage({status:"done",eventId:ue,eventType:Ue,response:jn})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function oc(C="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return C+v}class os{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var Y=this;return(0,g.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ue,dt;return new Promise((Ft,vn)=>{const jn=oc("",20);ue.port1.start();const dr=setTimeout(()=>{vn(new Error("unsupported_event"))},M);dt={messageChannel:ue,onMessage(ao){const Eo=ao;if(Eo.data.eventId===jn)switch(Eo.data.status){case"ack":clearTimeout(dr),Ue=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Ft(Eo.data.response);break;default:clearTimeout(dr),clearTimeout(Ue),vn(new Error("invalid_response"))}}},Y.handlers.add(dt),ue.port1.addEventListener("message",dt.onMessage),Y.target.postMessage({eventType:_,eventId:jn,data:v},[ue.port2])}).finally(()=>{dt&&Y.removeMessageHandler(dt)})})()}}function Vi(){return window}function gs(){return typeof Vi().WorkerGlobalScope<"u"&&"function"==typeof Vi().importScripts}function ac(){return(ac=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gu="firebaseLocalStorageDb",Fo="firebaseLocalStorage",Id="fbase_key";class da{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function S(C,_){return C.transaction([Fo],_?"readwrite":"readonly").objectStore(Fo)}function w(){const C=indexedDB.open(gu,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Fo,{keyPath:Id})}catch(Y){v(Y)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Fo)?_(M):(M.close(),yield function O(){const C=indexedDB.deleteDatabase(gu);return new da(C).toPromise()}(),_(yield w()))}))})}function N(C,_,v){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(C,_,v){const M=S(C,!0).put({[Id]:_,value:v});return new da(M).toPromise()})).apply(this,arguments)}function Ee(){return(Ee=(0,g.Z)(function*(C,_){const v=S(C,!1).get(_),M=yield new da(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ht(C,_){const v=S(C,!0).delete(_);return new da(v).toPromise()}const qr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield w()),v.db})()}_withRetries(v){var M=this;return(0,g.Z)(function*(){let Y=0;for(;;)try{const ue=yield M._openDb();return yield v(ue)}catch(ue){if(Y++>3)throw ue;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return gs()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=yd._getInstance(function Ed(){return gs()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(Y,ue){return{keyProcessed:(yield v._poll()).includes(ue.key)}});return function(Y,ue){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(Y,ue){return["keyChanged"]});return function(Y,ue){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var M,Y;if(v.activeServiceWorker=yield function $c(){return ac.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new os(v.activeServiceWorker);const ue=yield v.sender._send("ping",{},800);ue&&null!==(M=ue[0])&&void 0!==M&&M.fulfilled&&null!==(Y=ue[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function vd(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield w();return yield N(v,md,"1"),yield ht(v,md),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Y=this;return(0,g.Z)(function*(){return Y._withPendingWrite((0,g.Z)(function*(){return yield Y._withRetries(ue=>N(ue,v,M)),Y.localCache[v]=M,Y.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,g.Z)(function*(){const Y=yield M._withRetries(ue=>function ce(C,_){return Ee.apply(this,arguments)}(ue,v));return M.localCache[v]=Y,Y})()}_remove(v){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(Y=>ht(Y,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const M=yield v._withRetries(Ue=>{const dt=S(Ue,!1).getAll();return new da(dt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Y=[],ue=new Set;if(0!==M.length)for(const{fbase_key:Ue,value:dt}of M)ue.add(Ue),JSON.stringify(v.localCache[Ue])!==JSON.stringify(dt)&&(v.notifyListeners(Ue,dt),Y.push(Ue));for(const Ue of Object.keys(v.localCache))v.localCache[Ue]&&!ue.has(Ue)&&(v.notifyListeners(Ue,null),Y.push(Ue));return Y})()}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const ue of Array.from(Y))ue(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),so=1e12;class mu{constructor(_){this.auth=_,this.counter=so,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new _s(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||so;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||so))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var M;return null===(M=v._widgets.get(_||so))||void 0===M||M.execute(),""})()}}class _s{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof _?document.getElementById(_):_;ve(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zc(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const di=xc("rcb"),Wf=new Re(3e4,6e4);class Al{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Vi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return ve(function _u(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&ar(Vi().grecaptcha)?Promise.resolve(Vi().grecaptcha):new Promise((M,Y)=>{const ue=Vi().setTimeout(()=>{Y(it(_,"network-request-failed"))},Wf.get());Vi()[di]=()=>{Vi().clearTimeout(ue),delete Vi()[di];const dt=Vi().grecaptcha;if(!dt||!ar(dt))return void Y(it(_,"internal-error"));const Ft=dt.render;dt.render=(vn,jn)=>{const dr=Ft(vn,jn);return this.counter++,dr},this.hostLanguage=v,M(dt)},Vr(`${function Do(){return cs.recaptchaV2Script}()}?${(0,G.xO)({onload:di,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ue),Y(it(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Vi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yu{load(_){return(0,g.Z)(function*(){return new mu(_)})()}clearedOneInstance(){}}const ha="recaptcha",Oh={theme:"light",type:"image"};class Xo{constructor(_,v,M=Object.assign({},Oh)){this.parameters=M,this.type=ha,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(_),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;ve(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yu:new Al,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(ue=>{const Ue=dt=>{dt&&(_.tokenChangeListeners.delete(Ue),ue(dt))};_.tokenChangeListeners.add(Ue),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Vi()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){ve(Rt()&&!gs(),_.auth,"internal-error"),yield function fa(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Lr(C){return In.apply(this,arguments)}(_.auth);ve(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nh{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=rs._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function kh(C,_,v){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(C,_,v){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=rr(C),Y=yield bd(M,_,(0,G.m9)(v));return new Nh(Y,ue=>Fc(M,ue))})).apply(this,arguments)}function ea(C,_,v){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);yield Ja(!1,M,"phone");const Y=yield bd(M.auth,_,(0,G.m9)(v));return new Nh(Y,ue=>eo(M,ue))})).apply(this,arguments)}function Kf(C,_,v){return Td.apply(this,arguments)}function Td(){return(Td=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if((0,l._isFirebaseServerApp)(M.auth.app))return Promise.reject(ct(M.auth));const Y=yield bd(M.auth,_,(0,G.m9)(v));return new Nh(Y,ue=>dd(M,ue))})).apply(this,arguments)}function bd(C,_,v){return lc.apply(this,arguments)}function lc(){return lc=(0,g.Z)(function*(C,_,v){var M;const Y=yield v.verify();try{let ue;if(ve("string"==typeof Y,C,"argument-error"),ve(v.type===ha,C,"argument-error"),ue="string"==typeof _?{phoneNumber:_}:_,"session"in ue){const Ue=ue.session;if("phoneNumber"in ue)return ve("enroll"===Ue.type,C,"internal-error"),(yield function Ph(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:start",ut(C,_))}(C,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ve("signin"===Ue.type,C,"internal-error");const dt=(null===(M=ue.multiFactorHint)||void 0===M?void 0:M.uid)||ue.multiFactorUid;return ve(dt,C,"missing-multi-factor-info"),(yield function or(C,_){return It(C,"POST","/v2/accounts/mfaSignIn:start",ut(C,_))}(C,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function ps(C,_){return Ms.apply(this,arguments)}(C,{phoneNumber:ue.phoneNumber,recaptchaToken:Y});return Ue}}finally{v._reset()}}),lc.apply(this,arguments)}function Dl(C,_){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,g.Z)(function*(C,_){const v=(0,G.m9)(C);if((0,l._isFirebaseServerApp)(v.auth.app))return Promise.reject(ct(v.auth));yield Pa(v,_)})).apply(this,arguments)}let $m=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=rr(v)}verifyPhoneNumber(v,M){return bd(this.auth,v,(0,G.m9)(M))}static credential(v,M){return rs._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Y}=v;return M&&Y?rs._fromTokenResponse(M,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function pa(C,_){return _?bt(_):(ve(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class wd extends es{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ni(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Ni(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Ni(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function gg(C){return ec(C.auth,new wd(C),C.bypassAuthState)}function Fh(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),Ra(v,new wd(C),C.bypassAuthState)}function hy(C){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),Pa(v,new wd(C),C.bypassAuthState)})).apply(this,arguments)}class Sl{constructor(_,v,M,Y,ue=!1){this.auth=_,this.resolver=M,this.user=Y,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(M,Y){_.pendingPromise={resolve:M,reject:Y};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ue){_.reject(ue)}});return function(M,Y){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:Y,postBody:ue,tenantId:Ue,error:dt,type:Ft}=_;if(dt)return void v.reject(dt);const vn={auth:v.auth,requestUri:M,sessionId:Y,tenantId:Ue||void 0,postBody:ue||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ft)(vn))}catch(jn){v.reject(jn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return gg;case"linkViaPopup":case"linkViaRedirect":return hy;case"reauthViaPopup":case"reauthViaRedirect":return Fh;default:Fe(this.auth,"internal-error")}}resolve(_){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vu=new Re(2e3,1e4);function mg(C,_,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,g.Z)(function*(C,_,v){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(it(C,"operation-not-supported-in-this-environment"));const M=rr(C);At(C,_,li);const Y=pa(M,v);return new as(M,"signInViaPopup",_,Y).executeNotNull()})).apply(this,arguments)}function Ml(C,_,v){return ga.apply(this,arguments)}function ga(){return(ga=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if((0,l._isFirebaseServerApp)(M.auth.app))return Promise.reject(it(M.auth,"operation-not-supported-in-this-environment"));At(M.auth,_,li);const Y=pa(M.auth,v);return new as(M.auth,"reauthViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}function zm(C,_,v){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);At(M.auth,_,li);const Y=pa(M.auth,v);return new as(M.auth,"linkViaPopup",_,Y,M).executeNotNull()})).apply(this,arguments)}let as=(()=>{class C extends Sl{constructor(v,M,Y,ue,Ue){super(v,M,ue,Ue),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const M=yield v.execute();return ve(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,g.Z)(function*(){an(1===v.filter.length,"Popup operations only handle one event");const M=oc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(it(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Y;this.pollId=null!==(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,vu.get())};v()}}return C.currentPopupAction=null,C})();const _g="pendingRedirect",Os=new Map;class Vh extends Sl{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let M=Os.get(v.auth._key());if(!M){try{const ue=(yield function Dd(C,_){return ys.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(ue)}catch(Y){M=()=>Promise.reject(Y)}Os.set(v.auth._key(),M)}return v.bypassAuthState||Os.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const Y=yield M.auth._redirectUserForId(_.eventId);if(Y)return M.user=Y,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ys(){return(ys=(0,g.Z)(function*(C,_){const v=bi(_),M=Gc(C);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(v));return yield M._remove(v),Y})).apply(this,arguments)}function ma(C,_){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,g.Z)(function*(C,_){return Gc(C)._set(bi(_),"true")})).apply(this,arguments)}function uc(){Os.clear()}function Yf(C,_){Os.set(C._key(),_)}function Gc(C){return bt(C._redirectPersistence)}function bi(C){return Xt(_g,C.config.apiKey,C.name)}function na(C,_,v){return function Rl(C,_,v){return Uh.apply(this,arguments)}(C,_,v)}function Uh(){return(Uh=(0,g.Z)(function*(C,_,v){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=rr(C);At(C,_,li),yield M._initializationPromise;const Y=pa(M,v);return yield ma(Y,M),Y._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function Eu(C,_,v){return function qc(C,_,v){return Sd.apply(this,arguments)}(C,_,v)}function Sd(){return(Sd=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);if(At(M.auth,_,li),(0,l._isFirebaseServerApp)(M.auth.app))return Promise.reject(ct(M.auth));yield M.auth._initializationPromise;const Y=pa(M.auth,v);yield ma(Y,M.auth);const ue=yield _a(M);return Y._openRedirect(M.auth,_,"reauthViaRedirect",ue)})).apply(this,arguments)}function Qf(C,_,v){return function Iu(C,_,v){return dc.apply(this,arguments)}(C,_,v)}function dc(){return(dc=(0,g.Z)(function*(C,_,v){const M=(0,G.m9)(C);At(M.auth,_,li),yield M.auth._initializationPromise;const Y=pa(M.auth,v);yield Ja(!1,M,_.providerId),yield ma(Y,M.auth);const ue=yield _a(M);return Y._openRedirect(M.auth,_,"linkViaRedirect",ue)})).apply(this,arguments)}function Jf(C,_){return vs.apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(C,_){return yield rr(C)._initializationPromise,Bh(C,_,!1)})).apply(this,arguments)}function Bh(C,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,g.Z)(function*(C,_,v=!1){if((0,l._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const M=rr(C),Y=pa(M,_),Ue=yield new Vh(M,Y,v).execute();return Ue&&!v&&(delete Ue.user._redirectEventId,yield M._persistUserIfCurrent(Ue.user),yield M._setRedirectUser(null,_)),Ue})).apply(this,arguments)}function _a(C){return hc.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(C){const _=oc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class bu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Va(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fc(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!fc(_)){const Y=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(it(this.auth,Y))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zc(_))}saveEventToCache(_){this.cachedEventUids.add(Zc(_)),this.lastProcessedEventTime=Date.now()}}function Zc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function fc({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function fn(C){return pc.apply(this,arguments)}function pc(){return(pc=(0,g.Z)(function*(C,_={}){return It(C,"GET","/v1/projects",_)})).apply(this,arguments)}const xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gm=/^https?/;function Xf(){return(Xf=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield fn(C);for(const v of _)try{if(qm(v))return}catch{}Fe(C,"unauthorized-domain")})).apply(this,arguments)}function qm(C){const _=hr(),{protocol:v,hostname:M}=new URL(_);if(C.startsWith("chrome-extension://")){const Ue=new URL(C);return""===Ue.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Ue.hostname===M}if(!Gm.test(v))return!1;if(xi.test(C))return M===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const ep=new Re(3e4,6e4);function vg(){const C=Vi().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let xl=null;const tp=new Re(5e3,15e3),$h="__/auth/iframe",zi="emulator/auth/iframe",Cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wu(C){const _=C.config;ve(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?fe(_,zi):`https://${C.config.authDomain}/${$h}`,M={apiKey:_.apiKey,appName:C.name,v:l.SDK_VERSION},Y=gc.get(C.config.apiHost);Y&&(M.eid=Y);const ue=C._getFrameworks();return ue.length&&(M.fw=ue.join(",")),`${v}?${(0,G.xO)(M).slice(1)}`}function Vo(){return Vo=(0,g.Z)(function*(C){const _=yield function Ol(C){return xl=xl||function Hh(C){return new Promise((_,v)=>{var M,Y,ue;function Ue(){vg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{vg(),v(it(C,"network-request-failed"))},timeout:ep.get()})}if(null!==(Y=null===(M=Vi().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Y&&Y.Iframe)_(gapi.iframes.getContext());else{if(null===(ue=Vi().gapi)||void 0===ue||!ue.load){const dt=xc("iframefcb");return Vi()[dt]=()=>{gapi.load?Ue():v(it(C,"network-request-failed"))},Vr(`${function Ui(){return cs.gapiScript}()}?onload=${dt}`).catch(Ft=>v(Ft))}Ue()}}).catch(_=>{throw xl=null,_})}(C),xl}(C),v=Vi().gapi;return ve(v,C,"internal-error"),_.open({where:document.body,url:wu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cu,dontclear:!0},M=>new Promise(function(){var Y=(0,g.Z)(function*(ue,Ue){yield M.restyle({setHideOnLeave:!1});const dt=it(C,"network-request-failed"),Ft=Vi().setTimeout(()=>{Ue(dt)},tp.get());function vn(){Vi().clearTimeout(Ft),ue(M)}M.ping(vn).then(vn,()=>{Ue(dt)})});return function(ue,Ue){return Y.apply(this,arguments)}}()))}),Vo.apply(this,arguments)}const Au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vo{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Du="__/auth/handler",Fl="emulator/auth/handler",Su=encodeURIComponent("fac");function Ua(C,_,v,M,Y,ue){return mi.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(C,_,v,M,Y,ue){ve(C.config.authDomain,C,"auth-domain-config-required"),ve(C.config.apiKey,C,"invalid-api-key");const Ue={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:l.SDK_VERSION,eventId:Y};if(_ instanceof li){_.setDefaultLanguage(C.languageCode),Ue.providerId=_.providerId||"",(0,G.xb)(_.getCustomParameters())||(Ue.customParameters=JSON.stringify(_.getCustomParameters()));for(const[jn,dr]of Object.entries(ue||{}))Ue[jn]=dr}if(_ instanceof Ma){const jn=_.getScopes().filter(dr=>""!==dr);jn.length>0&&(Ue.scopes=jn.join(","))}C.tenantId&&(Ue.tid=C.tenantId);const dt=Ue;for(const jn of Object.keys(dt))void 0===dt[jn]&&delete dt[jn];const Ft=yield C._getAppCheckToken(),vn=Ft?`#${Su}=${encodeURIComponent(Ft)}`:"";return`${function _i({config:C}){return C.emulator?fe(C,Fl):`https://${C.authDomain}/${Du}`}(C)}?${(0,G.xO)(dt).slice(1)}${vn}`})).apply(this,arguments)}const Ll="webStorageSupport",zh=class Md{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=Bh,this._overrideRedirectResult=Yf}_openPopup(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){var Ue;an(null===(Ue=ue.eventManagers[_._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const dt=yield Ua(_,v,M,hr(),Y);return function np(C,_,v,M=500,Y=600){const ue=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ue=Math.max((window.screen.availWidth-M)/2,0).toString();let dt="";const Ft=Object.assign(Object.assign({},Au),{width:M.toString(),height:Y.toString(),top:ue,left:Ue}),vn=(0,G.z$)().toLowerCase();v&&(dt=Ve(vn)?"_blank":v),Oe(vn)&&(_=_||"http://localhost",Ft.scrollbars="yes");const jn=Object.entries(Ft).reduce((ao,[Eo,ja])=>`${ao}${Eo}=${ja},`,"");if(function nt(C=(0,G.z$)()){var _;return cr(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(vn)&&"_self"!==dt)return function oo(C,_){const v=document.createElement("a");v.href=C,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",dt),new vo(null);const dr=window.open(_||"",dt,jn);ve(dr,C,"popup-blocked");try{dr.focus()}catch{}return new vo(dr)}(_,dt,oc())})()}_openRedirect(_,v,M,Y){var ue=this;return(0,g.Z)(function*(){return yield ue._originValidation(_),function wl(C){Vi().location.href=C}(yield Ua(_,v,M,hr(),Y)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Y,promise:ue}=this.eventManagers[v];return Y?Promise.resolve(Y):(an(ue,"If manager is not set, promise should be"),ue)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const M=yield function xr(C){return Vo.apply(this,arguments)}(_),Y=new bu(_);return M.register("authEvent",ue=>(ve(ue?.authEvent,_,"invalid-auth-event"),{status:Y.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Y},v.iframes[_._key()]=M,Y})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Ll,{type:Ll},Y=>{var ue;const Ue=null===(ue=Y?.[0])||void 0===ue?void 0:ue[Ll];void 0!==Ue&&v(!!Ue),Fe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function yg(C){return Xf.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Tt()||we()||cr()}};class Eg{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return jt("unexpected MultiFactorSessionType")}}}class Kc extends Eg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Kc(_)}_finalizeEnroll(_,v,M){return function qf(C,_){return It(C,"POST","/v2/accounts/mfaEnrollment:finalize",ut(C,_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function ms(C,_){return It(C,"POST","/v2/accounts/mfaSignIn:finalize",ut(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class C{constructor(){}static assertion(v){return Kc._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Mu="@firebase/auth";class Qc{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function Ji(C){cs=C}({loadJS:C=>new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=_,M.onerror=Y=>{const ue=it("internal-error");ue.customData=Y,v(ue)},M.type="text/javascript",M.charset="UTF-8",function Ul(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xd(C){(0,l._registerComponent)(new Ae.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),Y=_.getProvider("heartbeat"),ue=_.getProvider("app-check-internal"),{apiKey:Ue,authDomain:dt}=M.options;ve(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:M.name});const Ft={apiKey:Ue,authDomain:dt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(C)},vn=new Wr(M,Y,ue,Ft);return function Da(C,_){const v=_?.persistence||[],M=(Array.isArray(v)?v:[v]).map(bt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(M,_?.popupRedirectResolver)}(vn,v),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,l._registerComponent)(new Ae.wA("auth-internal",_=>{const v=rr(_.getProvider("auth").getImmediate());return new Qc(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.registerVersion)(Mu,"1.7.4",function Vl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,l.registerVersion)(Mu,"1.7.4","esm2017")}("Browser")},5588:(Jt,Ke,U)=>{U.d(Ke,{u7:()=>w_,Jj:()=>Wl,IX:()=>nh,my:()=>Yi,xU:()=>Ku,Lz:()=>Kl,WA:()=>fe,F8:()=>Fp,$q:()=>uh,W:()=>ll,EK:()=>Gn,PU:()=>sa,l7:()=>Un,Ky:()=>Vt,Xb:()=>Qn,Cf:()=>Tr,K9:()=>cn,Me:()=>Aa,yq:()=>an,Wi:()=>__,ET:()=>jy,Ab:()=>qp,vr:()=>Cf,Fc:()=>kp,hJ:()=>Ay,B$:()=>Xg,at:()=>xp,oe:()=>dl,AK:()=>x_,TF:()=>v_,JU:()=>Bv,ST:()=>uf,fH:()=>Ia,Ix:()=>Py,Wu:()=>$p,Lx:()=>Ef,qY:()=>Gi,GL:()=>Mi,QT:()=>A_,kl:()=>D_,Xk:()=>tu,PL:()=>am,UQ:()=>ia,zN:()=>By,ad:()=>tm,nP:()=>O_,b9:()=>im,vh:()=>Hp,Pb:()=>Ry,L$:()=>xy,cf:()=>zv,sc:()=>FE,Xo:()=>Vy,IO:()=>$u,iE:()=>Np,Eo:()=>Op,i3:()=>bf,Bt:()=>fm,pl:()=>$v,Ub:()=>kt,qK:()=>Bo,TQ:()=>Gu,e0:()=>lh,r7:()=>S_,Mx:()=>My,ar:()=>rm});var De,$e,g=U(5861),l=U(534),G=U(4537),Ie=U(7879),_e=U(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function d(Ye,Se,je){je||(je=0);var Qe=Array(16);if("string"==typeof Se)for(var tt=0;16>tt;++tt)Qe[tt]=Se.charCodeAt(je++)|Se.charCodeAt(je++)<<8|Se.charCodeAt(je++)<<16|Se.charCodeAt(je++)<<24;else for(tt=0;16>tt;++tt)Qe[tt]=Se[je++]|Se[je++]<<8|Se[je++]<<16|Se[je++]<<24;var gt=Ye.g[3],Le=(Se=Ye.g[0])+(gt^(je=Ye.g[1])&((tt=Ye.g[2])^gt))+Qe[0]+3614090360&4294967295;Le=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=(je=(tt=(gt=(Se=je+(Le<<7&4294967295|Le>>>25))+((Le=gt+(tt^Se&(je^tt))+Qe[1]+3905402710&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(je^gt&(Se^je))+Qe[2]+606105819&4294967295)<<17&4294967295|Le>>>15))+((Le=je+(Se^tt&(gt^Se))+Qe[3]+3250441966&4294967295)<<22&4294967295|Le>>>10))+((Le=Se+(gt^je&(tt^gt))+Qe[4]+4118548399&4294967295)<<7&4294967295|Le>>>25))+((Le=gt+(tt^Se&(je^tt))+Qe[5]+1200080426&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(je^gt&(Se^je))+Qe[6]+2821735955&4294967295)<<17&4294967295|Le>>>15))+((Le=je+(Se^tt&(gt^Se))+Qe[7]+4249261313&4294967295)<<22&4294967295|Le>>>10))+((Le=Se+(gt^je&(tt^gt))+Qe[8]+1770035416&4294967295)<<7&4294967295|Le>>>25))+((Le=gt+(tt^Se&(je^tt))+Qe[9]+2336552879&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(je^gt&(Se^je))+Qe[10]+4294925233&4294967295)<<17&4294967295|Le>>>15))+((Le=je+(Se^tt&(gt^Se))+Qe[11]+2304563134&4294967295)<<22&4294967295|Le>>>10))+((Le=Se+(gt^je&(tt^gt))+Qe[12]+1804603682&4294967295)<<7&4294967295|Le>>>25))+((Le=gt+(tt^Se&(je^tt))+Qe[13]+4254626195&4294967295)<<12&4294967295|Le>>>20))+((Le=tt+(je^gt&(Se^je))+Qe[14]+2792965006&4294967295)<<17&4294967295|Le>>>15))+((Le=je+(Se^tt&(gt^Se))+Qe[15]+1236535329&4294967295)<<22&4294967295|Le>>>10))+((Le=Se+(tt^gt&(je^tt))+Qe[1]+4129170786&4294967295)<<5&4294967295|Le>>>27))+((Le=gt+(je^tt&(Se^je))+Qe[6]+3225465664&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Se^je&(gt^Se))+Qe[11]+643717713&4294967295)<<14&4294967295|Le>>>18))+((Le=je+(gt^Se&(tt^gt))+Qe[0]+3921069994&4294967295)<<20&4294967295|Le>>>12))+((Le=Se+(tt^gt&(je^tt))+Qe[5]+3593408605&4294967295)<<5&4294967295|Le>>>27))+((Le=gt+(je^tt&(Se^je))+Qe[10]+38016083&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Se^je&(gt^Se))+Qe[15]+3634488961&4294967295)<<14&4294967295|Le>>>18))+((Le=je+(gt^Se&(tt^gt))+Qe[4]+3889429448&4294967295)<<20&4294967295|Le>>>12))+((Le=Se+(tt^gt&(je^tt))+Qe[9]+568446438&4294967295)<<5&4294967295|Le>>>27))+((Le=gt+(je^tt&(Se^je))+Qe[14]+3275163606&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Se^je&(gt^Se))+Qe[3]+4107603335&4294967295)<<14&4294967295|Le>>>18))+((Le=je+(gt^Se&(tt^gt))+Qe[8]+1163531501&4294967295)<<20&4294967295|Le>>>12))+((Le=Se+(tt^gt&(je^tt))+Qe[13]+2850285829&4294967295)<<5&4294967295|Le>>>27))+((Le=gt+(je^tt&(Se^je))+Qe[2]+4243563512&4294967295)<<9&4294967295|Le>>>23))+((Le=tt+(Se^je&(gt^Se))+Qe[7]+1735328473&4294967295)<<14&4294967295|Le>>>18))+((Le=je+(gt^Se&(tt^gt))+Qe[12]+2368359562&4294967295)<<20&4294967295|Le>>>12))+((Le=Se+(je^tt^gt)+Qe[5]+4294588738&4294967295)<<4&4294967295|Le>>>28))+((Le=gt+(Se^je^tt)+Qe[8]+2272392833&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(gt^Se^je)+Qe[11]+1839030562&4294967295)<<16&4294967295|Le>>>16))+((Le=je+(tt^gt^Se)+Qe[14]+4259657740&4294967295)<<23&4294967295|Le>>>9))+((Le=Se+(je^tt^gt)+Qe[1]+2763975236&4294967295)<<4&4294967295|Le>>>28))+((Le=gt+(Se^je^tt)+Qe[4]+1272893353&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(gt^Se^je)+Qe[7]+4139469664&4294967295)<<16&4294967295|Le>>>16))+((Le=je+(tt^gt^Se)+Qe[10]+3200236656&4294967295)<<23&4294967295|Le>>>9))+((Le=Se+(je^tt^gt)+Qe[13]+681279174&4294967295)<<4&4294967295|Le>>>28))+((Le=gt+(Se^je^tt)+Qe[0]+3936430074&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(gt^Se^je)+Qe[3]+3572445317&4294967295)<<16&4294967295|Le>>>16))+((Le=je+(tt^gt^Se)+Qe[6]+76029189&4294967295)<<23&4294967295|Le>>>9))+((Le=Se+(je^tt^gt)+Qe[9]+3654602809&4294967295)<<4&4294967295|Le>>>28))+((Le=gt+(Se^je^tt)+Qe[12]+3873151461&4294967295)<<11&4294967295|Le>>>21))+((Le=tt+(gt^Se^je)+Qe[15]+530742520&4294967295)<<16&4294967295|Le>>>16))+((Le=je+(tt^gt^Se)+Qe[2]+3299628645&4294967295)<<23&4294967295|Le>>>9))+((Le=Se+(tt^(je|~gt))+Qe[0]+4096336452&4294967295)<<6&4294967295|Le>>>26))+((Le=gt+(je^(Se|~tt))+Qe[7]+1126891415&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Se^(gt|~je))+Qe[14]+2878612391&4294967295)<<15&4294967295|Le>>>17))+((Le=je+(gt^(tt|~Se))+Qe[5]+4237533241&4294967295)<<21&4294967295|Le>>>11))+((Le=Se+(tt^(je|~gt))+Qe[12]+1700485571&4294967295)<<6&4294967295|Le>>>26))+((Le=gt+(je^(Se|~tt))+Qe[3]+2399980690&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Se^(gt|~je))+Qe[10]+4293915773&4294967295)<<15&4294967295|Le>>>17))+((Le=je+(gt^(tt|~Se))+Qe[1]+2240044497&4294967295)<<21&4294967295|Le>>>11))+((Le=Se+(tt^(je|~gt))+Qe[8]+1873313359&4294967295)<<6&4294967295|Le>>>26))+((Le=gt+(je^(Se|~tt))+Qe[15]+4264355552&4294967295)<<10&4294967295|Le>>>22))+((Le=tt+(Se^(gt|~je))+Qe[6]+2734768916&4294967295)<<15&4294967295|Le>>>17))+((Le=je+(gt^(tt|~Se))+Qe[13]+1309151649&4294967295)<<21&4294967295|Le>>>11))+((gt=(Se=je+((Le=Se+(tt^(je|~gt))+Qe[4]+4149444226&4294967295)<<6&4294967295|Le>>>26))+((Le=gt+(je^(Se|~tt))+Qe[11]+3174756917&4294967295)<<10&4294967295|Le>>>22))^((tt=gt+((Le=tt+(Se^(gt|~je))+Qe[2]+718787259&4294967295)<<15&4294967295|Le>>>17))|~Se))+Qe[9]+3951481745&4294967295,Ye.g[0]=Ye.g[0]+Se&4294967295,Ye.g[1]=Ye.g[1]+(tt+(Le<<21&4294967295|Le>>>11))&4294967295,Ye.g[2]=Ye.g[2]+tt&4294967295,Ye.g[3]=Ye.g[3]+gt&4294967295}function T(Ye,Se){this.h=Se;for(var je=[],Qe=!0,tt=Ye.length-1;0<=tt;tt--){var gt=0|Ye[tt];Qe&&gt==Se||(je[tt]=gt,Qe=!1)}this.g=je}(function e(Ye,Se){function je(){}je.prototype=Se.prototype,Ye.D=Se.prototype,Ye.prototype=new je,Ye.prototype.constructor=Ye,Ye.C=function(Qe,tt,gt){for(var Le=Array(arguments.length-2),fl=2;fl<arguments.length;fl++)Le[fl-2]=arguments[fl];return Se.prototype[tt].apply(Qe,Le)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ye,Se){void 0===Se&&(Se=Ye.length);for(var je=Se-this.blockSize,Qe=this.B,tt=this.h,gt=0;gt<Se;){if(0==tt)for(;gt<=je;)d(this,Ye,gt),gt+=this.blockSize;if("string"==typeof Ye){for(;gt<Se;)if(Qe[tt++]=Ye.charCodeAt(gt++),tt==this.blockSize){d(this,Qe),tt=0;break}}else for(;gt<Se;)if(Qe[tt++]=Ye[gt++],tt==this.blockSize){d(this,Qe),tt=0;break}}this.h=tt,this.o+=Se},s.prototype.v=function(){var Ye=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ye[0]=128;for(var Se=1;Se<Ye.length-8;++Se)Ye[Se]=0;var je=8*this.o;for(Se=Ye.length-8;Se<Ye.length;++Se)Ye[Se]=255&je,je/=256;for(this.u(Ye),Ye=Array(16),Se=je=0;4>Se;++Se)for(var Qe=0;32>Qe;Qe+=8)Ye[je++]=this.g[Se]>>>Qe&255;return Ye};var R={};function L(Ye){return-128<=Ye&&128>Ye?function y(Ye,Se){var je=R;return Object.prototype.hasOwnProperty.call(je,Ye)?je[Ye]:je[Ye]=Se(Ye)}(Ye,function(Se){return new T([0|Se],0>Se?-1:0)}):new T([0|Ye],0>Ye?-1:0)}function K(Ye){if(isNaN(Ye)||!isFinite(Ye))return ge;if(0>Ye)return Bt(K(-Ye));for(var Se=[],je=1,Qe=0;Ye>=je;Qe++)Se[Qe]=Ye/je|0,je*=4294967296;return new T(Se,0)}var ge=L(0),Ne=L(1),ot=L(16777216);function xt(Ye){if(0!=Ye.h)return!1;for(var Se=0;Se<Ye.g.length;Se++)if(0!=Ye.g[Se])return!1;return!0}function Kt(Ye){return-1==Ye.h}function Bt(Ye){for(var Se=Ye.g.length,je=[],Qe=0;Qe<Se;Qe++)je[Qe]=~Ye.g[Qe];return new T(je,~Ye.h).add(Ne)}function Pn(Ye,Se){return Ye.add(Bt(Se))}function zn(Ye,Se){for(;(65535&Ye[Se])!=Ye[Se];)Ye[Se+1]+=Ye[Se]>>>16,Ye[Se]&=65535,Se++}function kn(Ye,Se){this.g=Ye,this.h=Se}function Kn(Ye,Se){if(xt(Se))throw Error("division by zero");if(xt(Ye))return new kn(ge,ge);if(Kt(Ye))return Se=Kn(Bt(Ye),Se),new kn(Bt(Se.g),Bt(Se.h));if(Kt(Se))return Se=Kn(Ye,Bt(Se)),new kn(Bt(Se.g),Se.h);if(30<Ye.g.length){if(Kt(Ye)||Kt(Se))throw Error("slowDivide_ only works with positive integers.");for(var je=Ne,Qe=Se;0>=Qe.l(Ye);)je=Zr(je),Qe=Zr(Qe);var tt=yr(je,1),gt=yr(Qe,1);for(Qe=yr(Qe,2),je=yr(je,2);!xt(Qe);){var Le=gt.add(Qe);0>=Le.l(Ye)&&(tt=tt.add(je),gt=Le),Qe=yr(Qe,1),je=yr(je,1)}return Se=Pn(Ye,tt.j(Se)),new kn(tt,Se)}for(tt=ge;0<=Ye.l(Se);){for(je=Math.max(1,Math.floor(Ye.m()/Se.m())),Qe=48>=(Qe=Math.ceil(Math.log(je)/Math.LN2))?1:Math.pow(2,Qe-48),Le=(gt=K(je)).j(Se);Kt(Le)||0<Le.l(Ye);)Le=(gt=K(je-=Qe)).j(Se);xt(gt)&&(gt=Ne),tt=tt.add(gt),Ye=Pn(Ye,Le)}return new kn(tt,Ye)}function Zr(Ye){for(var Se=Ye.g.length+1,je=[],Qe=0;Qe<Se;Qe++)je[Qe]=Ye.i(Qe)<<1|Ye.i(Qe-1)>>>31;return new T(je,Ye.h)}function yr(Ye,Se){var je=Se>>5;Se%=32;for(var Qe=Ye.g.length-je,tt=[],gt=0;gt<Qe;gt++)tt[gt]=0<Se?Ye.i(gt+je)>>>Se|Ye.i(gt+je+1)<<32-Se:Ye.i(gt+je);return new T(tt,Ye.h)}(u=T.prototype).m=function(){if(Kt(this))return-Bt(this).m();for(var Ye=0,Se=1,je=0;je<this.g.length;je++){var Qe=this.i(je);Ye+=(0<=Qe?Qe:4294967296+Qe)*Se,Se*=4294967296}return Ye},u.toString=function(Ye){if(2>(Ye=Ye||10)||36<Ye)throw Error("radix out of range: "+Ye);if(xt(this))return"0";if(Kt(this))return"-"+Bt(this).toString(Ye);for(var Se=K(Math.pow(Ye,6)),je=this,Qe="";;){var tt=Kn(je,Se).g,gt=((0<(je=Pn(je,tt.j(Se))).g.length?je.g[0]:je.h)>>>0).toString(Ye);if(xt(je=tt))return gt+Qe;for(;6>gt.length;)gt="0"+gt;Qe=gt+Qe}},u.i=function(Ye){return 0>Ye?0:Ye<this.g.length?this.g[Ye]:this.h},u.l=function(Ye){return Kt(Ye=Pn(this,Ye))?-1:xt(Ye)?0:1},u.abs=function(){return Kt(this)?Bt(this):this},u.add=function(Ye){for(var Se=Math.max(this.g.length,Ye.g.length),je=[],Qe=0,tt=0;tt<=Se;tt++){var gt=Qe+(65535&this.i(tt))+(65535&Ye.i(tt)),Le=(gt>>>16)+(this.i(tt)>>>16)+(Ye.i(tt)>>>16);Qe=Le>>>16,je[tt]=(Le&=65535)<<16|(gt&=65535)}return new T(je,-2147483648&je[je.length-1]?-1:0)},u.j=function(Ye){if(xt(this)||xt(Ye))return ge;if(Kt(this))return Kt(Ye)?Bt(this).j(Bt(Ye)):Bt(Bt(this).j(Ye));if(Kt(Ye))return Bt(this.j(Bt(Ye)));if(0>this.l(ot)&&0>Ye.l(ot))return K(this.m()*Ye.m());for(var Se=this.g.length+Ye.g.length,je=[],Qe=0;Qe<2*Se;Qe++)je[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var tt=0;tt<Ye.g.length;tt++){var gt=this.i(Qe)>>>16,Le=65535&this.i(Qe),fl=Ye.i(tt)>>>16,fh=65535&Ye.i(tt);je[2*Qe+2*tt]+=Le*fh,zn(je,2*Qe+2*tt),je[2*Qe+2*tt+1]+=gt*fh,zn(je,2*Qe+2*tt+1),je[2*Qe+2*tt+1]+=Le*fl,zn(je,2*Qe+2*tt+1),je[2*Qe+2*tt+2]+=gt*fl,zn(je,2*Qe+2*tt+2)}for(Qe=0;Qe<Se;Qe++)je[Qe]=je[2*Qe+1]<<16|je[2*Qe];for(Qe=Se;Qe<2*Se;Qe++)je[Qe]=0;return new T(je,0)},u.A=function(Ye){return Kn(this,Ye).h},u.and=function(Ye){for(var Se=Math.max(this.g.length,Ye.g.length),je=[],Qe=0;Qe<Se;Qe++)je[Qe]=this.i(Qe)&Ye.i(Qe);return new T(je,this.h&Ye.h)},u.or=function(Ye){for(var Se=Math.max(this.g.length,Ye.g.length),je=[],Qe=0;Qe<Se;Qe++)je[Qe]=this.i(Qe)|Ye.i(Qe);return new T(je,this.h|Ye.h)},u.xor=function(Ye){for(var Se=Math.max(this.g.length,Ye.g.length),je=[],Qe=0;Qe<Se;Qe++)je[Qe]=this.i(Qe)^Ye.i(Qe);return new T(je,this.h^Ye.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$e=Me.Md5=s,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.j,T.prototype.modulo=T.prototype.A,T.prototype.compare=T.prototype.l,T.prototype.toNumber=T.prototype.m,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.i,T.fromNumber=K,T.fromString=function oe(Ye,Se){if(0==Ye.length)throw Error("number format error: empty string");if(2>(Se=Se||10)||36<Se)throw Error("radix out of range: "+Se);if("-"==Ye.charAt(0))return Bt(oe(Ye.substring(1),Se));if(0<=Ye.indexOf("-"))throw Error('number format error: interior "-" character');for(var je=K(Math.pow(Se,8)),Qe=ge,tt=0;tt<Ye.length;tt+=8){var gt=Math.min(8,Ye.length-tt),Le=parseInt(Ye.substring(tt,tt+gt),Se);8>gt?(gt=K(Math.pow(Se,gt)),Qe=Qe.j(gt).add(K(Le))):Qe=(Qe=Qe.j(je)).add(K(Le))}return Qe},De=Me.Integer=T}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var ye,st,rt,mt,ft,wt,Et,nn,qe,te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,V,Q){return E==Array.prototype||E==Object.prototype||(E[V]=Q.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof te&&te];for(var V=0;V<E.length;++V){var Q=E[V];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function d(E,V){if(V)e:{var Q=s;E=E.split(".");for(var he=0;he<E.length-1;he++){var at=E[he];if(!(at in Q))break e;Q=Q[at]}(V=V(he=Q[E=E[E.length-1]]))!=he&&null!=V&&e(Q,E,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(E){return E||function(){return function y(E,V){E instanceof String&&(E+="");var Q=0,he=!1,at={next:function(){if(!he&&Q<E.length){var Ct=Q++;return{value:V(Ct,E[Ct]),done:!1}}return he=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(V,Q){return Q})}});var T=T||{},R=this||self;function L(E){var V=typeof E;return"array"==(V="object"!=V?V:E?Array.isArray(E)?"array":V:"null")||"object"==V&&"number"==typeof E.length}function K(E){var V=typeof E;return"object"==V&&null!=E||"function"==V}function oe(E,V,Q){return E.call.apply(E.bind,arguments)}function ge(E,V,Q){if(!E)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,he),E.apply(V,at)}}return function(){return E.apply(V,arguments)}}function Ne(E,V,Q){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:ge).apply(null,arguments)}function ot(E,V){var Q=Array.prototype.slice.call(arguments,1);return function(){var he=Q.slice();return he.push.apply(he,arguments),E.apply(this,he)}}function xt(E,V){function Q(){}Q.prototype=V.prototype,E.aa=V.prototype,E.prototype=new Q,E.prototype.constructor=E,E.Qb=function(he,at,Ct){for(var hn=Array(arguments.length-2),wi=2;wi<arguments.length;wi++)hn[wi-2]=arguments[wi];return V.prototype[at].apply(he,hn)}}function Kt(E){const V=E.length;if(0<V){const Q=Array(V);for(let he=0;he<V;he++)Q[he]=E[he];return Q}return[]}function Bt(E,V){for(let Q=1;Q<arguments.length;Q++){const he=arguments[Q];if(L(he)){const at=E.length||0,Ct=he.length||0;E.length=at+Ct;for(let hn=0;hn<Ct;hn++)E[at+hn]=he[hn]}else E.push(he)}}function zn(E){return/^[\s\xa0]*$/.test(E)}function kn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Kn(E){return Kn[" "](E),E}Kn[" "]=function(){};var Zr=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function yr(E,V,Q){for(const he in E)V.call(Q,E[he],he,E)}function Se(E){const V={};for(const Q in E)V[Q]=E[Q];return V}const je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(E,V){let Q,he;for(let at=1;at<arguments.length;at++){for(Q in he=arguments[at],he)E[Q]=he[Q];for(let Ct=0;Ct<je.length;Ct++)Q=je[Ct],Object.prototype.hasOwnProperty.call(he,Q)&&(E[Q]=he[Q])}}function tt(E){var V=1;E=E.split(":");const Q=[];for(;0<V&&E.length;)Q.push(E.shift()),V--;return E.length&&Q.push(E.join(":")),Q}function gt(E){R.setTimeout(()=>{throw E},0)}function Le(){var E=Ju;let V=null;return E.g&&(V=E.g,E.g=E.g.next,E.g||(E.h=null),V.next=null),V}var fh=new class Pn{constructor(V,Q){this.i=V,this.j=Q,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new jo,E=>E.reset());class jo{constructor(){this.next=this.g=this.h=null}set(V,Q){this.h=V,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let ph,uo=!1,Ju=new class fl{constructor(){this.h=this.g=null}add(V,Q){const he=fh.get();he.set(V,Q),this.h?this.h.next=he:this.g=he,this.h=he}},Zp=()=>{const E=R.Promise.resolve(void 0);ph=()=>{E.then(N_)}};var N_=()=>{for(var E;E=Le();){try{E.h.call(E.g)}catch(Q){gt(Q)}var V=fh;V.j(E),100>V.h&&(V.h++,E.next=V.g,V.g=E)}uo=!1};function pl(){this.s=this.s,this.C=this.C}function ho(E,V){this.type=E,this.g=this.target=V,this.defaultPrevented=!1}pl.prototype.s=!1,pl.prototype.ma=function(){this.s||(this.s=!0,this.N())},pl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ho.prototype.h=function(){this.defaultPrevented=!0};var k_=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,V=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Q=()=>{};R.addEventListener("test",Q,V),R.removeEventListener("test",Q,V)}catch{}return E}();function gl(E,V){if(ho.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Q=this.type=E.type,he=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=V,V=E.relatedTarget){if(Zr){e:{try{Kn(V.nodeName);var at=!0;break e}catch{}at=!1}at||(V=null)}}else"mouseover"==Q?V=E.fromElement:"mouseout"==Q&&(V=E.toElement);this.relatedTarget=V,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Zy[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&gl.aa.h.call(this)}}xt(gl,ho);var Zy={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Af="closure_listenable_"+(1e6*Math.random()|0),Df=0;function Wy(E,V,Q,he,at){this.listener=E,this.proxy=null,this.src=V,this.type=Q,this.capture=!!he,this.ha=at,this.key=++Df,this.da=this.fa=!1}function Sf(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Wp(E){this.src=E,this.g={},this.h=0}function ym(E,V){var Q=V.type;if(Q in E.g){var Ct,he=E.g[Q],at=Array.prototype.indexOf.call(he,V,void 0);(Ct=0<=at)&&Array.prototype.splice.call(he,at,1),Ct&&(Sf(V),0==E.g[Q].length&&(delete E.g[Q],E.h--))}}function vm(E,V,Q,he){for(var at=0;at<E.length;++at){var Ct=E[at];if(!Ct.da&&Ct.listener==V&&Ct.capture==!!Q&&Ct.ha==he)return at}return-1}Wp.prototype.add=function(E,V,Q,he,at){var Ct=E.toString();(E=this.g[Ct])||(E=this.g[Ct]=[],this.h++);var hn=vm(E,V,he,at);return-1<hn?(V=E[hn],Q||(V.fa=!1)):((V=new Wy(V,this.src,Ct,!!he,at)).fa=Q,E.push(V)),V};var Ta="closure_lm_"+(1e6*Math.random()|0),gh={};function Mf(E,V,Q,he,at){if(he&&he.once)return Yp(E,V,Q,he,at);if(Array.isArray(V)){for(var Ct=0;Ct<V.length;Ct++)Mf(E,V[Ct],Q,he,at);return null}return Q=Pf(Q),E&&E[Af]?E.K(V,Q,K(he)?!!he.capture:!!he,at):Kp(E,V,Q,!1,he,at)}function Kp(E,V,Q,he,at,Ct){if(!V)throw Error("Invalid event type");var hn=K(at)?!!at.capture:!!at,wi=Jp(E);if(wi||(E[Ta]=wi=new Wp(E)),(Q=wi.add(V,Q,he,hn,Ct)).proxy)return Q;if(he=function Ky(){const V=Jv;return function E(Q){return V.call(E.src,E.listener,Q)}}(),Q.proxy=he,he.src=E,he.listener=Q,E.addEventListener)k_||(at=hn),void 0===at&&(at=!1),E.addEventListener(V.toString(),he,at);else if(E.attachEvent)E.attachEvent(Qp(V.toString()),he);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(he)}return Q}function Yp(E,V,Q,he,at){if(Array.isArray(V)){for(var Ct=0;Ct<V.length;Ct++)Yp(E,V[Ct],Q,he,at);return null}return Q=Pf(Q),E&&E[Af]?E.L(V,Q,K(he)?!!he.capture:!!he,at):Kp(E,V,Q,!0,he,at)}function Em(E,V,Q,he,at){if(Array.isArray(V))for(var Ct=0;Ct<V.length;Ct++)Em(E,V[Ct],Q,he,at);else he=K(he)?!!he.capture:!!he,Q=Pf(Q),E&&E[Af]?(E=E.i,(V=String(V).toString())in E.g&&-1<(Q=vm(Ct=E.g[V],Q,he,at))&&(Sf(Ct[Q]),Array.prototype.splice.call(Ct,Q,1),0==Ct.length&&(delete E.g[V],E.h--))):E&&(E=Jp(E))&&(V=E.g[V.toString()],E=-1,V&&(E=vm(V,Q,he,at)),(Q=-1<E?V[E]:null)&&mh(Q))}function mh(E){if("number"!=typeof E&&E&&!E.da){var V=E.src;if(V&&V[Af])ym(V.i,E);else{var Q=E.type,he=E.proxy;V.removeEventListener?V.removeEventListener(Q,he,E.capture):V.detachEvent?V.detachEvent(Qp(Q),he):V.addListener&&V.removeListener&&V.removeListener(he),(Q=Jp(V))?(ym(Q,E),0==Q.h&&(Q.src=null,V[Ta]=null)):Sf(E)}}}function Qp(E){return E in gh?gh[E]:gh[E]="on"+E}function Jv(E,V){if(E.da)E=!0;else{V=new gl(V,this);var Q=E.listener,he=E.ha||E.src;E.fa&&mh(E),E=Q.call(he,V)}return E}function Jp(E){return(E=E[Ta])instanceof Wp?E:null}var Xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(E){return"function"==typeof E?E:(E[Xp]||(E[Xp]=function(V){return E.handleEvent(V)}),E[Xp])}function Ss(){pl.call(this),this.i=new Wp(this),this.M=this,this.F=null}function Ls(E,V){var Q,he=E.F;if(he)for(Q=[];he;he=he.F)Q.push(he);if(E=E.M,he=V.type||V,"string"==typeof V)V=new ho(V,E);else if(V instanceof ho)V.target=V.target||E;else{var at=V;Qe(V=new ho(he,E),at)}if(at=!0,Q)for(var Ct=Q.length-1;0<=Ct;Ct--){var hn=V.g=Q[Ct];at=ba(hn,he,!0,V)&&at}if(at=ba(hn=V.g=E,he,!0,V)&&at,at=ba(hn,he,!1,V)&&at,Q)for(Ct=0;Ct<Q.length;Ct++)at=ba(hn=V.g=Q[Ct],he,!1,V)&&at}function ba(E,V,Q,he){if(!(V=E.i.g[String(V)]))return!0;V=V.concat();for(var at=!0,Ct=0;Ct<V.length;++Ct){var hn=V[Ct];if(hn&&!hn.da&&hn.capture==Q){var wi=hn.listener,Vs=hn.ha||hn.src;hn.fa&&ym(E.i,hn),at=!1!==wi.call(Vs,he)&&at}}return at&&!he.defaultPrevented}function Yy(E,V,Q){if("function"==typeof E)Q&&(E=Ne(E,Q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ne(E.handleEvent,E)}return 2147483647<Number(V)?-1:R.setTimeout(E,V||0)}function Qy(E){E.g=Yy(()=>{E.g=null,E.i&&(E.i=!1,Qy(E))},E.l);const V=E.h;E.h=null,E.m.apply(null,V)}xt(Ss,pl),Ss.prototype[Af]=!0,Ss.prototype.removeEventListener=function(E,V,Q,he){Em(this,E,V,Q,he)},Ss.prototype.N=function(){if(Ss.aa.N.call(this),this.i){var V,E=this.i;for(V in E.g){for(var Q=E.g[V],he=0;he<Q.length;he++)Sf(Q[he]);delete E.g[V],E.h--}}this.F=null},Ss.prototype.K=function(E,V,Q,he){return this.i.add(String(E),V,!1,Q,he)},Ss.prototype.L=function(E,V,Q,he){return this.i.add(String(E),V,!0,Q,he)};class F_ extends pl{constructor(V,Q){super(),this.m=V,this.l=Q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Qy(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _h(E){pl.call(this),this.h=E,this.g={}}xt(_h,pl);var Ac=[];function Xu(E){yr(E.g,function(V,Q){this.g.hasOwnProperty(Q)&&mh(V)},E),E.g={}}_h.prototype.N=function(){_h.aa.N.call(this),Xu(this)},_h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nu=R.JSON.stringify,eg=R.JSON.parse,L_=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function ru(){}function V_(){}ru.prototype.h=null;var yh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tg(){ho.call(this,"d")}function Im(){ho.call(this,"c")}xt(tg,ho),xt(Im,ho);var vh={},U_=null;function ng(){return U_=U_||new Ss}function Eh(E){ho.call(this,vh.La,E)}function rg(E){const V=ng();Ls(V,new Eh(V))}function B_(E,V){ho.call(this,vh.STAT_EVENT,E),this.stat=V}function Co(E){const V=ng();Ls(V,new B_(V,E))}function Xy(E,V){ho.call(this,vh.Ma,E),this.size=V}function ig(E,V){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},V)}function Dc(){this.g=!0}function Rf(E,V,Q,he){E.info(function(){return"XMLHTTP TEXT ("+V+"): "+function ev(E,V){if(!E.g)return V;if(!V)return null;try{var Q=JSON.parse(V);if(Q)for(E=0;E<Q.length;E++)if(Array.isArray(Q[E])){var he=Q[E];if(!(2>he.length)){var at=he[1];if(Array.isArray(at)&&!(1>at.length)){var Ct=at[0];if("noop"!=Ct&&"stop"!=Ct&&"close"!=Ct)for(var hn=1;hn<at.length;hn++)at[hn]=""}}}return nu(Q)}catch{return V}}(E,Q)+(he?" "+he:"")})}vh.La="serverreachability",xt(Eh,ho),vh.STAT_EVENT="statevent",xt(B_,ho),vh.Ma="timingevent",xt(Xy,ho),Dc.prototype.xa=function(){this.g=!1},Dc.prototype.info=function(){};var j_,sg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function xf(){}function ml(E,V,Q,he){this.j=E,this.i=V,this.l=Q,this.R=he||1,this.U=new _h(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nv}function nv(){this.i=null,this.g="",this.h=!1}xt(xf,ru),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},j_=new xf;var og={},H_={};function $_(E,V,Q){E.L=1,E.v=ou(Sc(V)),E.m=Q,E.P=!0,rv(E,null)}function rv(E,V){E.F=Date.now(),wm(E),E.A=Sc(E.v);var Q=E.A,he=E.R;Array.isArray(he)||(he=[String(he)]),K_(Q.i,"t",he),E.C=0,Q=E.j.J,E.h=new nv,E.g=Iv(E.j,Q?V:null,!E.m),0<E.O&&(E.M=new F_(Ne(E.Y,E,E.g),E.O)),V=E.U,Q=E.g,he=E.ca;var at="readystatechange";Array.isArray(at)||(at&&(Ac[0]=at.toString()),at=Ac);for(var Ct=0;Ct<at.length;Ct++){var hn=Mf(Q,at[Ct],he||V.handleEvent,!1,V.h||V);if(!hn)break;V.g[hn.key]=hn}V=E.H?Se(E.H):{},E.m?(E.u||(E.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,V)):(E.u="GET",E.g.ea(E.A,E.u,null,V)),rg(),function Tm(E,V,Q,he,at,Ct){E.info(function(){if(E.g)if(Ct)for(var hn="",wi=Ct.split("&"),Vs=0;Vs<wi.length;Vs++){var ti=wi[Vs].split("=");if(1<ti.length){var Zs=ti[0];ti=ti[1];var po=Zs.split("_");hn=2<=po.length&&"type"==po[1]?hn+(Zs+"=")+ti+"&":hn+(Zs+"=redacted&")}}else hn=null;else hn=Ct;return"XMLHTTP REQ ("+he+") [attempt "+at+"]: "+V+"\n"+Q+"\n"+hn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function iv(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Xv(E,V){var Q=E.C,he=V.indexOf("\n",Q);return-1==he?H_:(Q=Number(V.substring(Q,he)),isNaN(Q)?og:(he+=1)+Q>V.length?H_:(V=V.slice(he,he+Q),E.C=he+Q,V))}function wm(E){E.S=Date.now()+E.I,sv(E,E.I)}function sv(E,V){if(null!=E.B)throw Error("WatchDog timer not null");E.B=ig(Ne(E.ba,E),V)}function Am(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Of(E){0==E.j.G||E.J||vv(E.j,E)}function Ih(E){Am(E);var V=E.M;V&&"function"==typeof V.ma&&V.ma(),E.M=null,Xu(E.U),E.g&&(V=E.g,E.g=null,V.abort(),V.ma())}function ov(E,V){try{var Q=E.j;if(0!=Q.G&&(Q.g==E||G_(Q.h,E)))if(!E.K&&G_(Q.h,E)&&3==Q.G){try{var he=Q.Da.g.parse(V)}catch{he=null}if(Array.isArray(he)&&3==he.length){var at=he;if(0==at[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<E.F))break e;Om(Q),ey(Q)}Rm(Q),Co(18)}}else Q.za=at[1],0<Q.za-Q.T&&37500>at[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=ig(Ne(Q.Za,Q),6e3));if(1>=ag(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else sd(Q,11)}else if((E.K||Q.g==E)&&Om(Q),!zn(V))for(at=Q.Da.g.parse(V),V=0;V<at.length;V++){let ti=at[V];if(Q.T=ti[0],ti=ti[1],2==Q.G)if("c"==ti[0]){Q.K=ti[1],Q.ia=ti[2];const Zs=ti[3];null!=Zs&&(Q.la=Zs,Q.j.info("VER="+Q.la));const po=ti[4];null!=po&&(Q.Aa=po,Q.j.info("SVER="+Q.Aa));const jf=ti[5];null!=jf&&"number"==typeof jf&&0<jf&&(Q.L=he=1.5*jf,Q.j.info("backChannelRequestTimeoutMs_="+he)),he=Q;const Ga=E.g;if(Ga){const Hf=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hf){var Ct=he.h;Ct.g||-1==Hf.indexOf("spdy")&&-1==Hf.indexOf("quic")&&-1==Hf.indexOf("h2")||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(q_(Ct,Ct.h),Ct.h=null))}if(he.D){const Fm=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(he.ya=Fm,yi(he.I,he.D,Fm))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-E.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var hn=E;if((he=Q).qa=km(he,he.J?he.ia:null,he.W),hn.K){Dm(he.h,hn);var wi=hn,Vs=he.L;Vs&&(wi.I=Vs),wi.B&&(Am(wi),wm(wi)),he.g=hn}else yv(he);0<Q.i.length&&Pm(Q)}else"stop"!=ti[0]&&"close"!=ti[0]||sd(Q,7);else 3==Q.G&&("stop"==ti[0]||"close"==ti[0]?"stop"==ti[0]?sd(Q,7):Vf(Q):"noop"!=ti[0]&&Q.l&&Q.l.ta(ti),Q.v=0)}rg()}catch{}}function z_(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eE(E){return!!E.h||!!E.g&&E.g.size>=E.j}function ag(E){return E.h?1:E.g?E.g.size:0}function G_(E,V){return E.h?E.h==V:!!E.g&&E.g.has(V)}function q_(E,V){E.g?E.g.add(V):E.h=V}function Dm(E,V){E.h&&E.h==V?E.h=null:E.g&&E.g.has(V)&&E.g.delete(V)}function cv(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let V=E.i;for(const Q of E.g.values())V=V.concat(Q.D);return V}return Kt(E.i)}function fo(E,V){if(E.forEach&&"function"==typeof E.forEach)E.forEach(V,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,V,void 0);else for(var Q=function cg(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var V=[];E=E.length;for(var Q=0;Q<E;Q++)V.push(Q);return V}V=[],Q=0;for(const he in E)V[Q++]=he;return V}}}(E),he=function _l(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var V=[],Q=E.length,he=0;he<Q;he++)V.push(E[he]);return V}for(he in V=[],Q=0,E)V[Q++]=E[he];return V}(E),at=he.length,Ct=0;Ct<at;Ct++)V.call(void 0,he[Ct],Q&&Q[Ct],E)}ml.prototype.ca=function(E){E=E.target;const V=this.M;V&&3==lu(E)?V.j():this.Y(E)},ml.prototype.Y=function(E){try{if(E==this.g)e:{const po=lu(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>po)&&(3!=po||this.g&&(this.h.h||this.g.oa()||pv(this.g)))){this.J||4!=po||7==V||rg(),Am(this);var Q=this.g.Z();this.X=Q;t:if(iv(this)){var he=pv(this.g);E="";var at=he.length,Ct=4==lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ih(this),Of(this);var hn="";break t}this.h.i=new R.TextDecoder}for(V=0;V<at;V++)this.h.h=!0,E+=this.h.i.decode(he[V],{stream:!(Ct&&V==at-1)});he.length=0,this.h.g+=E,this.C=0,hn=this.h.g}else hn=this.g.oa();if(this.o=200==Q,function bm(E,V,Q,he,at,Ct,hn){E.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+at+"]: "+V+"\n"+Q+"\n"+Ct+" "+hn})}(this.i,this.u,this.A,this.l,this.R,po,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var wi,Vs=this.g;if((wi=Vs.g?Vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zn(wi)){var ti=wi;break t}}ti=null}if(!(Q=ti)){this.o=!1,this.s=3,Co(12),Ih(this),Of(this);break e}Rf(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ov(this,Q)}if(this.P){let Ga;for(Q=!0;!this.J&&this.C<hn.length;){if(Ga=Xv(this,hn),Ga==H_){4==po&&(this.s=4,Co(14),Q=!1),Rf(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==og){this.s=4,Co(15),Rf(this.i,this.l,hn,"[Invalid Chunk]"),Q=!1;break}Rf(this.i,this.l,Ga,null),ov(this,Ga)}if(iv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=po||0!=hn.length||this.h.h||(this.s=1,Co(16),Q=!1),this.o=this.o&&Q,Q){if(0<hn.length&&!this.W){this.W=!0;var Zs=this.j;Zs.g==this&&Zs.ba&&!Zs.M&&(Zs.j.info("Great, no buffering proxy detected. Bytes received: "+hn.length),xm(Zs),Zs.M=!0,Co(11))}}else Rf(this.i,this.l,hn,"[Invalid Chunked Response]"),Ih(this),Of(this)}else Rf(this.i,this.l,hn,null),ov(this,hn);4==po&&Ih(this),this.o&&!this.J&&(4==po?vv(this.j,this):(this.o=!1,wm(this)))}else(function rE(E){const V={};E=(E.g&&2<=lu(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<E.length;he++){if(zn(E[he]))continue;var Q=tt(E[he]);const at=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const Ct=V[at]||[];V[at]=Ct,Ct.push(Q)}!function Ye(E,V){for(const Q in E)V.call(void 0,E[Q],Q,E)}(V,function(he){return he.join(", ")})})(this.g),400==Q&&0<hn.indexOf("Unknown SID")?(this.s=3,Co(12)):(this.s=0,Co(13)),Ih(this),Of(this)}}}catch{}},ml.prototype.cancel=function(){this.J=!0,Ih(this)},ml.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Cm(E,V){E.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(rg(),Co(17)),Ih(this),this.s=2,Of(this)):sv(this,this.S-E)},z_.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof qs){this.h=E.h,iu(this,E.j),this.o=E.o,this.g=E.g,su(this,E.s),this.l=E.l;var V=E.i,Q=new kf;Q.i=V.i,V.g&&(Q.g=new Map(V.g),Q.h=V.h),Th(this,Q),this.m=E.m}else E&&(V=String(E).match(ed))?(this.h=!1,iu(this,V[1]||"",!0),this.o=yl(V[2]||""),this.g=yl(V[3]||"",!0),su(this,V[4]),this.l=yl(V[5]||"",!0),Th(this,V[6]||"",!0),this.m=yl(V[7]||"")):(this.h=!1,this.i=new kf(null,this.h))}function Sc(E){return new qs(E)}function iu(E,V,Q){E.j=Q?yl(V,!0):V,E.j&&(E.j=E.j.replace(/:$/,""))}function su(E,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);E.s=V}else E.s=null}function Th(E,V,Q){V instanceof kf?(E.i=V,function tE(E,V){V&&!E.j&&(au(E),E.i=null,E.g.forEach(function(Q,he){var at=he.toLowerCase();he!=at&&(Z_(this,he),K_(this,at,Q))},E)),E.j=V}(E.i,E.h)):(Q||(V=vl(V,dv)),E.i=new kf(V,E.h))}function yi(E,V,Q){E.i.set(V,Q)}function ou(E){return yi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function yl(E,V){return E?V?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function vl(E,V,Q){return"string"==typeof E?(E=encodeURI(E).replace(V,Nf),Q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Nf(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}qs.prototype.toString=function(){var E=[],V=this.j;V&&E.push(vl(V,bh,!0),":");var Q=this.g;return(Q||"file"==V)&&(E.push("//"),(V=this.o)&&E.push(vl(V,bh,!0),"@"),E.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&E.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&E.push("/"),E.push(vl(Q,"/"==Q.charAt(0)?uv:lv,!0))),(Q=this.i.toString())&&E.push("?",Q),(Q=this.m)&&E.push("#",vl(Q,hv)),E.join("")};var E,bh=/[#\/\?@]/g,lv=/[#\?:]/g,uv=/[#\?]/g,dv=/[#\?@]/g,hv=/#/g;function kf(E,V){this.h=this.g=null,this.i=E||null,this.j=!!V}function au(E){E.g||(E.g=new Map,E.h=0,E.i&&function Sm(E,V){if(E){E=E.split("&");for(var Q=0;Q<E.length;Q++){var he=E[Q].indexOf("="),at=null;if(0<=he){var Ct=E[Q].substring(0,he);at=E[Q].substring(he+1)}else Ct=E[Q];V(Ct,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(E.i,function(V,Q){E.add(decodeURIComponent(V.replace(/\+/g," ")),Q)}))}function Z_(E,V){au(E),V=td(E,V),E.g.has(V)&&(E.i=null,E.h-=E.g.get(V).length,E.g.delete(V))}function W_(E,V){return au(E),V=td(E,V),E.g.has(V)}function K_(E,V,Q){Z_(E,V),0<Q.length&&(E.i=null,E.g.set(td(E,V),Kt(Q)),E.h+=Q.length)}function td(E,V){return V=String(V),E.j&&(V=V.toLowerCase()),V}function nd(E,V,Q,he,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),he(Q)}catch{}}function nE(){this.g=new L_}function BE(E,V,Q){const he=Q||"";try{fo(E,function(at,Ct){let hn=at;K(at)&&(hn=nu(at)),V.push(he+Ct+"="+encodeURIComponent(hn))})}catch(at){throw V.push(he+"type="+encodeURIComponent("_badmap")),at}}function lg(E){this.l=E.Ub||null,this.j=E.eb||!1}function Y_(E,V){Ss.call(this),this.D=E,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function fv(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Ff(E){E.readyState=4,E.l=null,E.j=null,E.v=null,rd(E)}function rd(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Lf(E){let V="";return yr(E,function(Q,he){V+=he,V+=":",V+=Q,V+="\r\n"}),V}function id(E,V,Q){e:{for(he in Q){var he=!1;break e}he=!0}he||(Q=Lf(Q),"string"==typeof E?null!=Q&&encodeURIComponent(String(Q)):yi(E,V,Q))}function qi(E){Ss.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=kf.prototype).add=function(E,V){au(this),this.i=null,E=td(this,E);var Q=this.g.get(E);return Q||this.g.set(E,Q=[]),Q.push(V),this.h+=1,this},u.forEach=function(E,V){au(this),this.g.forEach(function(Q,he){Q.forEach(function(at){E.call(V,at,he,this)},this)},this)},u.na=function(){au(this);const E=Array.from(this.g.values()),V=Array.from(this.g.keys()),Q=[];for(let he=0;he<V.length;he++){const at=E[he];for(let Ct=0;Ct<at.length;Ct++)Q.push(V[he])}return Q},u.V=function(E){au(this);let V=[];if("string"==typeof E)W_(this,E)&&(V=V.concat(this.g.get(td(this,E))));else{E=Array.from(this.g.values());for(let Q=0;Q<E.length;Q++)V=V.concat(E[Q])}return V},u.set=function(E,V){return au(this),this.i=null,W_(this,E=td(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[V]),this.h+=1,this},u.get=function(E,V){return E&&0<(E=this.V(E)).length?String(E[0]):V},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],V=Array.from(this.g.keys());for(var Q=0;Q<V.length;Q++){var he=V[Q];const Ct=encodeURIComponent(String(he)),hn=this.V(he);for(he=0;he<hn.length;he++){var at=Ct;""!==hn[he]&&(at+="="+encodeURIComponent(String(hn[he]))),E.push(at)}}return this.i=E.join("&")},xt(lg,ru),lg.prototype.g=function(){return new Y_(this.l,this.j)},lg.prototype.i=(E={},function(){return E}),xt(Y_,Ss),(u=Y_.prototype).open=function(E,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=V,this.readyState=1,rd(this)},u.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(V.body=E),(this.D||R).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ff(this)),this.readyState=0},u.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fv(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var V=E.value?E.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!E.done}))&&(this.response=this.responseText+=V)}E.done?Ff(this):rd(this),3==this.readyState&&fv(this)}},u.Ra=function(E){this.g&&(this.response=this.responseText=E,Ff(this))},u.Qa=function(E){this.g&&(this.response=E,Ff(this))},u.ga=function(){this.g&&Ff(this)},u.setRequestHeader=function(E,V){this.u.append(E,V)},u.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],V=this.h.entries();for(var Q=V.next();!Q.done;)E.push((Q=Q.value)[0]+": "+Q[1]),Q=V.next();return E.join("\r\n")},Object.defineProperty(Y_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),xt(qi,Ss);var Ch=/^https?$/i,Q_=["POST","PUT"];function wh(E,V){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=V,E.m=5,Mm(E),cu(E)}function Mm(E){E.A||(E.A=!0,Ls(E,"complete"),Ls(E,"error"))}function J_(E){if(E.h&&typeof T<"u"&&(!E.v[1]||4!=lu(E)||2!=E.Z()))if(E.u&&4==lu(E))Yy(E.Ea,0,E);else if(Ls(E,"readystatechange"),4==lu(E)){E.h=!1;try{const hn=E.Z();e:switch(hn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var Q;if(!(Q=V)){var he;if(he=0===hn){var at=String(E.D).match(ed)[1]||null;!at&&R.self&&R.self.location&&(at=R.self.location.protocol.slice(0,-1)),he=!Ch.test(at?at.toLowerCase():"")}Q=he}if(Q)Ls(E,"complete"),Ls(E,"success");else{E.m=6;try{var Ct=2<lu(E)?E.g.statusText:""}catch{Ct=""}E.l=Ct+" ["+E.Z()+"]",Mm(E)}}finally{cu(E)}}}function cu(E,V){if(E.g){X_(E);const Q=E.g,he=E.v[0]?()=>{}:null;E.g=null,E.v=null,V||Ls(E,"ready");try{Q.onreadystatechange=he}catch{}}}function X_(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function lu(E){return E.g?E.g.readyState:0}function pv(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ah(E,V,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[E]||V}function ug(E){this.Aa=0,this.i=[],this.j=new Dc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ah("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ah("baseRetryDelayMs",5e3,E),this.cb=Ah("retryDelaySeedMs",1e4,E),this.Wa=Ah("forwardChannelMaxRetries",2,E),this.wa=Ah("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new z_(E&&E.concurrentRequestLimit),this.Da=new nE,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vf(E){if(gv(E),3==E.G){var V=E.U++,Q=Sc(E.I);if(yi(Q,"SID",E.K),yi(Q,"RID",V),yi(Q,"TYPE","terminate"),Uf(E,Q),(V=new ml(E,E.j,V)).L=2,V.v=ou(Sc(Q)),Q=!1,R.navigator&&R.navigator.sendBeacon)try{Q=R.navigator.sendBeacon(V.v.toString(),"")}catch{}!Q&&R.Image&&((new Image).src=V.v,Q=!0),Q||(V.g=Iv(V.j,null),V.g.ea(V.v)),V.F=Date.now(),wm(V)}Nm(E)}function ey(E){E.g&&(xm(E),E.g.cancel(),E.g=null)}function gv(E){ey(E),E.u&&(R.clearTimeout(E.u),E.u=null),Om(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Pm(E){if(!eE(E.h)&&!E.s){E.s=!0;var V=E.Ga;ph||Zp(),uo||(ph(),uo=!0),Ju.add(V,E),E.B=0}}function mv(E,V){var Q;Q=V?V.l:E.U++;const he=Sc(E.I);yi(he,"SID",E.K),yi(he,"RID",Q),yi(he,"AID",E.T),Uf(E,he),E.m&&E.o&&id(he,E.m,E.o),Q=new ml(E,E.j,Q,E.B+1),null===E.m&&(Q.H=E.o),V&&(E.i=V.D.concat(E.i)),V=_v(E,Q,1e3),Q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),q_(E.h,Q),$_(Q,he,V)}function Uf(E,V){E.H&&yr(E.H,function(Q,he){yi(V,he,Q)}),E.l&&fo({},function(Q,he){yi(V,he,Q)})}function _v(E,V,Q){Q=Math.min(E.i.length,Q);var he=E.l?Ne(E.l.Na,E.l,E):null;e:{var at=E.i;let Ct=-1;for(;;){const hn=["count="+Q];-1==Ct?0<Q?(Ct=at[0].g,hn.push("ofs="+Ct)):Ct=0:hn.push("ofs="+Ct);let wi=!0;for(let Vs=0;Vs<Q;Vs++){let ti=at[Vs].g;const Zs=at[Vs].map;if(ti-=Ct,0>ti)Ct=Math.max(0,at[Vs].g-100),wi=!1;else try{BE(Zs,hn,"req"+ti+"_")}catch{he&&he(Zs)}}if(wi){he=hn.join("&");break e}}}return E=E.i.splice(0,Q),V.D=E,he}function yv(E){if(!E.g&&!E.u){E.Y=1;var V=E.Fa;ph||Zp(),uo||(ph(),uo=!0),Ju.add(V,E),E.v=0}}function Rm(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=ig(Ne(E.Fa,E),Ev(E,E.v)),E.v++,0))}function xm(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function ny(E){E.g=new ml(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var V=Sc(E.qa);yi(V,"RID","rpc"),yi(V,"SID",E.K),yi(V,"AID",E.T),yi(V,"CI",E.F?"0":"1"),!E.F&&E.ja&&yi(V,"TO",E.ja),yi(V,"TYPE","xmlhttp"),Uf(E,V),E.m&&E.o&&id(V,E.m,E.o),E.L&&(E.g.I=E.L);var Q=E.g;E=E.ia,Q.L=1,Q.v=ou(Sc(V)),Q.m=null,Q.P=!0,rv(Q,E)}function Om(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function vv(E,V){var Q=null;if(E.g==V){Om(E),xm(E),E.g=null;var he=2}else{if(!G_(E.h,V))return;Q=V.D,Dm(E.h,V),he=1}if(0!=E.G)if(V.o)if(1==he){Q=V.m?V.m.length:0,V=Date.now()-V.F;var at=E.B;Ls(he=ng(),new Xy(he,Q)),Pm(E)}else yv(E);else if(3==(at=V.s)||0==at&&0<V.X||!(1==he&&function ty(E,V){return!(ag(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=V.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=ig(Ne(E.Ga,E,V),Ev(E,E.B)),E.B++,0)))}(E,V)||2==he&&Rm(E)))switch(Q&&0<Q.length&&(V=E.h,V.i=V.i.concat(Q)),at){case 1:sd(E,5);break;case 4:sd(E,10);break;case 3:sd(E,6);break;default:sd(E,2)}}function Ev(E,V){let Q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Q*=2),Q*V}function sd(E,V){if(E.j.info("Error code "+V),2==V){var Q=Ne(E.fb,E),he=E.Xa;const at=!he;he=new qs(he||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||iu(he,"https"),ou(he),at?function VE(E,V){const Q=new Dc;if(R.Image){const he=new Image;he.onload=ot(nd,Q,"TestLoadImage: loaded",!0,V,he),he.onerror=ot(nd,Q,"TestLoadImage: error",!1,V,he),he.onabort=ot(nd,Q,"TestLoadImage: abort",!1,V,he),he.ontimeout=ot(nd,Q,"TestLoadImage: timeout",!1,V,he),R.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=E}else V(!1)}(he.toString(),Q):function UE(E,V){new Dc;const he=new AbortController,at=setTimeout(()=>{he.abort(),nd(0,0,!1,V)},1e4);fetch(E,{signal:he.signal}).then(Ct=>{clearTimeout(at),nd(0,0,!!Ct.ok,V)}).catch(()=>{clearTimeout(at),nd(0,0,!1,V)})}(he.toString(),Q)}else Co(2);E.G=0,E.l&&E.l.sa(V),Nm(E),gv(E)}function Nm(E){if(E.G=0,E.ka=[],E.l){const V=cv(E.h);(0!=V.length||0!=E.i.length)&&(Bt(E.ka,V),Bt(E.ka,E.i),E.h.i.length=0,Kt(E.i),E.i.length=0),E.l.ra()}}function km(E,V,Q){var he=Q instanceof qs?Sc(Q):new qs(Q);if(""!=he.g)V&&(he.g=V+"."+he.g),su(he,he.s);else{var at=R.location;he=at.protocol,V=V?V+"."+at.hostname:at.hostname,at=+at.port;var Ct=new qs(null);he&&iu(Ct,he),V&&(Ct.g=V),at&&su(Ct,at),Q&&(Ct.l=Q),he=Ct}return V=E.ya,(Q=E.D)&&V&&yi(he,Q,V),yi(he,"VER",E.la),Uf(E,he),he}function Iv(E,V,Q){if(V&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new qi(E.Ca&&!E.pa?new lg({eb:Q}):E.pa)).Ha(E.J),V}function dg(){}function Dh(){}function Ho(E,V){Ss.call(this),this.g=new ug(V),this.l=E,this.h=V&&V.messageUrlParams||null,E=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(E?E["X-WebChannel-Content-Type"]=V.messageContentType:E={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(E?E["X-WebChannel-Client-Profile"]=V.va:E={"X-WebChannel-Client-Profile":V.va}),this.g.S=E,(E=V&&V.Sb)&&!zn(E)&&(this.g.m=E),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!zn(V)&&(this.g.D=V,null!==(E=this.h)&&V in E&&V in(E=this.h)&&delete E[V]),this.j=new Bf(this)}function ry(E){tg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var V=E.__sm__;if(V){e:{for(const Q in V){E=Q;break e}E=void 0}(this.i=E)&&(E=this.i,V=null!==V&&E in V?V[E]:void 0),this.data=V}else this.data=E}function Tv(){Im.call(this),this.status=1}function Bf(E){this.g=E}(u=qi.prototype).Ha=function(E){this.J=E},u.ea=function(E,V,Q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);V=V?V.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():j_.g(),this.v=function Jy(E){return E.h||(E.h=E.i())}(this.o?this.o:j_),this.g.onreadystatechange=Ne(this.Ea,this);try{this.B=!0,this.g.open(V,String(E),!0),this.B=!1}catch(Ct){return void wh(this,Ct)}if(E=Q||"",Q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var at in he)Q.set(at,he[at]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const Ct of he.keys())Q.set(Ct,he.get(Ct))}he=Array.from(Q.keys()).find(Ct=>"content-type"==Ct.toLowerCase()),at=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Q_,V,void 0))||he||at||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,hn]of Q)this.g.setRequestHeader(Ct,hn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{X_(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ct){wh(this,Ct)}},u.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Ls(this,"complete"),Ls(this,"abort"),cu(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),qi.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?J_(this):this.bb())},u.bb=function(){J_(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<lu(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(E){if(this.g){var V=this.g.responseText;return E&&0==V.indexOf(E)&&(V=V.substring(E.length)),eg(V)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=ug.prototype).la=8,u.G=1,u.connect=function(E,V,Q,he){Co(0),this.W=E,this.H=V||{},Q&&void 0!==he&&(this.H.OSID=Q,this.H.OAID=he),this.F=this.X,this.I=km(this,null,this.W),Pm(this)},u.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const at=new ml(this,this.j,E);let Ct=this.o;if(this.S&&(Ct?(Ct=Se(Ct),Qe(Ct,this.S)):Ct=this.S),null!==this.m||this.O||(at.H=Ct,Ct=null),this.P)e:{for(var V=0,Q=0;Q<this.i.length;Q++){var he=this.i[Q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(V+=he)){V=Q;break e}if(4096===V||Q===this.i.length-1){V=Q+1;break e}}V=1e3}else V=1e3;V=_v(this,at,V),yi(Q=Sc(this.I),"RID",E),yi(Q,"CVER",22),this.D&&yi(Q,"X-HTTP-Session-Id",this.D),Uf(this,Q),Ct&&(this.O?V="headers="+encodeURIComponent(String(Lf(Ct)))+"&"+V:this.m&&id(Q,this.m,Ct)),q_(this.h,at),this.Ua&&yi(Q,"TYPE","init"),this.P?(yi(Q,"$req",V),yi(Q,"SID","null"),at.T=!0,$_(at,Q,null)):$_(at,Q,V),this.G=2}}else 3==this.G&&(E?mv(this,E):0==this.i.length||eE(this.h)||mv(this))},u.Fa=function(){if(this.u=null,ny(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=ig(Ne(this.ab,this),E)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Co(10),ey(this),ny(this))},u.Za=function(){null!=this.C&&(this.C=null,ey(this),Rm(this),Co(19))},u.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Co(2)):(this.j.info("Failed to ping google.com"),Co(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=dg.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},Dh.prototype.g=function(E,V){return new Ho(E,V)},xt(Ho,Ss),Ho.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ho.prototype.close=function(){Vf(this.g)},Ho.prototype.o=function(E){var V=this.g;if("string"==typeof E){var Q={};Q.__data__=E,E=Q}else this.u&&((Q={}).__data__=nu(E),E=Q);V.i.push(new class{constructor(E,V){this.g=E,this.map=V}}(V.Ya++,E)),3==V.G&&Pm(V)},Ho.prototype.N=function(){this.g.l=null,delete this.j,Vf(this.g),delete this.g,Ho.aa.N.call(this)},xt(ry,tg),xt(Tv,Im),xt(Bf,dg),Bf.prototype.ua=function(){Ls(this.g,"a")},Bf.prototype.ta=function(E){Ls(this.g,new ry(E))},Bf.prototype.sa=function(E){Ls(this.g,new Tv)},Bf.prototype.ra=function(){Ls(this.g,"b")},Dh.prototype.createWebChannel=Dh.prototype.g,Ho.prototype.send=Ho.prototype.o,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,qe=se.createWebChannelTransport=function(){return new Dh},nn=se.getStatEventTarget=function(){return ng()},Et=se.Event=vh,wt=se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,ft=se.ErrorCode=sg,tv.COMPLETE="complete",mt=se.EventType=tv,V_.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Ss.prototype.listen=Ss.prototype.K,rt=se.WebChannel=V_,st=se.FetchXmlHttpFactory=lg,qi.prototype.listenOnce=qi.prototype.L,qi.prototype.getLastError=qi.prototype.Ka,qi.prototype.getLastErrorCode=qi.prototype.Ba,qi.prototype.getStatus=qi.prototype.Z,qi.prototype.getResponseJson=qi.prototype.Oa,qi.prototype.getResponseText=qi.prototype.oa,qi.prototype.send=qi.prototype.ea,qi.prototype.setWithCredentials=qi.prototype.Ha,ye=se.XhrIo=qi}).apply(typeof te<"u"?te:typeof self<"u"?self:typeof window<"u"?window:{});const Fe="@firebase/firestore";class it{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let ze="10.12.1";const ct=new Ie.Yd("@firebase/firestore");function At(){return ct.logLevel}function kt(u){ct.setLogLevel(u)}function ve(u,...e){if(ct.logLevel<=Ie.in.DEBUG){const r=e.map(hr);ct.debug(`Firestore (${ze}): ${u}`,...r)}}function jt(u,...e){if(ct.logLevel<=Ie.in.ERROR){const r=e.map(hr);ct.error(`Firestore (${ze}): ${u}`,...r)}}function an(u,...e){if(ct.logLevel<=Ie.in.WARN){const r=e.map(hr);ct.warn(`Firestore (${ze}): ${u}`,...r)}}function hr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Rt(u="Unexpected state"){const e=`FIRESTORE (${ze}) INTERNAL ASSERTION FAILED: `+u;throw jt(e),new Error(e)}function qt(u,e){u||Rt()}function cn(u,e){u||Rt()}function lt(u,e){return u}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ke{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Je{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class ut{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class It{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let d=this.i;const y=K=>this.i!==d?(d=this.i,r(K)):Promise.resolve();let T=new ke;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new ke,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=T;e.enqueueRetryable((0,g.Z)(function*(){yield K.promise,yield y(s.currentUser)}))},L=K=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new ke)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt("string"==typeof s.accessToken),new Je(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new it(e)}}class Gt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $t{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Gt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=y=>{null!=y.error&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const T=y.token!==this.R;return this.R=y.token,ve("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const d=y=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>d(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?d(y):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(qt("string"==typeof r.token),this.R=r.token,new Zt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cn(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class Mn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const d=Cn(40);for(let y=0;y<d.length;++y)s.length<20&&d[y]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[y]%62))}return s}}function Wt(u,e){return u<e?-1:u>e?1:0}function Dn(u,e,r){return u.length===e.length&&u.every((s,d)=>r(s,e[d]))}function ar(u){return u+"\0"}class Gn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Gn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Gn(0,0))}static max(){return new Lt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Rt(),void 0===s?s=e.length-r:s>e.length-r&&Rt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Lr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let d=0;d<s;d++){const y=e.get(d),T=r.get(d);if(y<T)return-1;if(y>T)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class In extends Lr{construct(e,r,s){return new In(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(d=>d.length>0))}return new In(r)}static emptyPath(){return new In([])}}const Dr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Lr{construct(e,r,s){return new Qn(e,r,s)}static isValidIdentifier(e){return Dr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const r=[];let s="",d=0;const y=()=>{if(0===s.length)throw new fe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let T=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new fe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[d+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new fe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,d+=2}else"`"===R?(T=!T,d++):"."!==R||T?(s+=R,d++):(y(),d++)}if(y(),T)throw new fe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(r)}static emptyPath(){return new Qn([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(In.fromString(e))}static fromName(e){return new Vt(In.fromString(e).popFirst(5))}static empty(){return new Vt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return In.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new In(e.slice()))}}class Tn{constructor(e,r,s,d){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=d}}function xn(u){return u.fields.find(e=>2===e.kind)}function On(u){return u.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Er{constructor(e,r){this.fieldPath=e,this.kind=r}}class $n{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new $n(0,rn.min())}}function Hr(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,d=Lt.fromTimestamp(1e9===s?new Gn(r+1,0):new Gn(r,s));return new rn(d,Vt.empty(),e)}function fi(u){return new rn(u.readTime,u.key,-1)}class rn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new rn(Lt.min(),Vt.empty(),-1)}static max(){return new rn(Lt.max(),Vt.empty(),-1)}}function pi(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Vt.comparator(u.documentKey,e.documentKey),0!==r?r:Wt(u.largestBatchId,e.largestBatchId))}const nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cr(u){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(u){if(u.code!==Re.FAILED_PRECONDITION||u.message!==nr)throw u;ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new He((s,d)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,d)},this.catchCallback=y=>{this.wrapFailure(r,y).next(s,d)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof He?r:He.resolve(r)}catch(r){return He.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):He.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):He.reject(r)}static resolve(e){return new He((r,s)=>{r(e)})}static reject(e){return new He((r,s)=>{s(e)})}static waitFor(e){return new He((r,s)=>{let d=0,y=0,T=!1;e.forEach(R=>{++d,R.next(()=>{++y,T&&y===d&&r()},L=>s(L))}),T=!0,y===d&&r()})}static or(e){let r=He.resolve(!1);for(const s of e)r=r.next(d=>d?He.resolve(d):s());return r}static forEach(e,r){const s=[];return e.forEach((d,y)=>{s.push(r.call(this,d,y))}),this.waitFor(s)}static mapArray(e,r){return new He((s,d)=>{const y=e.length,T=new Array(y);let R=0;for(let L=0;L<y;L++){const K=L;r(e[K]).next(oe=>{T[K]=oe,++R,R===y&&s(T)},oe=>d(oe))}})}static doWhile(e,r){return new He((s,d)=>{const y=()=>{!0===e()?r().next(()=>{y()},d):s()};y()})}}class vt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ke,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new zt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const d=re(s.target.error);this.V.reject(new zt(e,d))}}static open(e,r,s,d){try{return new vt(r,e.transaction(d,s))}catch(y){throw new zt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ci(r)}}class ae{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ae.S((0,_e.z$)())&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ve("SimpleDb","Removing database:",e),Ir(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(ae.C())return!0;const e=(0,_e.z$)(),r=ae.S(e),s=0<r&&r<10,d=be(e),y=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,g.Z)(function*(){return r.db||(ve("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,d)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=T=>{s(T.target.result)},y.onblocked=()=>{d(new zt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=T=>{const R=T.target.error;d("VersionError"===R.name?new fe(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new fe(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new zt(e,R))},y.onupgradeneeded=T=>{ve("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',T.oldVersion),r.p.O(T.target.result,y.transaction,T.oldVersion,r.version).next(()=>{ve("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,d){var y=this;return(0,g.Z)(function*(){const T="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const L=vt.open(y.db,e,T?"readonly":"readwrite",s),K=d(L).next(oe=>(L.g(),oe)).catch(oe=>(L.abort(oe),He.reject(oe))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,oe="FirebaseError"!==K.name&&R<3;if(ve("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function be(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class yt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ir(this.B.delete())}}class zt extends fe{constructor(e,r){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Nn(u){return"IndexedDbTransactionError"===u.name}class ci{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(ve("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ir(s)}add(e){return ve("SimpleDb","ADD",this.store.name,e,e),Ir(this.store.add(e))}get(e){return Ir(this.store.get(e)).next(r=>(void 0===r&&(r=null),ve("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ve("SimpleDb","DELETE",this.store.name,e),Ir(this.store.delete(e))}count(){return ve("SimpleDb","COUNT",this.store.name),Ir(this.store.count())}U(e,r){const s=this.options(e,r),d=s.index?this.store.index(s.index):this.store;if("function"==typeof d.getAll){const y=d.getAll(s.range);return new He((T,R)=>{y.onerror=L=>{R(L.target.error)},y.onsuccess=L=>{T(L.target.result)}})}{const y=this.cursor(s),T=[];return this.W(y,(R,L)=>{T.push(L)}).next(()=>T)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new He((d,y)=>{s.onerror=T=>{y(T.target.error)},s.onsuccess=T=>{d(T.target.result)}})}j(e,r){ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const d=this.cursor(s);return this.W(d,(y,T,R)=>R.delete())}J(e,r){let s;r?s=e:(s={},r=e);const d=this.cursor(s);return this.W(d,r)}Y(e){const r=this.cursor({});return new He((s,d)=>{r.onerror=y=>{const T=re(y.target.error);d(T)},r.onsuccess=y=>{const T=y.target.result;T?e(T.primaryKey,T.value).next(R=>{R?T.continue():s()}):s()}})}W(e,r){const s=[];return new He((d,y)=>{e.onerror=T=>{y(T.target.error)},e.onsuccess=T=>{const R=T.target.result;if(!R)return void d();const L=new yt(R),K=r(R.primaryKey,R.value,L);if(K instanceof He){const oe=K.catch(ge=>(L.done(),He.reject(ge)));s.push(oe)}L.isDone?d():null===L.K?R.continue():R.continue(L.K)}}).next(()=>He.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ir(u){return new He((e,r)=>{u.onsuccess=s=>{e(s.target.result)},u.onerror=s=>{const d=re(s.target.error);r(d)}})}let xe=!1;function re(u){const e=ae.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const s=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xe||(xe=!0,setTimeout(()=>{throw s},0)),s}}return u}class q{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ve("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){r.task=null;try{ve("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Nn(s)?ve("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Cr(s)}yield r.X(6e4)}))}}class H{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,g.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let d=r,y=!0;return He.doWhile(()=>!0===y&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!s.has(T))return ve("IndexBackfiller",`Processing collection: ${T}`),this.ne(e,T,d).next(R=>{d-=R,s.add(T)});y=!1})).next(()=>r-d)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(d=>this.localStore.localDocuments.getNextDocuments(e,r,d,s).next(y=>{const T=y.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.re(d,y)).next(R=>(ve("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>T.size)}))}re(e,r){let s=e;return r.changes.forEach((d,y)=>{const T=fi(y);pi(T,s)>0&&(s=T)}),new rn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let B=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=d=>this.ie(d),this.se=d=>s.writeSequenceNumber(d))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function pe(u){return null==u}function Be(u){return 0===u&&1/u==-1/0}function bt(u){return"number"==typeof u&&Number.isInteger(u)&&!Be(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Ot(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=Xt(e)),e=sn(u.get(r),e);return Xt(e)}function sn(u,e){let r=e;const s=u.length;for(let d=0;d<s;d++){const y=u.charAt(d);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function Xt(u){return u+"\x01\x01"}function ln(u){const e=u.length;if(qt(e>=2),2===e)return qt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),In.emptyPath();const r=e-2,s=[];let d="";for(let y=0;y<e;){const T=u.indexOf("\x01",y);switch((T<0||T>r)&&Rt(),u.charAt(T+1)){case"\x01":const R=u.substring(y,T);let L;0===d.length?L=R:(d+=R,L=d,d=""),s.push(L);break;case"\x10":d+=u.substring(y,T),d+="\0";break;case"\x11":d+=u.substring(y,T+1);break;default:Rt()}y=T+2}return new In(s)}const Zn=["userId","batchId"];function Oe(u,e){return[u,Ot(e)]}function we(u,e,r){return[u,Ot(e),r]}const Ve={},St=["prefixPath","collectionGroup","readTime","documentId"],Ut=["prefixPath","collectionGroup","documentId"],un=["collectionGroup","readTime","prefixPath","documentId"],Qt=["canonicalId","targetId"],cr=["targetId","path"],dn=["path","targetId"],nt=["collectionId","parent"],We=["indexId","uid"],Tt=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wn=["indexId","uid","orderedDocumentKey"],Sn=["userId","collectionPath","documentId"],yn=["userId","collectionPath","largestBatchId"],Ln=["userId","collectionGroup","largestBatchId"],wr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ai=[...wr,"documentOverlays"],Wr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rr=Wr,Ii=[...rr,"indexConfiguration","indexState","indexEntries"],cs=Ii;class Ji extends Sr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Vr(u,e){const r=lt(u);return ae.F(r._e,e)}function Do(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function ls(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function xc(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class Kr{constructor(e,r){this.comparator=e,this.root=r||Pi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return r+s.left.size;d<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,r,s,d){this.isReverse=d,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?s(e.key,r):1,r&&d&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,r,s,d,y){this.key=e,this.value=r,this.color=s??Pi.RED,this.left=d??Pi.EMPTY,this.right=y??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,d,y){return new Pi(e??this.key,r??this.value,s??this.color,d??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let d=this;const y=s(e,d.key);return d=y<0?d.copy(null,null,null,d.left.insert(e,r,s),null):0===y?d.copy(null,r,null,null,null):d.copy(null,null,null,null,d.right.insert(e,r,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,d=this;if(r(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,r),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===r(e,d.key)){if(d.right.isEmpty())return Pi.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,r))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(e,r,s,d,y){return this}insert(e,r,s){return new Pi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;r(d.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new wa(this.data.getIterator())}getIteratorFrom(e){return new wa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(0!==this.comparator(d,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new $r(this.comparator);return r.data=e,r}}class wa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Us(u){return u.hasNext()?u.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new $r(Qn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Xi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Aa(){return typeof atob<"u"}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(d){try{return atob(d)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Xi("Invalid base64 string: "+y):y}}(e);return new Ei(r)}static fromUint8Array(e){const r=function(d){let y="";for(let T=0;T<d.length;++T)y+=String.fromCharCode(d[T]);return y}(e);return new Ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const Da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(u){if(qt(!!u),"string"==typeof u){let e=0;const r=Da.exec(u);if(qt(!!r),r[1]){let d=r[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gi(u.seconds),nanos:gi(u.nanos)}}function gi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Ts(u){return"string"==typeof u?Ei.fromBase64String(u):Ei.fromUint8Array(u)}function Ys(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function So(u){const e=u.mapValue.fields.__previous_value__;return Ys(e)?So(e):e}function es(u){const e=Is(u.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class $o{constructor(e,r,s,d,y,T,R,L,K){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=d,this.ssl=y,this.forceLongPolling=T,this.autoDetectLongPolling=R,this.longPollingOptions=L,this.useFetchStreams=K}}class Un{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Un("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Un&&e.projectId===this.projectId&&e.database===this.database}}const Ur={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ni={nullValue:"NULL_VALUE"};function ji(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Ys(u)?4:Ar(u)?9007199254740991:10:Rt()}function zr(u,e){if(u===e)return!0;const r=ji(u);if(r!==ji(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return es(u).isEqual(es(e));case 3:return function(d,y){if("string"==typeof d.timestampValue&&"string"==typeof y.timestampValue&&d.timestampValue.length===y.timestampValue.length)return d.timestampValue===y.timestampValue;const T=Is(d.timestampValue),R=Is(y.timestampValue);return T.seconds===R.seconds&&T.nanos===R.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return y=e,Ts(u.bytesValue).isEqual(Ts(y.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(d,y){return gi(d.geoPointValue.latitude)===gi(y.geoPointValue.latitude)&&gi(d.geoPointValue.longitude)===gi(y.geoPointValue.longitude)}(u,e);case 2:return function(d,y){if("integerValue"in d&&"integerValue"in y)return gi(d.integerValue)===gi(y.integerValue);if("doubleValue"in d&&"doubleValue"in y){const T=gi(d.doubleValue),R=gi(y.doubleValue);return T===R?Be(T)===Be(R):isNaN(T)&&isNaN(R)}return!1}(u,e);case 9:return Dn(u.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(d,y){const T=d.mapValue.fields||{},R=y.mapValue.fields||{};if(Do(T)!==Do(R))return!1;for(const L in T)if(T.hasOwnProperty(L)&&(void 0===R[L]||!zr(T[L],R[L])))return!1;return!0}(u,e);default:return Rt()}var y}function ts(u,e){return void 0!==(u.values||[]).find(r=>zr(r,e))}function Hi(u,e){if(u===e)return 0;const r=ji(u),s=ji(e);if(r!==s)return Wt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wt(u.booleanValue,e.booleanValue);case 2:return function(y,T){const R=gi(y.integerValue||y.doubleValue),L=gi(T.integerValue||T.doubleValue);return R<L?-1:R>L?1:R===L?0:isNaN(R)?isNaN(L)?0:-1:1}(u,e);case 3:return zo(u.timestampValue,e.timestampValue);case 4:return zo(es(u),es(e));case 5:return Wt(u.stringValue,e.stringValue);case 6:return function(y,T){const R=Ts(y),L=Ts(T);return R.compareTo(L)}(u.bytesValue,e.bytesValue);case 7:return function(y,T){const R=y.split("/"),L=T.split("/");for(let K=0;K<R.length&&K<L.length;K++){const oe=Wt(R[K],L[K]);if(0!==oe)return oe}return Wt(R.length,L.length)}(u.referenceValue,e.referenceValue);case 8:return function(y,T){const R=Wt(gi(y.latitude),gi(T.latitude));return 0!==R?R:Wt(gi(y.longitude),gi(T.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return function(y,T){const R=y.values||[],L=T.values||[];for(let K=0;K<R.length&&K<L.length;++K){const oe=Hi(R[K],L[K]);if(oe)return oe}return Wt(R.length,L.length)}(u.arrayValue,e.arrayValue);case 10:return function(y,T){if(y===Ur.mapValue&&T===Ur.mapValue)return 0;if(y===Ur.mapValue)return 1;if(T===Ur.mapValue)return-1;const R=y.fields||{},L=Object.keys(R),K=T.fields||{},oe=Object.keys(K);L.sort(),oe.sort();for(let ge=0;ge<L.length&&ge<oe.length;++ge){const Ne=Wt(L[ge],oe[ge]);if(0!==Ne)return Ne;const ot=Hi(R[L[ge]],K[oe[ge]]);if(0!==ot)return ot}return Wt(L.length,oe.length)}(u.mapValue,e.mapValue);default:throw Rt()}}function zo(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return Wt(u,e);const r=Is(u),s=Is(e),d=Wt(r.seconds,s.seconds);return 0!==d?d:Wt(r.nanos,s.nanos)}function ns(u){return Bs(u)}function Bs(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=Is(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Ts(u.bytesValue).toBase64():"referenceValue"in u?Vt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",d=!0;for(const y of r.values||[])d?d=!1:s+=",",s+=Bs(y);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",y=!0;for(const T of s)y?y=!1:d+=",",d+=`${T}:${Bs(r.fields[T])}`;return d+"}"}(u.mapValue):Rt()}function on(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function qn(u){return!!u&&"integerValue"in u}function Mr(u){return!!u&&"arrayValue"in u}function Di(u){return!!u&&"nullValue"in u}function Qs(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Xr(u){return!!u&&"mapValue"in u}function us(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return ls(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=us(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=us(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Ar(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function ds(u){return"nullValue"in u?ni:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?on(Un.empty(),Vt.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Rt()}function mo(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?on(Un.empty(),Vt.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?Ur:Rt()}function Wn(u,e){const r=Hi(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function hs(u,e){const r=Hi(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Xr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(r)}setAll(e){let r=Qn.emptyPath(),s={},d=[];e.forEach((T,R)=>{if(!r.isImmediateParentOf(R)){const L=this.getFieldsMap(r);this.applyChanges(L,s,d),s={},d=[],r=R.popLast()}T?s[R.lastSegment()]=us(T):d.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,s,d)}delete(e){const r=this.field(e.popLast());Xr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=r.mapValue.fields[e.get(s)];Xr(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=d),r=d}return r.mapValue.fields}applyChanges(e,r,s){ls(r,(d,y)=>e[d]=y);for(const d of s)delete e[d]}clone(){return new kr(us(this.value))}}function Ni(u){const e=[];return ls(u.fields,(r,s)=>{const d=new Qn([r]);if(Xr(s)){const y=Ni(s.mapValue).fields;if(0===y.length)e.push(d);else for(const T of y)e.push(d.child(T))}else e.push(d)}),new Bi(e)}class Bn{constructor(e,r,s,d,y,T,R){this.key=e,this.documentType=r,this.version=s,this.readTime=d,this.createTime=y,this.data=T,this.documentState=R}static newInvalidDocument(e){return new Bn(e,0,Lt.min(),Lt.min(),Lt.min(),kr.empty(),0)}static newFoundDocument(e,r,s,d){return new Bn(e,1,r,Lt.min(),s,d,0)}static newNoDocument(e,r){return new Bn(e,2,r,Lt.min(),Lt.min(),kr.empty(),0)}static newUnknownDocument(e,r){return new Bn(e,3,r,Lt.min(),Lt.min(),kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fs{constructor(e,r){this.position=e,this.inclusive=r}}function Si(u,e,r){let s=0;for(let d=0;d<u.position.length;d++){const y=e[d],T=u.position[d];if(s=y.field.isKeyField()?Vt.comparator(Vt.fromName(T.referenceValue),r.key):Hi(T,r.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function ps(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!zr(u.position[r],e.position[r]))return!1;return!0}class Ms{constructor(e,r="asc"){this.field=e,this.dir=r}}function Nc(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class js{}class Xn extends js{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new qo(e,r,s):"array-contains"===r?new $i(e,s):"in"===r?new Ya(e,s):"not-in"===r?new Ps(e,s):"array-contains-any"===r?new Js(e,s):new Xn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new li(e,s):new Ma(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Hi(r,this.value)):null!==r&&ji(this.value)===ji(r)&&this.matchesComparison(Hi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends js{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fr(e,r)}matches(e){return _o(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _o(u){return"and"===u.op}function lr(u){return"or"===u.op}function Sa(u){return rs(u)&&_o(u)}function rs(u){for(const e of u.filters)if(e instanceof fr)return!1;return!0}function ki(u){if(u instanceof Xn)return u.field.canonicalString()+u.op.toString()+ns(u.value);if(Sa(u))return u.filters.map(e=>ki(e)).join(",");{const e=u.filters.map(r=>ki(r)).join(",");return`${u.op}(${e})`}}function bs(u,e){return u instanceof Xn?(s=u,(d=e)instanceof Xn&&s.op===d.op&&s.field.isEqual(d.field)&&zr(s.value,d.value)):u instanceof fr?function(s,d){return d instanceof fr&&s.op===d.op&&s.filters.length===d.filters.length&&s.filters.reduce((y,T,R)=>y&&bs(T,d.filters[R]),!0)}(u,e):void Rt();var s,d}function Cs(u,e){const r=u.filters.concat(e);return fr.create(r,u.op)}function Go(u){return u instanceof Xn?`${(r=u).field.canonicalString()} ${r.op} ${ns(r.value)}`:u instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(Go).join(" ,")+"}"}(u):"Filter";var r}class qo extends Xn{constructor(e,r,s){super(e,r,s),this.key=Vt.fromName(s.referenceValue)}matches(e){const r=Vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class li extends Xn{constructor(e,r){super(e,"in",r),this.keys=ui(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ma extends Xn{constructor(e,r){super(e,"not-in",r),this.keys=ui(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ui(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Vt.fromName(s.referenceValue))}class $i extends Xn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Mr(r)&&ts(r.arrayValue,this.value)}}class Ya extends Xn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ts(this.value.arrayValue,r)}}class Ps extends Xn{constructor(e,r){super(e,"not-in",r)}matches(e){if(ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ts(this.value.arrayValue,r)}}class Js extends Xn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Mr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>ts(this.value.arrayValue,s))}}class Fi{constructor(e,r=null,s=[],d=[],y=null,T=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=d,this.limit=y,this.startAt=T,this.endAt=R,this.ue=null}}function aa(u,e=null,r=[],s=[],d=null,y=null,T=null){return new Fi(u,e,r,s,d,y,T)}function is(u){const e=lt(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>ki(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(y=s).field.canonicalString()+y.dir;var y}).join(","),pe(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ns(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ns(s)).join(",")),e.ue=r}return e.ue}function Xs(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Nc(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!bs(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!ps(u.startAt,e.startAt)&&ps(u.endAt,e.endAt)}function Qa(u){return Vt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function Zo(u,e){return u.filters.filter(r=>r instanceof Xn&&r.field.isEqual(e))}function W(u,e,r){let s=ni,d=!0;for(const y of Zo(u,e)){let T=ni,R=!0;switch(y.op){case"<":case"<=":T=ds(y.value);break;case"==":case"in":case">=":T=y.value;break;case">":T=y.value,R=!1;break;case"!=":case"not-in":T=ni}Wn({value:s,inclusive:d},{value:T,inclusive:R})<0&&(s=T,d=R)}if(null!==r)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(e)){const T=r.position[y];Wn({value:s,inclusive:d},{value:T,inclusive:r.inclusive})<0&&(s=T,d=r.inclusive);break}return{value:s,inclusive:d}}function X(u,e,r){let s=Ur,d=!0;for(const y of Zo(u,e)){let T=Ur,R=!0;switch(y.op){case">=":case">":T=mo(y.value),R=!1;break;case"==":case"in":case"<=":T=y.value;break;case"<":T=y.value,R=!1;break;case"!=":case"not-in":T=Ur}hs({value:s,inclusive:d},{value:T,inclusive:R})>0&&(s=T,d=R)}if(null!==r)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(e)){const T=r.position[y];hs({value:s,inclusive:d},{value:T,inclusive:r.inclusive})>0&&(s=T,d=r.inclusive);break}return{value:s,inclusive:d}}class F{constructor(e,r=null,s=[],d=[],y=null,T="F",R=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=d,this.limit=y,this.limitType=T,this.startAt=R,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function le(u,e,r,s,d,y,T,R){return new F(u,e,r,s,d,y,T,R)}function Ce(u){return new F(u)}function bn(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ur(u){return null!==u.collectionGroup}function Zi(u){const e=lt(u);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(T){let R=new $r(Qn.comparator);return T.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Ms(y,s))}),r.has(Qn.keyField().canonicalString())||e.ce.push(new Ms(Qn.keyField(),s))}return e.ce}function ri(u){const e=lt(u);return e.le||(e.le=function Il(u,e){if("F"===u.limitType)return aa(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(d=>new Ms(d.field,"desc"===d.dir?"asc":"desc"));const r=u.endAt?new fs(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new fs(u.startAt.position,u.startAt.inclusive):null;return aa(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,Zi(u))),e.le}function Ja(u,e){const r=u.filters.concat([e]);return new F(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function Xa(u,e,r){return new F(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function Ra(u,e){return Xs(ri(u),ri(e))&&u.limitType===e.limitType}function kc(u){return`${is(ri(u))}|lt:${u.limitType}`}function ec(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(d=>Go(d)).join(", ")}]`),pe(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(d=>{return`${(T=d).field.canonicalString()} (${T.dir})`;var T}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(d=>ns(d)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(d=>ns(d)).join(",")),`Target(${s})`}(ri(u))}; limitType=${u.limitType})`}function ca(u,e){return e.isFoundDocument()&&function(s,d){const y=d.key.path;return null!==s.collectionGroup?d.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(y):Vt.isDocumentKey(s.path)?s.path.isEqual(y):s.path.isImmediateParentOf(y)}(u,e)&&function(s,d){for(const y of Zi(s))if(!y.field.isKeyField()&&null===d.data.field(y.field))return!1;return!0}(u,e)&&function(s,d){for(const y of s.filters)if(!y.matches(d))return!1;return!0}(u,e)&&(d=e,!((s=u).startAt&&!function(T,R,L){const K=Si(T,R,L);return T.inclusive?K<=0:K<0}(s.startAt,Zi(s),d)||s.endAt&&!function(T,R,L){const K=Si(T,R,L);return T.inclusive?K>=0:K>0}(s.endAt,Zi(s),d)));var s,d}function Fc(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Hs(u){return(e,r)=>{let s=!1;for(const d of Zi(u)){const y=eo(d,e,r);if(0!==y)return y;s=s||d.field.isKeyField()}return 0}}function eo(u,e,r){const s=u.field.isKeyField()?Vt.comparator(e.key,r.key):function(y,T,R){const L=T.data.field(y),K=R.data.field(y);return null!==L&&null!==K?Hi(L,K):Rt()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return Rt()}}class Wi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[d,y]of s)if(this.equalsFn(d,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,r]],void this.innerSize++;for(let y=0;y<d.length;y++)if(this.equalsFn(d[y][0],e))return void(d[y]=[e,r]);d.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[r]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(r,s)=>{for(const[d,y]of s)e(d,y)})}isEmpty(){return xc(this.inner)}size(){return this.innerSize}}const dd=new Kr(Vt.comparator);function Pr(){return dd}const la=new Kr(Vt.comparator);function Li(...u){let e=la;for(const r of u)e=e.insert(r.key,r);return e}function hu(u){let e=la;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function $s(){return no()}function to(){return no()}function no(){return new Wi(u=>u.toString(),(u,e)=>u.isEqual(e))}const Mo=new Kr(Vt.comparator),xa=new $r(Vt.comparator);function sr(...u){let e=xa;for(const r of u)e=e.add(r);return e}const Lc=new $r(Wt);function Vc(){return Lc}function tc(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Be(e)?"-0":e}}function nc(u){return{integerValue:""+u}}function Oa(u,e){return bt(e)?nc(e):tc(u,e)}class Wo{constructor(){this._=void 0}}function Po(u,e,r){return u instanceof Uc?function(d,y){const T={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return y&&Ys(y)&&(y=So(y)),y&&(T.fields.__previous_value__=y),{mapValue:T}}(r,e):u instanceof Ko?Mh(u,e):u instanceof Ro?hd(u,e):function(d,y){const T=Tl(d,y),R=ic(T)+ic(d.Pe);return qn(T)&&qn(d.Pe)?nc(R):tc(d.serializer,R)}(u,e)}function rc(u,e,r){return u instanceof Ko?Mh(u,e):u instanceof Ro?hd(u,e):r}function Tl(u,e){return u instanceof Na?qn(s=e)||(y=s)&&"doubleValue"in y?e:{integerValue:0}:null;var s,y}class Uc extends Wo{}class Ko extends Wo{constructor(e){super(),this.elements=e}}function Mh(u,e){const r=bl(e);for(const s of u.elements)r.some(d=>zr(d,s))||r.push(s);return{arrayValue:{values:r}}}class Ro extends Wo{constructor(e){super(),this.elements=e}}function hd(u,e){let r=bl(e);for(const s of u.elements)r=r.filter(d=>!zr(d,s));return{arrayValue:{values:r}}}class Na extends Wo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ic(u){return gi(u.integerValue||u.doubleValue)}function bl(u){return Mr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class ka{constructor(e,r){this.field=e,this.transform=r}}class Bc{constructor(e,r){this.version=e,this.transformResults=r}}class ei{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class ne{}function j(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new Yr(u.key,ei.none()):new _n(u.key,u.data,ei.none());{const r=u.data,s=kr.empty();let d=new $r(Qn.comparator);for(let y of e.fields)if(!d.has(y)){let T=r.field(y);null===T&&y.length>1&&(y=y.popLast(),T=r.field(y)),null===T?s.delete(y):s.set(y,T),d=d.add(y)}return new Rr(u.key,s,new Bi(d.toArray()),ei.none())}}function J(u,e,r){u instanceof _n?function(d,y,T){const R=d.value.clone(),L=Br(d.fieldTransforms,y,T.transformResults);R.setAll(L),y.convertToFoundDocument(T.version,R).setHasCommittedMutations()}(u,e,r):u instanceof Rr?function(d,y,T){if(!P(d.precondition,y))return void y.convertToUnknownDocument(T.version);const R=Br(d.fieldTransforms,y,T.transformResults),L=y.data;L.setAll(Gr(d)),L.setAll(R),y.convertToFoundDocument(T.version,L).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Te(u,e,r,s){return u instanceof _n?function(y,T,R,L){if(!P(y.precondition,T))return R;const K=y.value.clone(),oe=pr(y.fieldTransforms,L,T);return K.setAll(oe),T.convertToFoundDocument(T.version,K).setHasLocalMutations(),null}(u,e,r,s):u instanceof Rr?function(y,T,R,L){if(!P(y.precondition,T))return R;const K=pr(y.fieldTransforms,L,T),oe=T.data;return oe.setAll(Gr(y)),oe.setAll(K),T.convertToFoundDocument(T.version,oe).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ge=>ge.field))}(u,e,r,s):(R=r,P(u.precondition,T=e)?(T.convertToNoDocument(T.version).setHasLocalMutations(),null):R);var T,R}function _t(u,e){let r=null;for(const s of u.fieldTransforms){const d=e.data.field(s.field),y=Tl(s.transform,d||null);null!=y&&(null===r&&(r=kr.empty()),r.set(s.field,y))}return r||null}function Mt(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(d=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===d||s&&d&&Dn(s,d,(y,T)=>function fd(u,e){return u.field.isEqual(e.field)&&(d=e.transform,(s=u.transform)instanceof Ko&&d instanceof Ko||s instanceof Ro&&d instanceof Ro?Dn(s.elements,d.elements,zr):s instanceof Na&&d instanceof Na?zr(s.Pe,d.Pe):s instanceof Uc&&d instanceof Uc);var s,d}(y,T))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,d}class _n extends ne{constructor(e,r,s,d=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Rr extends ne{constructor(e,r,s,d,y=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=d,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Gr(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function Br(u,e,r){const s=new Map;qt(u.length===r.length);for(let d=0;d<r.length;d++){const y=u[d],T=y.transform,R=e.data.field(y.field);s.set(y.field,rc(T,R,r[d]))}return s}function pr(u,e,r){const s=new Map;for(const d of u){const y=d.transform,T=r.data.field(d.field);s.set(d.field,Po(y,T,e))}return s}class Yr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fr extends ne{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ri{constructor(e,r,s,d){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let d=0;d<this.mutations.length;d++){const y=this.mutations[d];y.key.isEqual(e.key)&&J(y,e,s[d])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Te(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Te(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=to();return this.mutations.forEach(d=>{const y=e.get(d.key),T=y.overlayedDocument;let R=this.applyToLocalView(T,y.mutatedFields);R=r.has(d.key)?null:R;const L=j(T,R);null!==L&&s.set(d.key,L),T.isValidDocument()||T.convertToNoDocument(Lt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),sr())}isEqual(e){return this.batchId===e.batchId&&Dn(this.mutations,e.mutations,(r,s)=>Mt(r,s))&&Dn(this.baseMutations,e.baseMutations,(r,s)=>Mt(r,s))}}class ss{constructor(e,r,s,d){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=d}static from(e,r,s){qt(e.mutations.length===s.length);let d=Mo;const y=e.mutations;for(let T=0;T<y.length;T++)d=d.insert(y[T].key,s[T].version);return new ss(e,r,s,d)}}class Ki{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rs{constructor(e,r){this.count=e,this.unchangedNames=r}}var ii,Jn;function Qo(u){switch(u){default:return Rt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function zs(u){if(void 0===u)return jt("GRPC error has no .code"),Re.UNKNOWN;switch(u){case ii.OK:return Re.OK;case ii.CANCELLED:return Re.CANCELLED;case ii.UNKNOWN:return Re.UNKNOWN;case ii.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case ii.INTERNAL:return Re.INTERNAL;case ii.UNAVAILABLE:return Re.UNAVAILABLE;case ii.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case ii.NOT_FOUND:return Re.NOT_FOUND;case ii.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case ii.ABORTED:return Re.ABORTED;case ii.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case ii.DATA_LOSS:return Re.DATA_LOSS;default:return Rt()}}(Jn=ii||(ii={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";function ua(){return new TextEncoder}const xo=new De([4294967295,4294967295],0);function ws(u){const e=ua().encode(u),r=new $e;return r.update(e),new Uint8Array(r.digest())}function fu(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),d=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new De([r,s],0),new De([d,y],0)]}class Cl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Jo(`Invalid padding: ${r}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Jo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Jo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=De.fromNumber(this.Ie)}Ee(e,r,s){let d=e.add(r.multiply(De.fromNumber(s)));return 1===d.compare(xo)&&(d=new De([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=ws(e),[s,d]=fu(r);for(let y=0;y<this.hashCount;y++){const T=this.Ee(s,d,y);if(!this.de(T))return!1}return!0}static create(e,r,s){const d=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),T=new Cl(y,d,r);return s.forEach(R=>T.insert(R)),T}insert(e){if(0===this.Ie)return;const r=ws(e),[s,d]=fu(r);for(let y=0;y<this.hashCount;y++){const T=this.Ee(s,d,y);this.Ae(T)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class As{constructor(e,r,s,d,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const d=new Map;return d.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new As(Lt.min(),d,new Kr(Wt),Pr(),sr())}}class jc{constructor(e,r,s,d,y){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new jc(s,r,sr(),sr(),sr())}}class sc{constructor(e,r,s,d){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=d}}class pu{constructor(e,r){this.targetId=e,this.me=r}}class ro{constructor(e,r,s=Ei.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=d}}class Oo{constructor(){this.fe=0,this.ge=Ph(),this.pe=Ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sr(),r=sr(),s=sr();return this.ge.forEach((d,y)=>{switch(y){case 0:e=e.add(d);break;case 2:r=r.add(d);break;case 1:s=s.add(d);break;default:Rt()}}),new jc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Ph()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class No{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=pd(),this.Qe=new Kr(Wt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Rt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,d)=>{this.ze(d)&&r(d)})}He(e){const r=e.targetId,s=e.me.count,d=this.Je(r);if(d){const y=d.target;if(Qa(y))if(0===s){const T=new Vt(y.path);this.Ue(r,T,Bn.newNoDocument(T,Lt.min()))}else qt(1===s);else{const T=this.Ye(r);if(T!==s){const R=this.Ze(e),L=R?this.Xe(R,e,T):1;0!==L&&(this.je(r),this.Qe=this.Qe.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:d=0},hashCount:y=0}=r;let T,R;try{T=Ts(s).toUint8Array()}catch(L){if(L instanceof Xi)return an("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{R=new Cl(T,d,y)}catch(L){return an(L instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===R.Ie?null:R}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let d=0;return s.forEach(y=>{const T=this.Le.tt(),R=`projects/${T.projectId}/databases/${T.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),d++)}),d}rt(e){const r=new Map;this.Be.forEach((y,T)=>{const R=this.Je(T);if(R){if(y.current&&Qa(R.target)){const L=new Vt(R.target.path);null!==this.ke.get(L)||this.it(T,L)||this.Ue(T,L,Bn.newNoDocument(L,e))}y.be&&(r.set(T,y.Ce()),y.ve())}});let s=sr();this.qe.forEach((y,T)=>{let R=!0;T.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(s=s.add(y))}),this.ke.forEach((y,T)=>T.setReadTime(e));const d=new As(e,r,this.Qe,this.ke,s);return this.ke=Pr(),this.qe=pd(),this.Qe=new Kr(Wt),d}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const d=this.Ge(e);this.it(e,r)?d.Fe(r,1):d.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Oo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new $r(Wt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Oo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pd(){return new Kr(Vt.comparator)}function Ph(){return new Kr(Vt.comparator)}const qf={asc:"ASCENDING",desc:"DESCENDING"},Hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},er={and:"AND",or:"OR"};class gd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Hc(u,e){return u.useProto3Json||pe(e)?e:{value:e}}function Fa(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rh(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function md(u,e){return Fa(u,e.toTimestamp())}function Ti(u){return qt(!!u),Lt.fromTimestamp(function(r){const s=Is(r);return new Gn(s.seconds,s.nanos)}(u))}function La(u,e){return xh(u,e).canonicalString()}function xh(u,e){const r=(d=u,new In(["projects",d.projectId,"databases",d.database])).child("documents");var d;return void 0===e?r:r.child(e)}function Zf(u){const e=In.fromString(u);return qt(Ee(e)),e}function _d(u,e){return La(u.databaseId,e.path)}function ko(u,e){const r=Zf(e);if(r.get(1)!==u.databaseId.projectId)throw new fe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new fe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Vt(yd(r))}function pg(u,e){return La(u.databaseId,e)}function Nt(u){const e=Zf(u);return 4===e.length?In.emptyPath():yd(e)}function Nr(u){return new In(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function yd(u){return qt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function oc(u,e,r){return{name:_d(u,e),fields:r.value.mapValue.fields}}function os(u,e,r){const s=ko(u,e.name),d=Ti(e.updateTime),y=e.createTime?Ti(e.createTime):Lt.min(),T=new kr({mapValue:{fields:e.fields}}),R=Bn.newFoundDocument(s,d,y,T);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function gs(u,e){let r;if(e instanceof _n)r={update:oc(u,e.key,e.value)};else if(e instanceof Yr)r={delete:_d(u,e.key)};else if(e instanceof Rr)r={update:oc(u,e.key,e.data),updateMask:ce(e.fieldMask)};else{if(!(e instanceof Fr))return Rt();r={verify:_d(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(y,T){const R=T.transform;if(R instanceof Uc)return{fieldPath:T.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Ko)return{fieldPath:T.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Ro)return{fieldPath:T.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Na)return{fieldPath:T.field.canonicalString(),increment:R.Pe};throw Rt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:md(u,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Rt()),r;var y}function $c(u,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?ei.updateTime(Ti(y.updateTime)):void 0!==y.exists?ei.exists(y.exists):ei.none():ei.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(T,R){let L=null;"setToServerValue"in R?(qt("REQUEST_TIME"===R.setToServerValue),L=new Uc):"appendMissingElements"in R?L=new Ko(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new Ro(R.removeAllFromArray.values||[]):"increment"in R?L=new Na(T,R.increment):Rt();const K=Qn.fromServerFormat(R.fieldPath);return new ka(K,L)}(u,d)):[];var y;if(e.update){const d=ko(u,e.update.name),y=new kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new Bi((e.updateMask.fieldPaths||[]).map(oe=>Qn.fromServerFormat(oe)));return new Rr(d,y,T,r,s)}return new _n(d,y,r,s)}if(e.delete){const d=ko(u,e.delete);return new Yr(d,r)}if(e.verify){const d=ko(u,e.verify);return new Fr(d,r)}return Rt()}function vd(u,e){return{documents:[pg(u,e.path)]}}function Ed(u,e){const r={structuredQuery:{}},s=e.path;let d;null!==e.collectionGroup?(d=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=pg(u,d);const y=function(K){if(0!==K.length)return z(fr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const T=function(K){if(0!==K.length)return K.map(oe=>{return{field:w((Ne=oe).field),direction:da(Ne.dir)};var Ne})}(e.orderBy);T&&(r.structuredQuery.orderBy=T);const R=Hc(u,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:d};var K}function xs(u){let e=Nt(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let d=null;if(s>0){qt(1===s);const oe=r.from[0];oe.allDescendants?d=oe.collectionId:e=e.child(oe.collectionId)}let y=[];r.where&&(y=function(ge){const Ne=Id(ge);return Ne instanceof fr&&Sa(Ne)?Ne.getFilters():[Ne]}(r.where));let T=[];r.orderBy&&(T=r.orderBy.map(Ne=>{return new Ms(N((xt=Ne).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let R=null;r.limit&&(R=function(ge){let Ne;return Ne="object"==typeof ge?ge.value:ge,pe(Ne)?null:Ne}(r.limit));let L=null;var ge;r.startAt&&(L=new fs((ge=r.startAt).values||[],!!ge.before));let K=null;return r.endAt&&(K=function(ge){return new fs(ge.values||[],!ge.before)}(r.endAt)),le(e,d,T,y,R,"F",L,K)}function Id(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Xn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const d=N(r.unaryFilter.field);return Xn.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=N(r.unaryFilter.field);return Xn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const T=N(r.unaryFilter.field);return Xn.create(T,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(u):void 0!==u.fieldFilter?Xn.create(N((r=u).fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return fr.create(r.compositeFilter.filters.map(s=>Id(s)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return Rt()}}(r.compositeFilter.op))}(u):Rt();var r}function da(u){return qf[u]}function S(u){return Hm[u]}function O(u){return er[u]}function w(u){return{fieldPath:u.canonicalString()}}function N(u){return Qn.fromServerFormat(u.fieldPath)}function z(u){return u instanceof Xn?function(r){if("=="===r.op){if(Qs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Di(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Qs(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Di(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(u):u instanceof fr?function(r){const s=r.getFilters().map(d=>z(d));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(u):Rt()}function ce(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ee(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class ht{constructor(e,r,s,d,y=Lt.min(),T=Lt.min(),R=Ei.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=R,this.expectedCount=L}withSequenceNumber(e){return new ht(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ht(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pt{constructor(e){this.ct=e}}function _r(u,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:qr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:_d(y=u.ct,(T=e).key),fields:T.data.value.mapValue.fields,updateTime:Fa(y,T.version.toTimestamp()),createTime:Fa(y,T.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:or(e.version)};else{if(!e.isUnknownDocument())return Rt();s.unknownDocument={path:r.path.toArray(),version:or(e.version)}}var y,T;return s}function qr(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function or(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ms(u){const e=new Gn(u.seconds,u.nanoseconds);return Lt.fromTimestamp(e)}function Gs(u,e){const r=(e.baseMutations||[]).map(y=>$c(u.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const s=e.mutations.map(y=>$c(u.ct,y)),d=Gn.fromMillis(e.localWriteTimeMs);return new Ri(e.batchId,d,r,s)}function io(u){const e=ms(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?ms(u.lastLimboFreeSnapshotVersion):Lt.min();let s;return s=void 0!==u.query.documents?(qt(1===(y=u.query).documents.length),ri(Ce(Nt(y.documents[0])))):function(y){return ri(xs(y))}(u.query),new ht(s,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Ei.fromBase64String(u.resumeToken));var y}function cc(u,e){const r=or(e.snapshotVersion),s=or(e.lastLimboFreeSnapshotVersion);let d;d=Qa(e.target)?vd(u.ct,e.target):Ed(u.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:is(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function so(u){const e=xs({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Xa(e,e.limit,"L"):e}function mu(u,e){return new Ki(e.largestBatchId,$c(u.ct,e.overlayMutation))}function _s(u,e){const r=e.path.lastSegment();return[u,Ot(e.path.popLast()),r]}function zc(u,e,r,s){return{indexId:u,uid:e,sequenceNumber:r,readTime:or(s.readTime),documentKey:Ot(s.documentKey.path),largestBatchId:s.largestBatchId}}class di{getBundleMetadata(e,r){return Wf(e).get(r).next(s=>{if(s)return{id:(y=s).bundleId,createTime:ms(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return Wf(e).put({bundleId:(d=r).id,createTime:or(Ti(d.createTime)),version:d.version});var d}getNamedQuery(e,r){return Al(e).get(r).next(s=>{if(s)return{name:(y=s).name,query:so(y.bundledQuery),readTime:ms(y.readTime)};var y})}saveNamedQuery(e,r){return Al(e).put({name:(d=r).name,readTime:or(Ti(d.readTime)),bundledQuery:d.bundledQuery});var d}}function Wf(u){return Vr(u,"bundles")}function Al(u){return Vr(u,"namedQueries")}class _u{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new _u(e,r.uid||"")}getOverlay(e,r){return yu(e).get(_s(this.userId,r)).next(s=>s?mu(this.serializer,s):null)}getOverlays(e,r){const s=$s();return He.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){const d=[];return s.forEach((y,T)=>{const R=new Ki(r,T);d.push(this.ht(e,R))}),He.waitFor(d)}removeOverlaysForBatchId(e,r,s){const d=new Set;r.forEach(T=>d.add(Ot(T.getCollectionPath())));const y=[];return d.forEach(T=>{const R=IDBKeyRange.bound([this.userId,T,s],[this.userId,T,s+1],!1,!0);y.push(yu(e).j("collectionPathOverlayIndex",R))}),He.waitFor(y)}getOverlaysForCollection(e,r,s){const d=$s(),y=Ot(r),T=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return yu(e).U("collectionPathOverlayIndex",T).next(R=>{for(const L of R){const K=mu(this.serializer,L);d.set(K.getKey(),K)}return d})}getOverlaysForCollectionGroup(e,r,s,d){const y=$s();let T;const R=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return yu(e).J({index:"collectionGroupOverlayIndex",range:R},(L,K,oe)=>{const ge=mu(this.serializer,K);y.size()<d||ge.largestBatchId===T?(y.set(ge.getKey(),ge),T=ge.largestBatchId):oe.done()}).next(()=>y)}ht(e,r){return yu(e).put(function(d,y,T){const[R,L,K]=_s(y,T.mutation.key);return{userId:y,collectionPath:L,documentId:K,collectionGroup:T.mutation.key.getCollectionGroup(),largestBatchId:T.largestBatchId,overlayMutation:gs(d.ct,T.mutation)}}(this.serializer,this.userId,r))}}function yu(u){return Vr(u,"documentOverlays")}class ha{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(gi(e.integerValue));else if("doubleValue"in e){const s=gi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Be(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Is(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ts(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Ar(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Rt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const d of Object.keys(s))this.Rt(d,r),this.It(s[d],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const d of s)this.It(d,r)}gt(e,r){this.Et(r,37),Vt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Oh(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function Xo(u){const e=64-function(s){let d=0;for(let y=0;y<8;++y){const T=Oh(255&s[y]);if(d+=T,8!==T)break}return d}(u);return Math.ceil(e/8)}ha.bt=new ha;class fa{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const d=r.codePointAt(0);this.Ct(240|d>>>18),this.Ct(128|63&d>>>12),this.Ct(128|63&d>>>6),this.Ct(128|63&d)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const d=r.codePointAt(0);this.Mt(240|d>>>18),this.Mt(128|63&d>>>12),this.Mt(128|63&d>>>6),this.Mt(128|63&d)}}this.xt()}Lt(e){const r=this.Bt(e),s=Xo(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=255&r[d]}qt(e){const r=this.Bt(e),s=Xo(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let d=r.length-s;d<r.length;++d)this.buffer[this.position++]=~(255&r[d])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(y){const T=new DataView(new ArrayBuffer(8));return T.setFloat64(0,y,!1),new Uint8Array(T.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let d=1;d<r.length;++d)r[d]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class Nh{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class kh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class yo{constructor(){this.Gt=new fa,this.zt=new Nh(this.Gt),this.jt=new kh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ea{constructor(e,r,s,d){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=d}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,s)}}function Lo(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=Kf(u.arrayValue,e.arrayValue),0!==r?r:(r=Kf(u.directionalValue,e.directionalValue),0!==r?r:Vt.comparator(u.documentKey,e.documentKey)))}function Kf(u,e){for(let r=0;r<u.length&&r<e.length;++r){const s=u[r]-e[r];if(0!==s)return s}return u.length-e.length}class Td{constructor(e){this.Yt=new $r((r,s)=>Qn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(qt(e.collectionGroup===this.collectionId),this.en)return!1;const r=xn(e);if(void 0!==r&&!this.nn(r))return!1;const s=On(e);let d=new Set,y=0,T=0;for(;y<s.length&&this.nn(s[y]);++y)d=d.add(s[y].fieldPath.canonicalString());if(y===s.length)return!0;if(this.Yt.size>0){const R=this.Yt.getIterator().getNext();if(!d.has(R.field.canonicalString())){const L=s[y];if(!this.rn(R,L)||!this.sn(this.Zt[T++],L))return!1}++y}for(;y<s.length;++y)if(T>=this.Zt.length||!this.sn(this.Zt[T++],s[y]))return!1;return!0}on(){if(this.en)return null;let e=new $r(Qn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Er(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Er(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Er(s.field,"asc"===s.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,r,$n.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function bd(u){var e,r;if(qt(u instanceof Xn||u instanceof fr),u instanceof Xn){if(u instanceof Ya){const d=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Xn.create(u.field,"==",y)))||[];return fr.create(d,"or")}return u}const s=u.filters.map(d=>bd(d));return fr.create(s,u.op)}function lc(u){if(0===u.getFilters().length)return[];const e=pa(bd(u));return qt($m(e)),Dl(e)||Cd(e)?[e]:e.getFilters()}function Dl(u){return u instanceof Xn}function Cd(u){return u instanceof fr&&Sa(u)}function $m(u){return Dl(u)||Cd(u)||function(r){if(r instanceof fr&&lr(r)){for(const s of r.getFilters())if(!Dl(s)&&!Cd(s))return!1;return!0}return!1}(u)}function pa(u){if(qt(u instanceof Xn||u instanceof fr),u instanceof Xn)return u;if(1===u.filters.length)return pa(u.filters[0]);const e=u.filters.map(s=>pa(s));let r=fr.create(e,u.op);return r=Fh(r),$m(r)?r:(qt(r instanceof fr),qt(_o(r)),qt(r.filters.length>1),r.filters.reduce((s,d)=>wd(s,d)))}function wd(u,e){let r;return qt(u instanceof Xn||u instanceof fr),qt(e instanceof Xn||e instanceof fr),r=u instanceof Xn?e instanceof Xn?fr.create([u,e],"and"):gg(u,e):e instanceof Xn?gg(e,u):function(d,y){if(qt(d.filters.length>0&&y.filters.length>0),_o(d)&&_o(y))return Cs(d,y.getFilters());const T=lr(d)?d:y,R=lr(d)?y:d,L=T.filters.map(K=>wd(K,R));return fr.create(L,"or")}(u,e),Fh(r)}function gg(u,e){if(_o(e))return Cs(e,u.getFilters());{const r=e.filters.map(s=>wd(u,s));return fr.create(r,"or")}}function Fh(u){if(qt(u instanceof Xn||u instanceof fr),u instanceof Xn)return u;const e=u.getFilters();if(1===e.length)return Fh(e[0]);if(rs(u))return u;const r=e.map(d=>Fh(d)),s=[];return r.forEach(d=>{d instanceof Xn?s.push(d):d instanceof fr&&(d.op===u.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:fr.create(s,u.op)}class hy{constructor(){this._n=new Lh}addToCollectionParentIndex(e,r){return this._n.add(r),He.resolve()}getCollectionParents(e,r){return He.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return He.resolve()}deleteFieldIndex(e,r){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,r){return He.resolve()}getDocumentsMatchingTarget(e,r){return He.resolve(null)}getIndexType(e,r){return He.resolve(0)}getFieldIndexes(e,r){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,r){return He.resolve(rn.min())}getMinOffsetFromCollectionGroup(e,r){return He.resolve(rn.min())}updateCollectionGroup(e,r,s){return He.resolve()}updateIndexEntries(e,r){return He.resolve()}}class Lh{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r]||new $r(In.comparator),y=!d.has(s);return this.index[r]=d.add(s),y}has(e){const r=e.lastSegment(),s=e.popLast(),d=this.index[r];return d&&d.has(s)}getEntries(e){return(this.index[e]||new $r(In.comparator)).toArray()}}const Sl=new Uint8Array(0);class vu{constructor(e,r){this.databaseId=r,this.an=new Lh,this.un=new Wi(s=>is(s),(s,d)=>Xs(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),d=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const y={collectionId:s,parent:Ot(d)};return mg(e).put(y)}return He.resolve()}getCollectionParents(e,r){const s=[],d=IDBKeyRange.bound([r,""],[ar(r),""],!1,!0);return mg(e).U(d).next(y=>{for(const T of y){if(T.collectionId!==r)break;s.push(ln(T.parent))}return s})}addFieldIndex(e,r){const s=Ml(e),d={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var R;delete d.indexId;const y=s.add(d);if(r.indexState){const T=ga(e);return y.next(R=>{T.put(zc(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const s=Ml(e),d=ga(e),y=ta(e);return s.delete(r.indexId).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ml(e),s=ta(e),d=ga(e);return r.j().next(()=>s.j()).next(()=>d.j())}createTargetIndexes(e,r){return He.forEach(this.cn(r),s=>this.getIndexType(e,s).next(d=>{if(0===d||1===d){const y=new Td(s).on();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const s=ta(e);let d=!0;const y=new Map;return He.forEach(this.cn(r),T=>this.ln(e,T).next(R=>{d&&(d=!!R),y.set(T,R)})).next(()=>{if(d){let T=sr();const R=[];return He.forEach(y,(L,K)=>{var kn;ve("IndexedDbIndexManager",`Using index ${kn=L,`id=${kn.indexId}|cg=${kn.collectionGroup}|f=${kn.fields.map(Kn=>`${Kn.fieldPath}:${Kn.kind}`).join(",")}`} to execute ${is(r)}`);const oe=function(kn,Kn){const Zr=xn(Kn);if(void 0===Zr)return null;for(const yr of Zo(kn,Zr.fieldPath))switch(yr.op){case"array-contains-any":return yr.value.arrayValue.values||[];case"array-contains":return[yr.value]}return null}(K,L),ge=function(kn,Kn){const Zr=new Map;for(const yr of On(Kn))for(const Ye of Zo(kn,yr.fieldPath))switch(Ye.op){case"==":case"in":Zr.set(yr.fieldPath.canonicalString(),Ye.value);break;case"not-in":case"!=":return Zr.set(yr.fieldPath.canonicalString(),Ye.value),Array.from(Zr.values())}return null}(K,L),Ne=function(kn,Kn){const Zr=[];let yr=!0;for(const Ye of On(Kn)){const Se=0===Ye.kind?W(kn,Ye.fieldPath,kn.startAt):X(kn,Ye.fieldPath,kn.startAt);Zr.push(Se.value),yr&&(yr=Se.inclusive)}return new fs(Zr,yr)}(K,L),ot=function(kn,Kn){const Zr=[];let yr=!0;for(const Ye of On(Kn)){const Se=0===Ye.kind?X(kn,Ye.fieldPath,kn.endAt):W(kn,Ye.fieldPath,kn.endAt);Zr.push(Se.value),yr&&(yr=Se.inclusive)}return new fs(Zr,yr)}(K,L),xt=this.hn(L,K,Ne),Kt=this.hn(L,K,ot),Bt=this.Pn(L,K,ge),Pn=this.In(L.indexId,oe,xt,Ne.inclusive,Kt,ot.inclusive,Bt);return He.forEach(Pn,zn=>s.G(zn,r.limit).next(kn=>{kn.forEach(Kn=>{const Zr=Vt.fromSegments(Kn.documentKey);T.has(Zr)||(T=T.add(Zr),R.push(Zr))})}))}).next(()=>R)}return He.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:lc(fr.create(e.filters,"and")).map(s=>aa(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,d,y,T,R){const L=(null!=r?r.length:1)*Math.max(s.length,y.length),K=L/(null!=r?r.length:1),oe=[];for(let ge=0;ge<L;++ge){const Ne=r?this.Tn(r[ge/K]):Sl,ot=this.En(e,Ne,s[ge%K],d),xt=this.dn(e,Ne,y[ge%K],T),Kt=R.map(Bt=>this.En(e,Ne,Bt,!0));oe.push(...this.createRange(ot,xt,Kt))}return oe}En(e,r,s,d){const y=new ea(e,Vt.empty(),r,s);return d?y:y.Jt()}dn(e,r,s,d){const y=new ea(e,Vt.empty(),r,s);return d?y.Jt():y}ln(e,r){const s=new Td(r),d=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,d).next(y=>{let T=null;for(const R of y)s.tn(R)&&(!T||R.fields.length>T.fields.length)&&(T=R);return T})}getIndexType(e,r){let s=2;const d=this.cn(r);return He.forEach(d,y=>this.ln(e,y).next(T=>{T?0!==s&&T.fields.length<function(L){let K=new $r(Qn.comparator),oe=!1;for(const ge of L.filters)for(const Ne of ge.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?oe=!0:K=K.add(Ne.field));for(const ge of L.orderBy)ge.field.isKeyField()||(K=K.add(ge.field));return K.size+(oe?1:0)}(y)&&(s=1):s=0})).next(()=>null!==r.limit&&d.length>1&&2===s?1:s)}An(e,r){const s=new yo;for(const d of On(e)){const y=r.data.field(d.fieldPath);if(null==y)return null;const T=s.Ht(d.kind);ha.bt.Pt(y,T)}return s.Wt()}Tn(e){const r=new yo;return ha.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new yo;return ha.bt.Pt(on(this.databaseId,r),s.Ht(function(y){const T=On(y);return 0===T.length?0:T[T.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let d=[];d.push(new yo);let y=0;for(const T of On(e)){const R=s[y++];for(const L of d)if(this.Vn(r,T.fieldPath)&&Mr(R))d=this.mn(d,T,R);else{const K=L.Ht(T.kind);ha.bt.Pt(R,K)}}return this.fn(d)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const d=[...e],y=[];for(const T of s.arrayValue.values||[])for(const R of d){const L=new yo;L.seed(R.Wt()),ha.bt.Pt(T,L.Ht(r.kind)),y.push(L)}return y}Vn(e,r){return!!e.filters.find(s=>s instanceof Xn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Ml(e),d=ga(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(y=>{const T=[];return He.forEach(y,R=>d.get([R.indexId,this.uid]).next(L=>{T.push(function(oe,ge){const Ne=ge?new $n(ge.sequenceNumber,new rn(ms(ge.readTime),new Vt(ln(ge.documentKey)),ge.largestBatchId)):$n.empty(),ot=oe.fields.map(([xt,Kt])=>new Er(Qn.fromServerFormat(xt),Kt));return new Tn(oe.indexId,oe.collectionGroup,ot,Ne)}(R,L))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,d)=>{const y=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==y?y:Wt(s.collectionGroup,d.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const d=Ml(e),y=ga(e);return this.gn(e).next(T=>d.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>He.forEach(R,L=>y.put(zc(L.indexId,this.uid,T,s)))))}updateIndexEntries(e,r){const s=new Map;return He.forEach(r,(d,y)=>{const T=s.get(d.collectionGroup);return(T?He.resolve(T):this.getFieldIndexes(e,d.collectionGroup)).next(R=>(s.set(d.collectionGroup,R),He.forEach(R,L=>this.pn(e,d,L).next(K=>{const oe=this.yn(y,L);return K.isEqual(oe)?He.resolve():this.wn(e,y,L,K,oe)}))))})}Sn(e,r,s,d){return ta(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,d){return ta(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const d=ta(e);let y=new $r(Lo);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(T,R)=>{y=y.add(new ea(s.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}yn(e,r){let s=new $r(Lo);const d=this.An(r,e);if(null==d)return s;const y=xn(r);if(null!=y){const T=e.data.field(y.fieldPath);if(Mr(T))for(const R of T.arrayValue.values||[])s=s.add(new ea(r.indexId,e.key,this.Tn(R),d))}else s=s.add(new ea(r.indexId,e.key,Sl,d));return s}wn(e,r,s,d,y){ve("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const T=[];return function(L,K,oe,ge,Ne){const ot=L.getIterator(),xt=K.getIterator();let Kt=Us(ot),Bt=Us(xt);for(;Kt||Bt;){let Pn=!1,zn=!1;if(Kt&&Bt){const kn=oe(Kt,Bt);kn<0?zn=!0:kn>0&&(Pn=!0)}else null!=Kt?zn=!0:Pn=!0;Pn?(ge(Bt),Bt=Us(xt)):zn?(Ne(Kt),Kt=Us(ot)):(Kt=Us(ot),Bt=Us(xt))}}(d,y,Lo,R=>{T.push(this.Sn(e,r,s,R))},R=>{T.push(this.bn(e,r,s,R))}),He.waitFor(T)}gn(e){let r=1;return ga(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,y)=>{y.done(),r=d.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((T,R)=>Lo(T,R)).filter((T,R,L)=>!R||0!==Lo(T,L[R-1]));const d=[];d.push(e);for(const T of s){const R=Lo(T,e),L=Lo(T,r);if(0===R)d[0]=e.Jt();else if(R>0&&L<0)d.push(T),d.push(T.Jt());else if(L>0)break}d.push(r);const y=[];for(let T=0;T<d.length;T+=2){if(this.Dn(d[T],d[T+1]))return[];y.push(IDBKeyRange.bound([d[T].indexId,this.uid,d[T].arrayValue,d[T].directionalValue,Sl,[]],[d[T+1].indexId,this.uid,d[T+1].arrayValue,d[T+1].directionalValue,Sl,[]]))}return y}Dn(e,r){return Lo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(zm)}getMinOffset(e,r){return He.mapArray(this.cn(r),s=>this.ln(e,s).next(d=>d||Rt())).next(zm)}}function mg(u){return Vr(u,"collectionParents")}function ta(u){return Vr(u,"indexEntries")}function Ml(u){return Vr(u,"indexConfiguration")}function ga(u){return Vr(u,"indexState")}function zm(u){qt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<u.length;s++){const d=u[s].indexState.offset;pi(d,e)<0&&(e=d),r<d.largestBatchId&&(r=d.largestBatchId)}return new rn(e.readTime,e.documentKey,r)}const Ad={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class as{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _g(u,e,r){const s=u.store("mutations"),d=u.store("documentMutations"),y=[],T=IDBKeyRange.only(r.batchId);let R=0;const L=s.J({range:T},(oe,ge,Ne)=>(R++,Ne.delete()));y.push(L.next(()=>{qt(1===R)}));const K=[];for(const oe of r.mutations){const ge=we(e,oe.key.path,r.batchId);y.push(d.delete(ge)),K.push(oe.key)}return He.waitFor(y).next(()=>K)}function Os(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Rt();e=u.noDocument}return JSON.stringify(e).length}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class Vh{constructor(e,r,s,d){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=d,this.Cn={}}static lt(e,r,s,d){qt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Vh(y,r,s,d)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ys(e).J({index:"userMutationsIndex",range:s},(d,y,T)=>{r=!1,T.done()}).next(()=>r)}addMutationBatch(e,r,s,d){const y=ma(e),T=ys(e);return T.add({}).next(R=>{qt("number"==typeof R);const L=new Ri(R,r,s,d),K=function(ot,xt,Kt){const Bt=Kt.baseMutations.map(zn=>gs(ot.ct,zn)),Pn=Kt.mutations.map(zn=>gs(ot.ct,zn));return{userId:xt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:Bt,mutations:Pn}}(this.serializer,this.userId,L),oe=[];let ge=new $r((Ne,ot)=>Wt(Ne.canonicalString(),ot.canonicalString()));for(const Ne of d){const ot=we(this.userId,Ne.key.path,R);ge=ge.add(Ne.key.path.popLast()),oe.push(T.put(K)),oe.push(y.put(ot,Ve))}return ge.forEach(Ne=>{oe.push(this.indexManager.addToCollectionParentIndex(e,Ne))}),e.addOnCommittedListener(()=>{this.Cn[R]=L.keys()}),He.waitFor(oe).next(()=>L)})}lookupMutationBatch(e,r){return ys(e).get(r).next(s=>s?(qt(s.userId===this.userId),Gs(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?He.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const d=s.keys();return this.Cn[r]=d,d}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,d=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return ys(e).J({index:"userMutationsIndex",range:d},(T,R,L)=>{R.userId===this.userId&&(qt(R.batchId>=s),y=Gs(this.serializer,R)),L.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ys(e).J({index:"userMutationsIndex",range:r,reverse:!0},(d,y,T)=>{s=y.batchId,T.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ys(e).U("userMutationsIndex",r).next(s=>s.map(d=>Gs(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Oe(this.userId,r.path),d=IDBKeyRange.lowerBound(s),y=[];return ma(e).J({range:d},(T,R,L)=>{const[K,oe,ge]=T,Ne=ln(oe);if(K===this.userId&&r.path.isEqual(Ne))return ys(e).get(ge).next(ot=>{if(!ot)throw Rt();qt(ot.userId===this.userId),y.push(Gs(this.serializer,ot))});L.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new $r(Wt);const d=[];return r.forEach(y=>{const T=Oe(this.userId,y.path),R=IDBKeyRange.lowerBound(T),L=ma(e).J({range:R},(K,oe,ge)=>{const[Ne,ot,xt]=K,Kt=ln(ot);Ne===this.userId&&y.path.isEqual(Kt)?s=s.add(xt):ge.done()});d.push(L)}),He.waitFor(d).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1,y=Oe(this.userId,s),T=IDBKeyRange.lowerBound(y);let R=new $r(Wt);return ma(e).J({range:T},(L,K,oe)=>{const[ge,Ne,ot]=L,xt=ln(Ne);ge===this.userId&&s.isPrefixOf(xt)?xt.length===d&&(R=R.add(ot)):oe.done()}).next(()=>this.Fn(e,R))}Fn(e,r){const s=[],d=[];return r.forEach(y=>{d.push(ys(e).get(y).next(T=>{if(null===T)throw Rt();qt(T.userId===this.userId),s.push(Gs(this.serializer,T))}))}),He.waitFor(d).next(()=>s)}removeMutationBatch(e,r){return _g(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),He.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return He.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return ma(e).J({range:s},(y,T,R)=>{if(y[0]===this.userId){const L=ln(y[1]);d.push(L)}else R.done()}).next(()=>{qt(0===d.length)})})}containsKey(e,r){return Dd(e,this.userId,r)}xn(e){return Pl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dd(u,e,r){const s=Oe(e,r.path),d=s[1],y=IDBKeyRange.lowerBound(s);let T=!1;return ma(u).J({range:y,H:!0},(R,L,K)=>{const[oe,ge,Ne]=R;oe===e&&ge===d&&(T=!0),K.done()}).next(()=>T)}function ys(u){return Vr(u,"mutations")}function ma(u){return Vr(u,"documentMutations")}function Pl(u){return Vr(u,"mutationQueues")}class uc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new uc(0)}static Ln(){return new uc(-1)}}class Yf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new uc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Lt.fromTimestamp(new Gn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(d=>(d.highestListenSequenceNumber=r,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),r>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=r),this.kn(e,d)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Gc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(qt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let d=0;const y=[];return Gc(e).J((T,R)=>{const L=io(R);L.sequenceNumber<=r&&null===s.get(L.targetId)&&(d++,y.push(this.removeTargetData(e,L)))}).next(()=>He.waitFor(y)).next(()=>d)}forEachTarget(e,r){return Gc(e).J((s,d)=>{const y=io(d);r(y)})}Bn(e){return bi(e).get("targetGlobalKey").next(r=>(qt(null!==r),r))}kn(e,r){return bi(e).put("targetGlobalKey",r)}qn(e,r){return Gc(e).put(cc(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=is(r),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return Gc(e).J({range:d,index:"queryTargetsIndex"},(T,R,L)=>{const K=io(R);Xs(r,K.target)&&(y=K,L.done())}).next(()=>y)}addMatchingKeys(e,r,s){const d=[],y=na(e);return r.forEach(T=>{const R=Ot(T.path);d.push(y.put({targetId:s,path:R})),d.push(this.referenceDelegate.addReference(e,s,T))}),He.waitFor(d)}removeMatchingKeys(e,r,s){const d=na(e);return He.forEach(r,y=>{const T=Ot(y.path);return He.waitFor([d.delete([s,T]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,r){const s=na(e),d=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),d=na(e);let y=sr();return d.J({range:s,H:!0},(T,R,L)=>{const K=ln(T[1]),oe=new Vt(K);y=y.add(oe)}).next(()=>y)}containsKey(e,r){const s=Ot(r.path),d=IDBKeyRange.bound([s],[ar(s)],!1,!0);let y=0;return na(e).J({index:"documentTargetsIndex",H:!0,range:d},([T,R],L,K)=>{0!==T&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return Gc(e).get(r).next(s=>s?io(s):null)}}function Gc(u){return Vr(u,"targets")}function bi(u){return Vr(u,"targetGlobal")}function na(u){return Vr(u,"targetDocuments")}function Rl([u,e],[r,s]){const d=Wt(u,r);return 0===d?Wt(e,s):d}class Uh{constructor(e){this.Kn=e,this.buffer=new $r(Rl),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Rl(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Eu{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Nn(s)?ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Cr(s)}yield r.zn(3e5)}))}}class qc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return He.resolve(B.oe);const s=new Uh(r);return this.jn.forEachTarget(e,d=>s.Wn(d.sequenceNumber)).next(()=>this.jn.Jn(e,d=>s.Wn(d))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(Ad)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ad):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,d,y,T,R,L,K;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),d=this.params.maximumSequenceNumbersToCollect):d=ge,T=Date.now(),this.nthSequenceNumber(e,d))).next(ge=>(s=ge,R=Date.now(),this.removeTargets(e,s,r))).next(ge=>(y=ge,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(K=Date.now(),At()<=Ie.in.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-oe}ms\n\tDetermined least recently used ${d} in `+(R-T)+`ms\n\tRemoved ${y} targets in `+(L-R)+`ms\n\tRemoved ${ge} documents in `+(K-L)+`ms\nTotal Duration: ${K-oe}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:y,documentsRemoved:ge})))}}class Qf{constructor(e,r){this.db=e,this.garbageCollector=function Sd(u,e){return new qc(u,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(d=>s+d))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,d)=>r(d))}addReference(e,r,s){return Iu(e,s)}removeReference(e,r,s){return Iu(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Iu(e,r)}er(e,r){return function(d,y){let T=!1;return Pl(d).Y(R=>Dd(d,R,y).next(L=>(L&&(T=!0),He.resolve(!L)))).next(()=>T)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let y=0;return this.Xn(e,(T,R)=>{if(R<=r){const L=this.er(e,T).next(K=>{if(!K)return y++,s.getEntry(e,T).next(()=>(s.removeEntry(T,Lt.min()),na(e).delete([0,Ot(T.path)])))});d.push(L)}}).next(()=>He.waitFor(d)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Iu(e,r)}Xn(e,r){const s=na(e);let d,y=B.oe;return s.J({index:"documentTargetsIndex"},([T,R],{path:L,sequenceNumber:K})=>{0===T?(y!==B.oe&&r(new Vt(ln(d)),y),y=K,d=L):y=B.oe}).next(()=>{y!==B.oe&&r(new Vt(ln(d)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iu(u,e){return na(u).put((d=u.currentSequenceNumber,{targetId:0,path:Ot(e.path),sequenceNumber:d}));var d}class dc{constructor(){this.changes=new Wi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?He.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return _a(e).put(s)}removeEntry(e,r,s){return _a(e).delete(function(y,T){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],qr(T),R[R.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Bn.newInvalidDocument(r);return _a(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hc(r))},(d,y)=>{s=this.nr(r,y)}).next(()=>s)}rr(e,r){let s={size:0,document:Bn.newInvalidDocument(r)};return _a(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hc(r))},(d,y)=>{s={document:this.nr(r,y),size:Os(y)}}).next(()=>s)}getEntries(e,r){let s=Pr();return this.ir(e,r,(d,y)=>{const T=this.nr(d,y);s=s.insert(d,T)}).next(()=>s)}sr(e,r){let s=Pr(),d=new Kr(Vt.comparator);return this.ir(e,r,(y,T)=>{const R=this.nr(y,T);s=s.insert(y,R),d=d.insert(y,Os(T))}).next(()=>({documents:s,_r:d}))}ir(e,r,s){if(r.isEmpty())return He.resolve();let d=new $r(bu);r.forEach(L=>d=d.add(L));const y=IDBKeyRange.bound(hc(d.first()),hc(d.last())),T=d.getIterator();let R=T.getNext();return _a(e).J({index:"documentKeyIndex",range:y},(L,K,oe)=>{const ge=Vt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&bu(R,ge)<0;)s(R,null),R=T.getNext();R&&R.isEqual(ge)&&(s(R,K),R=T.hasNext()?T.getNext():null),R?oe.$(hc(R)):oe.done()}).next(()=>{for(;R;)s(R,null),R=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,r,s,d,y){const T=r.path,R=[T.popLast().toArray(),T.lastSegment(),qr(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[T.popLast().toArray(),T.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _a(e).U(IDBKeyRange.bound(R,L,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let oe=Pr();for(const ge of K){const Ne=this.nr(Vt.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Ne.isFoundDocument()&&(ca(r,Ne)||d.has(Ne.key))&&(oe=oe.insert(Ne.key,Ne))}return oe})}getAllFromCollectionGroup(e,r,s,d){let y=Pr();const T=jh(r,s),R=jh(r,rn.max());return _a(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,R,!0)},(L,K,oe)=>{const ge=this.nr(Vt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(ge.key,ge),y.size===d&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new Bh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Tu(e).get("remoteDocumentGlobalKey").next(r=>(qt(!!r),r))}tr(e,r){return Tu(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function mn(u,e){let r;if(e.document)r=os(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Vt.fromSegments(e.noDocument.path),d=ms(e.noDocument.readTime);r=Bn.newNoDocument(s,d),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt();{const s=Vt.fromSegments(e.unknownDocument.path),d=ms(e.unknownDocument.version);r=Bn.newUnknownDocument(s,d)}}return e.readTime&&r.setReadTime(function(d){const y=new Gn(d[0],d[1]);return Lt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Lt.min()))return s}return Bn.newInvalidDocument(e)}}function vs(u){return new Jf(u)}class Bh extends dc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Wi(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const r=[];let s=0,d=new $r((y,T)=>Wt(y.canonicalString(),T.canonicalString()));return this.changes.forEach((y,T)=>{const R=this.ur.get(y);if(r.push(this.ar.removeEntry(e,y,R.readTime)),T.isValidDocument()){const L=_r(this.ar.serializer,T);d=d.add(y.path.popLast());const K=Os(L);s+=K-R.size,r.push(this.ar.addEntry(e,y,L))}else if(s-=R.size,this.trackRemovals){const L=_r(this.ar.serializer,T.convertToNoDocument(Lt.min()));r.push(this.ar.addEntry(e,y,L))}}),d.forEach(y=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.ar.updateMetadata(e,s)),He.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:d})=>(d.forEach((y,T)=>{this.ur.set(y,{size:T,readTime:s.get(y).readTime})}),s))}}function Tu(u){return Vr(u,"remoteDocumentGlobal")}function _a(u){return Vr(u,"remoteDocumentsV14")}function hc(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jh(u,e){const r=e.documentKey.path.toArray();return[u,qr(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function bu(u,e){const r=u.path.toArray(),s=e.path.toArray();let d=0;for(let y=0;y<r.length-2&&y<s.length-2;++y)if(d=Wt(r[y],s[y]),d)return d;return d=Wt(r.length,s.length),d||(d=Wt(r[r.length-2],s[s.length-2]),d||Wt(r[r.length-1],s[s.length-1]))}class Zc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class fc{constructor(e,r,s,d){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,r))).next(d=>(null!==s&&Te(s.mutation,d,Bi.empty(),Gn.now()),d))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,sr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=sr()){const d=$s();return this.populateOverlays(e,d,r).next(()=>this.computeViews(e,r,d,s).next(y=>{let T=Li();return y.forEach((R,L)=>{T=T.insert(R,L.overlayedDocument)}),T}))}getOverlayedDocuments(e,r){const s=$s();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,sr()))}populateOverlays(e,r,s){const d=[];return s.forEach(y=>{r.has(y)||d.push(y)}),this.documentOverlayCache.getOverlays(e,d).next(y=>{y.forEach((T,R)=>{r.set(T,R)})})}computeViews(e,r,s,d){let y=Pr();const T=no(),R=no();return r.forEach((L,K)=>{const oe=s.get(K.key);d.has(K.key)&&(void 0===oe||oe.mutation instanceof Rr)?y=y.insert(K.key,K):void 0!==oe?(T.set(K.key,oe.mutation.getFieldMask()),Te(oe.mutation,K,oe.mutation.getFieldMask(),Gn.now())):T.set(K.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,y).next(L=>(L.forEach((K,oe)=>T.set(K,oe)),r.forEach((K,oe)=>{var ge;return R.set(K,new Zc(oe,null!==(ge=T.get(K))&&void 0!==ge?ge:null))}),R))}recalculateAndSaveOverlays(e,r){const s=no();let d=new Kr((T,R)=>T-R),y=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(T=>{for(const R of T)R.keys().forEach(L=>{const K=r.get(L);if(null===K)return;let oe=s.get(L)||Bi.empty();oe=R.applyToLocalView(K,oe),s.set(L,oe);const ge=(d.get(R.batchId)||sr()).add(L);d=d.insert(R.batchId,ge)})}).next(()=>{const T=[],R=d.getReverseIterator();for(;R.hasNext();){const L=R.getNext(),K=L.key,oe=L.value,ge=to();oe.forEach(Ne=>{if(!y.has(Ne)){const ot=j(r.get(Ne),s.get(Ne));null!==ot&&ge.set(Ne,ot),y=y.add(Ne)}}),T.push(this.documentOverlayCache.saveOverlays(e,K,ge))}return He.waitFor(T)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,d){return Vt.isDocumentKey((T=r).path)&&null===T.collectionGroup&&0===T.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ur(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,d):this.getDocumentsMatchingCollectionQuery(e,r,s,d);var T}getNextDocuments(e,r,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,d).next(y=>{const T=d-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,d-y.size):He.resolve($s());let R=-1,L=y;return T.next(K=>He.forEach(K,(oe,ge)=>(R<ge.largestBatchId&&(R=ge.largestBatchId),y.get(oe)?He.resolve():this.remoteDocumentCache.getEntry(e,oe).next(Ne=>{L=L.insert(oe,Ne)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,L,K,sr())).next(oe=>({batchId:R,changes:hu(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Vt(r)).next(s=>{let d=Li();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,r,s,d){const y=r.collectionGroup;let T=Li();return this.indexManager.getCollectionParents(e,y).next(R=>He.forEach(R,L=>{const K=(ge=r,Ne=L.child(y),new F(Ne,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Ne;return this.getDocumentsMatchingCollectionQuery(e,K,s,d).next(oe=>{oe.forEach((ge,Ne)=>{T=T.insert(ge,Ne)})})}).next(()=>T))}getDocumentsMatchingCollectionQuery(e,r,s,d){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(T=>(y=T,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,y,d))).next(T=>{y.forEach((L,K)=>{const oe=K.getKey();null===T.get(oe)&&(T=T.insert(oe,Bn.newInvalidDocument(oe)))});let R=Li();return T.forEach((L,K)=>{const oe=y.get(L);void 0!==oe&&Te(oe.mutation,K,Bi.empty(),Gn.now()),ca(r,K)&&(R=R.insert(L,K))}),R})}}class Va{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return He.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(d=r).id,version:d.version,createTime:Ti(d.createTime)}),He.resolve();var d}getNamedQuery(e,r){return He.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(d=r).name,query:so(d.bundledQuery),readTime:Ti(d.readTime)}),He.resolve();var d}}class fn{constructor(){this.overlays=new Kr(Vt.comparator),this.hr=new Map}getOverlay(e,r){return He.resolve(this.overlays.get(r))}getOverlays(e,r){const s=$s();return He.forEach(r,d=>this.getOverlay(e,d).next(y=>{null!==y&&s.set(d,y)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((d,y)=>{this.ht(e,r,y)}),He.resolve()}removeOverlaysForBatchId(e,r,s){const d=this.hr.get(s);return void 0!==d&&(d.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(s)),He.resolve()}getOverlaysForCollection(e,r,s){const d=$s(),y=r.length+1,T=new Vt(r.child("")),R=this.overlays.getIteratorFrom(T);for(;R.hasNext();){const L=R.getNext().value,K=L.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&L.largestBatchId>s&&d.set(L.getKey(),L)}return He.resolve(d)}getOverlaysForCollectionGroup(e,r,s,d){let y=new Kr((K,oe)=>K-oe);const T=this.overlays.getIterator();for(;T.hasNext();){const K=T.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>s){let oe=y.get(K.largestBatchId);null===oe&&(oe=$s(),y=y.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const R=$s(),L=y.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,oe)=>R.set(K,oe)),!(R.size()>=d)););return He.resolve(R)}ht(e,r,s){const d=this.overlays.get(s.key);if(null!==d){const T=this.hr.get(d.largestBatchId).delete(s.key);this.hr.set(d.largestBatchId,T)}this.overlays=this.overlays.insert(s.key,new Ki(r,s));let y=this.hr.get(r);void 0===y&&(y=sr(),this.hr.set(r,y)),this.hr.set(r,y.add(s.key))}}class pc{constructor(){this.Pr=new $r(xi.Ir),this.Tr=new $r(xi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new xi(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new xi(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Vt(new In([])),s=new xi(r,e),d=new xi(r,e+1),y=[];return this.Tr.forEachInRange([s,d],T=>{this.Ar(T),y.push(T.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Vt(new In([])),s=new xi(r,e),d=new xi(r,e+1);let y=sr();return this.Tr.forEachInRange([s,d],T=>{y=y.add(T.key)}),y}containsKey(e){const r=new xi(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class xi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Vt.comparator(e.key,r.key)||Wt(e.pr,r.pr)}static Er(e,r){return Wt(e.pr,r.pr)||Vt.comparator(e.key,r.key)}}class Gm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new $r(xi.Ir)}checkEmpty(e){return He.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,d){const y=this.yr;this.yr++;const T=new Ri(y,r,s,d);this.mutationQueue.push(T);for(const R of d)this.wr=this.wr.add(new xi(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return He.resolve(T)}lookupMutationBatch(e,r){return He.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const d=this.br(r+1),y=d<0?0:d;return He.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new xi(r,0),d=new xi(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([s,d],T=>{const R=this.Sr(T.pr);y.push(R)}),He.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new $r(Wt);return r.forEach(d=>{const y=new xi(d,0),T=new xi(d,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,T],R=>{s=s.add(R.pr)})}),He.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,d=s.length+1;let y=s;Vt.isDocumentKey(y)||(y=y.child(""));const T=new xi(new Vt(y),0);let R=new $r(Wt);return this.wr.forEachWhile(L=>{const K=L.key.path;return!!s.isPrefixOf(K)&&(K.length===d&&(R=R.add(L.pr)),!0)},T),He.resolve(this.Dr(R))}Dr(e){const r=[];return e.forEach(s=>{const d=this.Sr(s);null!==d&&r.push(d)}),r}removeMutationBatch(e,r){qt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return He.forEach(r.mutations,d=>{const y=new xi(d.key,r.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new xi(r,0),d=this.wr.firstAfterOrEqual(s);return He.resolve(r.isEqual(d&&d.key))}performConsistencyCheck(e){return He.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class yg{constructor(e){this.vr=e,this.docs=new Kr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,d=this.docs.get(s),y=d?d.size:0,T=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:T}),this.size+=T-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return He.resolve(s?s.document.mutableCopy():Bn.newInvalidDocument(r))}getEntries(e,r){let s=Pr();return r.forEach(d=>{const y=this.docs.get(d);s=s.insert(d,y?y.document.mutableCopy():Bn.newInvalidDocument(d))}),He.resolve(s)}getDocumentsMatchingQuery(e,r,s,d){let y=Pr();const T=r.path,R=new Vt(T.child("")),L=this.docs.getIteratorFrom(R);for(;L.hasNext();){const{key:K,value:{document:oe}}=L.getNext();if(!T.isPrefixOf(K.path))break;K.path.length>T.length+1||pi(fi(oe),s)<=0||(d.has(oe.key)||ca(r,oe))&&(y=y.insert(oe.key,oe.mutableCopy()))}return He.resolve(y)}getAllFromCollectionGroup(e,r,s,d){Rt()}Fr(e,r){return He.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Xf(this)}getSize(e){return He.resolve(this.size)}}class Xf extends dc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?r.push(this.ar.addEntry(e,d)):this.ar.removeEntry(s)}),He.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class qm{constructor(e){this.persistence=e,this.Mr=new Wi(r=>is(r),Xs),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pc,this.targetCount=0,this.Lr=uc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,d)=>r(d)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),He.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new uc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,He.resolve()}updateTargetData(e,r){return this.qn(r),He.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,r,s){let d=0;const y=[];return this.Mr.forEach((T,R)=>{R.sequenceNumber<=r&&null===s.get(R.targetId)&&(this.Mr.delete(T),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),He.waitFor(y).next(()=>d)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return He.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),He.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const d=this.persistence.referenceDelegate,y=[];return d&&r.forEach(T=>{y.push(d.markPotentiallyOrphaned(e,T))}),He.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),He.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return He.resolve(s)}containsKey(e,r){return He.resolve(this.Nr.containsKey(r))}}class ep{constructor(e,r){this.Br={},this.overlays={},this.kr=new B(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qm(this),this.indexManager=new hy,this.remoteDocumentCache=new yg(s=>this.referenceDelegate.Kr(s)),this.serializer=new pt(r),this.$r=new Va(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fn,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Gm(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){ve("MemoryPersistence","Starting transaction:",e);const d=new vg(this.kr.next());return this.referenceDelegate.Ur(),s(d).next(y=>this.referenceDelegate.Wr(d).next(()=>y)).toPromise().then(y=>(d.raiseOnCommittedEvent(),y))}Gr(e,r){return He.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class vg extends Sr{constructor(e){super(),this.currentSequenceNumber=e}}class Hh{constructor(e){this.persistence=e,this.zr=new pc,this.jr=null}static Hr(e){return new Hh(e)}get Jr(){if(this.jr)return this.jr;throw Rt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),He.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),He.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),He.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(d=>this.Jr.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(d=>{d.forEach(y=>this.Jr.add(y.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.Jr,s=>{const d=Vt.fromPath(s);return this.Yr(e,d).next(y=>{y||r.removeEntry(d,Lt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return He.or([()=>He.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ol{constructor(e){this.serializer=e}O(e,r,s,d){const y=new vt("createOrUpgrade",r);var L;s<1&&d>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zn,{unique:!0}),L.createObjectStore("documentMutations"),tp(e),function(L){L.createObjectStore("remoteDocuments")}(e));let T=He.resolve();return s<3&&d>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),tp(e)),T=T.next(()=>function(L){const K=L.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",oe)}(y))),s<4&&d>=4&&(0!==s&&(T=T.next(()=>function(L,K){return K.store("mutations").U().next(oe=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zn,{unique:!0});const ge=K.store("mutations"),Ne=oe.map(ot=>ge.put(ot));return He.waitFor(Ne)})}(e,y))),T=T.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(T=T.next(()=>this.Xr(y))),s<6&&d>=6&&(T=T.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ei(y)))),s<7&&d>=7&&(T=T.next(()=>this.ti(y))),s<8&&d>=8&&(T=T.next(()=>this.ni(e,y))),s<9&&d>=9&&(T=T.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(T=T.next(()=>this.ri(y))),s<11&&d>=11&&(T=T.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(T=T.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Sn});K.createIndex("collectionPathOverlayIndex",yn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ln,{unique:!1})}(e)})),s<13&&d>=13&&(T=T.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:St});K.createIndex("documentKeyIndex",Ut),K.createIndex("collectionGroupIndex",un)}(e)).next(()=>this.ii(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(T=T.next(()=>this.si(e,y))),s<15&&d>=15&&(T=T.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:We}).createIndex("sequenceNumberIndex",Tt,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",wn,{unique:!1})}(e))),s<16&&d>=16&&(T=T.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),T}ei(e){let r=0;return e.store("remoteDocuments").J((s,d)=>{r+=Os(d)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(d=>He.forEach(d,y=>{const T=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",T).next(R=>He.forEach(R,L=>{qt(L.userId===y.userId);const K=Gs(this.serializer,L);return _g(e,y.userId,K).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const y=[];return s.J((T,R)=>{const L=new In(T),K=[0,Ot(L)];y.push(r.get(K).next(oe=>oe?He.resolve():r.put({targetId:0,path:Ot(L),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>He.waitFor(y))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:nt});const s=r.store("collectionParents"),d=new Lh,y=T=>{if(d.add(T)){const R=T.lastSegment(),L=T.popLast();return s.put({collectionId:R,parent:Ot(L)})}};return r.store("remoteDocuments").J({H:!0},(T,R)=>{const L=new In(T);return y(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([T,R,L],K)=>{const oe=ln(R);return y(oe.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,d)=>{const y=io(d),T=cc(this.serializer,y);return r.put(T)})}ii(e,r){const s=r.store("remoteDocuments"),d=[];return s.J((y,T)=>{const R=r.store("remoteDocumentsV14"),L=(ge=T,ge.document?new Vt(In.fromString(ge.document.name).popFirst(5)):ge.noDocument?Vt.fromSegments(ge.noDocument.path):ge.unknownDocument?Vt.fromSegments(ge.unknownDocument.path):Rt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};var ge;d.push(R.put(K))}).next(()=>He.waitFor(d))}si(e,r){const s=r.store("mutations"),d=vs(this.serializer),y=new ep(Hh.Hr,this.serializer.ct);return s.U().next(T=>{const R=new Map;return T.forEach(L=>{var K;let oe=null!==(K=R.get(L.userId))&&void 0!==K?K:sr();Gs(this.serializer,L).keys().forEach(ge=>oe=oe.add(ge)),R.set(L.userId,oe)}),He.forEach(R,(L,K)=>{const oe=new it(K),ge=_u.lt(this.serializer,oe),Ne=y.getIndexManager(oe),ot=Vh.lt(oe,this.serializer,Ne,y.referenceDelegate);return new fc(d,ot,ge,Ne).recalculateAndSaveOverlaysForDocumentKeys(new Ji(r,B.oe),L).next()})})}}function tp(u){u.createObjectStore("targetDocuments",{keyPath:cr}).createIndex("documentTargetsIndex",dn,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qt,{unique:!0}),u.createObjectStore("targetGlobal")}const $h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zi{constructor(e,r,s,d,y,T,R,L,K,oe,ge=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=y,this.window=T,this.document=R,this._i=K,this.ai=oe,this.ui=ge,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ne=>Promise.resolve(),!zi.D())throw new fe(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,d),this.Ti=r+"main",this.serializer=new pt(L),this.Ei=new ae(this.Ti,this.ui,new Ol(this.serializer)),this.Qr=new Yf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vs(this.serializer),this.$r=new di,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===oe&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(Re.FAILED_PRECONDITION,$h);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new B(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,g.Z)(function*(d){if(r.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,g.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,g.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Nn(e))return ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Cu(e).get("owner").next(r=>He.resolve(this.Si(r)))}bi(e){return gc(e).delete(this.clientId)}Di(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=Vr(s,"clientMetadata");return d.U().next(y=>{const T=e.vi(y,18e5),R=y.filter(L=>-1===T.indexOf(L));return He.forEach(R,L=>d.delete(L.clientId)).next(()=>R)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?He.resolve(!0):Cu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new fe(Re.FAILED_PRECONDITION,$h);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).U().next(s=>void 0===this.vi(s,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ve("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,g.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ji(r,B.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Vh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return _u.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){ve("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===r?"readonly":"readwrite",y=16===(L=this.ui)?cs:15===L?Ii:14===L?rr:13===L?Wr:12===L?Ai:11===L?wr:void Rt();var L;let T;return this.Ei.runTransaction(e,d,y,R=>(T=new Ji(R,this.kr?this.kr.next():B.oe),"readwrite-primary"===r?this.gi(T).next(L=>!!L||this.pi(T)).next(L=>{if(!L)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new fe(Re.FAILED_PRECONDITION,nr);return s(T)}).next(L=>this.wi(T).next(()=>L)):this.ki(T).next(()=>s(T)))).then(R=>(T.raiseOnCommittedEvent(),R))}ki(e){return Cu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(Re.FAILED_PRECONDITION,$h)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put("owner",r)}static D(){return ae.D()}yi(e){const r=Cu(e);return r.get("owner").next(s=>this.Si(s)?(ve("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):He.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(u){return Vr(u,"owner")}function gc(u){return Vr(u,"clientMetadata")}function wu(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class xr{constructor(e,r,s,d){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=d}static Ki(e,r){let s=sr(),d=sr();for(const y of r.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:d=d.add(y.doc.key)}return new xr(e,r.fromCache,s,d)}}class Vo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Au{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:be((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,d){const y={result:null};return this.ji(e,r).next(T=>{y.result=T}).next(()=>{if(!y.result)return this.Hi(e,r,d,s).next(T=>{y.result=T})}).next(()=>{if(y.result)return;const T=new Vo;return this.Ji(e,r,T).next(R=>{if(y.result=R,this.Ui)return this.Yi(e,r,T,R.size)})}).next(()=>y.result)}Yi(e,r,s,d){return s.documentReadCount<this.Wi?(At()<=Ie.in.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ec(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),He.resolve()):(At()<=Ie.in.DEBUG&&ve("QueryEngine","Query:",ec(r),"scans",s.documentReadCount,"local documents and returns",d,"documents as results."),s.documentReadCount>this.Gi*d?(At()<=Ie.in.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ec(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(r))):He.resolve())}ji(e,r){if(bn(r))return He.resolve(null);let s=ri(r);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==r.limit&&1===d&&(r=Xa(r,null,"F"),s=ri(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const T=sr(...y);return this.zi.getDocuments(e,T).next(R=>this.indexManager.getMinOffset(e,s).next(L=>{const K=this.Zi(r,R);return this.Xi(r,K,T,L.readTime)?this.ji(e,Xa(r,null,"F")):this.es(e,K,r,L)}))})))}Hi(e,r,s,d){return bn(r)||d.isEqual(Lt.min())?He.resolve(null):this.zi.getDocuments(e,s).next(y=>{const T=this.Zi(r,y);return this.Xi(r,T,s,d)?He.resolve(null):(At()<=Ie.in.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),ec(r)),this.es(e,T,r,Hr(d,-1)).next(R=>R))})}Zi(e,r){let s=new $r(Hs(e));return r.forEach((d,y)=>{ca(e,y)&&(s=s.add(y))}),s}Xi(e,r,s,d){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(d)>0)}Ji(e,r,s){return At()<=Ie.in.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ec(r)),this.zi.getDocumentsMatchingQuery(e,r,rn.min(),s)}es(e,r,s,d){return this.zi.getDocumentsMatchingQuery(e,s,d).next(y=>(r.forEach(T=>{y=y.insert(T.key,T)}),y))}}class mc{constructor(e,r,s,d){this.persistence=e,this.ts=r,this.serializer=d,this.ns=new Kr(Wt),this.rs=new Wi(y=>is(y),Xs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Nl(u,e,r,s){return new mc(u,e,r,s)}function kl(u,e){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,g.Z)(function*(u,e){const r=lt(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let d;return r.mutationQueue.getAllMutationBatches(s).next(y=>(d=y,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(y=>{const T=[],R=[];let L=sr();for(const K of d){T.push(K.batchId);for(const oe of K.mutations)L=L.add(oe.key)}for(const K of y){R.push(K.batchId);for(const oe of K.mutations)L=L.add(oe.key)}return r.localDocuments.getDocuments(s,L).next(K=>({us:K,removedBatchIds:T,addedBatchIds:R}))})})})).apply(this,arguments)}function np(u){const e=lt(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Du(u,e,r){let s=sr(),d=sr();return r.forEach(y=>s=s.add(y)),e.getEntries(u,s).next(y=>{let T=Pr();return r.forEach((R,L)=>{const K=y.get(R);L.isFoundDocument()!==K.isFoundDocument()&&(d=d.add(R)),L.isNoDocument()&&L.version.isEqual(Lt.min())?(e.removeEntry(R,L.readTime),T=T.insert(R,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),T=T.insert(R,L)):ve("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",L.version)}),{cs:T,ls:d}})}function Fl(u,e){const r=lt(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Su(u,e){const r=lt(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return r.Qr.getTargetData(s,e).next(y=>y?(d=y,He.resolve(d)):r.Qr.allocateTargetId(s).next(T=>(d=new ht(e,T,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=r.ns.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ua(u,e,r){return mi.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(u,e,r){const s=lt(u),d=s.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",y,T=>s.persistence.referenceDelegate.removeTarget(T,d)))}catch(T){if(!Nn(T))throw T;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}s.ns=s.ns.remove(e),s.rs.delete(d.target)})).apply(this,arguments)}function _i(u,e,r){const s=lt(u);let d=Lt.min(),y=sr();return s.persistence.runTransaction("Execute query","readwrite",T=>function(L,K,oe){const ge=lt(L),Ne=ge.rs.get(oe);return void 0!==Ne?He.resolve(ge.ns.get(Ne)):ge.Qr.getTargetData(K,oe)}(s,T,ri(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(T,R.targetId).next(L=>{y=L})}).next(()=>s.ts.getDocumentsMatchingQuery(T,e,r?d:Lt.min(),r?y:sr())).next(R=>(zh(s,Fc(e),R),{documents:R,hs:y})))}function Ll(u,e){const r=lt(u),s=lt(r.Qr),d=r.ns.get(e);return d?Promise.resolve(d.target):r.persistence.runTransaction("Get target data","readonly",y=>s.ot(y,e).next(T=>T?T.target:null))}function Md(u,e){const r=lt(u),s=r.ss.get(e)||Lt.min();return r.persistence.runTransaction("Get new document changes","readonly",d=>r.os.getAllFromCollectionGroup(d,e,Hr(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(zh(r,e,d),d))}function zh(u,e,r){let s=u.ss.get(e)||Lt.min();r.forEach((d,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),u.ss.set(e,s)}function Kc(){return(Kc=(0,g.Z)(function*(u,e,r,s){const d=lt(u);let y=sr(),T=Pr();for(const K of r){const oe=e.Ps(K.metadata.name);K.document&&(y=y.add(oe));const ge=e.Is(K);ge.setReadTime(e.Ts(K.metadata.readTime)),T=T.insert(oe,ge)}const R=d.os.newChangeBuffer({trackRemovals:!0}),L=yield Su(d,(oe=s,ri(Ce(In.fromString(`__bundle__/docs/${oe}`)))));var oe;return d.persistence.runTransaction("Apply bundle documents","readwrite",K=>Du(K,R,T).next(oe=>(R.apply(K),oe)).next(oe=>d.Qr.removeMatchingKeysForTargetId(K,L.targetId).next(()=>d.Qr.addMatchingKeys(K,y,L.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(K,oe.cs,oe.ls)).next(()=>oe.cs)))})).apply(this,arguments)}function Pd(u,e){return rp.apply(this,arguments)}function rp(){return(rp=(0,g.Z)(function*(u,e,r=sr()){const s=yield Su(u,ri(so(e.bundledQuery))),d=lt(u);return d.persistence.runTransaction("Save named query","readwrite",y=>{const T=Ti(e.readTime);if(s.snapshotVersion.compareTo(T)>=0)return d.$r.saveNamedQuery(y,e);const R=s.withResumeToken(Ei.EMPTY_BYTE_STRING,T);return d.ns=d.ns.insert(R.targetId,R),d.Qr.updateTargetData(y,R).next(()=>d.Qr.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>d.Qr.addMatchingKeys(y,r,s.targetId)).next(()=>d.$r.saveNamedQuery(y,e))})})).apply(this,arguments)}function _c(u,e){return`firestore_clients_${u}_${e}`}function Rd(u,e,r){let s=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ba(u,e){return`firestore_targets_${u}_${e}`}class Mu{constructor(e,r,s,d){this.user=e,this.batchId=r,this.state=s,this.error=d}static Es(e,r,s){const d=JSON.parse(s);let y,T="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return T&&d.error&&(T="string"==typeof d.error.message&&"string"==typeof d.error.code,T&&(y=new fe(d.error.code,d.error.message))),T?new Mu(e,r,d.state,y):(jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let d,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(d=new fe(s.error.code,s.error.message))),y?new Yc(e,s.state,d):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let d="object"==typeof s&&s.activeTargetIds instanceof Array,y=Vc();for(let T=0;d&&T<s.activeTargetIds.length;++T)d=bt(s.activeTargetIds[T]),y=y.add(s.activeTargetIds[T]);return d?new Qc(e,y):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Vl{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Vl(r.clientId,r.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xd{constructor(){this.activeTargetIds=Vc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gh{constructor(e,r,s,d,y){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Kr(Wt),this.started=!1,this.ys=[];const T=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ws=_c(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new xd),this.bs=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const r=yield e.syncEngine.Bi();for(const d of r){if(d===e.Vs)continue;const y=e.getItem(_c(e.persistenceKey,d));if(y){const T=Qc.Es(d,y);T&&(e.ps=e.ps.insert(T.clientId,T))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const d=e.xs(s);d&&e.Os(d)}for(const d of e.ys)e.gs(d);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,d)=>{d.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ba(this.persistenceKey,e));if(s){const d=Yc.Es(e,s);d&&(r=d.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ba(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(d=>{this.Bs(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ve("SharedClientState","READ",e,r),r}setItem(e,r){ve("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,g.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const d=r.$s(s.key);return r.Us(d,null)}{const d=r.Ws(s.key,s.newValue);if(d)return r.Us(d.clientId,d)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const d=r.Gs(s.key,s.newValue);if(d)return r.zs(d)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const d=r.js(s.key,s.newValue);if(d)return r.Hs(d)}}else if(s.key===r.vs){if(null!==s.newValue){const d=r.xs(s.newValue);if(d)return r.Os(d)}}else if(s.key===r.Ss){const d=function(T){let R=B.oe;if(null!=T)try{const L=JSON.parse(T);qt("number"==typeof L),R=L}catch(L){jt("SharedClientState","Failed to read sequence number from WebStorage",L)}return R}(s.newValue);d!==B.oe&&r.sequenceNumberHandler(d)}else if(s.key===r.Fs){const d=r.Js(s.newValue);yield Promise.all(d.map(y=>r.syncEngine.Ys(y)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const d=new Mu(this.currentUser,e,r,s),y=Rd(this.persistenceKey,this.currentUser,e);this.setItem(y,d.ds())}Bs(e){const r=Rd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const d=Ba(this.persistenceKey,e),y=new Yc(e,r,s);this.setItem(d,y.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Qc.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),d=Number(s[1]);return Mu.Es(new it(void 0!==s[2]?s[2]:null),d,r)}js(e,r){const s=this.Cs.exec(e),d=Number(s[1]);return Yc.Es(d,r)}xs(e){return Vl.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,g.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),d=this.Ns(this.ps),y=this.Ns(s),T=[],R=[];return y.forEach(L=>{d.has(L)||T.push(L)}),d.forEach(L=>{y.has(L)||R.push(L)}),this.syncEngine.eo(T,R).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Vc();return e.forEach((s,d)=>{r=r.unionWith(d.activeTargetIds)}),r}}class Jc{constructor(){this.no=new xd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new xd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yc{io(e){}shutdown(){}}class Xc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let el=null;function Ul(){return null===el?el=268435456+Math.round(2147483648*Math.random()):el++,"0x"+el.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const v="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${d}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${d}`:`project_id=${d}&database_id=${y}`}get Do(){return!1}Co(r,s,d,y,T){const R=Ul(),L=this.vo(r,s.toUriEncodedString());ve("RestConnection",`Sending RPC '${r}' ${R}:`,L,d);const K={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(K,y,T),this.Mo(r,L,K,d).then(oe=>(ve("RestConnection",`Received RPC '${r}' ${R}: `,oe),oe),oe=>{throw an("RestConnection",`RPC '${r}' ${R} failed with error: `,oe,"url: ",L,"request:",d),oe})}xo(r,s,d,y,T,R){return this.Co(r,s,d,y,T)}Fo(r,s,d){r["X-Goog-Api-Client"]="gl-js/ fire/"+ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((y,T)=>r[T]=y),d&&d.headers.forEach((y,T)=>r[T]=y)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,d){const y=Ul();return new Promise((T,R)=>{const L=new ye;L.setWithCredentials(!0),L.listenOnce(mt.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ft.NO_ERROR:const oe=L.getResponseJson();ve(v,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(oe)),T(oe);break;case ft.TIMEOUT:ve(v,`RPC '${e}' ${y} timed out`),R(new fe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case ft.HTTP_ERROR:const ge=L.getStatus();if(ve(v,`RPC '${e}' ${y} failed with status:`,ge,"response text:",L.getResponseText()),ge>0){let Ne=L.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const ot=Ne?.error;if(ot&&ot.status&&ot.message){const xt=function(Bt){const Pn=Bt.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(Pn)>=0?Pn:Re.UNKNOWN}(ot.status);R(new fe(xt,ot.message))}else R(new fe(Re.UNKNOWN,"Server responded with status "+L.getStatus()))}else R(new fe(Re.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{ve(v,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(d);ve(v,`RPC '${e}' ${y} sending request:`,d),L.send(r,"POST",K,s,15)})}Oo(e,r,s){const d=Ul(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=qe(),R=nn(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.xmlHttpFactory=new st({})),this.Fo(L.initMessageHeaders,r,s),L.encodeInitMessageHeaders=!0;const oe=y.join("");ve(v,`Creating RPC '${e}' stream ${d}: ${oe}`,L);const ge=T.createWebChannel(oe,L);let Ne=!1,ot=!1;const xt=new _({lo:Bt=>{ot?ve(v,`Not sending because RPC '${e}' stream ${d} is closed:`,Bt):(Ne||(ve(v,`Opening RPC '${e}' stream ${d} transport.`),ge.open(),Ne=!0),ve(v,`RPC '${e}' stream ${d} sending:`,Bt),ge.send(Bt))},ho:()=>ge.close()}),Kt=(Bt,Pn,zn)=>{Bt.listen(Pn,kn=>{try{zn(kn)}catch(Kn){setTimeout(()=>{throw Kn},0)}})};return Kt(ge,rt.EventType.OPEN,()=>{ot||(ve(v,`RPC '${e}' stream ${d} transport opened.`),xt.mo())}),Kt(ge,rt.EventType.CLOSE,()=>{ot||(ot=!0,ve(v,`RPC '${e}' stream ${d} transport closed`),xt.po())}),Kt(ge,rt.EventType.ERROR,Bt=>{ot||(ot=!0,an(v,`RPC '${e}' stream ${d} transport errored:`,Bt),xt.po(new fe(Re.UNAVAILABLE,"The operation could not be completed")))}),Kt(ge,rt.EventType.MESSAGE,Bt=>{var Pn;if(!ot){const zn=Bt.data[0];qt(!!zn);const Kn=zn.error||(null===(Pn=zn[0])||void 0===Pn?void 0:Pn.error);if(Kn){ve(v,`RPC '${e}' stream ${d} received error:`,Kn);const Zr=Kn.status;let yr=function(je){const Qe=ii[je];if(void 0!==Qe)return zs(Qe)}(Zr),Ye=Kn.message;void 0===yr&&(yr=Re.INTERNAL,Ye="Unknown error status: "+Zr+" with message "+Kn.message),ot=!0,xt.po(new fe(yr,Ye)),ge.close()}else ve(v,`RPC '${e}' stream ${d} received:`,zn),xt.yo(zn)}}),Kt(R,Et.STAT_EVENT,Bt=>{Bt.stat===wt.PROXY?ve(v,`RPC '${e}' stream ${d} detected buffering proxy`):Bt.stat===wt.NOPROXY&&ve(v,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{xt.fo()},0),xt}}function Y(){return typeof window<"u"?window:null}function ue(){return typeof document<"u"?document:null}function Ue(u){return new gd(u,!0)}class dt{constructor(e,r,s=1e3,d=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=d,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),d=Math.max(0,r-s);d>0&&ve("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,d,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Ft{constructor(e,r,s,d,y,T,R,L){this.oi=e,this.Go=s,this.zo=d,this.connection=y,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=R,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new dt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,g.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,g.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,g.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(jt(r.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Re.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.jo===r&&this.u_(s,d)},s=>{e(()=>{const d=new fe(Re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(d)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(d=>{s(()=>this.c_(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}e_(){var e=this;this.state=5,this.Yo.$o((0,g.Z)(function*(){e.state=0,e.start()}))}c_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vn extends Ft{constructor(e,r,s,d,y,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,d,T),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function wl(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Rt(),d=e.targetChange.targetIds||[],y=function(K,oe){return K.useProto3Json?(qt(void 0===oe||"string"==typeof oe),Ei.fromBase64String(oe||"")):(qt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),Ei.fromUint8Array(oe||new Uint8Array))}(u,e.targetChange.resumeToken),T=e.targetChange.cause,R=T&&function(K){const oe=void 0===K.code?Re.UNKNOWN:zs(K.code);return new fe(oe,K.message||"")}(T);r=new ro(s,d,y,R||null)}else if("documentChange"in e){const s=e.documentChange,d=ko(u,s.document.name),y=Ti(s.document.updateTime),T=s.document.createTime?Ti(s.document.createTime):Lt.min(),R=new kr({mapValue:{fields:s.document.fields}}),L=Bn.newFoundDocument(d,y,T,R);r=new sc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,d=ko(u,s.document),y=s.readTime?Ti(s.readTime):Lt.min(),T=Bn.newNoDocument(d,y);r=new sc([],s.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const s=e.documentRemove,d=ko(u,s.document);r=new sc([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Rt();{const s=e.filter,{count:d=0,unchangedNames:y}=s,T=new Rs(d,y);r=new pu(s.targetId,T)}}var K;return r}(this.serializer,e),s=function(y){if(!("targetChange"in y))return Lt.min();const T=y.targetChange;return T.targetIds&&T.targetIds.length?Lt.min():T.readTime?Ti(T.readTime):Lt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Nr(this.serializer),r.addTarget=function(y,T){let R;const L=T.target;if(R=Qa(L)?{documents:vd(y,L)}:{query:Ed(y,L)._t},R.targetId=T.targetId,T.resumeToken.approximateByteSize()>0){R.resumeToken=Rh(y,T.resumeToken);const K=Hc(y,T.expectedCount);null!==K&&(R.expectedCount=K)}else if(T.snapshotVersion.compareTo(Lt.min())>0){R.readTime=Fa(y,T.snapshotVersion.toTimestamp());const K=Hc(y,T.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const s=function Fo(u,e){const r=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Nr(this.serializer),r.removeTarget=e,this.i_(r)}}class jn extends Ft{constructor(e,r,s,d,y,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,d,T),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function ac(u,e){return u&&u.length>0?(qt(void 0!==e),u.map(r=>function(d,y){let T=Ti(d.updateTime?d.updateTime:y);return T.isEqual(Lt.min())&&(T=Ti(y)),new Bc(T,d.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.A_(s,r)}return qt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Nr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>gs(this.serializer,s))};this.i_(r)}}class dr extends class{}{constructor(e,r,s,d){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=d,this.m_=!1}f_(){if(this.m_)throw new fe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,d){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,T])=>this.connection.Co(e,xh(r,s),d,y,T)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new fe(Re.UNKNOWN,y.toString())})}xo(e,r,s,d,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([T,R])=>this.connection.xo(e,xh(r,s),d,T,R,y)).catch(T=>{throw"FirebaseError"===T.name?(T.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),T):new fe(Re.UNKNOWN,T.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ao{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(jt(r),this.y_=!1):ve("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Eo{constructor(e,r,s,d,y){var T=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(R=>{s.enqueueAndForget((0,g.Z)(function*(){var L;vc(T)&&(ve("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,g.Z)(function*(oe){const ge=lt(oe);ge.M_.add(4),yield ya(ge),ge.N_.set("Unknown"),ge.M_.delete(4),yield ja(ge)}),function K(oe){return L.apply(this,arguments)})(T))}))}),this.N_=new ao(s,d)}}function ja(u){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,g.Z)(function*(u){if(vc(u))for(const e of u.x_)yield e(!0)})).apply(this,arguments)}function ya(u){return qh.apply(this,arguments)}function qh(){return(qh=(0,g.Z)(function*(u){for(const e of u.x_)yield e(!1)})).apply(this,arguments)}function tl(u,e){const r=lt(u);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Wh(r)?Od(r):Io(r).Xo()&&Zh(r,e))}function nl(u,e){const r=lt(u),s=Io(r);r.F_.delete(e),s.Xo()&&ip(r,e),0===r.F_.size&&(s.Xo()?s.n_():vc(r)&&r.N_.set("Unknown"))}function Zh(u,e){if(u.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Io(u).P_(e)}function ip(u,e){u.L_.xe(e),Io(u).I_(e)}function Od(u){u.L_=new No({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.F_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),Io(u).start(),u.N_.w_()}function Wh(u){return vc(u)&&!Io(u).Zo()&&u.F_.size>0}function vc(u){return 0===lt(u).M_.size}function rl(u){u.L_=void 0}function Ns(u){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,g.Z)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function sp(u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,g.Z)(function*(u){u.F_.forEach((e,r)=>{Zh(u,e)})})).apply(this,arguments)}function kd(u,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,g.Z)(function*(u,e){rl(u),Wh(u)?(u.N_.D_(e),Od(u)):u.N_.set("Unknown")})).apply(this,arguments)}function Ig(u,e,r){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,g.Z)(function*(u,e,r){if(u.N_.set("Online"),e instanceof ro&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(y,T){const R=T.cause;for(const L of T.targetIds)y.F_.has(L)&&(yield y.remoteSyncer.rejectListen(L,R),y.F_.delete(L),y.L_.removeTarget(L))}),function d(y,T){return s.apply(this,arguments)})(u,e)}catch(s){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Pu(u,s)}else if(e instanceof sc?u.L_.Ke(e):e instanceof pu?u.L_.He(e):u.L_.We(e),!r.isEqual(Lt.min()))try{const s=yield np(u.localStore);r.compareTo(s)>=0&&(yield function(y,T){const R=y.L_.rt(T);return R.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const oe=y.F_.get(K);oe&&y.F_.set(K,oe.withResumeToken(L.resumeToken,T))}}),R.targetMismatches.forEach((L,K)=>{const oe=y.F_.get(L);if(!oe)return;y.F_.set(L,oe.withResumeToken(Ei.EMPTY_BYTE_STRING,oe.snapshotVersion)),ip(y,L);const ge=new ht(oe.target,L,K,oe.sequenceNumber);Zh(y,ge)}),y.remoteSyncer.applyRemoteEvent(R)}(u,r))}catch(s){ve("RemoteStore","Failed to raise snapshot:",s),yield Pu(u,s)}var s}),Fd.apply(this,arguments)}function Pu(u,e,r){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,g.Z)(function*(u,e,r){if(!Nn(e))throw e;u.M_.add(1),yield ya(u),u.N_.set("Offline"),r||(r=()=>np(u.localStore)),u.asyncQueue.enqueueRetryable((0,g.Z)(function*(){ve("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield ja(u)}))})).apply(this,arguments)}function Ha(u,e){return e().catch(r=>Pu(u,r,e))}function jl(u){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,g.Z)(function*(u){const e=lt(u),r=Fs(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Zm(e);)try{const d=yield Fl(e.localStore,s);if(null===d){0===e.v_.length&&r.n_();break}s=d.batchId,op(e,d)}catch(d){yield Pu(e,d)}Wm(e)&&co(e)})).apply(this,arguments)}function Zm(u){return vc(u)&&u.v_.length<10}function op(u,e){u.v_.push(e);const r=Fs(u);r.Xo()&&r.E_&&r.d_(e.mutations)}function Wm(u){return vc(u)&&!Fs(u).Zo()&&u.v_.length>0}function co(u){Fs(u).start()}function ap(u){return cp.apply(this,arguments)}function cp(){return(cp=(0,g.Z)(function*(u){Fs(u).V_()})).apply(this,arguments)}function Qh(u){return bg.apply(this,arguments)}function bg(){return(bg=(0,g.Z)(function*(u){const e=Fs(u);for(const r of u.v_)e.d_(r.mutations)})).apply(this,arguments)}function Uo(u,e,r){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,g.Z)(function*(u,e,r){const s=u.v_.shift(),d=ss.from(s,e,r);yield Ha(u,()=>u.remoteSyncer.applySuccessfulWrite(d)),yield jl(u)})).apply(this,arguments)}function Km(u,e){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,g.Z)(function*(u,e){var r;e&&Fs(u).E_&&(yield(r=(0,g.Z)(function*(d,y){if(Qo(R=y.code)&&R!==Re.ABORTED){const T=d.v_.shift();Fs(d).t_(),yield Ha(d,()=>d.remoteSyncer.rejectFailedWrite(T.batchId,y)),yield jl(d)}var R}),function s(d,y){return r.apply(this,arguments)})(u,e)),Wm(u)&&co(u)}),Ru.apply(this,arguments)}function ks(u,e){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,g.Z)(function*(u,e){const r=lt(u);r.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const s=vc(r);r.M_.add(3),yield ya(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield ja(r)})).apply(this,arguments)}function lp(u,e){return up.apply(this,arguments)}function up(){return(up=(0,g.Z)(function*(u,e){const r=lt(u);e?(r.M_.delete(2),yield ja(r)):e||(r.M_.add(2),yield ya(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Io(u){return u.B_||(u.B_=function(r,s,d){const y=lt(r);return y.f_(),new vn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(u.datastore,u.asyncQueue,{Po:Ns.bind(null,u),To:sp.bind(null,u),Ao:kd.bind(null,u),h_:Ig.bind(null,u)}),u.x_.push(function(){var e=(0,g.Z)(function*(r){r?(u.B_.t_(),Wh(u)?Od(u):u.N_.set("Unknown")):(yield u.B_.stop(),rl(u))});return function(r){return e.apply(this,arguments)}}())),u.B_}function Fs(u){return u.k_||(u.k_=function(r,s,d){const y=lt(r);return y.f_(),new jn(s,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,d)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:ap.bind(null,u),Ao:Km.bind(null,u),R_:Qh.bind(null,u),A_:Uo.bind(null,u)}),u.x_.push(function(){var e=(0,g.Z)(function*(r){r?(u.k_.t_(),yield jl(u)):(yield u.k_.stop(),u.v_.length>0&&(ve("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return e.apply(this,arguments)}}())),u.k_}class Ud{constructor(e,r,s,d,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=d,this.removalCallback=y,this.deferred=new ke,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,d,y){const T=Date.now()+s,R=new Ud(e,r,T,d,y);return R.start(s),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xu(u,e){if(jt("AsyncQueue",`${e}: ${u}`),Nn(u))return new fe(Re.UNAVAILABLE,`${e}: ${u}`);throw u}class Bd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Vt.comparator(r.key,s.key):(r,s)=>Vt.comparator(r.key,s.key),this.keyedMap=Li(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new Bd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Bd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const d=r.getNext().key,y=s.getNext().key;if(!d.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Bd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class $l{constructor(){this.q_=new Kr(Vt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Rt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Ec{constructor(e,r,s,d,y,T,R,L,K){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=y,this.fromCache=T,this.syncStateChanged=R,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,r,s,d,y){const T=[];return r.forEach(R=>{T.push({type:0,doc:R})}),new Ec(e,r,Bd.emptySet(r),T,s,d,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ra(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++)if(r[d].type!==s[d].type||!r[d].doc.isEqual(s[d].doc))return!1;return!0}}class Ym{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Cg{constructor(){this.queries=new Wi(e=>kc(e),Ra),this.onlineState="Unknown",this.z_=new Set}}function jd(u,e){return wg.apply(this,arguments)}function wg(){return(wg=(0,g.Z)(function*(u,e){const r=lt(u);let s=3;const d=e.query;let y=r.queries.get(d);y?!y.W_()&&e.G_()&&(s=2):(y=new Ym,s=e.G_()?0:1);try{switch(s){case 0:y.K_=yield r.onListen(d,!0);break;case 1:y.K_=yield r.onListen(d,!1);break;case 2:yield r.onFirstRemoteStoreListen(d)}}catch(T){const R=xu(T,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(R)}r.queries.set(d,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&Jh(r)})).apply(this,arguments)}function Ou(u,e){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,g.Z)(function*(u,e){const r=lt(u),s=e.query;let d=3;const y=r.queries.get(s);if(y){const T=y.U_.indexOf(e);T>=0&&(y.U_.splice(T,1),0===y.U_.length?d=e.G_()?0:1:!y.W_()&&e.G_()&&(d=2))}switch(d){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function fy(u,e){const r=lt(u);let s=!1;for(const d of e){const T=r.queries.get(d.query);if(T){for(const R of T.U_)R.H_(d)&&(s=!0);T.K_=d}}s&&Jh(r)}function Dg(u,e,r){const s=lt(u),d=s.queries.get(e);if(d)for(const y of d.U_)y.onError(r);s.queries.delete(e)}function Jh(u){u.z_.forEach(e=>{e.next()})}var Nu,il;(il=Nu||(Nu={})).J_="default",il.Cache="cache";class Hd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new Ec(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Nu.Cache}}class Qm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Xh{constructor(e){this.serializer=e}Ps(e){return ko(this.serializer,e)}Is(e){return e.metadata.exists?os(this.serializer,e.document,!1):Bn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ti(e)}}class dp{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jm(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=In.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Xh(this.serializer);for(const d of e)if(d.metadata.queries){const y=s.Ps(d.metadata.name);for(const T of d.metadata.queries){const R=(r.get(T)||sr()).add(y);r.set(T,R)}}return r}complete(){var e=this;return(0,g.Z)(function*(){const r=yield function Eg(u,e,r,s){return Kc.apply(this,arguments)}(e.localStore,new Xh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const d of e.queries)yield Pd(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Jm(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class lo{constructor(e){this.key=e}}class hp{constructor(e){this.key=e}}class Xm{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=Hs(e),this.Ta=new Bd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new $l,d=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,T=d,R=!1;const L="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,K="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((oe,ge)=>{const Ne=d.get(oe),ot=ca(this.query,ge)?ge:null,xt=!!Ne&&this.mutatedKeys.has(Ne.key),Kt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let Bt=!1;Ne&&ot?Ne.data.isEqual(ot.data)?xt!==Kt&&(s.track({type:3,doc:ot}),Bt=!0):this.Ra(Ne,ot)||(s.track({type:2,doc:ot}),Bt=!0,(L&&this.Ia(ot,L)>0||K&&this.Ia(ot,K)<0)&&(R=!0)):!Ne&&ot?(s.track({type:0,doc:ot}),Bt=!0):Ne&&!ot&&(s.track({type:1,doc:Ne}),Bt=!0,(L||K)&&(R=!0)),Bt&&(ot?(T=T.add(ot),y=Kt?y.add(oe):y.delete(oe)):(T=T.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const oe="F"===this.query.limitType?T.last():T.first();T=T.delete(oe.key),y=y.delete(oe.key),s.track({type:1,doc:oe})}return{Ta:T,Aa:s,Xi:R,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,d){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const T=e.Aa.Q_();T.sort((oe,ge)=>function(ot,xt){const Kt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return Kt(ot)-Kt(xt)}(oe.type,ge.type)||this.Ia(oe.doc,ge.doc)),this.Va(s),d=null!=d&&d;const R=r&&!d?this.ma():[],L=0===this.Pa.size&&this.current&&!d?1:0,K=L!==this.ha;return this.ha=L,0!==T.length||K?{snapshot:new Ec(this.query,e.Ta,y,T,e.mutatedKeys,0===L,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:R}:{fa:R}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new $l,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new hp(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new lo(s))}),r}pa(e){this.la=e.hs,this.Pa=sr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Ec.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class $d{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class e_{constructor(e){this.key=e,this.wa=!1}}class t_{constructor(e,r,s,d,y,T){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=d,this.currentUser=y,this.maxConcurrentLimboResolutions=T,this.Sa={},this.ba=new Wi(R=>kc(R),Ra),this.Da=new Map,this.Ca=new Set,this.va=new Kr(Vt.comparator),this.Fa=new Map,this.Ma=new pc,this.xa={},this.Oa=new Map,this.Na=uc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function fp(u,e){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(u,e,r=!0){const s=va(u);let d;const y=s.ba.get(e);return y?(s.sharedClientState.addLocalQueryTarget(y.targetId),d=y.view.ya()):d=yield n_(s,e,r,!0),d})).apply(this,arguments)}function Sg(u,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,g.Z)(function*(u,e){const r=va(u);yield n_(r,e,!0,!1)})).apply(this,arguments)}function n_(u,e,r,s){return ef.apply(this,arguments)}function ef(){return(ef=(0,g.Z)(function*(u,e,r,s){const d=yield Su(u.localStore,ri(e)),y=d.targetId,T=r?u.sharedClientState.addLocalQueryTarget(y):"not-current";let R;return s&&(R=yield tf(u,e,y,"current"===T,d.resumeToken)),u.isPrimaryClient&&r&&tl(u.remoteStore,d),R})).apply(this,arguments)}function tf(u,e,r,s,d){return bo.apply(this,arguments)}function bo(){return bo=(0,g.Z)(function*(u,e,r,s,d){u.Ba=(ge,Ne,ot)=>{return(xt=(0,g.Z)(function*(Bt,Pn,zn,kn){let Kn=Pn.view.da(zn);Kn.Xi&&(Kn=yield _i(Bt.localStore,Pn.query,!1).then(({documents:Se})=>Pn.view.da(Se,Kn)));const Zr=kn&&kn.targetChanges.get(Pn.targetId),yr=kn&&null!=kn.targetMismatches.get(Pn.targetId),Ye=Pn.view.applyChanges(Kn,Bt.isPrimaryClient,Zr,yr);return Ip(Bt,Pn.targetId,Ye.fa),Ye.snapshot}),function Kt(Bt,Pn,zn,kn){return xt.apply(this,arguments)})(u,ge,Ne,ot);var xt};const y=yield _i(u.localStore,e,!0),T=new Xm(e,y.hs),R=T.da(y.documents),L=jc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,d),K=T.applyChanges(R,u.isPrimaryClient,L);Ip(u,r,K.fa);const oe=new $d(e,r,T);return u.ba.set(e,oe),u.Da.has(r)?u.Da.get(r).push(e):u.Da.set(r,[e]),K.snapshot}),bo.apply(this,arguments)}function r_(u,e,r){return pp.apply(this,arguments)}function pp(){return(pp=(0,g.Z)(function*(u,e,r){const s=lt(u),d=s.ba.get(e),y=s.Da.get(d.targetId);if(y.length>1)return s.Da.set(d.targetId,y.filter(T=>!Ra(T,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(d.targetId),s.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Ua(s.localStore,d.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(d.targetId),r&&nl(s.remoteStore,d.targetId),Gd(s,d.targetId)}).catch(Cr))):(Gd(s,d.targetId),yield Ua(s.localStore,d.targetId,!0))})).apply(this,arguments)}function i_(u,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,g.Z)(function*(u,e){const r=lt(u),s=r.ba.get(e),d=r.Da.get(s.targetId);r.isPrimaryClient&&1===d.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),nl(r.remoteStore,s.targetId))})).apply(this,arguments)}function Pg(){return(Pg=(0,g.Z)(function*(u,e,r){const s=wp(u);try{const d=yield function(T,R){const L=lt(T),K=Gn.now(),oe=R.reduce((ot,xt)=>ot.add(xt.key),sr());let ge,Ne;return L.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let xt=Pr(),Kt=sr();return L.os.getEntries(ot,oe).next(Bt=>{xt=Bt,xt.forEach((Pn,zn)=>{zn.isValidDocument()||(Kt=Kt.add(Pn))})}).next(()=>L.localDocuments.getOverlayedDocuments(ot,xt)).next(Bt=>{ge=Bt;const Pn=[];for(const zn of R){const kn=_t(zn,ge.get(zn.key).overlayedDocument);null!=kn&&Pn.push(new Rr(zn.key,kn,Ni(kn.value.mapValue),ei.exists(!0)))}return L.mutationQueue.addMutationBatch(ot,K,Pn,R)}).next(Bt=>{Ne=Bt;const Pn=Bt.applyToLocalDocumentSet(ge,Kt);return L.documentOverlayCache.saveOverlays(ot,Bt.batchId,Pn)})}).then(()=>({batchId:Ne.batchId,changes:hu(ge)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(T,R,L){let K=T.xa[T.currentUser.toKey()];K||(K=new Kr(Wt)),K=K.insert(R,L),T.xa[T.currentUser.toKey()]=K}(s,d.batchId,r),yield sl(s,d.changes),yield jl(s.remoteStore)}catch(d){const y=xu(d,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function mp(u,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,g.Z)(function*(u,e){const r=lt(u);try{const s=yield function oo(u,e){const r=lt(u),s=e.snapshotVersion;let d=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const T=r.os.newChangeBuffer({trackRemovals:!0});d=r.ns;const R=[];e.targetChanges.forEach((oe,ge)=>{const Ne=d.get(ge);if(!Ne)return;R.push(r.Qr.removeMatchingKeys(y,oe.removedDocuments,ge).next(()=>r.Qr.addMatchingKeys(y,oe.addedDocuments,ge)));let ot=Ne.withSequenceNumber(y.currentSequenceNumber);var Kt,Bt,Pn;null!==e.targetMismatches.get(ge)?ot=ot.withResumeToken(Ei.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):oe.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(oe.resumeToken,s)),d=d.insert(ge,ot),Bt=ot,Pn=oe,(0===(Kt=Ne).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&R.push(r.Qr.updateTargetData(y,ot))});let L=Pr(),K=sr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,oe))}),R.push(Du(y,T,e.documentUpdates).next(oe=>{L=oe.cs,K=oe.ls})),!s.isEqual(Lt.min())){const oe=r.Qr.getLastRemoteSnapshotVersion(y).next(ge=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,s));R.push(oe)}return He.waitFor(R).next(()=>T.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,L,K)).next(()=>L)}).then(y=>(r.ns=d,y))}(r.localStore,e);e.targetChanges.forEach((d,y)=>{const T=r.Fa.get(y);T&&(qt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?T.wa=!0:d.modifiedDocuments.size>0?qt(T.wa):d.removedDocuments.size>0&&(qt(T.wa),T.wa=!1))}),yield sl(r,s,e)}catch(s){yield Cr(s)}})).apply(this,arguments)}function _p(u,e,r){const s=lt(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const d=[];s.ba.forEach((y,T)=>{const R=T.view.j_(e);R.snapshot&&d.push(R.snapshot)}),function(T,R){const L=lt(T);L.onlineState=R;let K=!1;L.queries.forEach((oe,ge)=>{for(const Ne of ge.U_)Ne.j_(R)&&(K=!0)}),K&&Jh(L)}(s.eventManager,e),d.length&&s.Sa.h_(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Rg(u,e,r){return yp.apply(this,arguments)}function yp(){return(yp=(0,g.Z)(function*(u,e,r){const s=lt(u);s.sharedClientState.updateQueryState(e,"rejected",r);const d=s.Fa.get(e),y=d&&d.key;if(y){let T=new Kr(Vt.comparator);T=T.insert(y,Bn.newNoDocument(y,Lt.min()));const R=sr().add(y),L=new As(Lt.min(),new Map,new Kr(Wt),T,R);yield mp(s,L),s.va=s.va.remove(y),s.Fa.delete(e),Tp(s)}else yield Ua(s.localStore,e,!1).then(()=>Gd(s,e,r)).catch(Cr)})).apply(this,arguments)}function vp(u,e){return ku.apply(this,arguments)}function ku(){return(ku=(0,g.Z)(function*(u,e){const r=lt(u),s=e.batch.batchId;try{const d=yield function vo(u,e){const r=lt(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(R,L,K,oe){const ge=K.batch,Ne=ge.keys();let ot=He.resolve();return Ne.forEach(xt=>{ot=ot.next(()=>oe.getEntry(L,xt)).next(Kt=>{const Bt=K.docVersions.get(xt);qt(null!==Bt),Kt.version.compareTo(Bt)<0&&(ge.applyToRemoteDocument(Kt,K),Kt.isValidDocument()&&(Kt.setReadTime(K.commitVersion),oe.addEntry(Kt)))})}),ot.next(()=>R.mutationQueue.removeMutationBatch(L,ge))}(r,s,e,y).next(()=>y.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let L=sr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(L=L.add(R.batch.mutations[K].key));return L}(e))).next(()=>r.localDocuments.getDocuments(s,d))})}(r.localStore,e);zl(r,s,null),sf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield sl(r,d)}catch(d){yield Cr(d)}})).apply(this,arguments)}function xg(u,e,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,g.Z)(function*(u,e,r){const s=lt(u);try{const d=yield function(T,R){const L=lt(T);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let oe;return L.mutationQueue.lookupMutationBatch(K,R).next(ge=>(qt(null!==ge),oe=ge.keys(),L.mutationQueue.removeMutationBatch(K,ge))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,oe,R)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,oe)).next(()=>L.localDocuments.getDocuments(K,oe))})}(s.localStore,e);zl(s,e,r),sf(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield sl(s,d)}catch(d){yield Cr(d)}})).apply(this,arguments)}function rf(){return(rf=(0,g.Z)(function*(u,e){const r=lt(u);vc(r.remoteStore)||ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(T){const R=lt(T);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>R.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===s)return void e.resolve();const d=r.Oa.get(s)||[];d.push(e),r.Oa.set(s,d)}catch(s){const d=xu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function sf(u,e){(u.Oa.get(e)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(e)}function zl(u,e,r){const s=lt(u);let d=s.xa[s.currentUser.toKey()];if(d){const y=d.get(e);y&&(r?y.reject(r):y.resolve(),d=d.remove(e)),s.xa[s.currentUser.toKey()]=d}}function Gd(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Da.get(e))u.ba.delete(s),r&&u.Sa.ka(s,r);u.Da.delete(e),u.isPrimaryClient&&u.Ma.Vr(e).forEach(s=>{u.Ma.containsKey(s)||af(u,s)})}function af(u,e){u.Ca.delete(e.path.canonicalString());const r=u.va.get(e);null!==r&&(nl(u.remoteStore,r),u.va=u.va.remove(e),u.Fa.delete(r),Tp(u))}function Ip(u,e,r){for(const s of r)s instanceof lo?(u.Ma.addReference(s.key,e),o_(u,s)):s instanceof hp?(ve("SyncEngine","Document no longer in limbo: "+s.key),u.Ma.removeReference(s.key,e),u.Ma.containsKey(s.key)||af(u,s.key)):Rt()}function o_(u,e){const r=e.key,s=r.path.canonicalString();u.va.get(r)||u.Ca.has(s)||(ve("SyncEngine","New document in limbo: "+r),u.Ca.add(s),Tp(u))}function Tp(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const e=u.Ca.values().next().value;u.Ca.delete(e);const r=new Vt(In.fromString(e)),s=u.Na.next();u.Fa.set(s,new e_(r)),u.va=u.va.insert(r,s),tl(u.remoteStore,new ht(ri(Ce(r.path)),s,"TargetPurposeLimboResolution",B.oe))}}function sl(u,e,r){return Og.apply(this,arguments)}function Og(){return Og=(0,g.Z)(function*(u,e,r){const s=lt(u),d=[],y=[],T=[];var R;s.ba.isEmpty()||(s.ba.forEach((R,L)=>{T.push(s.Ba(L,e,r).then(K=>{if((K||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,K&&!K.fromCache?"current":"not-current"),K){d.push(K);const oe=xr.Ki(L.targetId,K);y.push(oe)}}))}),yield Promise.all(T),s.Sa.h_(d),yield(R=(0,g.Z)(function*(K,oe){const ge=lt(K);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>He.forEach(oe,ot=>He.forEach(ot.qi,xt=>ge.persistence.referenceDelegate.addReference(Ne,ot.targetId,xt)).next(()=>He.forEach(ot.Qi,xt=>ge.persistence.referenceDelegate.removeReference(Ne,ot.targetId,xt)))))}catch(Ne){if(!Nn(Ne))throw Ne;ve("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of oe){const ot=Ne.targetId;if(!Ne.fromCache){const xt=ge.ns.get(ot),Bt=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);ge.ns=ge.ns.insert(ot,Bt)}}}),function L(K,oe){return R.apply(this,arguments)})(s.localStore,y))}),Og.apply(this,arguments)}function Ng(u,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,g.Z)(function*(u,e){const r=lt(u);if(!r.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const s=yield kl(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(R=>{R.forEach(L=>{L.reject(new fe(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield sl(r,s.us)}var y})).apply(this,arguments)}function qd(u,e){const r=lt(u),s=r.Fa.get(e);if(s&&s.wa)return sr().add(s.key);{let d=sr();const y=r.Da.get(e);if(!y)return d;for(const T of y){const R=r.ba.get(T);d=d.unionWith(R.view.Ea)}return d}}function py(u,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,g.Z)(function*(u,e){const r=lt(u),s=yield _i(r.localStore,e.query,!0),d=e.view.pa(s);return r.isPrimaryClient&&Ip(r,e.targetId,d.fa),d})).apply(this,arguments)}function Uv(u,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,g.Z)(function*(u,e){const r=lt(u);return Md(r.localStore,e).then(s=>sl(r,s))})).apply(this,arguments)}function Lg(u,e,r,s){return bp.apply(this,arguments)}function bp(){return(bp=(0,g.Z)(function*(u,e,r,s){const d=lt(u),y=yield function(R,L){const K=lt(R),oe=lt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ge=>oe.vn(ge,L).next(Ne=>Ne?K.localDocuments.getDocuments(ge,Ne):He.resolve(null)))}(d.localStore,e);var L;null!==y?("pending"===r?yield jl(d.remoteStore):"acknowledged"===r||"rejected"===r?(zl(d,e,s||null),sf(d,e),L=e,lt(lt(d.localStore).mutationQueue).Mn(L)):Rt(),yield sl(d,y)):ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Wd(){return(Wd=(0,g.Z)(function*(u,e){const r=lt(u);if(va(r),wp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),d=yield lf(r,s.toArray());r.La=!0,yield lp(r.remoteStore,!0);for(const y of d)tl(r.remoteStore,y)}else if(!1===e&&!1!==r.La){const s=[];let d=Promise.resolve();r.Da.forEach((y,T)=>{r.sharedClientState.isLocalQueryTarget(T)?s.push(T):d=d.then(()=>(Gd(r,T),Ua(r.localStore,T,!0))),nl(r.remoteStore,T)}),yield d,yield lf(r,s),function(T){const R=lt(T);R.Fa.forEach((L,K)=>{nl(R.remoteStore,K)}),R.Ma.mr(),R.Fa=new Map,R.va=new Kr(Vt.comparator)}(r),r.La=!1,yield lp(r.remoteStore,!1)}})).apply(this,arguments)}function lf(u,e,r){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,g.Z)(function*(u,e,r){const s=lt(u),d=[],y=[];for(const T of e){let R;const L=s.Da.get(T);if(L&&0!==L.length){R=yield Su(s.localStore,ri(L[0]));for(const K of L){const oe=s.ba.get(K),ge=yield py(s,oe);ge.snapshot&&y.push(ge.snapshot)}}else{const K=yield Ll(s.localStore,T);R=yield Su(s.localStore,K),yield tf(s,a_(K),T,!1,R.resumeToken)}d.push(R)}return s.Sa.h_(y),d})).apply(this,arguments)}function a_(u){return le(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function c_(u){return r=lt(u).localStore,lt(lt(r).persistence).Bi();var r}function Fu(u,e,r,s){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,g.Z)(function*(u,e,r,s){const d=lt(u);if(d.La)return void ve("SyncEngine","Ignoring unexpected query state notification.");const y=d.Da.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const T=yield Md(d.localStore,Fc(y[0])),R=As.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ei.EMPTY_BYTE_STRING);yield sl(d,T,R);break}case"rejected":yield Ua(d.localStore,e,!0),Gd(d,e,s);break;default:Rt()}})).apply(this,arguments)}function l_(u,e,r){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,g.Z)(function*(u,e,r){const s=va(u);if(s.La){for(const d of e){if(s.Da.has(d)&&s.sharedClientState.isActiveQueryTarget(d)){ve("SyncEngine","Adding an already active target "+d);continue}const y=yield Ll(s.localStore,d),T=yield Su(s.localStore,y);yield tf(s,a_(y),T.targetId,!1,T.resumeToken),tl(s.remoteStore,T)}for(const d of r)s.Da.has(d)&&(yield Ua(s.localStore,d,!1).then(()=>{nl(s.remoteStore,d),Gd(s,d)}).catch(Cr))}})).apply(this,arguments)}function va(u){const e=lt(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=mp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rg.bind(null,e),e.Sa.h_=fy.bind(null,e.eventManager),e.Sa.ka=Dg.bind(null,e.eventManager),e}function wp(u){const e=lt(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xg.bind(null,e),e}class Tc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,g.Z)(function*(){r.serializer=Ue(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Nl(this.persistence,new Au,e.initialUser,this.serializer)}createPersistence(e){return new ep(Hh.Hr,this.serializer)}createSharedClientState(e){return new Jc}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ug extends Tc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield wp(s.Qa.syncEngine),yield jl(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Nl(this.persistence,new Au,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Eu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new H(r,this.persistence);return new q(e.asyncQueue,s)}createPersistence(e){const r=wu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new zi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Y(),ue(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jc}}class u_ extends Ug{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield r().call(s,e);const d=s.Qa.syncEngine;s.sharedClientState instanceof Gh&&(s.sharedClientState.syncEngine={Zs:Lg.bind(null,d),Xs:Fu.bind(null,d),eo:l_.bind(null,d),Bi:c_.bind(null,d),Ys:Uv.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var y=(0,g.Z)(function*(T){yield function Zd(u,e){return Wd.apply(this,arguments)}(s.Qa.syncEngine,T),s.gcScheduler&&(T&&!s.gcScheduler.started?s.gcScheduler.start():T||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(T&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():T||s.indexBackfillerScheduler.stop())});return function(T){return y.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Y();if(!Gh.D(r))throw new fe(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=wu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Yd{initialize(e,r){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>_p(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ng.bind(null,s.syncEngine),yield lp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cg}createDatastore(e){const r=Ue(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new dr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,d=this.datastore,y=e.asyncQueue,T=r=>_p(this.syncEngine,r,0),R=Xc.D()?new Xc:new yc,new Eo(s,d,y,T,R);var s,d,y,T,R}createSyncEngine(e,r){return function(d,y,T,R,L,K,oe){const ge=new t_(d,y,T,R,L,K);return oe&&(ge.La=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,g.Z)(function*(){var r,s;yield(s=(0,g.Z)(function*(y){const T=lt(y);ve("RemoteStore","RemoteStore shutting down."),T.M_.add(5),yield ya(T),T.O_.shutdown(),T.N_.set("Unknown")}),function d(y){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function d_(u,e=10240){let r=0;return{read:()=>(0,g.Z)(function*(){if(r<u.byteLength){const s={value:u.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Bg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new ke,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,g.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),d=Number(s);isNaN(d)&&e.ja(`length string (${s}) is not valid number`);const y=yield e.Ha(d);return new Qm(JSON.parse(y),r.length+d)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,g.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,g.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,g.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Dp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,g.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new fe(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(d=(0,g.Z)(function*(T,R){const L=lt(T),K={documents:R.map(ot=>_d(L.serializer,ot))},oe=yield L.xo("BatchGetDocuments",L.serializer.databaseId,In.emptyPath(),K,R.length),ge=new Map;oe.forEach(ot=>{const xt=function Vi(u,e){return"found"in e?function(s,d){qt(!!d.found);const y=ko(s,d.found.name),T=Ti(d.found.updateTime),R=d.found.createTime?Ti(d.found.createTime):Lt.min(),L=new kr({mapValue:{fields:d.found.fields}});return Bn.newFoundDocument(y,T,R,L)}(u,e):"missing"in e?function(s,d){qt(!!d.missing),qt(!!d.readTime);const y=ko(s,d.missing),T=Ti(d.readTime);return Bn.newNoDocument(y,T)}(u,e):Rt()}(L.serializer,ot);ge.set(xt.key.toString(),xt)});const Ne=[];return R.forEach(ot=>{const xt=ge.get(ot.toString());qt(!!xt),Ne.push(xt)}),Ne}),function y(T,R){return d.apply(this,arguments)})(r.datastore,e);var d;return s.forEach(d=>r.recordVersion(d)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,d)=>{const y=Vt.fromPath(d);e.mutations.push(new Fr(y,e.precondition(y)))}),yield(s=(0,g.Z)(function*(y,T){const R=lt(y),L={writes:T.map(K=>gs(R.serializer,K))};yield R.Co("Commit",R.serializer.databaseId,In.emptyPath(),L)}),function d(y,T){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Rt();r=Lt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new fe(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Lt.min())?ei.exists(!1):ei.updateTime(r):ei.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Lt.min()))throw new fe(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(r)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class my{constructor(e,r,s,d,y){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=d,this.deferred=y,this.Za=s.maxAttempts,this.Yo=new dt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,g.Z)(function*(){const r=new Dp(e.datastore),s=e.tu(r);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(d)}).catch(y=>{e.nu(y)}))}).catch(d=>{e.nu(d)})}))}tu(e){try{const r=this.updateFunction(e);return!pe(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Qo(r)}return!1}}class _y{constructor(e,r,s,d){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=d,this.user=it.UNAUTHENTICATED,this.clientId=Mn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var T=(0,g.Z)(function*(R){ve("FirestoreClient","Received user=",R.uid),yield y.authCredentialListener(R),y.user=R});return function(R){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(s,T=>(ve("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ke;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const d=xu(s,"Failed to shutdown persistence");r.reject(d)}})),r.promise}}function Sp(u,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,g.Z)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(y){s.isEqual(y)||(yield kl(e.localStore,y),s=y)});return function(y){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),Qd.apply(this,arguments)}function Ea(u,e){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,g.Z)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield Mp(u);ve("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>ks(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,d)=>ks(e.remoteStore,d)),u._onlineComponents=e})).apply(this,arguments)}function jg(u){return"FirebaseError"===u.name?u.code===Re.FAILED_PRECONDITION||u.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function Mp(u){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,g.Z)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sp(u,u._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!jg(r))throw r;an("Error using user provided cache. Falling back to memory cache: "+r),yield Sp(u,new Tc)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),yield Sp(u,new Tc);return u._offlineComponents})).apply(this,arguments)}function Hg(u){return h_.apply(this,arguments)}function h_(){return(h_=(0,g.Z)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ea(u,u._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),yield Ea(u,new Yd))),u._onlineComponents})).apply(this,arguments)}function yy(u){return Mp(u).then(e=>e.persistence)}function Gl(u){return Mp(u).then(e=>e.localStore)}function Pp(u){return Hg(u).then(e=>e.remoteStore)}function $g(u){return Hg(u).then(e=>e.syncEngine)}function ql(u){return zg.apply(this,arguments)}function zg(){return(zg=(0,g.Z)(function*(u){const e=yield Hg(u),r=e.eventManager;return r.onListen=fp.bind(null,e.syncEngine),r.onUnlisten=r_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Sg.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=i_.bind(null,e.syncEngine),r})).apply(this,arguments)}function Gg(u,e,r={}){const s=new ke;return u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,T,R,L,K){const oe=new Ap({next:Ne=>{T.enqueueAndForget(()=>Ou(y,ge));const ot=Ne.docs.has(R);!ot&&Ne.fromCache?K.reject(new fe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Ne.fromCache&&L&&"server"===L.source?K.reject(new fe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ne)},error:Ne=>K.reject(Ne)}),ge=new Hd(Ce(R.path),oe,{includeMetadataChanges:!0,ra:!0});return jd(y,ge)}(yield ql(u),u.asyncQueue,e,r,s)})),s.promise}function qg(u,e,r={}){const s=new ke;return u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(y,T,R,L,K){const oe=new Ap({next:Ne=>{T.enqueueAndForget(()=>Ou(y,ge)),Ne.fromCache&&"server"===L.source?K.reject(new fe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ne)},error:Ne=>K.reject(Ne)}),ge=new Hd(R,oe,{includeMetadataChanges:!0,ra:!0});return jd(y,ge)}(yield ql(u),u.asyncQueue,e,r,s)})),s.promise}function g_(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const m_=new Map;function Kg(u,e,r){if(!r)throw new fe(Re.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function __(u,e,r,s){if(!0===e&&!0===s)throw new fe(Re.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function Yg(u){if(!Vt.isDocumentKey(u))throw new fe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function wy(u){if(Vt.isDocumentKey(u))throw new fe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Qg(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":Rt()}function Tr(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new fe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qg(u);throw new fe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function eh(u,e){if(e<=0)throw new fe(Re.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class Jg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new fe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,r,s,d){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Xe;switch(s.type){case"firstParty":return new $t(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=m_.get(r);s&&(ve("ComponentProvider","Removing Datastore"),m_.delete(r),s.terminate())}(this),Promise.resolve()}}function xp(u,e,r,s={}){var d;const y=(u=Tr(u,th))._getSettings(),T=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==T&&an("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},y),{host:T,ssl:!1})),s.mockUserToken){let R,L;if("string"==typeof s.mockUserToken)R=s.mockUserToken,L=it.MOCK_USER;else{R=(0,_e.Sg)(s.mockUserToken,null===(d=u._app)||void 0===d?void 0:d.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new fe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new it(K)}u._authCredentials=new ut(new Je(R,L))}}class Es{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Yi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}}class Ds extends Es{constructor(e,r,s){super(e,r,Ce(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new Vt(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Ay(u,e,...r){if(u=(0,_e.m9)(u),Kg("collection","path",e),u instanceof th){const s=In.fromString(e,...r);return wy(s),new Ds(u,null,s)}{if(!(u instanceof Yi||u instanceof Ds))throw new fe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(In.fromString(e,...r));return wy(s),new Ds(u.firestore,null,s)}}function Xg(u,e){if(u=Tr(u,th),Kg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(Re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(u,null,(s=e,new F(In.emptyPath(),s)));var s}function Bv(u,e,...r){if(u=(0,_e.m9)(u),1===arguments.length&&(e=Mn.newId()),Kg("doc","path",e),u instanceof th){const s=In.fromString(e,...r);return Yg(s),new Yi(u,null,new Vt(s))}{if(!(u instanceof Yi||u instanceof Ds))throw new fe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(In.fromString(e,...r));return Yg(s),new Yi(u.firestore,u instanceof Ds?u.converter:null,new Vt(s))}}function Op(u,e){return u=(0,_e.m9)(u),e=(0,_e.m9)(e),(u instanceof Yi||u instanceof Ds)&&(e instanceof Yi||e instanceof Ds)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Np(u,e){return u=(0,_e.m9)(u),e=(0,_e.m9)(e),u instanceof Es&&e instanceof Es&&u.firestore===e.firestore&&Ra(u._query,e._query)&&u.converter===e.converter}class y_{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new dt(this,"async_queue_retry"),this.hu=()=>{const r=ue();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ue();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ue();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new ke;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,g.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Nn(r))throw r;ve("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,jt("INTERNAL UNHANDLED ERROR: ",function(T){let R=T.message||"";return T.stack&&(R=T.stack.includes(T.message)?T.stack:T.message+"\n"+T.stack),R}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const d=Ud.createAndSchedule(this,e,r,s,y=>this.Eu(y));return this._u.push(d),d}Pu(){this.au&&Rt()}verifyOperationInProgress(){}du(){var e=this;return(0,g.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function em(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const d=r;for(const y of["next","error","complete"])if(y in d&&"function"==typeof d[y])return!0;return!1}(u)}class Dy{constructor(){this._progressObserver={},this._taskCompletionResolver=new ke,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const nh=-1;class Ci extends th{constructor(e,r,s,d){super(e,r,s,d),this.type="firestore",this._queue=new y_,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zl(this),this._firestoreClient.terminate()}}function tm(u,e){const r="object"==typeof u?u:(0,l.getApp)(),s="string"==typeof u?u:e||"(default)",d=(0,l._getProvider)(r,"firestore").getImmediate({identifier:s});if(!d._initialized){const y=(0,_e.P0)("firestore");y&&xp(d,...y)}return d}function Gi(u){return u._firestoreClient||Zl(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Zl(u){var e,r,s;const d=u._freezeSettings(),y=(L=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new $o(u._databaseId,L,u._persistenceKey,(oe=d).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,g_(oe.experimentalLongPollingOptions),oe.useFetchStreams));var L,oe;u._firestoreClient=new _y(u._authCredentials,u._appCheckCredentials,u._queue,y),null!==(r=d.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=d.localCache)&&void 0!==s&&s._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}function uf(u,e){E_(u=Tr(u,Ci));const r=Gi(u);if(r._uninitializedComponentsProvider)throw new fe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");an("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=u._freezeSettings(),d=new Yd;return rh(r,d,new Ug(d,s.cacheSizeBytes,e?.forceOwnership))}function Ia(u){E_(u=Tr(u,Ci));const e=Gi(u);if(e._uninitializedComponentsProvider)throw new fe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");an("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),s=new Yd;return rh(e,s,new u_(s,r.cacheSizeBytes))}function rh(u,e,r){const s=new ke;return u.asyncQueue.enqueue((0,g.Z)(function*(){try{yield Sp(u,r),yield Ea(u,e),s.resolve()}catch(d){const y=d;if(!jg(y))throw y;an("Error enabling indexeddb cache. Falling back to memory cache: "+y),s.reject(y)}})).then(()=>s.promise)}function kp(u){if(u._initialized&&!u._terminated)throw new fe(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ke;return u._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(r=(0,g.Z)(function*(d){if(!ae.D())return Promise.resolve();const y=d+"main";yield ae.delete(y)}),function s(d){return r.apply(this,arguments)})(wu(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function My(u){return function(r){const s=new ke;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Ep(u,e){return rf.apply(this,arguments)}(yield $g(r),s)})),s.promise}(Gi(u=Tr(u,Ci)))}function Py(u){return function Ey(u){return u.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield yy(u),r=yield Pp(u);return e.setNetworkEnabled(!0),function(d){const y=lt(d);return y.M_.delete(0),ja(y)}(r)}))}(Gi(u=Tr(u,Ci)))}function v_(u){return function Iy(u){return u.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield yy(u),r=yield Pp(u);return e.setNetworkEnabled(!1),(s=(0,g.Z)(function*(y){const T=lt(y);T.M_.add(0),yield ya(T),T.N_.set("Offline")}),function d(y){return s.apply(this,arguments)})(r);var s}))}(Gi(u=Tr(u,Ci)))}function Ry(u,e){const r=Gi(u=Tr(u,Ci)),s=new Dy;return function Lu(u,e,r,s){const d=function(T,R){let L;return L="string"==typeof T?ua().encode(T):T,oe=function(oe,ge){if(oe instanceof Uint8Array)return d_(oe,void 0);if(oe instanceof ArrayBuffer)return d_(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Bg(oe,R);var oe}(r,Ue(e));u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function Ic(u,e,r){const s=lt(u);var d;(d=(0,g.Z)(function*(T,R,L){try{const K=yield R.getMetadata();if(yield function(xt,Kt){const Bt=lt(xt),Pn=Ti(Kt.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",zn=>Bt.$r.getBundleMetadata(zn,Kt.id)).then(zn=>!!zn&&zn.createTime.compareTo(Pn)>=0)}(T.localStore,K))return yield R.close(),L._completeWith({taskState:"Success",documentsLoaded:(xt=K).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Jm(K));const oe=new dp(K,T.localStore,R.serializer);let ge=yield R.qa();for(;ge;){const ot=yield oe._a(ge);ot&&L._updateProgress(ot),ge=yield R.qa()}const Ne=yield oe.complete();return yield sl(T,Ne.ca,void 0),yield function(xt,Kt){const Bt=lt(xt);return Bt.persistence.runTransaction("Save bundle","readwrite",Pn=>Bt.$r.saveBundleMetadata(Pn,Kt))}(T.localStore,K),L._completeWith(Ne.progress),Promise.resolve(Ne.ua)}catch(K){return an("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var xt}),function y(T,R,L){return d.apply(this,arguments)})(s,e,r).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield $g(u),d,s)}))}(r,u._databaseId,e,s),s}function xy(u,e){return function Cy(u,e){return u.asyncQueue.enqueue((0,g.Z)(function*(){return function(s,d){const y=lt(s);return y.persistence.runTransaction("Get named query","readonly",T=>y.$r.getNamedQuery(T,d))}(yield Gl(u),e)}))}(Gi(u=Tr(u,Ci)),e).then(r=>r?new Es(u,null,r.query):null)}function E_(u){if(u._initialized||u._terminated)throw new fe(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(Ei.fromBase64String(e))}catch(r){throw new fe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wl(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new fe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ih{constructor(e){this._methodName=e}}class Fp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const Oy=/^__.*__$/;class Ny{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Rr(e,this.data,this.fieldMask,r,this.fieldTransforms):new _n(e,this.data,r,this.fieldTransforms)}}class ky{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Rr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Fy(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Uu{constructor(e,r,s,d,y,T){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=T||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Uu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.wu(e),d}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),d=this.gu({path:s,yu:!1});return d.mu(),d}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Jl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Fy(this.fu)&&Oy.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Ly{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ue(e)}Fu(e,r,s,d=!1){return new Uu({fu:e,methodName:r,vu:s,path:Qn.emptyPath(),yu:!1,Cu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ol(u){const e=u._freezeSettings(),r=Ue(u._databaseId);return new Ly(u._databaseId,!!e.ignoreUndefinedProperties,r)}function sh(u,e,r,s,d,y={}){const T=u.Fu(y.merge||y.mergeFields?2:0,e,r,d);nm("Data must be an object, but it was:",T,s);const R=Vp(s,T);let L,K;if(y.merge)L=new Bi(T.fieldMask),K=T.fieldTransforms;else if(y.mergeFields){const oe=[];for(const ge of y.mergeFields){const Ne=ch(e,ge,r);if(!T.contains(Ne))throw new fe(Re.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);yf(oe,Ne)||oe.push(Ne)}L=new Bi(oe),K=T.fieldTransforms.filter(ge=>L.covers(ge.field))}else L=null,K=T.fieldTransforms;return new Ny(new kr(R),L,K)}class bc extends ih{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}function Lp(u,e,r){return new Uu({fu:3,vu:e.settings.vu,methodName:u._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hf extends ih{_toFieldTransform(e){return new ka(e.path,new Uc)}isEqual(e){return e instanceof hf}}class Bu extends ih{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Lp(this,e,!0),s=this.Mu.map(y=>ah(y,r)),d=new Ko(s);return new ka(e.path,d)}isEqual(e){return e instanceof Bu&&(0,_e.vZ)(this.Mu,e.Mu)}}class oh extends ih{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Lp(this,e,!0),s=this.Mu.map(y=>ah(y,r)),d=new Ro(s);return new ka(e.path,d)}isEqual(e){return e instanceof oh&&(0,_e.vZ)(this.Mu,e.Mu)}}class Yl extends ih{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Na(e.serializer,Oa(e.serializer,this.xu));return new ka(e.path,r)}isEqual(e){return e instanceof Yl&&this.xu===e.xu}}function ff(u,e,r,s){const d=u.Fu(1,e,r);nm("Data must be an object, but it was:",d,s);const y=[],T=kr.empty();ls(s,(L,K)=>{const oe=_f(e,L,r);K=(0,_e.m9)(K);const ge=d.Su(oe);if(K instanceof bc)y.push(oe);else{const Ne=ah(K,ge);null!=Ne&&(y.push(oe),T.set(oe,Ne))}});const R=new Bi(y);return new ky(T,R,d.fieldTransforms)}function pf(u,e,r,s,d,y){const T=u.Fu(1,e,r),R=[ch(e,s,r)],L=[d];if(y.length%2!=0)throw new fe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<y.length;Ne+=2)R.push(ch(e,y[Ne])),L.push(y[Ne+1]);const K=[],oe=kr.empty();for(let Ne=R.length-1;Ne>=0;--Ne)if(!yf(K,R[Ne])){const ot=R[Ne];let xt=L[Ne];xt=(0,_e.m9)(xt);const Kt=T.Su(ot);if(xt instanceof bc)K.push(ot);else{const Bt=ah(xt,Kt);null!=Bt&&(K.push(ot),oe.set(ot,Bt))}}const ge=new Bi(K);return new ky(oe,ge,T.fieldTransforms)}function gf(u,e,r,s=!1){return ah(r,u.Fu(s?4:3,e))}function ah(u,e){if(mf(u=(0,_e.m9)(u)))return nm("Unsupported field value:",e,u),Vp(u,e);if(u instanceof ih)return function(s,d){if(!Fy(d.fu))throw d.Du(`${s._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Du(`${s._methodName}() is not currently supported inside arrays`);const y=s._toFieldTransform(d);y&&d.fieldTransforms.push(y)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,d){const y=[];let T=0;for(const R of s){let L=ah(R,d.bu(T));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),T++}return{arrayValue:{values:y}}}(u,e)}return function(s,d){if(null===(s=(0,_e.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Oa(d.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const y=Gn.fromDate(s);return{timestampValue:Fa(d.serializer,y)}}if(s instanceof Gn){const y=new Gn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fa(d.serializer,y)}}if(s instanceof Fp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wl)return{bytesValue:Rh(d.serializer,s._byteString)};if(s instanceof Yi){const y=d.databaseId,T=s.firestore._databaseId;if(!T.isEqual(y))throw d.Du(`Document reference is for database ${T.projectId}/${T.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:La(s.firestore._databaseId||d.databaseId,s._key.path)}}throw d.Du(`Unsupported field value: ${Qg(s)}`)}(u,e)}function Vp(u,e){const r={};return xc(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(u,(s,d)=>{const y=ah(d,e.pu(s));null!=y&&(r[s]=y)}),{mapValue:{fields:r}}}function mf(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Gn||u instanceof Fp||u instanceof Wl||u instanceof Yi||u instanceof ih)}function nm(u,e,r){if(!mf(r)||"object"!=typeof(d=r)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const s=Qg(r);throw e.Du("an object"===s?u+" a custom object":u+" "+s)}var d}function ch(u,e,r){if((e=(0,_e.m9)(e))instanceof Kl)return e._internalPath;if("string"==typeof e)return _f(u,e);throw Jl("Field path arguments must be of type string or ",u,!1,void 0,r)}const Ql=new RegExp("[~\\*/\\[\\]]");function _f(u,e,r){if(e.search(Ql)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new Kl(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function Jl(u,e,r,s,d){const y=s&&!s.isEmpty(),T=void 0!==d;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let L="";return(y||T)&&(L+=" (found",y&&(L+=` in field ${s}`),T&&(L+=` in document ${d}`),L+=")"),new fe(Re.INVALID_ARGUMENT,R+u+L)}function yf(u,e){return u.some(r=>r.isEqual(e))}class ju{constructor(e,r,s,d,y){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=d,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ra(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class ra extends ju{data(){return super.data()}}function Up(u,e){return"string"==typeof e?_f(u,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}function b_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new fe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xl{}class Hu extends Xl{}function $u(u,e,...r){let s=[];e instanceof Xl&&s.push(e),s=s.concat(r),function(y){const T=y.filter(L=>L instanceof eu).length,R=y.filter(L=>L instanceof zu).length;if(T>1||T>0&&R>0)throw new fe(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)u=d._apply(u);return u}class zu extends Hu{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new zu(e,r,s)}_apply(e){const r=this._parse(e);return If(e._query,r),new Es(e.firestore,e.converter,Ja(e._query,r))}_parse(e){const r=ol(e.firestore);return function(y,T,R,L,K,oe,ge){let Ne;if(K.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new fe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){$a(ge,oe);const ot=[];for(const xt of ge)ot.push(zp(L,y,xt));Ne={arrayValue:{values:ot}}}else Ne=zp(L,y,ge)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||$a(ge,oe),Ne=gf(R,"where",ge,"in"===oe||"not-in"===oe);return Xn.create(K,oe,Ne)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function rm(u,e,r){const s=e,d=Up("where",u);return zu._create(d,s,r)}class eu extends Xl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new eu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:fr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(d,y){let T=d;const R=y.getFlattenedFilters();for(const L of R)If(T,L),T=Ja(T,L)}(e._query,r),new Es(e.firestore,e.converter,Ja(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Bp extends Hu{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Bp(e,r)}_apply(e){const r=function(d,y,T){if(null!==d.startAt)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ms(y,T)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(d,y){const T=d.explicitOrderBy.concat([y]);return new F(d.path,d.collectionGroup,T,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e._query,r))}}function Vy(u,e="asc"){const r=e,s=Up("orderBy",u);return Bp._create(s,r)}class jp extends Hu{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new jp(e,r,s)}_apply(e){return new Es(e.firestore,e.converter,Xa(e._query,this._limit,this._limitType))}}function im(u){return eh("limit",u),jp._create("limit",u,"F")}function Hp(u){return eh("limitToLast",u),jp._create("limitToLast",u,"L")}class vf extends Hu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new vf(e,r,s)}_apply(e){const r=sm(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(y=r,new F((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,y,d.endAt)));var d,y}}function lh(...u){return vf._create("startAt",u,!0)}function Gu(...u){return vf._create("startAfter",u,!1)}class qu extends Hu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new qu(e,r,s)}_apply(e){const r=sm(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(y=r,new F((d=e._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,y)));var d,y}}function Ef(...u){return qu._create("endBefore",u,!1)}function $p(...u){return qu._create("endAt",u,!0)}function sm(u,e,r,s){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof ju)return function(y,T,R,L,K){if(!L)throw new fe(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const oe=[];for(const ge of Zi(y))if(ge.field.isKeyField())oe.push(on(T,L.key));else{const Ne=L.data.field(ge.field);if(Ys(Ne))throw new fe(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const ot=ge.field.canonicalString();throw new fe(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}oe.push(Ne)}return new fs(oe,K)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const d=ol(u.firestore);return function(T,R,L,K,oe,ge){const Ne=T.explicitOrderBy;if(oe.length>Ne.length)throw new fe(Re.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let xt=0;xt<oe.length;xt++){const Kt=oe[xt];if(Ne[xt].field.isKeyField()){if("string"!=typeof Kt)throw new fe(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Kt}`);if(!ur(T)&&-1!==Kt.indexOf("/"))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Kt}' contains a slash.`);const Bt=T.path.child(In.fromString(Kt));if(!Vt.isDocumentKey(Bt))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const Pn=new Vt(Bt);ot.push(on(R,Pn))}else{const Bt=gf(L,K,Kt);ot.push(Bt)}}return new fs(ot,ge)}(u._query,u.firestore._databaseId,d,e,r,s)}}function zp(u,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new fe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ur(e)&&-1!==r.indexOf("/"))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(In.fromString(r));if(!Vt.isDocumentKey(s))throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return on(u,new Vt(s))}if(r instanceof Yi)return on(u,r._key);throw new fe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qg(r)}.`)}function $a(u,e){if(!Array.isArray(u)||0===u.length)throw new fe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function If(u,e){const r=function(d,y){for(const T of d)for(const R of T.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(u.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new fe(Re.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class w_{convertValue(e,r="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Rt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ls(e,(d,y)=>{s[d]=this.convertValue(y,r)}),s}convertGeoPoint(e){return new Fp(gi(e.latitude),gi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=So(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(es(e));default:return null}}convertTimestamp(e){const r=Is(e);return new Gn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=In.fromString(e);qt(Ee(s));const d=new Un(s.get(1),s.get(3)),y=new Vt(s.popFirst(5));return d.isEqual(r)||jt(`Document ${y} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Cc(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}class om extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,r)}}class za{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends ju{constructor(e,r,s,d,y,T){super(e,r,s,d,T),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class uh extends Ku{data(e={}){return super.data(e)}}class ll{constructor(e,r,s,d){this._firestore=e,this._userDataWriter=r,this._snapshot=d,this.metadata=new za(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new uh(this._firestore,this._userDataWriter,s.key,s,new za(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(d,y){if(d._snapshot.oldDocs.isEmpty()){let T=0;return d._snapshot.docChanges.map(R=>({type:"added",doc:new uh(d._firestore,d._userDataWriter,R.doc.key,R.doc,new za(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:T++}))}{let T=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const L=new uh(d._firestore,d._userDataWriter,R.doc.key,R.doc,new za(d._snapshot.mutatedKeys.has(R.doc.key),d._snapshot.fromCache),d.query.converter);let K=-1,oe=-1;return 0!==R.type&&(K=T.indexOf(R.doc.key),T=T.delete(R.doc.key)),1!==R.type&&(T=T.add(R.doc),oe=T.indexOf(R.doc.key)),{type:dh(R.type),doc:L,oldIndex:K,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function dh(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function Bo(u,e){return u instanceof Ku&&e instanceof Ku?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof ll&&e instanceof ll&&u._firestore===e._firestore&&Np(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function A_(u){u=Tr(u,Yi);const e=Tr(u.firestore,Ci);return Gg(Gi(e),u._key).then(r=>cm(e,u,r))}class ul extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,r)}}function D_(u){u=Tr(u,Yi);const e=Tr(u.firestore,Ci),r=Gi(e),s=new ul(e);return function Ty(u,e){const r=new ke;return u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,T,R){try{const L=yield function(oe,ge){const Ne=lt(oe);return Ne.persistence.runTransaction("read document","readonly",ot=>Ne.localDocuments.getDocument(ot,ge))}(y,T);L.isFoundDocument()?R.resolve(L):L.isNoDocument()?R.resolve(null):R.reject(new fe(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=xu(L,`Failed to get document '${T} from cache`);R.reject(K)}}),function d(y,T,R){return s.apply(this,arguments)})(yield Gl(u),e,r);var s})),r.promise}(r,u._key).then(d=>new Ku(e,s,u._key,d,new za(null!==d&&d.hasLocalMutations,!0),u.converter))}function tu(u){u=Tr(u,Yi);const e=Tr(u.firestore,Ci);return Gg(Gi(e),u._key,{source:"server"}).then(r=>cm(e,u,r))}function am(u){u=Tr(u,Es);const e=Tr(u.firestore,Ci),r=Gi(e),s=new ul(e);return b_(u._query),qg(r,u._query).then(d=>new ll(e,s,u,d))}function ia(u){u=Tr(u,Es);const e=Tr(u.firestore,Ci),r=Gi(e),s=new ul(e);return function Rp(u,e){const r=new ke;return u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(s=(0,g.Z)(function*(y,T,R){try{const L=yield _i(y,T,!0),K=new Xm(T,L.hs),oe=K.da(L.documents),ge=K.applyChanges(oe,!1);R.resolve(ge.snapshot)}catch(L){const K=xu(L,`Failed to execute query '${T} against cache`);R.reject(K)}}),function d(y,T,R){return s.apply(this,arguments)})(yield Gl(u),e,r);var s})),r.promise}(r,u._query).then(d=>new ll(e,s,u,d))}function By(u){u=Tr(u,Es);const e=Tr(u.firestore,Ci),r=Gi(e),s=new ul(e);return qg(r,u._query,{source:"server"}).then(d=>new ll(e,s,u,d))}function $v(u,e,r){u=Tr(u,Yi);const s=Tr(u.firestore,Ci),d=Cc(u.converter,e,r);return Mi(s,[sh(ol(s),"setDoc",u._key,d,null!==u.converter,r).toMutation(u._key,ei.none())])}function S_(u,e,r,...s){u=Tr(u,Yi);const d=Tr(u.firestore,Ci),y=ol(d);let T;return T="string"==typeof(e=(0,_e.m9)(e))||e instanceof Kl?pf(y,"updateDoc",u._key,e,r,s):ff(y,"updateDoc",u._key,e),Mi(d,[T.toMutation(u._key,ei.exists(!0))])}function dl(u){return Mi(Tr(u.firestore,Ci),[new Yr(u._key,ei.none())])}function jy(u,e){const r=Tr(u.firestore,Ci),s=Bv(u),d=Cc(u.converter,e);return Mi(r,[sh(ol(u.firestore),"addDoc",s._key,d,null!==u.converter,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function zv(u,...e){var r,s,d;u=(0,_e.m9)(u);let y={includeMetadataChanges:!1,source:"default"},T=0;"object"!=typeof e[T]||em(e[T])||(y=e[T],T++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(em(e[T])){const ge=e[T];e[T]=null===(r=ge.next)||void 0===r?void 0:r.bind(ge),e[T+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[T+2]=null===(d=ge.complete)||void 0===d?void 0:d.bind(ge)}let L,K,oe;if(u instanceof Yi)K=Tr(u.firestore,Ci),oe=Ce(u._key.path),L={next:ge=>{e[T]&&e[T](cm(K,u,ge))},error:e[T+1],complete:e[T+2]};else{const ge=Tr(u,Es);K=Tr(ge.firestore,Ci),oe=ge._query;const Ne=new ul(K);L={next:ot=>{e[T]&&e[T](new ll(K,Ne,ge,ot))},error:e[T+1],complete:e[T+2]},b_(u._query)}return function(Ne,ot,xt,Kt){const Bt=new Ap(Kt),Pn=new Hd(ot,Bt,xt);return Ne.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return jd(yield ql(Ne),Pn)})),()=>{Bt.$a(),Ne.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Ou(yield ql(Ne),Pn)}))}}(Gi(K),oe,R,L)}function FE(u,e){return function by(u,e){const r=new Ap(e);return u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield ql(u),y=r,lt(d).z_.add(y),void y.next();var d,y})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return d=yield ql(u),y=r,void lt(d).z_.delete(y);var d,y}))}}(Gi(u=Tr(u,Ci)),em(e)?e:{next:e})}function Mi(u,e){return function(s,d){const y=new ke;return s.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function gp(u,e,r){return Pg.apply(this,arguments)}(yield $g(s),d,y)})),y.promise}(Gi(u),e)}function cm(u,e,r){const s=r.docs.get(e._key),d=new ul(u);return new Ku(u,d,e._key,s,new za(r.hasPendingWrites,r.fromCache),e.converter)}const hl={maxAttempts:5};class sa{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ol(e)}set(e,r,s){this._verifyNotCommitted();const d=wc(e,this._firestore),y=Cc(d.converter,r,s),T=sh(this._dataReader,"WriteBatch.set",d._key,y,null!==d.converter,s);return this._mutations.push(T.toMutation(d._key,ei.none())),this}update(e,r,s,...d){this._verifyNotCommitted();const y=wc(e,this._firestore);let T;return T="string"==typeof(r=(0,_e.m9)(r))||r instanceof Kl?pf(this._dataReader,"WriteBatch.update",y._key,r,s,d):ff(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(T.toMutation(y._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=wc(e,this._firestore);return this._mutations=this._mutations.concat(new Yr(r._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wc(u,e){if((u=(0,_e.m9)(u)).firestore!==e)throw new fe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class hm extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=ol(r)}get(r){const s=wc(r,this._firestore),d=new om(this._firestore);return this._transaction.lookup([s._key]).then(y=>{if(!y||1!==y.length)return Rt();const T=y[0];if(T.isFoundDocument())return new ju(this._firestore,d,T.key,T,s.converter);if(T.isNoDocument())return new ju(this._firestore,d,s._key,null,s.converter);throw Rt()})}set(r,s,d){const y=wc(r,this._firestore),T=Cc(y.converter,s,d),R=sh(this._dataReader,"Transaction.set",y._key,T,null!==y.converter,d);return this._transaction.set(y._key,R),this}update(r,s,d,...y){const T=wc(r,this._firestore);let R;return R="string"==typeof(s=(0,_e.m9)(s))||s instanceof Kl?pf(this._dataReader,"Transaction.update",T._key,s,d,y):ff(this._dataReader,"Transaction.update",T._key,s),this._transaction.update(T._key,R),this}delete(r){const s=wc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=wc(e,this._firestore),s=new ul(this._firestore);return super.get(e).then(d=>new Ku(this._firestore,s,r._key,d._document,new za(!1,!1),r.converter))}}function bf(u,e,r){u=Tr(u,Ci);const s=Object.assign(Object.assign({},hl),r);return function(y){if(y.maxAttempts<1)throw new fe(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(y,T,R){const L=new ke;return y.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const K=yield function vy(u){return Hg(u).then(e=>e.datastore)}(y);new my(y.asyncQueue,K,R,T,L).Xa()})),L.promise}(Gi(u),d=>e(new hm(u,d)),s)}function x_(){return new bc("deleteField")}function fm(){return new hf("serverTimestamp")}function Cf(...u){return new Bu("arrayUnion",u)}function qp(...u){return new oh("arrayRemove",u)}function O_(u){return new Yl("increment",u)}!function(e,r=!0){ze=l.SDK_VERSION,(0,l._registerComponent)(new G.wA("firestore",(s,{instanceIdentifier:d,options:y})=>{const T=s.getProvider("app").getImmediate(),R=new Ci(new It(s.getProvider("auth-internal")),new gn(s.getProvider("app-check-internal")),function(K,oe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new fe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Un(K.options.projectId,oe)}(T,d),T);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,l.registerVersion)(Fe,"4.6.3",e),(0,l.registerVersion)(Fe,"4.6.3","esm2017")}()},9058:(Jt,Ke,U)=>{U.d(Ke,{BH:()=>ze,G6:()=>Re,L:()=>$e,LL:()=>It,P0:()=>qe,Pz:()=>it,Sg:()=>ct,UG:()=>ve,ZB:()=>ye,ZR:()=>ut,aH:()=>Fe,b$:()=>hr,eu:()=>ke,hl:()=>fe,jU:()=>jt,m9:()=>Ir,ne:()=>vr,pd:()=>xn,r3:()=>ar,ru:()=>an,tV:()=>te,uI:()=>kt,vZ:()=>In,w1:()=>qt,xO:()=>Vt,xb:()=>Lt,z$:()=>At,zd:()=>Tn});const Ie=function(xe){const re=[];let q=0;for(let H=0;H<xe.length;H++){let B=xe.charCodeAt(H);B<128?re[q++]=B:B<2048?(re[q++]=B>>6|192,re[q++]=63&B|128):55296==(64512&B)&&H+1<xe.length&&56320==(64512&xe.charCodeAt(H+1))?(B=65536+((1023&B)<<10)+(1023&xe.charCodeAt(++H)),re[q++]=B>>18|240,re[q++]=B>>12&63|128,re[q++]=B>>6&63|128,re[q++]=63&B|128):(re[q++]=B>>12|224,re[q++]=B>>6&63|128,re[q++]=63&B|128)}return re},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,re){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let B=0;B<xe.length;B+=3){const pe=xe[B],Be=B+1<xe.length,bt=Be?xe[B+1]:0,Ot=B+2<xe.length,sn=Ot?xe[B+2]:0;let Zn=(15&bt)<<2|sn>>6,Oe=63&sn;Ot||(Oe=64,Be||(Zn=64)),H.push(q[pe>>2],q[(3&pe)<<4|bt>>4],q[Zn],q[Oe])}return H.join("")},encodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(xe):this.encodeByteArray(Ie(xe),re)},decodeString(xe,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(xe):function(xe){const re=[];let q=0,H=0;for(;q<xe.length;){const B=xe[q++];if(B<128)re[H++]=String.fromCharCode(B);else if(B>191&&B<224){const pe=xe[q++];re[H++]=String.fromCharCode((31&B)<<6|63&pe)}else if(B>239&&B<365){const Ot=((7&B)<<18|(63&xe[q++])<<12|(63&xe[q++])<<6|63&xe[q++])-65536;re[H++]=String.fromCharCode(55296+(Ot>>10)),re[H++]=String.fromCharCode(56320+(1023&Ot))}else{const pe=xe[q++],Be=xe[q++];re[H++]=String.fromCharCode((15&B)<<12|(63&pe)<<6|63&Be)}}return re.join("")}(this.decodeStringToByteArray(xe,re))},decodeStringToByteArray(xe,re){this.init_();const q=re?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let B=0;B<xe.length;){const pe=q[xe.charAt(B++)],bt=B<xe.length?q[xe.charAt(B)]:0;++B;const sn=B<xe.length?q[xe.charAt(B)]:64;++B;const ln=B<xe.length?q[xe.charAt(B)]:64;if(++B,null==pe||null==bt||null==sn||null==ln)throw new Me;H.push(pe<<2|bt>>4),64!==sn&&(H.push(bt<<4&240|sn>>2),64!==ln&&H.push(sn<<6&192|ln))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(xe){return function(xe){const re=Ie(xe);return Ae.encodeByteArray(re,!0)}(xe).replace(/\./g,"")},te=function(xe){try{return Ae.decodeString(xe,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function ye(xe,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return re}for(const q in re)!re.hasOwnProperty(q)||!st(q)||(xe[q]=ye(xe[q],re[q]));return xe}function st(xe){return"__proto__"!==xe}const Et=()=>{try{return function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=xe&&te(xe[1]);return re&&JSON.parse(re)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},qe=xe=>{const re=(xe=>{var re,q;return null===(q=null===(re=Et())||void 0===re?void 0:re.emulatorHosts)||void 0===q?void 0:q[xe]})(xe);if(!re)return;const q=re.lastIndexOf(":");if(q<=0||q+1===re.length)throw new Error(`Invalid host ${re} with no separate hostname and port!`);const H=parseInt(re.substring(q+1),10);return"["===re[0]?[re.substring(1,q-1),H]:[re.substring(0,q),H]},Fe=()=>{var xe;return null===(xe=Et())||void 0===xe?void 0:xe.config},it=xe=>{var re;return null===(re=Et())||void 0===re?void 0:re[`_${xe}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,q)=>{this.resolve=re,this.reject=q})}wrapCallback(re){return(q,H)=>{q?this.reject(q):this.resolve(H),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(q):re(q,H))}}}function ct(xe,re){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=re||"demo-project",B=xe.iat||0,pe=xe.sub||xe.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:B,exp:B+3600,auth_time:B,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(Be)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function ve(){var xe;const re=null===(xe=Et())||void 0===xe?void 0:xe.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function an(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function hr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qt(){const xe=At();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function Re(){return!ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((xe,re)=>{try{let q=!0;const H="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(H);B.onsuccess=()=>{B.result.close(),q||self.indexedDB.deleteDatabase(H),xe(!0)},B.onupgradeneeded=()=>{q=!1},B.onerror=()=>{var pe;re((null===(pe=B.error)||void 0===pe?void 0:pe.message)||"")}}catch(q){re(q)}})}class ut extends Error{constructor(re,q,H){super(q),this.code=re,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(re,q,H){this.service=re,this.serviceName=q,this.errors=H}create(re,...q){const H=q[0]||{},B=`${this.service}/${re}`,pe=this.errors[re],Be=pe?function Gt(xe,re){return xe.replace($t,(q,H)=>{const B=re[H];return null!=B?String(B):`<${H}?>`})}(pe,H):"Error";return new ut(B,`${this.serviceName}: ${Be} (${B}).`,H)}}const $t=/\{\$([^}]+)}/g;function ar(xe,re){return Object.prototype.hasOwnProperty.call(xe,re)}function Lt(xe){for(const re in xe)if(Object.prototype.hasOwnProperty.call(xe,re))return!1;return!0}function In(xe,re){if(xe===re)return!0;const q=Object.keys(xe),H=Object.keys(re);for(const B of q){if(!H.includes(B))return!1;const pe=xe[B],Be=re[B];if(Dr(pe)&&Dr(Be)){if(!In(pe,Be))return!1}else if(pe!==Be)return!1}for(const B of H)if(!q.includes(B))return!1;return!0}function Dr(xe){return null!==xe&&"object"==typeof xe}function Vt(xe){const re=[];for(const[q,H]of Object.entries(xe))Array.isArray(H)?H.forEach(B=>{re.push(encodeURIComponent(q)+"="+encodeURIComponent(B))}):re.push(encodeURIComponent(q)+"="+encodeURIComponent(H));return re.length?"&"+re.join("&"):""}function Tn(xe){const re={};return xe.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[B,pe]=H.split("=");re[decodeURIComponent(B)]=decodeURIComponent(pe)}}),re}function xn(xe){const re=xe.indexOf("?");if(!re)return"";const q=xe.indexOf("#",re);return xe.substring(re,q>0?q:void 0)}function vr(xe,re){const q=new Er(xe,re);return q.subscribe.bind(q)}class Er{constructor(re,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{re(this)}).catch(H=>{this.error(H)})}next(re){this.forEachObserver(q=>{q.next(re)})}error(re){this.forEachObserver(q=>{q.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,q,H){let B;if(void 0===re&&void 0===q&&void 0===H)throw new Error("Missing Observer.");B=function $n(xe,re){if("object"!=typeof xe||null===xe)return!1;for(const q of re)if(q in xe&&"function"==typeof xe[q])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:q,complete:H},void 0===B.next&&(B.next=Hr),void 0===B.error&&(B.error=Hr),void 0===B.complete&&(B.complete=Hr);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),pe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,re)}sendOne(re,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{q(this.observers[re])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}function Ir(xe){return xe&&xe._delegate?xe._delegate:xe}},769:(Jt,Ke,U)=>{U.d(Ke,{y:()=>ye});var g=U(5861),l=U(2181),G=U(7398),Ie=U(1631),_e=U(6306),Ae=U(2096),Me=U(3914),De=U(5879),$e=U(7104),te=U(9862),se=U(6814);let ye=(()=>{class st{constructor(mt,ft,wt,Et,nn,qe){this.firestore=mt,this.http=ft,this.route=wt,this.location=Et,this.router=nn,this.activatedRoute=qe,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",mt=>mt.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,l.h)(mt=>mt instanceof Me.m2),(0,G.U)(()=>this.activatedRoute),(0,G.U)(mt=>{for(;mt.firstChild;)mt=mt.firstChild;return mt}),(0,Ie.z)(mt=>mt.queryParams),(0,Ie.z)(mt=>this.router.events.pipe((0,l.h)(ft=>ft instanceof Me.m2),(0,G.U)(ft=>({navigationEvent:ft,queryParams:mt}))))).subscribe(({navigationEvent:mt,queryParams:ft})=>{this.logAnalyticsData(mt.urlAfterRedirects,ft,mt.type)})}logAnalyticsData(mt,ft,wt){var Et=this;return(0,g.Z)(function*(){const nn=navigator.userAgent,qe=new Date,Fe=Et.getBrowserType(nn),it=/mobile/i.test(nn),ze={pagePath:mt,queryParams:ft,timestamp:qe,browser:Fe,isMobile:it,event_type:wt};return Et.firestore.collection("analytics").add(ze)})()}getBrowserType(mt){return mt.includes("Firefox")?"Firefox":mt.includes("Chrome")?"Chrome":mt.includes("Safari")?"Safari":mt.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,_e.K)(mt=>(console.error("Error getting IP address: ",mt),(0,Ae.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(ft){return new(ft||st)(De.LFG($e.ST),De.LFG(te.eN),De.LFG(Me.gz),De.LFG(se.Ye),De.LFG(Me.F0),De.LFG(Me.gz))};static#t=this.\u0275prov=De.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})()},4626:(Jt,Ke,U)=>{U.d(Ke,{e:()=>De});var g=U(5861),l=U(2459),G=U(6306),Ie=U(7398),_e=U(5879),Ae=U(7213),Me=U(3914);let De=(()=>{class $e{constructor(se,ye){this.afAuth=se,this.router=ye,this.user$=this.afAuth.authState}login(se,ye){return this.router.navigate(["/admin"]),(0,l.D)(this.afAuth.signInWithEmailAndPassword(se,ye)).pipe((0,G.K)(st=>{throw console.error("Login error: ",st),st}))}logout(){var se=this;return(0,g.Z)(function*(){yield se.afAuth.signOut(),se.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Ie.U)(se=>!!se))}static#e=this.\u0275fac=function(ye){return new(ye||$e)(_e.LFG(Ae.zQ),_e.LFG(Me.F0))};static#t=this.\u0275prov=_e.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})()},5842:(Jt,Ke,U)=>{U.d(Ke,{I:()=>Ae});var g=U(5861);class l{constructor(){this.message="",this.context="",this.stack="",this.timestamp=new Date,this.id=""}}var G=U(1043),Ie=U(5879),_e=U(7104);let Ae=(()=>{class Me{constructor($e){this.firestore=$e,this.err=new l,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError($e,te){const se={message:$e.message||$e.toString(),stack:$e.stack||"",timestamp:G.EK.now(),context:te||""};return this.firestore.collection("errorLogs").add(Object.assign({},se))}getErrorLogs(){return this.firestore.collection("errorLogs",$e=>$e.orderBy("timestamp","desc").limit(200)).valueChanges()}clearErrorLogs(){var $e=this;return(0,g.Z)(function*(){const te=yield $e.firestore.collection("errorLogs").get().toPromise();if(te&&!te.empty){const se=$e.firestore.firestore.batch();return te.forEach(ye=>{se.delete(ye.ref)}),se.commit()}console.warn("No error logs to clear.")})()}static#e=this.\u0275fac=function(te){return new(te||Me)(Ie.LFG(_e.ST))};static#t=this.\u0275prov=Ie.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})()},3375:(Jt,Ke,U)=>{U.d(Ke,{n:()=>Me});var g=U(7398),l=U(6306),G=U(8504),Ie=U(5879),_e=U(7104),Ae=U(5842);let Me=(()=>{class De{constructor(te,se){this.firestore=te,this.errorLoggingService=se,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(se=>1==se.Approved))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getEvents"),(0,G._)(()=>new Error(te)))))}getAllEvents(){return this.firestore.collection("Events",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getAllEvents"),(0,G._)(()=>new Error(te)))))}getEventById(te){return this.eventsCollection.doc(te).valueChanges().pipe((0,l.K)(se=>(this.errorLoggingService.logError(se,"getGetEventById: "+te),(0,G._)(()=>new Error(se)))))}addEvent(te){const se=this.firestore.createId();return te.Date_Created=new Date,te.Date_Updated=new Date,te.ApprovedDate=new Date,te.Approved=!0,this.firestore.collection("Events").doc(se).set(te).catch(ye=>{throw this.errorLoggingService.logError(ye,"addEvent"),ye})}updateEvent(te,se){return se.Date_Updated=new Date,this.eventsCollection.doc(te).update(se).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateEvent"),ye}),this.firestore.doc(`Events/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}deleteService(te){return this.eventsCollection.doc(te).delete().catch(se=>{throw this.errorLoggingService.logError(se,"deleteEvent"),se})}static#e=this.\u0275fac=function(se){return new(se||De)(Ie.LFG(_e.ST),Ie.LFG(Ae.I))};static#t=this.\u0275prov=Ie.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},8924:(Jt,Ke,U)=>{U.d(Ke,{b:()=>Me});var g=U(7398),l=U(6306),G=U(8504),Ie=U(5879),_e=U(7104),Ae=U(5842);let Me=(()=>{class De{constructor(te,se){this.firestore=te,this.errorLoggingService=se,this.offerCollection=this.firestore.collection("Offers")}getAllOffers(){return this.firestore.collection("Offers",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(se=>1==se.Approved))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getAllOffers"),(0,G._)(()=>new Error(te)))))}getOffers(){return this.firestore.collection("Offers",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(se=>1==se.Approved))).pipe((0,g.U)(te=>te.filter(se=>1==se.Approved))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getApprovedOffers"),(0,G._)(()=>new Error(te)))))}getOfferById(te){return this.firestore.collection("Offers").doc(te).valueChanges().pipe((0,l.K)(se=>(this.errorLoggingService.logError(se,"getGetOffersById: "+te),(0,G._)(()=>new Error(se)))))}addOffer(te){const se=this.firestore.createId();return te.id=se,te.Date_Created=(new Date).toISOString(),te.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(se).set(te).catch(ye=>{throw this.errorLoggingService.logError(ye,"addOffer"),ye}),this.firestore.doc(`Offers/${se}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:se,...ye}:void 0))}updateOffer(te,se){return console.log("Update Offer: "+te),se.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(te).update(se).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateOffer"),ye}),this.firestore.doc(`Offers/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,g.U)(te=>{const se=te.map(ye=>ye.OfferType);return Array.from(new Set(se))})).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getOfferTypes"),(0,G._)(()=>new Error(te)))))}deleteOffer(te){return this.offerCollection.doc(te).delete().catch(se=>{throw this.errorLoggingService.logError(se,"deleteOffer"),se})}static#e=this.\u0275fac=function(se){return new(se||De)(Ie.LFG(_e.ST),Ie.LFG(Ae.I))};static#t=this.\u0275prov=Ie.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},614:(Jt,Ke,U)=>{U.d(Ke,{r:()=>Me});var g=U(7398),l=U(6306),G=U(8504),Ie=U(5879),_e=U(7104),Ae=U(5842);let Me=(()=>{class De{constructor(te,se){this.firestore=te,this.errorLoggingService=se,this.servicesCollection=this.firestore.collection("Services")}getServices(){return this.firestore.collection("Services",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,g.U)(te=>te.filter(se=>1==se.Approved))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getApprovedServices"),(0,G._)(()=>new Error(te)))))}getAllServices(){return this.firestore.collection("Services",te=>te.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,g.U)(te=>te.map(se=>{const ye=se.payload.doc.data();return{id:se.payload.doc.id,...ye}}))).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getAllServices"),(0,G._)(()=>new Error(te)))))}getServiceById(te){return this.servicesCollection.doc(te).valueChanges().pipe((0,l.K)(se=>(this.errorLoggingService.logError(se,"getGetServiceById: "+te),(0,G._)(()=>new Error(se)))))}getServicesByType(te){return this.firestore.collection("Services",se=>se.where("Service_Type","==",te).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,l.K)(se=>(this.errorLoggingService.logError(se,"getServiceByServiceType: "+te),(0,G._)(()=>new Error(se)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,g.U)(te=>{const se=te.map(ye=>ye.Name);return Array.from(new Set(se))})).pipe((0,l.K)(te=>(this.errorLoggingService.logError(te,"getServiceTypes"),(0,G._)(()=>new Error(te)))))}addService(te){const se=this.firestore.createId();return te.id=se,te.Date_Created=(new Date).toISOString(),te.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(se).set(Object.assign({},te)).catch(ye=>{throw this.errorLoggingService.logError(ye,"addService"),ye}),this.firestore.doc(`Services/${se}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:se,...ye}:void 0))}updateService(te,se){return se.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(te).update(Object.assign({},se)).catch(ye=>{throw this.errorLoggingService.logError(ye,"updateService"),ye}),this.firestore.doc(`Services/${te}`).valueChanges().pipe((0,g.U)(ye=>ye?{id:te,...ye}:void 0))}deleteService(te){return this.servicesCollection.doc(te).delete().catch(se=>{throw this.errorLoggingService.logError(se,"deleteService"),se})}static#e=this.\u0275fac=function(se){return new(se||De)(Ie.LFG(_e.ST),Ie.LFG(Ae.I))};static#t=this.\u0275prov=Ie.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},2380:(Jt,Ke,U)=>{U.d(Ke,{d:()=>_e});var g=U(5879),l=U(769),G=U(6814);function Ie(Ae,Me){if(1&Ae&&(g.TgZ(0,"tr")(1,"td"),g._uU(2),g.ALo(3,"date"),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.ALo(10,"json"),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA()()),2&Ae){const De=Me.$implicit;g.xp6(2),g.Oqu(g.xi3(3,7,null==De.timestamp?null:De.timestamp.toDate(),"short")),g.xp6(3),g.Oqu(De.eventType),g.xp6(2),g.Oqu(De.pagePath),g.xp6(2),g.Oqu(g.lcZ(10,10,De.queryParams)),g.xp6(3),g.Oqu(De.browser),g.xp6(2),g.Oqu(De.isMobile?"Mobile":"Desktop"),g.xp6(2),g.Oqu(De.ipAddress)}}let _e=(()=>{class Ae{constructor(De){this.analyticsService=De}ngOnInit(){this.analyticsService.getAnalytics().subscribe(De=>{this.analyticsLogs=De},De=>{console.error("Error fetching analytics:",De)})}static#e=this.\u0275fac=function($e){return new($e||Ae)(g.Y36(l.y))};static#t=this.\u0275cmp=g.Xpm({type:Ae,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function($e,te){1&$e&&(g.TgZ(0,"div",0)(1,"h2"),g._uU(2,"Analytics Logs"),g.qZA(),g.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),g._uU(7,"Timestamp"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Event Type"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Page Path"),g.qZA(),g.TgZ(12,"th"),g._uU(13,"Query Params"),g.qZA(),g.TgZ(14,"th"),g._uU(15,"Browser"),g.qZA(),g.TgZ(16,"th"),g._uU(17,"Device"),g.qZA(),g.TgZ(18,"th"),g._uU(19,"IP Address"),g.qZA()()(),g.TgZ(20,"tbody"),g.YNc(21,Ie,17,12,"tr",1),g.qZA()()()),2&$e&&(g.xp6(21),g.Q6J("ngForOf",te.analyticsLogs))},dependencies:[G.sg,G.Ts,G.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return Ae})()},5546:(Jt,Ke,U)=>{var g=U(6593),l=U(5879),G=U(6814);let Ie;try{Ie=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ie=!1}let te,_e=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,G.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ie)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ye(f){return function se(){if(null==te&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>te=!0}))}finally{te=te||!1}return te}()?f:!!f.capture}function ji(f){return Array.isArray(f)?f:[f]}var zo=U(8645),ns=U(2572),Bs=U(5211),Or=U(5592),on=U(8180),qn=U(2181),Di=U(6321),Qs=U(9360),Xr=U(8251);function us(f,c=Di.z){return(0,Qs.e)((a,p)=>{let I=null,k=null,ee=null;const de=()=>{if(I){I.unsubscribe(),I=null;const Ze=k;k=null,p.next(Ze)}};function Pe(){const Ze=ee+f,Dt=c.now();if(Dt<Ze)return I=this.schedule(void 0,Ze-Dt),void p.add(I);de()}a.subscribe((0,Xr.x)(p,Ze=>{k=Ze,ee=c.now(),I||(I=c.schedule(Pe,f),p.add(I))},()=>{de(),p.complete()},void 0,()=>{k=I=null}))})}var Ar=U(7398),ds=U(7921),mo=U(9773);const hs=new Set;let kr,Ni=(()=>{class f{constructor(a,p){this._platform=a,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fs}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bn(f,c){if(!hs.has(f))try{kr||(kr=document.createElement("style"),c&&(kr.nonce=c),kr.setAttribute("type","text/css"),document.head.appendChild(kr)),kr.sheet&&(kr.sheet.insertRule(`@media ${f} {body{ }}`,0),hs.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(_e),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function fs(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let Si=(()=>{class f{constructor(a,p){this._mediaMatcher=a,this._zone=p,this._queries=new Map,this._destroySubject=new zo.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return ps(ji(a)).some(I=>this._registerQuery(I).mql.matches)}observe(a){const I=ps(ji(a)).map(ee=>this._registerQuery(ee).observable);let k=(0,ns.a)(I);return k=(0,Bs.z)(k.pipe((0,on.q)(1)),k.pipe(function Mr(f){return(0,qn.h)((c,a)=>f<=a)}(1),us(0))),k.pipe((0,Ar.U)(ee=>{const de={matches:!1,breakpoints:{}};return ee.forEach(({matches:Pe,query:Ze})=>{de.matches=de.matches||Pe,de.breakpoints[Ze]=Pe}),de}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const p=this._mediaMatcher.matchMedia(a),k={observable:new Or.y(ee=>{const de=Pe=>this._zone.run(()=>ee.next(Pe));return p.addListener(de),()=>{p.removeListener(de)}}).pipe((0,ds.O)(p),(0,Ar.U)(({matches:ee})=>({query:a,matches:ee})),(0,mo.R)(this._destroySubject)),mql:p};return this._queries.set(a,k),k}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(Ni),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function ps(f){return f.map(c=>c.split(",")).reduce((c,a)=>c.concat(a)).map(c=>c.trim())}const to="cdk-high-contrast-black-on-white",no="cdk-high-contrast-white-on-black",Mo="cdk-high-contrast-active";let xa=(()=>{class f{constructor(a,p){this._platform=a,this._document=p,this._breakpointSubscription=(0,l.f3M)(Si).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const p=this._document.defaultView||window,I=p&&p.getComputedStyle?p.getComputedStyle(a):null,k=(I&&I.backgroundColor||"").replace(/ /g,"");switch(a.remove(),k){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(Mo,to,no),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?a.add(Mo,to):2===p&&a.add(Mo,no)}}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(_e),l.LFG(G.K0))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),Po=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({})}return f})();const ei=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function Bc(){return!0}});let P=(()=>{class f{constructor(a,p,I){this._sanityChecks=p,this._document=I,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!function it(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(xa),l.LFG(ei,8),l.LFG(G.K0))};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[Po,Po]})}return f})(),xo=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[P,P]})}return f})();const fu=ye({passive:!0,capture:!0});class Cl{constructor(){this._events=new Map,this._delegateEventHandler=c=>{const a=function Fe(f){return f.composedPath?f.composedPath()[0]:f.target}(c);a&&this._events.get(c.type)?.forEach((p,I)=>{(I===a||I.contains(a))&&p.forEach(k=>k.handleEvent(c))})}}addHandler(c,a,p,I){const k=this._events.get(a);if(k){const ee=k.get(p);ee?ee.add(I):k.set(p,new Set([I]))}else this._events.set(a,new Map([[p,new Set([I])]])),c.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,fu)})}removeHandler(c,a,p){const I=this._events.get(c);if(!I)return;const k=I.get(a);k&&(k.delete(p),0===k.size&&I.delete(a),0===I.size&&(this._events.delete(c),document.removeEventListener(c,this._delegateEventHandler,fu)))}}class ro{static#e=this._eventManager=new Cl;constructor(c,a,p,I){this._target=c,this._ngZone=a,this._platform=I,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,I.isBrowser&&(this._containerElement=ts(p))}fadeInRipple(c,a,p={}){const I=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),k={...Jo,...p.animation},ee=p.radius||function Oo(f,c,a){const p=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),I=Math.max(Math.abs(c-a.top),Math.abs(c-a.bottom));return Math.sqrt(p*p+I*I)}(c,a,I),de=c-I.left,Pe=a-I.top,Ze=k.enterDuration,Dt=document.createElement("div");Dt.classList.add("mat-ripple-element"),Dt.style.left=de-ee+"px",Dt.style.top=Pe-ee+"px",Dt.style.height=2*ee+"px",Dt.style.width=2*ee+"px",null!=p.color&&(Dt.style.backgroundColor=p.color),Dt.style.transitionDuration=`${Ze}ms`,this._containerElement.appendChild(Dt);const tn=window.getComputedStyle(Dt),An=tn.transitionDuration,pn="none"===tn.transitionProperty||"0s"===An||"0s, 0s"===An||0===I.width&&0===I.height,Rn=new ws(this,Dt,p,pn);Dt.style.transform="scale3d(1, 1, 1)",Rn.state=0,p.persistent||(this._mostRecentTransientRipple=Rn);return!pn&&(Ze||k.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const oi=()=>this._finishRippleTransition(Rn),vi=()=>this._destroyRipple(Rn);Dt.addEventListener("transitionend",oi),Dt.addEventListener("transitioncancel",vi)}),this._activeRipples.set(Rn,null),(pn||!Ze)&&this._finishRippleTransition(Rn),Rn}fadeOutRipple(c){if(2===c.state||3===c.state)return;const a=c.element,p={...Jo,...c.config.animation};a.style.transitionDuration=`${p.exitDuration}ms`,a.style.opacity="0",c.state=2,(c._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(c)}fadeOutAll(){this._getActiveRipples().forEach(c=>c.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(c=>{c.config.persistent||c.fadeOut()})}setupTriggerEvents(c){const a=ts(c);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,sc.forEach(p=>{ro._eventManager.addHandler(this._ngZone,p,a,this)}))}handleEvent(c){"mousedown"===c.type?this._onMousedown(c):"touchstart"===c.type?this._onTouchStart(c):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pu.forEach(a=>{this._triggerElement.addEventListener(a,this,jc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(c){0===c.state?this._startFadeOutTransition(c):2===c.state&&this._destroyRipple(c)}_startFadeOutTransition(c){const a=c===this._mostRecentTransientRipple,{persistent:p}=c.config;c.state=1,!p&&(!a||!this._isPointerDown)&&c.fadeOut()}_destroyRipple(c){const a=this._activeRipples.get(c)??null;this._activeRipples.delete(c),this._activeRipples.size||(this._containerRect=null),c===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),c.state=3,null!==a&&(c.element.removeEventListener("transitionend",a.onTransitionEnd),c.element.removeEventListener("transitioncancel",a.onTransitionCancel)),c.element.remove()}_onMousedown(c){const a=function Il(f){return 0===f.buttons||0===f.detail}(c),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!p&&(this._isPointerDown=!0,this.fadeInRipple(c.clientX,c.clientY,this._target.rippleConfig))}_onTouchStart(c){if(!this._target.rippleDisabled&&!function Ja(f){const c=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!c||-1!==c.identifier||null!=c.radiusX&&1!==c.radiusX||null!=c.radiusY&&1!==c.radiusY)}(c)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=c.changedTouches;if(a)for(let p=0;p<a.length;p++)this.fadeInRipple(a[p].clientX,a[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(c=>{!c.config.persistent&&(1===c.state||c.config.terminateOnPointerUp&&0===c.state)&&c.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const c=this._triggerElement;c&&(sc.forEach(a=>ro._eventManager.removeHandler(a,c,this)),this._pointerUpEventsRegistered&&pu.forEach(a=>c.removeEventListener(a,this,jc)))}}let qr=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[P,G.ez,P]})}return f})();var or=U(2096),Gs=(U(8504),U(9315)),so=(U(9397),U(6306),U(4716)),_s=(U(3020),U(9862));let wd=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[P,P]})}return f})(),Yf=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[xo,P,xo,P]})}return f})();var bi=U(3914),na=U(3375),Rl=U(8924);function Uh(f,c){1&f&&(l.TgZ(0,"span",12),l._uU(1,"\u2605"),l.qZA())}function Eu(f,c){1&f&&(l.TgZ(0,"p"),l._uU(1,"Oferta a expirat"),l.qZA())}function qc(f,c){1&f&&(l.TgZ(0,"p"),l._uU(1,"Oferta este valabil\u0101"),l.qZA())}function Sd(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",13),l._UZ(2,"img",14),l.qZA(),l._UZ(3,"br"),l._uU(4," Facebook"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.s9C("href",a.offer.Facebook,l.LSH)}}function Qf(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",13),l._UZ(2,"img",15),l.qZA(),l._UZ(3,"br"),l._uU(4," Instagram"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.MGl("href","https://www.instagram.com/",a.offer.Instagram,"",l.LSH)}}function Iu(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",16),l._UZ(2,"img",17),l.qZA(),l._UZ(3,"br"),l._uU(4," Email"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.MGl("href","mailto:",a.offer.Email,"",l.LSH)}}function dc(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",13),l._UZ(2,"img",18),l.qZA(),l._UZ(3,"br"),l._uU(4," Website"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.s9C("href",a.offer.Website,l.LSH)}}let Jf=(()=>{class f{constructor(a){this.router=a,this.currentImageIndex=1}ngOnInit(){this.offer.Image1||(this.offer.Image1="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image2||(this.offer.Image2="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image3||(this.offer.Image3="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image4||(this.offer.Image4="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.offer.Image5||(this.offer.Image5="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/dafaultImage.jpg"),this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=this.currentImageIndex%5+1},3e3)}nextImage(){this.currentImageIndex=this.currentImageIndex%5+1}prevImage(){this.currentImageIndex=(this.currentImageIndex-2+5)%5+1}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:56,vars:21,consts:[[1,"offer-card"],[1,"carousel"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"image-container"],[3,"src","alt"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"offer-footer"],[1,"social-icons"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return I.prevImage()}),l._uU(3,"\u276e"),l.qZA(),l.TgZ(4,"button",3),l.NdJ("click",function(){return I.nextImage()}),l._uU(5,"\u276f"),l.qZA(),l.TgZ(6,"div",4),l._UZ(7,"img",5),l.qZA()(),l.TgZ(8,"div",6)(9,"h3"),l._uU(10),l.qZA(),l.YNc(11,Uh,2,0,"span",7),l.TgZ(12,"p")(13,"strong"),l._uU(14,"Compania:"),l.qZA(),l._uU(15),l.qZA(),l.TgZ(16,"p")(17,"strong"),l._uU(18,"Persona de contact:"),l.qZA(),l._uU(19),l.qZA(),l._UZ(20,"hr"),l.TgZ(21,"p")(22,"strong"),l._uU(23,"Numar de Tel:"),l.qZA(),l._uU(24),l.qZA(),l.TgZ(25,"p")(26,"strong"),l._uU(27,"Locatie:"),l.qZA(),l._uU(28),l.qZA(),l.TgZ(29,"p")(30,"strong"),l._uU(31,"Descriiere:"),l.qZA(),l._uU(32),l.qZA(),l.TgZ(33,"p")(34,"strong"),l._uU(35,"Pret:"),l.qZA(),l._uU(36),l.qZA(),l.TgZ(37,"p")(38,"strong"),l._uU(39,"Tip de ofert\u0101:"),l.qZA(),l._uU(40),l.qZA(),l.TgZ(41,"p")(42,"strong"),l._uU(43,"Creata pe data de:"),l.qZA(),l._uU(44),l.ALo(45,"date"),l.qZA(),l.YNc(46,Eu,2,0,"p",8),l.YNc(47,qc,2,0,"p",8),l.TgZ(48,"button",9),l.NdJ("click",function(){return I.navigateToDetails()}),l._uU(49,"Detalii"),l.qZA()(),l.TgZ(50,"div",10)(51,"div",11),l.YNc(52,Sd,5,1,"div",8),l.YNc(53,Qf,5,1,"div",8),l.YNc(54,Iu,5,1,"div",8),l.YNc(55,dc,5,1,"div",8),l.qZA()()()),2&p&&(l.xp6(7),l.MGl("alt","Image ",I.currentImageIndex,""),l.Q6J("src",I.offer["Image"+I.currentImageIndex],l.LSH),l.xp6(3),l.Oqu(I.offer.Title),l.xp6(1),l.Q6J("ngIf",I.offer.Community_Sponsor),l.xp6(4),l.hij(" ",I.offer.Company_Name,""),l.xp6(4),l.hij(" ",I.offer.Contact_Name,""),l.xp6(5),l.hij(" ",I.offer.Phone_Number,""),l.xp6(4),l.hij(" ",I.offer.Location,""),l.xp6(4),l.Oqu(I.offer.Description),l.xp6(4),l.Oqu(I.offer.Price),l.xp6(4),l.Oqu(I.offer.OfferType),l.xp6(4),l.hij(" ",l.xi3(45,18,I.offer.Date_Created,"shortDate"),""),l.xp6(2),l.Q6J("ngIf",I.offer.Filled),l.xp6(1),l.Q6J("ngIf",!I.offer.Filled),l.xp6(5),l.Q6J("ngIf",I.offer.Facebook),l.xp6(1),l.Q6J("ngIf",I.offer.Instagram),l.xp6(1),l.Q6J("ngIf",I.offer.Email),l.xp6(1),l.Q6J("ngIf",I.offer.Website))},dependencies:[G.O5,G.uU],styles:[".offer-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative;background-color:#fafafa}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function vs(f,c){if(1&f&&(l.TgZ(0,"div",8),l._UZ(1,"img",9),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.s9C("alt",a.event.Name),l.Q6J("src",a.event.Poster_Image,l.LSH)}}function Bh(f,c){if(1&f&&(l.TgZ(0,"p")(1,"strong"),l._uU(2,"Facebook:"),l.qZA(),l.TgZ(3,"a",4),l._uU(4),l.qZA()()),2&f){const a=l.oxw();l.xp6(3),l.Q6J("href",a.event.Facebook,l.LSH),l.xp6(1),l.Oqu(a.event.Facebook)}}function Tu(f,c){if(1&f&&(l.TgZ(0,"p")(1,"strong"),l._uU(2,"Instagram:"),l.qZA(),l.TgZ(3,"a",4),l._uU(4),l.qZA()()),2&f){const a=l.oxw();l.xp6(3),l.Q6J("href",a.event.Instagram,l.LSH),l.xp6(1),l.Oqu(a.event.Instagram)}}function _a(f,c){1&f&&(l.TgZ(0,"div",10)(1,"span",11),l._uU(2,"Evenimentul a Expirat"),l.qZA()())}let hc=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-event-card"]],inputs:{event:"event"},decls:40,vars:17,consts:[[1,"event-card"],["class","event-image",4,"ngIf"],[1,"event-details"],[1,"card-title"],["target","_blank",3,"href"],[4,"ngIf"],[1,"card-subtitle"],["class","card-expired",4,"ngIf"],[1,"event-image"],[3,"src","alt"],[1,"card-expired"],[1,"expired"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0),l.YNc(1,vs,2,2,"div",1),l.TgZ(2,"div",2)(3,"div",3),l._uU(4),l.qZA(),l.TgZ(5,"p")(6,"strong"),l._uU(7,"Locatie:"),l.qZA(),l._UZ(8,"br"),l._uU(9),l.qZA(),l.TgZ(10,"p")(11,"strong"),l._uU(12,"Data Evenimentului:"),l.qZA(),l._uU(13),l.ALo(14,"date"),l.qZA(),l.TgZ(15,"p")(16,"strong"),l._uU(17,"Ora:"),l.qZA(),l._uU(18),l.qZA(),l.TgZ(19,"p")(20,"strong"),l._uU(21,"Pret:"),l.qZA(),l._uU(22),l.qZA(),l.TgZ(23,"p")(24,"strong"),l._uU(25,"Persoana de contact:"),l.qZA(),l._uU(26),l.qZA(),l.TgZ(27,"p")(28,"strong"),l._uU(29,"Pagina Web:"),l.qZA(),l.TgZ(30,"a",4),l._uU(31),l.qZA()(),l.YNc(32,Bh,5,2,"p",5),l.YNc(33,Tu,5,2,"p",5),l.TgZ(34,"div")(35,"strong"),l._uU(36," Detalii"),l.qZA(),l.TgZ(37,"div",6),l._uU(38),l.qZA(),l.YNc(39,_a,3,0,"div",7),l.qZA()()()),2&p&&(l.xp6(1),l.Q6J("ngIf",I.event.Poster_Image),l.xp6(3),l.Oqu(I.event.Name),l.xp6(5),l.Oqu(I.event.Location),l.xp6(4),l.hij(" ",l.xi3(14,14,I.event.Event_Date,"short"),""),l.xp6(5),l.hij(" ",I.event.Time,""),l.xp6(4),l.hij(" ",I.event.Price,""),l.xp6(4),l.AsE(" ",I.event.Contact," - ",I.event.Phone_Number,""),l.xp6(4),l.Q6J("href",I.event.Website,l.LSH),l.xp6(1),l.Oqu(I.event.Website),l.xp6(1),l.Q6J("ngIf",I.event.Facebook),l.xp6(1),l.Q6J("ngIf",I.event.Instagram),l.xp6(5),l.Oqu(I.event.Description),l.xp6(1),l.Q6J("ngIf",I.event.Expired))},dependencies:[G.O5,G.uU],styles:[".event-card[_ngcontent-%COMP%]{width:400px;min-height:550px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;margin:16px;box-shadow:0 4px 8px #0000001a;background-color:#fafafa}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.event-details[_ngcontent-%COMP%]{padding:16px;text-align:left}.event-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.event-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function jh(f,c){1&f&&l._UZ(0,"app-event-card",25),2&f&&l.Q6J("event",c.$implicit)}function bu(f,c){1&f&&l._UZ(0,"app-offer-card",26),2&f&&l.Q6J("offer",c.$implicit)}function Zc(f,c){if(1&f&&(l.TgZ(0,"li",27)(1,"a",28),l._uU(2),l.qZA()()),2&f){const a=c.$implicit;l.xp6(1),l.s9C("href",a.url,l.LSH),l.xp6(1),l.Oqu(a.name)}}let fc=(()=>{class f{constructor(a,p,I){this.eventService=a,this.offersService=p,this.router=I,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a}),this.offersService.getOffers().subscribe(a=>{this.offers=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(na.n),l.Y36(Rl.b),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-home"]],decls:97,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],[1,"sharedContent-Section"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"event"],[3,"offer"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),l._uU(5,"Bine ati venit in comunitatea "),l.TgZ(6,"a",4),l._uU(7,"Romani in Seattle"),l.qZA()(),l.TgZ(8,"p"),l._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Join our Facebook Group"),l.qZA()(),l.TgZ(12,"div",6),l._UZ(13,"img",7),l.qZA()()(),l.TgZ(14,"section",8)(15,"div",0)(16,"h2"),l._uU(17,"Despre communitatea noastra"),l.qZA(),l.TgZ(18,"p"),l._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),l.qZA()()(),l.TgZ(20,"div",9)(21,"div",10)(22,"h2"),l._uU(23,"Evenimente"),l.qZA(),l.TgZ(24,"p"),l._uU(25,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),l.qZA()(),l.TgZ(26,"div",10)(27,"h2"),l._uU(28,"Servicii"),l.qZA(),l.TgZ(29,"p"),l._uU(30,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),l.qZA()(),l.TgZ(31,"div",10)(32,"h2"),l._uU(33,"Oportunit\u0103\u021bi si Oferte"),l.qZA(),l.TgZ(34,"p"),l._uU(35,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),l.qZA()(),l.TgZ(36,"div",10)(37,"h2"),l._uU(38,"Resurse"),l.qZA(),l.TgZ(39,"p"),l._uU(40,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),l.qZA()()(),l.TgZ(41,"div",11)(42,"h1"),l._uU(43,"Evenimente"),l.qZA(),l.TgZ(44,"div",12),l.YNc(45,jh,1,1,"app-event-card",13),l.qZA()(),l.TgZ(46,"div",11)(47,"h1"),l._uU(48,"Oportunit\u0103\u021bi si Oferte"),l.qZA(),l.TgZ(49,"div",14),l.YNc(50,bu,1,1,"app-offer-card",15),l.qZA()(),l.TgZ(51,"div",11)(52,"h1"),l._uU(53,"Resurse"),l.qZA(),l.TgZ(54,"section",16)(55,"div",9)(56,"div",10)(57,"h2"),l._uU(58,"Consulatul Rom\xe2niei la New York"),l.qZA(),l.TgZ(59,"h3"),l._uU(60,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),l.qZA(),l.TgZ(61,"p"),l._uU(62,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),l.qZA(),l.TgZ(63,"a",17),l._uU(64,"http://newyork.mae.ro/"),l.qZA()(),l.TgZ(65,"div",10)(66,"h2"),l._uU(67,"Consulatul Rom\xe2niei la Chicago"),l.qZA(),l.TgZ(68,"h3"),l._uU(69,"CONSUL GENERAL: "),l.qZA(),l.TgZ(70,"p"),l._uU(71,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),l.qZA(),l.TgZ(72,"a",18),l._uU(73,"http://chicago.mae.ro/"),l.qZA()(),l.TgZ(74,"div",10)(75,"h2"),l._uU(76,"Consulatul Rom\xe2niei la Los Angeles"),l.qZA(),l.TgZ(77,"h3"),l._uU(78,"CONSUL GENERAL: doamna Lucia SAVA"),l.qZA(),l.TgZ(79,"p"),l._uU(80,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),l.qZA(),l.TgZ(81,"a",19),l._uU(82,"http://losangeles.mae.ro/"),l.qZA()(),l.TgZ(83,"div",10)(84,"h2"),l._uU(85,"Consulatul Rom\xe2niei la Miami"),l.qZA(),l.TgZ(86,"h3"),l._uU(87,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),l.qZA(),l.TgZ(88,"p"),l._uU(89,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),l.qZA(),l.TgZ(90,"a",20),l._uU(91,"http://miami.mae.ro/"),l.qZA()()()()(),l.TgZ(92,"section",21)(93,"h2",22),l._uU(94,"Resurse utile pentru comunitate"),l.qZA(),l.TgZ(95,"ul",23),l.YNc(96,Zc,3,2,"li",24),l.qZA()()()),2&p&&(l.xp6(45),l.Q6J("ngForOf",I.events),l.xp6(5),l.Q6J("ngForOf",I.offers),l.xp6(46),l.Q6J("ngForOf",I.resourceLinks))},dependencies:[G.sg,Jf,hc],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:50px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return f})();var Va=U(614),fn=U(6223);function pc(f){return f?/^https?:\/\//i.test(f)?f:`http://${f}`:""}function xi(f,c){1&f&&(l.TgZ(0,"span",15),l._uU(1,"\u2605"),l.qZA())}function Gm(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",16),l._UZ(2,"img",17),l.qZA(),l._UZ(3,"br"),l._uU(4," Facebook"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.s9C("href",a.svc.Facebook,l.LSH)}}function yg(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",16),l._UZ(2,"img",18),l.qZA(),l._UZ(3,"br"),l._uU(4," Instagram"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.MGl("href","https://www.instagram.com/",a.svc.Instagram,"",l.LSH)}}function Xf(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",19),l._UZ(2,"img",20),l.qZA(),l._UZ(3,"br"),l._uU(4," Email"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.MGl("href","mailto:",a.svc.Email,"",l.LSH)}}function qm(f,c){if(1&f&&(l.TgZ(0,"div")(1,"a",16),l._UZ(2,"img",21),l.qZA(),l._UZ(3,"br"),l._uU(4," Website"),l.qZA()),2&f){const a=l.oxw();l.xp6(1),l.s9C("href",a.svc.Website,l.LSH)}}let ep=(()=>{class f{constructor(a){this.router=a}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=pc(this.svc.Website)}viewDetails(){this.router.navigate(["/services",this.svc.id])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:23,vars:11,consts:[[1,"service-card"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],[1,"card-description"],[1,"card-button"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/instagram-icon.svg"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5),l._uU(6),l.YNc(7,xi,2,0,"span",6),l.qZA(),l.TgZ(8,"div",7),l._uU(9),l.qZA(),l.TgZ(10,"div",8),l._uU(11),l.qZA(),l.TgZ(12,"div",9),l._uU(13),l.qZA(),l.TgZ(14,"div",10)(15,"button",11),l.NdJ("click",function(){return I.viewDetails()}),l._uU(16,"Detalii"),l.qZA()()(),l.TgZ(17,"div",12)(18,"div",13),l.YNc(19,Gm,5,1,"div",14),l.YNc(20,yg,5,1,"div",14),l.YNc(21,Xf,5,1,"div",14),l.YNc(22,qm,5,1,"div",14),l.qZA()()()()),2&p&&(l.xp6(2),l.s9C("alt",I.svc.Name),l.Q6J("src",I.svc.Image,l.LSH),l.xp6(4),l.Oqu(I.svc.Name),l.xp6(1),l.Q6J("ngIf",I.svc.Community_Sponsor),l.xp6(2),l.Oqu(I.svc.Service_Type),l.xp6(2),l.Oqu(I.svc.Phone_Number),l.xp6(2),l.Oqu(I.svc.Description),l.xp6(6),l.Q6J("ngIf",I.svc.Facebook),l.xp6(1),l.Q6J("ngIf",I.svc.Instagram),l.xp6(1),l.Q6J("ngIf",I.svc.Email),l.xp6(1),l.Q6J("ngIf",I.svc.Website))},dependencies:[G.O5],styles:[".service-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;display:flex;flex-direction:column;justify-content:space-between;border-radius:8px;box-shadow:0 4px 8px #00000080;margin:10px;padding:40px;box-sizing:border-box;position:relative}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:5px}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.card-header[_ngcontent-%COMP%]{text-align:center;margin:25px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold;font-size:1.7rem;font-weight:700;color:#333;line-height:1.2}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-size:1rem;color:#666;margin-top:4px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:1rem 0}.contact_info[_ngcontent-%COMP%]{padding:0 0 1rem;font-size:1.2rem}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 480px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 100px);min-width:175px;margin:2px;padding:2px;min-height:150px;min-height:330px}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:bold;font-size:.9rem;font-weight:400;color:#333;line-height:1;padding:0;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:100;font-style:normal;color:#666;margin-top:1px}.card-description[_ngcontent-%COMP%]{display:none}.service_type[_ngcontent-%COMP%]{text-transform:uppercase;padding:0;font-size:.5rem}.card-footer[_ngcontent-%COMP%]{display:none}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:175px}.service-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px) and(min-width:480px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.service-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.service-card-content[_ngcontent-%COMP%]{padding:0}.service-date[_ngcontent-%COMP%]{font-size:12px;color:#f1c40f}.service-footer[_ngcontent-%COMP%]{margin-top:10px}.featured[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}#browser-icon[_ngcontent-%COMP%]{fill:red;stroke:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}"]})}return f})();function vg(f,c){if(1&f&&(l.TgZ(0,"option",14),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function Hh(f,c){1&f&&l._UZ(0,"app-service-card",15),2&f&&l.Q6J("svc",c.$implicit)}let xl=(()=>{class f{constructor(a,p,I){this.servicesService=a,this.route=p,this.router=I,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceType=""}ngOnInit(){this.route.queryParams.subscribe(a=>{this.selectedServiceType=a.serviceType||""}),this.filterServices(this.selectedServiceType)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(a){const{target:p}=a;return p&&console.log(p.value),p.value}fetchServiceTypes(){console.log("FetchServiceTypes Function"),this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a,a.forEach(p=>{})}),console.log("Number of Service Types returned by the database : "+this.serviceTypes.length)}onFilterChange(a){console.log("Filter changed:",a),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceType:a},queryParamsHandling:"merge"}),this.filterServices(a)}filterServices(a){console.log("Filter Serices: "+a),this.fetchServiceTypes(),a&&""!==a?this.servicesService.getServicesByType(a).subscribe(p=>{this.services=p.filter(I=>I.Approved),this.filteredServices=p.filter(I=>I.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}):this.servicesService.getServices().subscribe(p=>{this.services=p.filter(I=>I.Approved),this.filteredServices=p.filter(I=>I.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})}extractServiceTypes(){this.serviceTypes=[...new Set(this.services.map(a=>a.Service_Type))]}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.web.app/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},k=>{console.error("Could not copy text: ",k)})}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(Va.r),l.Y36(bi.gz),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Lista de Servicii"),l.qZA()(),l.TgZ(4,"div",2)(5,"h2"),l._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),l.qZA()()(),l.TgZ(7,"div",3)(8,"div",4)(9,"label",5),l._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),l.qZA()(),l.TgZ(11,"div",4)(12,"select",6),l.NdJ("change",function(ee){return I.onFilterChange(I.handleChange(ee))})("ngModelChange",function(ee){return I.selectedServiceType=ee}),l.TgZ(13,"option",7),l._uU(14,"Toate serviciile"),l.qZA(),l.YNc(15,vg,2,2,"option",8),l.qZA()(),l.TgZ(16,"div",4)(17,"button",9),l.NdJ("click",function(){return I.navigateToAddService()}),l._uU(18,"Adaugati un Serviciu"),l.qZA()(),l.TgZ(19,"button",10),l.NdJ("click",function(){return I.shareLink()}),l._UZ(20,"i",11),l._uU(21," Share "),l.qZA()(),l.TgZ(22,"div",12),l.YNc(23,Hh,1,1,"app-service-card",13),l.qZA()),2&p&&(l.xp6(12),l.Q6J("ngModel",I.selectedServiceType),l.xp6(3),l.Q6J("ngForOf",I.serviceTypes),l.xp6(8),l.Q6J("ngForOf",I.filteredServices))},dependencies:[G.sg,fn.YN,fn.Kr,fn.EJ,fn.JJ,fn.On,ep],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return f})(),Ol=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"h1"),l._uU(4,"Regulile \u0219i Reglement\u0103rile"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),l.qZA(),l.TgZ(7,"a",3),l._uU(8,"Join our Facebook Group"),l.qZA()()(),l.TgZ(9,"section",4)(10,"div",5)(11,"h2"),l._uU(12,"Regulile \u0219i Reglement\u0103rile"),l.qZA(),l.TgZ(13,"ol",6)(14,"li")(15,"span"),l._uU(16,"Respecta\u021bi to\u021bi membrii."),l.qZA(),l._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),l.qZA(),l.TgZ(18,"li")(19,"span"),l._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),l.qZA(),l._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),l.qZA(),l.TgZ(22,"li"),l._uU(23,"F\u0103r\u0103 limbaj ofensator."),l.qZA(),l.TgZ(24,"li")(25,"span"),l._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),l.qZA(),l._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),l.qZA(),l.TgZ(28,"li"),l._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),l.qZA(),l.TgZ(30,"li")(31,"span"),l._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),l.qZA(),l._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),l.qZA(),l.TgZ(34,"li")(35,"span"),l._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),l.qZA(),l._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),l.qZA(),l.TgZ(38,"li"),l._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),l.qZA()()(),l.TgZ(40,"div")(41,"p"),l._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),l.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return f})();function tp(f,c){1&f&&l._UZ(0,"app-event-card",7),2&f&&l.Q6J("event",c.$implicit)}let $h=(()=>{class f{constructor(a,p){this.eventService=a,this.router=p,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(a=>{this.events=a})}navigateToAddEvent(){this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(na.n),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Lista de Evenimente"),l.qZA()(),l.TgZ(4,"div",2)(5,"h2"),l._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),l.qZA()()(),l.TgZ(7,"div",3)(8,"button",4),l.NdJ("click",function(){return I.navigateToAddEvent()}),l._uU(9,"Adaugati un Eveniment"),l.qZA()(),l.TgZ(10,"div",5),l.YNc(11,tp,1,1,"app-event-card",6),l.qZA()),2&p&&(l.xp6(11),l.Q6J("ngForOf",I.events))},dependencies:[G.sg,hc],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();function zi(f,c){1&f&&l._UZ(0,"app-offer-card",7),2&f&&l.Q6J("offer",c.$implicit)}let Cu=(()=>{class f{constructor(a,p){this.offersService=a,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(a=>{console.log(a),this.offers=a})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(Rl.b),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"De toate pentru to\u021bi"),l.qZA()(),l.TgZ(4,"div",2)(5,"h2"),l._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),l.qZA()()(),l.TgZ(7,"div",3)(8,"button",4),l.NdJ("click",function(){return I.navigateToAddOffer()}),l._uU(9,"Adaugati oferte"),l.qZA()(),l.TgZ(10,"div",5),l.YNc(11,zi,1,1,"app-offer-card",6),l.qZA()),2&p&&(l.xp6(11),l.Q6J("ngForOf",I.offers))},dependencies:[G.sg,Jf],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})();class gc{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour="",this.Hours={}}}class wu extends gc{constructor(){super(...arguments),this.id=""}}var xr=U(1920),Vo=U(2459),Au=U(4664),mc=U(7217),Nl=U(3106),kl=U(5861),Wc=U(534),vo=U(9058),np=U(4537);const oo="firebasestorage.googleapis.com",Du="storageBucket";class mi extends vo.ZR{constructor(c,a,p=0){super(Ll(c),`Firebase Storage: ${a} (${Ll(c)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mi.prototype)}get status(){return this.status_}set status(c){this.status_=c}_codeEquals(c){return Ll(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var _i=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(_i||{});function Ll(f){return"storage/"+f}function Md(){return new mi(_i.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _c(){return new mi(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rd(){return new mi(_i.CANCELED,"User canceled the upload/download.")}function Qc(){return new mi(_i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jc(f){return new mi(_i.INVALID_ARGUMENT,f)}function yc(){return new mi(_i.APP_DELETED,"The Firebase app was deleted.")}function Xc(f){return new mi(_i.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function el(f,c){return new mi(_i.INVALID_FORMAT,"String does not match format '"+f+"': "+c)}function Ul(f){throw new mi(_i.INTERNAL_ERROR,"Internal error: "+f)}class C{constructor(c,a){this.bucket=c,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,a){let p;try{p=C.makeFromUrl(c,a)}catch{return new C(c,"")}if(""===p.path)return p;throw function Mu(f){return new mi(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(c)}static makeFromUrl(c,a){let p=null;const I="([A-Za-z0-9.\\-_]+)",de=new RegExp("^gs://"+I+"(/(.*))?$","i");function Ze(Qr){Qr.path_=decodeURIComponent(Qr.path)}const tn=a.replace(/[.]/g,"\\."),hi=[{regex:de,indices:{bucket:1,path:3},postModify:function k(Qr){"/"===Qr.path.charAt(Qr.path.length-1)&&(Qr.path_=Qr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${tn}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ze},{regex:new RegExp(`^https?://${a===oo?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ze}];for(let Qr=0;Qr<hi.length;Qr++){const qa=hi[Qr],wo=qa.regex.exec(c);if(wo){let oa=wo[qa.indices.path];oa||(oa=""),p=new C(wo[qa.indices.bucket],oa),qa.postModify(p);break}}if(null==p)throw function Ba(f){return new mi(_i.INVALID_URL,"Invalid URL '"+f+"'.")}(c);return p}}class _{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function dt(f){return"string"==typeof f||f instanceof String}function Ft(f){return vn()&&f instanceof Blob}function vn(){return typeof Blob<"u"}function jn(f,c,a,p){if(p<c)throw Jc(`Invalid value for '${f}'. Expected ${c} or greater.`);if(p>a)throw Jc(`Invalid value for '${f}'. Expected ${a} or less.`)}function dr(f,c,a){let p=c;return null==a&&(p=`https://${c}`),`${a}://${p}/v0${f}`}function ao(f){const c=encodeURIComponent;let a="?";for(const p in f)f.hasOwnProperty(p)&&(a=a+(c(p)+"=")+c(f[p])+"&");return a=a.slice(0,-1),a}var Eo=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(Eo||{});function ja(f,c){const a=f>=500&&f<600,I=-1!==[408,429].indexOf(f),k=-1!==c.indexOf(f);return a||I||k}class Bl{constructor(c,a,p,I,k,ee,de,Pe,Ze,Dt,tn,Vn=!0){this.url_=c,this.method_=a,this.headers_=p,this.body_=I,this.successCodes_=k,this.additionalRetryCodes_=ee,this.callback_=de,this.errorCallback_=Pe,this.timeout_=Ze,this.progressCallback_=Dt,this.connectionFactory_=tn,this.retry=Vn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((An,pn)=>{this.resolve_=An,this.reject_=pn,this.start_()})}start_(){const a=(p,I)=>{const k=this.resolve_,ee=this.reject_,de=I.connection;if(I.wasSuccessCode)try{const Pe=this.callback_(de,de.getResponse());!function Y(f){return void 0!==f}(Pe)?k():k(Pe)}catch(Pe){ee(Pe)}else if(null!==de){const Pe=Md();Pe.serverResponse=de.getErrorText(),ee(this.errorCallback_?this.errorCallback_(de,Pe):Pe)}else ee(I.canceled?this.appDelete_?yc():Rd():_c())};this.canceled_?a(0,new ya(!1,null,!0)):this.backoffId_=function v(f,c,a){let p=1,I=null,k=null,ee=!1,de=0;function Pe(){return 2===de}let Ze=!1;function Dt(...gr){Ze||(Ze=!0,c.apply(null,gr))}function tn(gr){I=setTimeout(()=>{I=null,f(An,Pe())},gr)}function Vn(){k&&clearTimeout(k)}function An(gr,...oi){if(Ze)return void Vn();if(gr)return Vn(),void Dt.call(null,gr,...oi);if(Pe()||ee)return Vn(),void Dt.call(null,gr,...oi);let hi;p<64&&(p*=2),1===de?(de=2,hi=0):hi=1e3*(p+Math.random()),tn(hi)}let pn=!1;function Rn(gr){pn||(pn=!0,Vn(),!Ze&&(null!==I?(gr||(de=2),clearTimeout(I),tn(0)):gr||(de=1)))}return tn(0),k=setTimeout(()=>{ee=!0,Rn(!0)},a),Rn}((p,I)=>{if(I)return void p(!1,new ya(!1,null,!0));const k=this.connectionFactory_();this.pendingConnection_=k;const ee=de=>{null!==this.progressCallback_&&this.progressCallback_(de.loaded,de.lengthComputable?de.total:-1)};null!==this.progressCallback_&&k.addUploadProgressListener(ee),k.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&k.removeUploadProgressListener(ee),this.pendingConnection_=null;const de=k.getErrorCode()===Eo.NO_ERROR,Pe=k.getStatus();if(!de||ja(Pe,this.additionalRetryCodes_)&&this.retry){const Dt=k.getErrorCode()===Eo.ABORT;return void p(!1,new ya(!1,null,Dt))}const Ze=-1!==this.successCodes_.indexOf(Pe);p(!0,new ya(Ze,k))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function M(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ya{constructor(c,a,p){this.wasSuccessCode=c,this.connection=a,this.canceled=!!p}}function Wh(...f){const c=function Od(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==c){const a=new c;for(let p=0;p<f.length;p++)a.append(f[p]);return a.getBlob()}if(vn())return new Blob(f);throw new mi(_i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nd{constructor(c,a){this.data=c,this.contentType=a||null}}function sp(f,c){switch(f){case Ns.RAW:return new Nd(Kh(c));case Ns.BASE64:case Ns.BASE64URL:return new Nd(Yh(f,c));case Ns.DATA_URL:return new Nd(function Fd(f){const c=new Ig(f);return c.base64?Yh(Ns.BASE64,c.rest):function kd(f){let c;try{c=decodeURIComponent(f)}catch{throw el(Ns.DATA_URL,"Malformed data URL.")}return Kh(c)}(c.rest)}(c),function Pu(f){return new Ig(f).contentType}(c))}throw Md()}function Kh(f){const c=[];for(let a=0;a<f.length;a++){let p=f.charCodeAt(a);p<=127?c.push(p):p<=2047?c.push(192|p>>6,128|63&p):55296==(64512&p)?a<f.length-1&&56320==(64512&f.charCodeAt(a+1))?(p=65536|(1023&p)<<10|1023&f.charCodeAt(++a),c.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):c.push(239,191,189):56320==(64512&p)?c.push(239,191,189):c.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(c)}function Yh(f,c){switch(f){case Ns.BASE64:{const I=-1!==c.indexOf("-"),k=-1!==c.indexOf("_");if(I||k)throw el(f,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const I=-1!==c.indexOf("+"),k=-1!==c.indexOf("/");if(I||k)throw el(f,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function rl(f){if(typeof atob>"u")throw function Gh(f){return new mi(_i.UNSUPPORTED_ENVIRONMENT,`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(c)}catch(I){throw I.message.includes("polyfill")?I:el(f,"Invalid character found")}const p=new Uint8Array(a.length);for(let I=0;I<a.length;I++)p[I]=a.charCodeAt(I);return p}class Ig{constructor(c){this.base64=!1,this.contentType=null;const a=c.match(/^data:([^,]+)?,/);if(null===a)throw el(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=a[1]||null;null!=p&&(this.base64=function Ld(f,c){return f.length>=c.length&&f.substring(f.length-c.length)===c}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=c.substring(c.indexOf(",")+1)}}class Ha{constructor(c,a){let p=0,I="";Ft(c)?(this.data_=c,p=c.size,I=c.type):c instanceof ArrayBuffer?(a?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),p=this.data_.length):c instanceof Uint8Array&&(a?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),p=c.length),this.size_=p,this.type_=I}size(){return this.size_}type(){return this.type_}slice(c,a){if(Ft(this.data_)){const I=function vc(f,c,a){return f.webkitSlice?f.webkitSlice(c,a):f.mozSlice?f.mozSlice(c,a):f.slice?f.slice(c,a):null}(this.data_,c,a);return null===I?null:new Ha(I)}{const p=new Uint8Array(this.data_.buffer,c,a-c);return new Ha(p,!0)}}static getBlob(...c){if(vn()){const a=c.map(p=>p instanceof Ha?p.data_:p);return new Ha(Wh.apply(null,a))}{const a=c.map(ee=>dt(ee)?sp(Ns.RAW,ee).data:ee.data_);let p=0;a.forEach(ee=>{p+=ee.byteLength});const I=new Uint8Array(p);let k=0;return a.forEach(ee=>{for(let de=0;de<ee.length;de++)I[k++]=ee[de]}),new Ha(I,!0)}}uploadData(){return this.data_}}function jl(f){let c;try{c=JSON.parse(f)}catch{return null}return function Ue(f){return"object"==typeof f&&!Array.isArray(f)}(c)?c:null}function op(f){const c=f.lastIndexOf("/",f.length-2);return-1===c?f:f.slice(c+1)}function Wm(f,c){return c}class co{constructor(c,a,p,I){this.server=c,this.local=a||c,this.writable=!!p,this.xform=I||Wm}}let ap=null;function Qh(){if(ap)return ap;const f=[];f.push(new co("bucket")),f.push(new co("generation")),f.push(new co("metageneration")),f.push(new co("name","fullPath",!0));const a=new co("name");a.xform=function c(k,ee){return function cp(f){return!dt(f)||f.length<2?f:op(f)}(ee)},f.push(a);const I=new co("size");return I.xform=function p(k,ee){return void 0!==ee?Number(ee):ee},f.push(I),f.push(new co("timeCreated")),f.push(new co("updated")),f.push(new co("md5Hash",null,!0)),f.push(new co("cacheControl",null,!0)),f.push(new co("contentDisposition",null,!0)),f.push(new co("contentEncoding",null,!0)),f.push(new co("contentLanguage",null,!0)),f.push(new co("contentType",null,!0)),f.push(new co("metadata","customMetadata",!0)),ap=f,ap}function Vd(f,c,a){const p=jl(c);return null===p?null:function Uo(f,c,a){const p={type:"file"},I=a.length;for(let k=0;k<I;k++){const ee=a[k];p[ee.local]=ee.xform(p,c[ee.server])}return function bg(f,c){Object.defineProperty(f,"ref",{get:function a(){const k=new C(f.bucket,f.fullPath);return c._makeStorageReference(k)}})}(p,f),p}(f,p,a)}function Ru(f,c){const a={},p=c.length;for(let I=0;I<p;I++){const k=c[I];k.writable&&(a[k.server]=f[k.local])}return JSON.stringify(a)}const ks="prefixes",Hl="items";class Io{constructor(c,a,p,I){this.url=c,this.method=a,this.handler=p,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fs(f){if(!f)throw Md()}function Ud(f,c){return function a(p,I){const k=Vd(f,I,c);return Fs(null!==k),k}}function $l(f){return function c(a,p){let I;return I=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function Pd(){return new mi(_i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Kc(){return new mi(_i.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function Eg(f){return new mi(_i.QUOTA_EXCEEDED,"Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===a.getStatus()?function rp(f){return new mi(_i.UNAUTHORIZED,"User does not have permission to access '"+f+"'.")}(f.path):p,I.status=a.getStatus(),I.serverResponse=p.serverResponse,I}}function Ec(f){const c=$l(f);return function a(p,I){let k=c(p,I);return 404===p.getStatus()&&(k=function zh(f){return new mi(_i.OBJECT_NOT_FOUND,"Object '"+f+"' does not exist.")}(f.path)),k.serverResponse=I.serverResponse,k}}function Ym(f,c,a){const I=dr(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,de=new Io(I,"GET",Ud(f,a),ee);return de.errorHandler=Ec(c),de}function Cg(f,c,a,p,I){const k={};k.prefix=c.isRoot?"":c.path+"/",a&&a.length>0&&(k.delimiter=a),p&&(k.pageToken=p),I&&(k.maxResults=I);const de=dr(c.bucketOnlyServerUrl(),f.host,f._protocol),Ze=f.maxOperationRetryTime,Dt=new Io(de,"GET",function xu(f,c){return function a(p,I){const k=function up(f,c,a){const p=jl(a);return null===p?null:function lp(f,c,a){const p={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[ks])for(const I of a[ks]){const k=I.replace(/\/$/,""),ee=f._makeStorageReference(new C(c,k));p.prefixes.push(ee)}if(a[Hl])for(const I of a[Hl]){const k=f._makeStorageReference(new C(c,I.name));p.items.push(k)}return p}(f,c,p)}(f,c,I);return Fs(null!==k),k}}(f,c.bucket),Ze);return Dt.urlParams=k,Dt.errorHandler=$l(c),Dt}function Dg(f,c,a){const p=Object.assign({},a);return p.fullPath=f.path,p.size=c.size(),p.contentType||(p.contentType=function fy(f,c){return f&&f.contentType||c&&c.type()||"application/octet-stream"}(null,c)),p}class Nu{constructor(c,a,p,I){this.current=c,this.total=a,this.finalized=!!p,this.metadata=I||null}}function il(f,c){let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Status")}catch{Fs(!1)}return Fs(!!a&&-1!==(c||["active"]).indexOf(a)),a}const Jm={STATE_CHANGED:"state_changed"},lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hp(f){switch(f){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;default:return lo.ERROR}}class Xm{constructor(c,a,p){if(function ue(f){return"function"==typeof f}(c)||null!=a||null!=p)this.next=c,this.error=a??void 0,this.complete=p??void 0;else{const k=c;this.next=k.next,this.error=k.error,this.complete=k.complete}}}function $d(f){return(...c)=>{Promise.resolve().then(()=>f(...c))}}let e_=null;class t_{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eo.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eo.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eo.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,a,p,I){if(this.sent_)throw Ul("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,c,!0),void 0!==I)for(const k in I)I.hasOwnProperty(k)&&this.xhr_.setRequestHeader(k,I[k].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}class fp extends t_{initXhr(){this.xhr_.responseType="text"}}function To(){return e_?e_():new fp}class tf{constructor(c,a,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=a,this._metadata=p,this._mappings=Qh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(_i.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const k=this.isExponentialBackoffExpired();if(ja(I.status,[])){if(!k)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=_c()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(_i.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,k)=>{this._resolve=I,this._reject=k,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const c=this._transferred;return a=>this._updateProgress(c+a)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,p])=>{switch(this._state){case"running":c(a,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,a)=>{const p=function Hd(f,c,a,p,I){const k=c.bucketOnlyServerUrl(),ee=Dg(c,p,I),de={name:ee.fullPath},Pe=dr(k,f.host,f._protocol),Dt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":ee.contentType,"Content-Type":"application/json; charset=utf-8"},tn=Ru(ee,a),pn=new Io(Pe,"POST",function An(Rn){let gr;il(Rn);try{gr=Rn.getResponseHeader("X-Goog-Upload-URL")}catch{Fs(!1)}return Fs(dt(gr)),gr},f.maxUploadRetryTime);return pn.urlParams=de,pn.headers=Dt,pn.body=tn,pn.errorHandler=$l(c),pn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,To,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._uploadUrl=k,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((a,p)=>{const I=function Qm(f,c,a,p){const Pe=new Io(a,"POST",function k(Ze){const Dt=il(Ze,["active","final"]);let tn=null;try{tn=Ze.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fs(!1)}tn||Fs(!1);const Vn=Number(tn);return Fs(!isNaN(Vn)),new Nu(Vn,p.size(),"final"===Dt)},f.maxUploadRetryTime);return Pe.headers={"X-Goog-Upload-Command":"query"},Pe.errorHandler=$l(c),Pe}(this._ref.storage,this._ref._location,c,this._blob),k=this._ref.storage._makeRequest(I,To,a,p);this._request=k,k.getPromise().then(ee=>{this._request=void 0,this._updateProgress(ee.current),this._needToFetchStatus=!1,ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,a=new Nu(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((I,k)=>{let ee;try{ee=function dp(f,c,a,p,I,k,ee,de){const Pe=new Nu(0,0);if(ee?(Pe.current=ee.current,Pe.total=ee.total):(Pe.current=0,Pe.total=p.size()),p.size()!==Pe.total)throw function Vl(){return new mi(_i.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ze=Pe.total-Pe.current;let Dt=Ze;I>0&&(Dt=Math.min(Dt,I));const tn=Pe.current;let An="";An=0===Dt?"finalize":Ze===Dt?"upload, finalize":"upload";const pn={"X-Goog-Upload-Command":An,"X-Goog-Upload-Offset":`${Pe.current}`},Rn=p.slice(tn,tn+Dt);if(null===Rn)throw Qc();const hi=new Io(a,"POST",function gr(Qr,qa){const wo=il(Qr,["active","final"]),Ws=Pe.current+Dt,oa=p.size();let Za;return Za="final"===wo?Ud(c,k)(Qr,qa):null,new Nu(Ws,oa,"final"===wo,Za)},c.maxUploadRetryTime);return hi.headers=pn,hi.body=Rn.uploadData(),hi.progressCallback=de||null,hi.errorHandler=$l(f),hi}(this._ref._location,this._ref.storage,p,this._blob,c,this._mappings,a,this._makeProgressCallback())}catch(Pe){return this._error=Pe,void this._transition("error")}const de=this._ref.storage._makeRequest(ee,To,I,k,!1);this._request=de,de.getPromise().then(Pe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Pe.current),Pe.finalized?(this._metadata=Pe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,a)=>{const p=Ym(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(p,To,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,a)=>{const p=function Jh(f,c,a,p,I){const k=c.bucketOnlyServerUrl(),ee={"X-Goog-Upload-Protocol":"multipart"},Pe=function de(){let hi="";for(let Qr=0;Qr<2;Qr++)hi+=Math.random().toString().slice(2);return hi}();ee["Content-Type"]="multipart/related; boundary="+Pe;const Ze=Dg(c,p,I),Dt=Ru(Ze,a),An=Ha.getBlob("--"+Pe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dt+"\r\n--"+Pe+"\r\nContent-Type: "+Ze.contentType+"\r\n\r\n",p,"\r\n--"+Pe+"--");if(null===An)throw Qc();const pn={name:Ze.fullPath},Rn=dr(k,f.host,f._protocol),oi=f.maxUploadRetryTime,vi=new Io(Rn,"POST",Ud(f,a),oi);return vi.urlParams=pn,vi.headers=ee,vi.body=An.uploadData(),vi.errorHandler=$l(c),vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(p,To,c,a);this._request=I,I.getPromise().then(k=>{this._request=void 0,this._metadata=k,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const a=this._transferred;this._transferred=c,this._transferred!==a&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=c,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=Rd(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,a,p,I){const k=new Xm(a||void 0,p||void 0,I||void 0);return this._addObserver(k),()=>{this._removeObserver(k)}}then(c,a){return this._promise.then(c,a)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const a=this._observers.indexOf(c);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(hp(this._state)){case lo.SUCCESS:$d(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:$d(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(hp(this._state)){case lo.RUNNING:case lo.PAUSED:c.next&&$d(c.next.bind(c,this.snapshot))();break;case lo.SUCCESS:c.complete&&$d(c.complete.bind(c))();break;default:c.error&&$d(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class bo{constructor(c,a){this._service=c,this._location=a instanceof C?a:C.makeFromUrl(a,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,a){return new bo(c,a)}get root(){const c=new C(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return op(this._location.path)}get storage(){return this._service}get parent(){const c=function Tg(f){if(0===f.length)return null;const c=f.lastIndexOf("/");return-1===c?"":f.slice(0,c)}(this._location.path);if(null===c)return null;const a=new C(this._location.bucket,c);return new bo(this._service,a)}_throwIfRoot(c){if(""===this._location.path)throw Xc(c)}}function mp(f,c,a){return zd.apply(this,arguments)}function zd(){return(zd=(0,kl.Z)(function*(f,c,a){const I=yield _p(f,{pageToken:a});c.prefixes.push(...I.prefixes),c.items.push(...I.items),null!=I.nextPageToken&&(yield mp(f,c,I.nextPageToken))})).apply(this,arguments)}function _p(f,c){null!=c&&"number"==typeof c.maxResults&&jn("options.maxResults",1,1e3,c.maxResults);const a=c||{},p=Cg(f.storage,f._location,"/",a.pageToken,a.maxResults);return f.storage.makeRequestWithTokens(p,To)}function vp(f){f._throwIfRoot("getDownloadURL");const c=function wg(f,c,a){const I=dr(c.fullServerUrl(),f.host,f._protocol),ee=f.maxOperationRetryTime,de=new Io(I,"GET",function Bd(f,c){return function a(p,I){const k=Vd(f,I,c);return Fs(null!==k),function Km(f,c,a,p){const I=jl(c);if(null===I||!dt(I.downloadTokens))return null;const k=I.downloadTokens;if(0===k.length)return null;const ee=encodeURIComponent;return k.split(",").map(Ze=>{const tn=f.fullPath;return dr("/b/"+ee(f.bucket)+"/o/"+ee(tn),a,p)+ao({alt:"media",token:Ze})})[0]}(k,I,f.host,f._protocol)}}(f,a),ee);return de.errorHandler=Ec(c),de}(f.storage,f._location,Qh());return f.storage.makeRequestWithTokens(c,To).then(a=>{if(null===a)throw function xd(){return new mi(_i.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function xg(f,c){const a=function Zm(f,c){const a=c.split("/").filter(p=>p.length>0).join("/");return 0===f.length?a:f+"/"+a}(f._location.path,c),p=new C(f._location.bucket,a);return new bo(f.storage,p)}function rf(f,c){if(f instanceof af){const a=f;if(null==a._bucket)throw function Yc(){return new mi(_i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Du+"' property when initializing the app?")}();const p=new bo(a,a._bucket);return null!=c?rf(p,c):p}return void 0!==c?xg(f,c):f}function sf(f,c){if(c&&function nf(f){return/^[A-Za-z]+:\/\//.test(f)}(c)){if(f instanceof af)return function Ep(f,c){return new bo(f,c)}(f,c);throw Jc("To use ref(service, url), the first argument must be a Storage instance.")}return rf(f,c)}function zl(f,c){const a=c?.[Du];return null==a?null:C.makeFromBucketSpec(a,f)}class af{constructor(c,a,p,I,k){this.app=c,this._authProvider=a,this._appCheckProvider=p,this._url=I,this._firebaseVersion=k,this._bucket=null,this._host=oo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?C.makeFromBucketSpec(I,this._host):zl(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?C.makeFromBucketSpec(this._url,c):zl(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){jn("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){jn("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,kl.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const a=c._authProvider.getImmediate({optional:!0});if(a){const p=yield a.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,kl.Z)(function*(){const a=c._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new bo(this,c)}_makeRequest(c,a,p,I,k=!0){if(this._deleted)return new _(yc());{const ee=function ip(f,c,a,p,I,k,ee=!0){const de=ao(f.urlParams),Pe=f.url+de,Ze=Object.assign({},f.headers);return function nl(f,c){c&&(f["X-Firebase-GMPID"]=c)}(Ze,c),function qh(f,c){null!==c&&c.length>0&&(f.Authorization="Firebase "+c)}(Ze,a),function tl(f,c){f["X-Firebase-Storage-Version"]="webjs/"+(c??"AppManager")}(Ze,k),function Zh(f,c){null!==c&&(f["X-Firebase-AppCheck"]=c)}(Ze,p),new Bl(Pe,f.method,Ze,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,I,ee)}(c,this._appId,p,I,a,this._firebaseVersion,k);return this._requests.add(ee),ee.getPromise().then(()=>this._requests.delete(ee),()=>this._requests.delete(ee)),ee}}makeRequestWithTokens(c,a){var p=this;return(0,kl.Z)(function*(){const[I,k]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(c,a,I,k).getPromise()})()}}const Ip="@firebase/storage",Tp="storage";function bp(f,c){return sf(f=(0,vo.m9)(f),c)}function Wd(f=(0,Wc.getApp)(),c){f=(0,vo.m9)(f);const p=(0,Wc._getProvider)(f,Tp).getImmediate({identifier:c}),I=(0,vo.P0)("storage");return I&&lf(p,...I),p}function lf(f,c,a,p={}){!function Gd(f,c,a,p={}){f.host=`${c}:${a}`,f._protocol="http";const{mockUserToken:I}=p;I&&(f._overrideAuthToken="string"==typeof I?I:(0,vo.Sg)(I,f.app.options.projectId))}(f,c,a,p)}function c_(f,{instanceIdentifier:c}){const a=f.getProvider("app").getImmediate(),p=f.getProvider("auth-internal"),I=f.getProvider("app-check-internal");return new af(a,p,I,c,Wc.SDK_VERSION)}!function Fu(){(0,Wc._registerComponent)(new np.wA(Tp,c_,"PUBLIC").setMultipleInstances(!0)),(0,Wc.registerVersion)(Ip,"0.12.5",""),(0,Wc.registerVersion)(Ip,"0.12.5","esm2017")}();class Kd{constructor(c,a,p){this._delegate=c,this.task=a,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class l_{constructor(c,a){this._delegate=c,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Kd(this._delegate.snapshot,this,this._ref)}then(c,a){return this._delegate.then(p=>{if(c)return c(new Kd(p,this,this._ref))},a)}on(c,a,p,I){let k;return a&&(k="function"==typeof a?ee=>a(new Kd(ee,this,this._ref)):{next:a.next?ee=>a.next(new Kd(ee,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(c,k,p||void 0,I||void 0)}}class Cp{constructor(c,a){this._delegate=c,this._service=a}get prefixes(){return this._delegate.prefixes.map(c=>new va(c,this._service))}get items(){return this._delegate.items.map(c=>new va(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class va{constructor(c,a){this._delegate=c,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const a=function Zd(f,c){return xg(f,c)}(this._delegate,c);return new va(a,this.storage)}get root(){return new va(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new va(c,this.storage)}put(c,a){return this._throwIfRoot("put"),new l_(function cf(f,c,a){return function s_(f,c,a){return f._throwIfRoot("uploadBytesResumable"),new tf(f,new Ha(c),a)}(f=(0,vo.m9)(f),c,a)}(this._delegate,c,a),this)}putString(c,a=Ns.RAW,p){this._throwIfRoot("putString");const I=sp(a,c),k=Object.assign({},p);return null==k.contentType&&null!=I.contentType&&(k.contentType=I.contentType),new l_(new tf(this._delegate,new Ha(I.data,!0),k),this)}listAll(){return function Uv(f){return function Pg(f){const c={prefixes:[],items:[]};return mp(f,c).then(()=>c)}(f=(0,vo.m9)(f))}(this._delegate).then(c=>new Cp(c,this.storage))}list(c){return function kg(f,c){return _p(f=(0,vo.m9)(f),c)}(this._delegate,c||void 0).then(a=>new Cp(a,this.storage))}getMetadata(){return function qd(f){return function Rg(f){f._throwIfRoot("getMetadata");const c=Ym(f.storage,f._location,Qh());return f.storage.makeRequestWithTokens(c,To)}(f=(0,vo.m9)(f))}(this._delegate)}updateMetadata(c){return function py(f,c){return function yp(f,c){f._throwIfRoot("updateMetadata");const a=function Ou(f,c,a,p){const k=dr(c.fullServerUrl(),f.host,f._protocol),de=Ru(a,p),Ze=f.maxOperationRetryTime,Dt=new Io(k,"PATCH",Ud(f,p),Ze);return Dt.headers={"Content-Type":"application/json; charset=utf-8"},Dt.body=de,Dt.errorHandler=Ec(c),Dt}(f.storage,f._location,c,Qh());return f.storage.makeRequestWithTokens(a,To)}(f=(0,vo.m9)(f),c)}(this._delegate,c)}getDownloadURL(){return function Fg(f){return vp(f=(0,vo.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Lg(f){return function ku(f){f._throwIfRoot("deleteObject");const c=function Ag(f,c){const p=dr(c.fullServerUrl(),f.host,f._protocol),de=new Io(p,"DELETE",function ee(Pe,Ze){},f.maxOperationRetryTime);return de.successCodes=[200,204],de.errorHandler=Ec(c),de}(f.storage,f._location);return f.storage.makeRequestWithTokens(c,To)}(f=(0,vo.m9)(f))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw Xc(c)}}class wp{constructor(c,a){this.app=c,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(Ic(c))throw Jc("ref() expected a child path but got a URL, use refFromURL instead.");return new va(bp(this._delegate,c),this)}refFromURL(c){if(!Ic(c))throw Jc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{C.makeFromUrl(c,this._delegate.host)}catch{throw Jc("refFromUrl() expected a valid full URL but got an invalid one.")}return new va(bp(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,a,p={}){lf(this._delegate,c,a,p)}}function Ic(f){return/^[A-Za-z]+:\/\//.test(f)}function u_(f,{instanceIdentifier:c}){const a=f.getProvider("app-compat").getImmediate(),p=f.getProvider("storage").getImmediate({identifier:c});return new wp(a,p)}!function Yd(f){const c={TaskState:lo,TaskEvent:Jm,StringFormat:Ns,Storage:wp,Reference:va};f.INTERNAL.registerComponent(new np.wA("storage-compat",u_,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.3.8")}(Nl.Z);var d_=U(7142);function Bg(f){const c=function Ap(f){return new Or.y(c=>{const a=ee=>c.next(ee);a(f.snapshot);const k=f.on("state_changed",a);return f.then(ee=>{a(ee),c.complete()},ee=>{a(f.snapshot),(ee=>{c.error(ee)})(ee)}),function(){k()}}).pipe(us(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,Ar.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function Dp(f){return{getDownloadURL:()=>(0,or.of)(void 0).pipe(xr.fc,(0,Au.w)(()=>f.getDownloadURL()),xr.iC),getMetadata:()=>(0,or.of)(void 0).pipe(xr.fc,(0,Au.w)(()=>f.getMetadata()),xr.iC),delete:()=>(0,Vo.D)(f.delete()),child:c=>Dp(f.child(c)),updateMetadata:c=>(0,Vo.D)(f.updateMetadata(c)),put:(c,a)=>Bg(f.put(c,a)),putString:(c,a,p)=>Bg(f.putString(c,a,p)),list:c=>(0,Vo.D)(f.list(c)),listAll:()=>(0,Vo.D)(f.listAll())}}const my=new l.OlP("angularfire2.storageBucket"),_y=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Sp=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Qd=new l.OlP("angularfire2.storage.use-emulator");let Ea=(()=>{class f{storage;constructor(a,p,I,k,ee,de,Pe,Ze,Dt,tn){const Vn=(0,mc.on)(a,ee,p);this.storage=(0,mc.cc)(`${Vn.name}.storage.${I}`,"AngularFireStorage",Vn.name,()=>{const An=ee.runOutsideAngular(()=>Vn.storage(I||void 0)),pn=Dt;return pn&&An.useEmulator(...pn),Pe&&An.setMaxUploadRetryTime(Pe),Ze&&An.setMaxOperationRetryTime(Ze),An},[Pe,Ze])}ref(a){return Dp(this.storage.ref(a))}refFromURL(a){return Dp(this.storage.refFromURL(a))}upload(a,p,I){return Dp(this.storage.ref(a)).put(p,I)}static \u0275fac=function(p){return new(p||f)(l.LFG(mc.Dh),l.LFG(mc.xv,8),l.LFG(my,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xr.HU),l.LFG(_y,8),l.LFG(Sp,8),l.LFG(Qd,8),l.LFG(xr.Rf,8))};static \u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"})}return f})(),jg=(()=>{class f{static \u0275fac=function(p){return new(p||f)};static \u0275mod=l.oAB({type:f});static \u0275inj=l.cJS({})}return f})(),Mp=(()=>{class f{constructor(){d_.Z.registerVersion("angularfire",xr.q4.full,"gcs-compat")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=l.oAB({type:f});static \u0275inj=l.cJS({providers:[Ea],imports:[jg]})}return f})(),Xd=(()=>{class f{constructor(a){this.storage=a}uploadImage(a,p){const I=`${p}/${a.name}`,k=this.storage.ref(I),ee=this.storage.upload(I,a);return new Or.y(de=>{ee.snapshotChanges().pipe((0,so.x)(()=>{k.getDownloadURL().subscribe(Pe=>{de.next(Pe),de.complete()})})).subscribe()})}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(Ea))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Hg(f,c){if(1&f&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function h_(f,c){if(1&f&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function yy(f,c){if(1&f&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function Gl(f,c){if(1&f&&(l.TgZ(0,"div",31)(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"label",32),l._uU(4,"Open:"),l.qZA(),l.TgZ(5,"select",33),l.YNc(6,h_,2,2,"option",8),l.qZA(),l.TgZ(7,"label",32),l._uU(8,"Close:"),l.qZA(),l.TgZ(9,"select",34),l.YNc(10,yy,2,2,"option",8),l.qZA()()),2&f){const a=c.$implicit,p=l.oxw();l.Q6J("formGroupName",a),l.xp6(2),l.Oqu(a),l.xp6(1),l.MGl("for","",a,"-open"),l.xp6(3),l.Q6J("ngForOf",p.hoursOptions),l.xp6(1),l.MGl("for","",a,"-close"),l.xp6(3),l.Q6J("ngForOf",p.hoursOptions)}}const Pp=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let $g=(()=>{class f{constructor(a,p,I,k){this.fb=a,this.servicesService=p,this.imageUploadService=I,this.router=k,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new wu,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",fn.kI.required],Email:["",[fn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",fn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(a){this.selectedFile=a.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){if(this.serviceForm.valid){const a={...this.serviceForm.value};console.log("Form Data:",a),console.log(this.serviceForm.value.Hours);const p={...this.serviceForm.value};p.Hours=this.formatHours(p.Hours),console.log("Form Data hours:",p.Hours),this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(I=>{this.serviceForm.value.Image=I,console.log(I),this.saveService()}):this.saveService()}}formatHours(a){for(const p of Object.keys(a))""===a[p].open&&""===a[p].close&&(a[p]=null);return a}saveService(){this.servicesService.addService(this.serviceForm.value).subscribe(a=>{console.log("Service added successfully with ID:",a?.id),this.serviceForm.reset(),this.router.navigate(["/services",a?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(fn.qu),l.Y36(Va.r),l.Y36(Xd),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-add-service"]],decls:59,vars:5,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Lista de Servicii"),l.qZA()(),l.TgZ(4,"div",2)(5,"h2"),l._uU(6,"Adaugati serviciile dumneavoastra pentru membrii comunit\u0103\u021bii"),l.qZA(),l._UZ(7,"p"),l.qZA()(),l.TgZ(8,"div",3)(9,"h2"),l._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),l.qZA(),l.TgZ(11,"h3"),l._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),l.qZA(),l.TgZ(13,"form",4),l.NdJ("ngSubmit",function(){return I.onSubmit()}),l.TgZ(14,"div",5)(15,"label",6),l._uU(16,"Categoria de serviciului:"),l.qZA(),l.TgZ(17,"select",7),l.YNc(18,Hg,2,2,"option",8),l.qZA()(),l.TgZ(19,"div",5)(20,"label",9),l._uU(21,"Nume:"),l.qZA(),l._UZ(22,"input",10),l.qZA(),l.TgZ(23,"div",5)(24,"label",11),l._uU(25,"Adresa Email:"),l.qZA(),l._UZ(26,"input",12),l.qZA(),l.TgZ(27,"div",5)(28,"label",13),l._uU(29,"Numar de telefon:"),l.qZA(),l._UZ(30,"input",14),l.qZA(),l.TgZ(31,"div",5)(32,"label",15),l._uU(33,"Pagina Web:"),l.qZA(),l._UZ(34,"input",16),l.qZA(),l.TgZ(35,"div",5)(36,"label",17),l._uU(37,"Pagina Facebook:"),l.qZA(),l._UZ(38,"input",18),l.qZA(),l.TgZ(39,"div",5)(40,"label",19),l._uU(41,"Instagram:(doar numele contului)"),l.qZA(),l._UZ(42,"input",20),l.qZA(),l.TgZ(43,"div",5)(44,"label",21),l._uU(45,"Descriere a serviciile oferite:"),l.qZA(),l._UZ(46,"textarea",22),l.qZA(),l.TgZ(47,"div",5)(48,"label",23),l._uU(49,"Orele de contactare:"),l.qZA(),l.TgZ(50,"div",24)(51,"div",25),l.YNc(52,Gl,11,6,"div",26),l.qZA()()(),l.TgZ(53,"div",5)(54,"label",27),l._uU(55,"Imagine:"),l.qZA(),l.TgZ(56,"input",28),l.NdJ("change",function(ee){return I.onFileSelected(ee)}),l.qZA()(),l.TgZ(57,"button",29),l._uU(58,"Adaugati Serviciul"),l.qZA()()()),2&p&&(l.xp6(13),l.Q6J("formGroup",I.serviceForm),l.xp6(5),l.Q6J("ngForOf",I.serviceTypes),l.xp6(34),l.Q6J("ngForOf",l.DdM(4,Pp)),l.xp6(5),l.Q6J("disabled",I.serviceForm.invalid))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u,fn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return f})(),vy=(()=>{class f{constructor(a,p){this.fb=a,this.eventsService=p,this.eventForm=this.fb.group({Approved:[""],Community_Sponsor:[""],Contact:[""],Description:["",fn.kI.required],Event_date:["",fn.kI.required],Location:["",fn.kI.required],Name:["",fn.kI.required],Phone_Number:[""],Poster_Image:["",fn.kI.required],Price:["",fn.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(fn.qu),l.Y36(na.n))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-add-event"]],decls:40,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required",""],["for","Contact"],["id","Contact","formControlName","Contact","required",""],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required",""],["for","Description",1,"required"],["id","Description","formControlName","Description","required",""],["for","Price",1,"required"],["id","Price","formControlName","Price","required",""],["for","Website"],["id","Website","formControlName","Website"],["type","submit",3,"disabled"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return I.onSubmit()}),l.TgZ(2,"div",2)(3,"label",3),l._uU(4,"Titlu:"),l.qZA(),l._UZ(5,"input",4),l.qZA(),l.TgZ(6,"div",2)(7,"label",5),l._uU(8,"Persoana de contact:"),l.qZA(),l._UZ(9,"input",6),l.qZA(),l.TgZ(10,"div",2)(11,"label",7),l._uU(12,"Imagine poster:"),l.qZA(),l._UZ(13,"input",8),l.qZA(),l.TgZ(14,"div",2)(15,"label",9),l._uU(16,"Numar de Telefon:"),l.qZA(),l._UZ(17,"input",10),l.qZA(),l.TgZ(18,"div",2)(19,"label",11),l._uU(20,"Data Evenimentului:"),l.qZA(),l._UZ(21,"input",12),l.qZA(),l.TgZ(22,"div",2)(23,"label",13),l._uU(24,"Locatie:"),l.qZA(),l._UZ(25,"input",14),l.qZA(),l.TgZ(26,"div",2)(27,"label",15),l._uU(28,"Descriere:"),l.qZA(),l._UZ(29,"textarea",16),l.qZA(),l.TgZ(30,"div",2)(31,"label",17),l._uU(32,"Pret:"),l.qZA(),l._UZ(33,"input",18),l.qZA(),l.TgZ(34,"div",2)(35,"label",19),l._uU(36,"Website:"),l.qZA(),l._UZ(37,"input",20),l.qZA(),l.TgZ(38,"button",21),l._uU(39,"Adauga Eveniment"),l.qZA()()()),2&p&&(l.xp6(1),l.Q6J("formGroup",I.eventForm),l.xp6(37),l.Q6J("disabled",I.eventForm.invalid))},dependencies:[fn._Y,fn.Fj,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();var ql=U(7104);function zg(f,c){if(1&f&&(l.TgZ(0,"option",28),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}let Ey=(()=>{class f{constructor(a,p,I,k,ee){this.fb=a,this.offersService=p,this.firestore=I,this.imageUploadService=k,this.router=ee,this.offerTypes=[],this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Location:"",Website:"",Filled:!1,Date_Created:(new Date).toISOString(),Date_Updated:"",Price:"",Image1:"",Image2:"",Image3:"",Image4:"",Image5:"",OfferType:"",Facebook:"",Instagram:"",id:"",Community_Sponsor:!1,Approved:!1,ApprovedDate:""},this.selectedFiles=null,this.offerForm=this.fb.group({Title:["",fn.kI.required],Company_Name:[""],Contact_Name:["",fn.kI.required],Phone_Number:["",fn.kI.required],Email:["",[fn.kI.email]],Location:["",fn.kI.required],Website:[""],Description:["",fn.kI.required],Price:[""],Image1:[""],Image2:[""],Image3:[""],Image4:[""],Image5:[""],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}onFileSelected(a){this.selectedFiles=a.target.files}ngOnInit(){this.offersService.getAllOfferTypes().subscribe(a=>{this.offerTypes=a})}onSubmit(a){var p=this;if(console.log(a),this.selectedFiles&&this.selectedFiles.length>0){const I=[];for(let k=0;k<this.selectedFiles.length;k++){const de=this.imageUploadService.uploadImage(this.selectedFiles[k],"offers");I.push(de)}(0,Gs.D)(I).pipe((0,Ar.U)(k=>{this.offer.Image1=k[0]||"",this.offer.Image2=k[1]||"",this.offer.Image3=k[2]||"",this.offer.Image4=k[3]||"",this.offer.Image5=k[4]||""}),(0,Au.w)((0,kl.Z)(function*(){return p.saveOffer()}))).subscribe()}else this.saveOffer().subscribe()}saveOffer(){return(0,Vo.D)(this.firestore.collection("Offers").add(this.offer).then(a=>{console.log("Offer added with ID:",a.id),this.router.navigate(["/offers",a.id])}).catch(a=>{console.error("Error adding offer:",a)}))}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(fn.qu),l.Y36(Rl.b),l.Y36(ql.ST),l.Y36(Xd),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-add-offers"]],decls:50,vars:11,consts:[[1,"form-container"],[3,"ngSubmit"],["offerForm","ngForm"],[1,"form-group"],["for","Title",1,"required"],["type","text","name","Title","required","","placeholder","Title",3,"ngModel","ngModelChange"],["for","Company_Name"],["type","text","name","Company_Name","required","","placeholder","Company Name",3,"ngModel","ngModelChange"],["for","Contact_Name",1,"required"],["type","text","name","Contact_Name","required","","placeholder","Contact Name",3,"ngModel","ngModelChange"],["for","Phone_Number",1,"required"],["type","text","name","Phone_Number","required","","placeholder","Phone Number",3,"ngModel","ngModelChange"],["for","Email"],["type","email","name","Email","required","","placeholder","Email",3,"ngModel","ngModelChange"],["for","Description",1,"required"],["name","Description","required","","placeholder","Description",3,"ngModel","ngModelChange"],["for","Price"],["type","text","name","Price","required","","placeholder","Price",3,"ngModel","ngModelChange"],["for","Location",1,"required"],["type","text","name","Location","required","","placeholder","Location",3,"ngModel","ngModelChange"],["for","Website"],["type","url","name","Website","placeholder","Website",3,"ngModel","ngModelChange"],["for","OfferType"],["id","OfferType","name","OfferType","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","Images"],["type","file","id","Images","multiple","","accept","image/*",1,"form-control",3,"change"],["type","submit"],[3,"value"]],template:function(p,I){if(1&p){const k=l.EpF();l.TgZ(0,"div",0)(1,"form",1,2),l.NdJ("ngSubmit",function(){l.CHM(k);const de=l.MAs(2);return l.KtG(I.onSubmit(de))}),l.TgZ(3,"div",3)(4,"label",4),l._uU(5,"Titlu:"),l.qZA(),l.TgZ(6,"input",5),l.NdJ("ngModelChange",function(de){return I.offer.Title=de}),l.qZA()(),l.TgZ(7,"div",3)(8,"label",6),l._uU(9,"Numele Companiei:"),l.qZA(),l.TgZ(10,"input",7),l.NdJ("ngModelChange",function(de){return I.offer.Company_Name=de}),l.qZA()(),l.TgZ(11,"div",3)(12,"label",8),l._uU(13,"Numele persoanei de contact:"),l.qZA(),l.TgZ(14,"input",9),l.NdJ("ngModelChange",function(de){return I.offer.Contact_Name=de}),l.qZA()(),l.TgZ(15,"div",3)(16,"label",10),l._uU(17,"Numar de telefon:"),l.qZA(),l.TgZ(18,"input",11),l.NdJ("ngModelChange",function(de){return I.offer.Phone_Number=de}),l.qZA()(),l.TgZ(19,"div",3)(20,"label",12),l._uU(21,"Adresa de Email:"),l.qZA(),l.TgZ(22,"input",13),l.NdJ("ngModelChange",function(de){return I.offer.Email=de}),l.qZA()(),l.TgZ(23,"div",3)(24,"label",14),l._uU(25,"Descriere:"),l.qZA(),l.TgZ(26,"textarea",15),l.NdJ("ngModelChange",function(de){return I.offer.Description=de}),l.qZA()(),l.TgZ(27,"div",3)(28,"label",16),l._uU(29,"Pret:"),l.qZA(),l.TgZ(30,"input",17),l.NdJ("ngModelChange",function(de){return I.offer.Price=de}),l.qZA()(),l.TgZ(31,"div",3)(32,"label",18),l._uU(33,"Locatie:"),l.qZA(),l.TgZ(34,"input",19),l.NdJ("ngModelChange",function(de){return I.offer.Location=de}),l.qZA()(),l.TgZ(35,"div",3)(36,"label",20),l._uU(37,"Website:"),l.qZA(),l.TgZ(38,"input",21),l.NdJ("ngModelChange",function(de){return I.offer.Website=de}),l.qZA()(),l.TgZ(39,"div",3)(40,"label",22),l._uU(41,"Tip de oferta"),l.qZA(),l.TgZ(42,"select",23),l.NdJ("ngModelChange",function(de){return I.offer.OfferType=de}),l.YNc(43,zg,2,2,"option",24),l.qZA()(),l.TgZ(44,"div",3)(45,"label",25),l._uU(46,"Images"),l.qZA(),l.TgZ(47,"input",26),l.NdJ("change",function(de){return I.onFileSelected(de)}),l.qZA()(),l.TgZ(48,"button",27),l._uU(49,"Adauga Oferta"),l.qZA()()()}2&p&&(l.xp6(6),l.Q6J("ngModel",I.offer.Title),l.xp6(4),l.Q6J("ngModel",I.offer.Company_Name),l.xp6(4),l.Q6J("ngModel",I.offer.Contact_Name),l.xp6(4),l.Q6J("ngModel",I.offer.Phone_Number),l.xp6(4),l.Q6J("ngModel",I.offer.Email),l.xp6(4),l.Q6J("ngModel",I.offer.Description),l.xp6(4),l.Q6J("ngModel",I.offer.Price),l.xp6(4),l.Q6J("ngModel",I.offer.Location),l.xp6(4),l.Q6J("ngModel",I.offer.Website),l.xp6(4),l.Q6J("ngModel",I.offer.OfferType),l.xp6(1),l.Q6J("ngForOf",I.offerTypes))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.On,fn.F],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return f})();function Iy(f,c){if(1&f&&(l.TgZ(0,"option",35),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function Ty(f,c){if(1&f&&(l.TgZ(0,"option",35),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function Gg(f,c){if(1&f&&(l.TgZ(0,"option",35),l._uU(1),l.qZA()),2&f){const a=c.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a)}}function Rp(f,c){if(1&f&&(l.TgZ(0,"div",36)(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"label",37),l._uU(4,"Open:"),l.qZA(),l.TgZ(5,"select",38),l.YNc(6,Ty,2,2,"option",8),l.qZA(),l.TgZ(7,"label",37),l._uU(8,"Close:"),l.qZA(),l.TgZ(9,"select",39),l.YNc(10,Gg,2,2,"option",8),l.qZA()()),2&f){const a=c.$implicit,p=l.oxw();l.Q6J("formGroupName",a),l.xp6(2),l.Oqu(a),l.xp6(1),l.MGl("for","",a,"-open"),l.xp6(3),l.Q6J("ngForOf",p.hoursOptions),l.xp6(1),l.MGl("for","",a,"-close"),l.xp6(3),l.Q6J("ngForOf",p.hoursOptions)}}const qg=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let Zg=(()=>{class f{constructor(a,p,I,k,ee){this.fb=a,this.route=p,this.router=I,this.servicesService=k,this.imageUploadService=ee,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new wu,this.oldImage=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",fn.kI.required],Email:["",[fn.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type:["",fn.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}onFileSelected(a){this.selectedFile=a.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),console.log(this.serviceId),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{this.serviceForm.patchValue({Id:this.serviceId,Name:a?.Name,Email:a?.Email?a.Email:"",Phone_Number:a?.Phone_Number?a.Phone_Number:"",Service_Type:a?.Service_Type,Website:a?.Website?a.Website:"",Facebook:a?.Facebook?a?.Facebook:"",Instagram:a?.Instagram?a?.Instagram:"",Description:a?.Description,Date_Created:a?.Date_Created,Date_Updated:a?.Date_Updated,Approved:!0,Hours:a?.Hours}),console.log(this.serviceForm.value),a?.Image&&(this.oldImage=a?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(a=>{this.serviceTypes=a})}onSubmit(){this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type=this.serviceForm.value.Service_Type,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Hours=this.serviceForm.value.Hours,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(a=>{this.serviceObj.Image=a,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){let a=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(a,this.serviceObj).subscribe(p=>{console.log("Service updated successfully  ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(fn.qu),l.Y36(bi.gz),l.Y36(bi.F0),l.Y36(Va.r),l.Y36(Xd))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-edit-services"]],decls:61,vars:6,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type",1,"required"],["id","Service_Type","formControlName","Service_Type","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[2,"display","none"],["for","Approved"],["id","Approved","formControlName","Approved"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Lista de Servicii"),l.qZA()(),l.TgZ(4,"div",2)(5,"h2"),l._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),l.qZA()()(),l.TgZ(7,"div",3)(8,"form",4),l.NdJ("ngSubmit",function(){return I.onSubmit()}),l.TgZ(9,"div",5)(10,"label",6),l._uU(11,"Categoria de serviciului:"),l.qZA(),l.TgZ(12,"select",7),l.YNc(13,Iy,2,2,"option",8),l.qZA()(),l.TgZ(14,"div",5)(15,"label",9),l._uU(16,"Nume:"),l.qZA(),l._UZ(17,"input",10),l.qZA(),l.TgZ(18,"div",5)(19,"label",11),l._uU(20,"Adresa Email:"),l.qZA(),l._UZ(21,"input",12),l.qZA(),l.TgZ(22,"div",5)(23,"label",13),l._uU(24,"Numar de telefon:"),l.qZA(),l._UZ(25,"input",14),l.qZA(),l.TgZ(26,"div",5)(27,"label",15),l._uU(28,"Pagina Web:"),l.qZA(),l._UZ(29,"input",16),l.qZA(),l.TgZ(30,"div",5)(31,"label",17),l._uU(32,"Pagina Facebook:"),l.qZA(),l._UZ(33,"input",18),l.qZA(),l.TgZ(34,"div",5)(35,"label",19),l._uU(36,"Instagram:(doar numele contului)"),l.qZA(),l._UZ(37,"input",20),l.qZA(),l.TgZ(38,"div",5)(39,"label",21),l._uU(40,"Descriere a serviciile oferite:"),l.qZA(),l._UZ(41,"textarea",22),l.qZA(),l.TgZ(42,"div",5)(43,"label",23),l._uU(44,"Orele de contactare:"),l.qZA(),l.TgZ(45,"div",24)(46,"div",25),l.YNc(47,Rp,11,6,"div",26),l.qZA()()(),l.TgZ(48,"div",5)(49,"label",27),l._uU(50,"Imagine:"),l.qZA(),l.TgZ(51,"div",28),l._UZ(52,"img",29),l.qZA(),l.TgZ(53,"input",30),l.NdJ("change",function(ee){return I.onFileSelected(ee)}),l.qZA()(),l.TgZ(54,"button",31),l._uU(55,"Salvati Serviciu"),l.qZA(),l.TgZ(56,"div",32)(57,"div")(58,"label",33),l._uU(59,"Approved:"),l.qZA(),l._UZ(60,"input",34),l.qZA()()()()),2&p&&(l.xp6(8),l.Q6J("formGroup",I.serviceForm),l.xp6(5),l.Q6J("ngForOf",I.serviceTypes),l.xp6(34),l.Q6J("ngForOf",l.DdM(5,qg)),l.xp6(5),l.Q6J("src",I.oldImage,l.LSH),l.xp6(2),l.Q6J("disabled",I.serviceForm.invalid))},dependencies:[G.sg,fn._Y,fn.YN,fn.Kr,fn.Fj,fn.EJ,fn.JJ,fn.JL,fn.Q7,fn.sg,fn.u,fn.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return f})();var by=U(2380);function Lu(f,c){if(1&f&&(l.TgZ(0,"div",5),l._UZ(1,"img",6),l.qZA()),2&f){const a=c.$implicit;l.xp6(1),l.Q6J("src",a,l.LSH)}}let Cy=(()=>{class f{constructor(a,p,I){this.route=a,this.router=p,this.offerService=I,this.images=[]}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");a&&this.offerService.getOfferById(a).subscribe(p=>{this.offer=p,this.images=[p.Image1,p.Image2,p.Image3,p.Image4,p.Image5].filter(I=>!!I)})}goBack(){this.router.navigate(["/offers"])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(bi.gz),l.Y36(bi.F0),l.Y36(Rl.b))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-offer-detail"]],decls:45,vars:15,consts:[[1,"offer-detail"],[1,"carousel"],["class","image-container",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"click"],[1,"image-container"],["alt","Offer Image",3,"src"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"div",1),l.YNc(4,Lu,2,1,"div",2),l.qZA(),l.TgZ(5,"p")(6,"strong"),l._uU(7,"Company Name:"),l.qZA(),l._uU(8),l.qZA(),l.TgZ(9,"p")(10,"strong"),l._uU(11,"Contact Name:"),l.qZA(),l._uU(12),l.qZA(),l.TgZ(13,"p")(14,"strong"),l._uU(15,"Phone Number:"),l.qZA(),l._uU(16),l.qZA(),l.TgZ(17,"p")(18,"strong"),l._uU(19,"Email:"),l.qZA(),l._uU(20),l.qZA(),l.TgZ(21,"p")(22,"strong"),l._uU(23,"Description:"),l.qZA(),l._uU(24),l.qZA(),l.TgZ(25,"p")(26,"strong"),l._uU(27,"Location:"),l.qZA(),l._uU(28),l.qZA(),l.TgZ(29,"p")(30,"strong"),l._uU(31,"Website:"),l.qZA(),l.TgZ(32,"a",3),l._uU(33),l.qZA()(),l.TgZ(34,"p")(35,"strong"),l._uU(36,"Offer Type:"),l.qZA(),l._uU(37),l.qZA(),l.TgZ(38,"p")(39,"strong"),l._uU(40,"Date Created:"),l.qZA(),l._uU(41),l.ALo(42,"date"),l.qZA(),l.TgZ(43,"button",4),l.NdJ("click",function(){return I.goBack()}),l._uU(44,"Back to Offers"),l.qZA()()),2&p&&(l.xp6(2),l.Oqu(null==I.offer?null:I.offer.Title),l.xp6(2),l.Q6J("ngForOf",I.images),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Company_Name,""),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Contact_Name,""),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Phone_Number,""),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Email,""),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Description,""),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.Location,""),l.xp6(4),l.Q6J("href",null==I.offer?null:I.offer.Website,l.LSH),l.xp6(1),l.Oqu(null==I.offer?null:I.offer.Website),l.xp6(4),l.hij(" ",null==I.offer?null:I.offer.OfferType,""),l.xp6(4),l.hij(" ",l.xi3(42,12,null==I.offer?null:I.offer.Date_Created,"shortDate"),""))},dependencies:[G.sg,G.uU],styles:[".offer-detail[_ngcontent-%COMP%]{max-width:600px;margin:100px auto auto;padding:16px;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a}.carousel[_ngcontent-%COMP%]{display:flex;overflow:hidden;max-height:300px;margin-bottom:16px}.image-container[_ngcontent-%COMP%]{flex:0 0 400px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover}button[_ngcontent-%COMP%]{display:block;margin:16px auto;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();var f_=U(4626);function Wg(f,c){if(1&f){const a=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(a);const I=l.oxw();return l.KtG(I.navigateToEditService(I.service.id))}),l._uU(1,"Edit"),l.qZA()}}let p_=(()=>{class f{constructor(a,p,I,k){this.route=a,this.servicesService=p,this.router=I,this.authService=k,this.service=new wu,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(a=>{a&&(this.service.Community_Sponsor=a?.Community_Sponsor??!1,this.service.Name=a.Name??"",this.service.Date_Created=a.Date_Created??"",this.service.Description=a.Description??"",this.service.Email=a.Email??"",this.service.Facebook=a.Facebook??"",this.service.Instagram=a.Instagram??"",this.service.Phone_Number=a.Phone_Number??"",this.service.Service_Type=a.Service_Type??"",this.service.Website=pc(a.Website)??"",this.service.Image=a.Image??"",this.service.Hours=a.Hours??{},this.serviceId&&(this.service.id=this.serviceId),console.log("Image",a?.Image),(""==a.Image||void 0===a.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.router.navigate(["/services"])}navigateToEditService(a){this.router.navigate(["/edit-service",a])}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(bi.gz),l.Y36(Va.r),l.Y36(bi.F0),l.Y36(f_.e))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-service-detail"]],decls:93,vars:36,consts:[[1,"service-details-container"],[1,"service-header"],[1,"forDebug"],[1,"service-content"],[1,"service-image"],[3,"src","alt"],[1,"service-details"],[1,"service-details-label"],["target","_blank",3,"href"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"editButton",3,"click"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"strong"),l._uU(4,"Name:"),l.qZA(),l._uU(5),l.qZA(),l.TgZ(6,"div",2)(7,"h3")(8,"strong"),l._uU(9,"Service Id:"),l.qZA(),l._uU(10),l.qZA()()(),l.TgZ(11,"div",3)(12,"div",4),l._UZ(13,"img",5),l.qZA(),l.TgZ(14,"div",6)(15,"div")(16,"label",7),l._uU(17,"Tip Serviciu:"),l.qZA(),l._uU(18),l.qZA(),l.TgZ(19,"div")(20,"label",7),l._uU(21,"Nr Telefon:"),l.qZA(),l._uU(22),l.qZA(),l.TgZ(23,"div")(24,"label",7),l._uU(25,"Email:"),l.qZA(),l._uU(26),l.qZA(),l.TgZ(27,"div")(28,"label",7),l._uU(29,"Website:"),l.qZA(),l.TgZ(30,"a",8),l._uU(31),l.qZA()(),l.TgZ(32,"div")(33,"label",7),l._uU(34,"Facebook:"),l.qZA(),l.TgZ(35,"a",8),l._uU(36),l.qZA()(),l.TgZ(37,"div")(38,"label",7),l._uU(39,"Instagram:"),l.qZA(),l.TgZ(40,"a",8),l._uU(41),l.qZA()(),l.TgZ(42,"div")(43,"label",7),l._uU(44,"Sponsor:"),l.qZA(),l._uU(45),l.qZA(),l.TgZ(46,"div")(47,"label",7),l._uU(48,"Data:"),l.qZA(),l._uU(49),l.ALo(50,"date"),l.qZA(),l.TgZ(51,"div")(52,"label",7),l._uU(53,"Descriere:"),l.qZA(),l._uU(54),l.qZA(),l.TgZ(55,"div")(56,"label",7),l._uU(57,"Orele de contactare"),l.qZA(),l.TgZ(58,"ul")(59,"li")(60,"strong"),l._uU(61,"Monday:"),l.qZA(),l._uU(62),l.qZA(),l.TgZ(63,"li")(64,"strong"),l._uU(65,"Tuesday:"),l.qZA(),l._uU(66),l.qZA(),l.TgZ(67,"li")(68,"strong"),l._uU(69,"Wednesday:"),l.qZA(),l._uU(70),l.qZA(),l.TgZ(71,"li")(72,"strong"),l._uU(73,"Thursday:"),l.qZA(),l._uU(74),l.qZA(),l.TgZ(75,"li")(76,"strong"),l._uU(77,"Friday:"),l.qZA(),l._uU(78),l.qZA(),l.TgZ(79,"li")(80,"strong"),l._uU(81,"Saturday:"),l.qZA(),l._uU(82),l.qZA(),l.TgZ(83,"li")(84,"strong"),l._uU(85,"Sunday:"),l.qZA(),l._uU(86),l.qZA()()()()(),l.TgZ(87,"div",9),l.YNc(88,Wg,2,0,"button",10),l.ALo(89,"async"),l._uU(90," \xa0 "),l.TgZ(91,"button",11),l.NdJ("click",function(){return I.goBack()}),l._uU(92,"Inapoi la Servicii"),l.qZA()()()),2&p&&(l.xp6(5),l.Oqu(I.service.Name),l.xp6(5),l.Oqu(I.service.id),l.xp6(3),l.s9C("alt",I.service.Name),l.Q6J("src",I.service.Image,l.LSH),l.xp6(5),l.hij(" ",I.service.Service_Type,""),l.xp6(4),l.hij(" ",I.service.Phone_Number,""),l.xp6(4),l.hij(" ",I.service.Email,""),l.xp6(4),l.Q6J("href",I.service.Website,l.LSH),l.xp6(1),l.Oqu(I.service.Website),l.xp6(4),l.Q6J("href",I.service.Facebook,l.LSH),l.xp6(1),l.Oqu(I.service.Facebook),l.xp6(4),l.Q6J("href",I.service.Instagram,l.LSH),l.xp6(1),l.Oqu(I.service.Instagram),l.xp6(4),l.hij(" ",I.service.Community_Sponsor?"Yes":"No",""),l.xp6(4),l.hij(" ",l.xi3(50,31,I.service.Date_Created,"shortDate"),""),l.xp6(5),l.Oqu(I.service.Description),l.xp6(8),l.AsE(" ",null==I.service.Hours.Luni?null:I.service.Hours.Luni.open," - ",null==I.service.Hours.Luni?null:I.service.Hours.Luni.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Marti?null:I.service.Hours.Marti.open," - ",null==I.service.Hours.Marti?null:I.service.Hours.Marti.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Miercuri?null:I.service.Hours.Miercuri.open," - ",null==I.service.Hours.Miercuri?null:I.service.Hours.Miercuri.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Joi?null:I.service.Hours.Joi.open," - ",null==I.service.Hours.Joi?null:I.service.Hours.Joi.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Vineri?null:I.service.Hours.Vineri.open," - ",null==I.service.Hours.Vineri?null:I.service.Hours.Vineri.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Sambata?null:I.service.Hours.Sambata.open," - ",null==I.service.Hours.Sambata?null:I.service.Hours.Sambata.close,""),l.xp6(4),l.AsE(" ",null==I.service.Hours.Duminica?null:I.service.Hours.Duminica.open," - ",null==I.service.Hours.Duminica?null:I.service.Hours.Duminica.close,""),l.xp6(2),l.Q6J("ngIf",l.lcZ(89,34,I.isLoggedIn$)))},dependencies:[G.O5,G.Ov,G.uU],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.editButton[_ngcontent-%COMP%]{visibility:hidden}.service-details-container[_ngcontent-%COMP%]{max-width:800px;margin:100px auto 0;padding:20px;background-color:#f8f9fa;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details-label[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:700;padding:10px}.service-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:20px;color:#333}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.service-image[_ngcontent-%COMP%]{flex:1;margin-right:20px}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;box-shadow:0 0 10px #0000001a}.service-details[_ngcontent-%COMP%]{flex:2;font-size:1.2em;color:#555}.service-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:10px;color:#444}.service-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.service-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.service-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer}.service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return f})(),g_=(()=>{class f{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:a=>this.handleLoginError(a)})}handleLoginError(a){switch(a.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(f_.e),l.Y36(bi.F0))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Login"),l.qZA(),l.TgZ(4,"form",2),l.NdJ("submit",function(){return I.login()}),l.TgZ(5,"div",3)(6,"label",4),l._uU(7,"Email"),l.qZA(),l.TgZ(8,"input",5),l.NdJ("ngModelChange",function(ee){return I.email=ee}),l.qZA()(),l.TgZ(9,"div",3)(10,"label",6),l._uU(11,"Password"),l.qZA(),l.TgZ(12,"input",7),l.NdJ("ngModelChange",function(ee){return I.password=ee}),l.qZA()(),l.TgZ(13,"button",8),l._uU(14,"Login"),l.qZA()()()()),2&p&&(l.xp6(8),l.Q6J("ngModel",I.email),l.xp6(4),l.Q6J("ngModel",I.password))},dependencies:[fn._Y,fn.Fj,fn.JJ,fn.JL,fn.Q7,fn.On,fn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return f})();const Kg=[{path:"",component:fc},{path:"rules",component:Ol},{path:"analytics",component:by.d},{path:"events",component:$h},{path:"add-event",component:vy},{path:"offers",component:Cu},{path:"add-offers",component:Ey},{path:"offers/:id",component:Cy},{path:"services",component:xl},{path:"add-service",component:$g},{path:"services/add",component:$g},{path:"services/:id",component:p_},{path:"edit-service/:id",component:Zg},{path:"test",component:(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,I){1&p&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),l._uU(4,"Welcome to Seattle Community"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Your go-to place for community services and events"),l.qZA(),l.TgZ(7,"a",3),l._uU(8,"Join our Facebook Group"),l.qZA()(),l.TgZ(9,"div",4),l._UZ(10,"img",5),l.qZA()()(),l.TgZ(11,"section",6)(12,"div",7)(13,"h2"),l._uU(14,"About Our Community"),l.qZA(),l.TgZ(15,"p"),l._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),l.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return f})()},{path:"login",component:g_},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>U.e(658).then(U.bind(U,7658)).then(f=>f.AdminModule)}];let __=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({imports:[bi.Bz.forRoot(Kg),bi.Bz]})}return f})();var Yg=U(769);const wy=function(f){return{"open-bar1":f}},Qg=function(f){return{"open-bar2":f}},Tr=function(f){return{"open-bar3":f}},eh=function(f){return{active:f}};let Jg=(()=>{class f{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,I){1&p&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),l._uU(4,"Romani in Seattle"),l.qZA()(),l.TgZ(5,"div",4),l.NdJ("click",function(){return I.toggleMenu()}),l._UZ(6,"div",5)(7,"div",6)(8,"div",7),l.qZA(),l.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),l.NdJ("click",function(){return I.closeMenu()}),l._uU(12,"Home"),l.qZA()(),l.TgZ(13,"li",9)(14,"a",11),l.NdJ("click",function(){return I.closeMenu()}),l._uU(15,"Servicii"),l.qZA()(),l.TgZ(16,"li",9)(17,"a",12),l.NdJ("click",function(){return I.closeMenu()}),l._uU(18,"Evenimente"),l.qZA()(),l.TgZ(19,"li",9)(20,"a",13),l.NdJ("click",function(){return I.closeMenu()}),l._uU(21,"Oferte"),l.qZA()(),l.TgZ(22,"li",9)(23,"a",14),l.NdJ("click",function(){return I.closeMenu()}),l._uU(24,"Regulament"),l.qZA()()()()()),2&p&&(l.xp6(6),l.Q6J("ngClass",l.VKq(4,wy,I.menuOpen)),l.xp6(1),l.Q6J("ngClass",l.VKq(6,Qg,I.menuOpen)),l.xp6(1),l.Q6J("ngClass",l.VKq(8,Tr,I.menuOpen)),l.xp6(1),l.Q6J("ngClass",l.VKq(10,eh,I.menuOpen)))},dependencies:[G.mk,bi.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return f})(),th=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,I){1&p&&(l.TgZ(0,"footer",0)(1,"div",1),l._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),l.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return f})(),xp=(()=>{class f{constructor(a){this.analyticsService=a,this.title="romani-in-seattle"}ngOnInit(){}trackButtonClick(){}static#e=this.\u0275fac=function(p){return new(p||f)(l.Y36(Yg.y))};static#t=this.\u0275cmp=l.Xpm({type:f,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,I){1&p&&(l.TgZ(0,"div",0),l._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),l.qZA())},dependencies:[bi.lC,Jg,th],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return f})();class Es{}class Yi{}const Ds="*";function Op(f,c=null){return{type:2,steps:f,options:c}}function Np(f){return{type:6,styles:f,offset:null}}class Zl{constructor(c=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=c+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(c){this._position=this.totalTime?c*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class uf{constructor(c){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=c;let a=0,p=0,I=0;const k=this.players.length;0==k?queueMicrotask(()=>this._onFinish()):this.players.forEach(ee=>{ee.onDone(()=>{++a==k&&this._onFinish()}),ee.onDestroy(()=>{++p==k&&this._onDestroy()}),ee.onStart(()=>{++I==k&&this._onStart()})}),this.totalTime=this.players.reduce((ee,de)=>Math.max(ee,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this.players.forEach(c=>c.init())}onStart(c){this._onStartFns.push(c)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(c=>c()),this._onStartFns=[])}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(c=>c.play())}pause(){this.players.forEach(c=>c.pause())}restart(){this.players.forEach(c=>c.restart())}finish(){this._onFinish(),this.players.forEach(c=>c.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(c=>c.destroy()),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this.players.forEach(c=>c.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(c){const a=c*this.totalTime;this.players.forEach(p=>{const I=p.totalTime?Math.min(1,a/p.totalTime):1;p.setPosition(I)})}getPosition(){const c=this.players.reduce((a,p)=>null===a||p.totalTime>a.totalTime?p:a,null);return null!=c?c.getPosition():0}beforeDestroy(){this.players.forEach(c=>{c.beforeDestroy&&c.beforeDestroy()})}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}function kp(f){return new l.vHH(3e3,!1)}function Ql(f){switch(f.length){case 0:return new Zl;case 1:return f[0];default:return new uf(f)}}function _f(f,c,a=new Map,p=new Map){const I=[],k=[];let ee=-1,de=null;if(c.forEach(Pe=>{const Ze=Pe.get("offset"),Dt=Ze==ee,tn=Dt&&de||new Map;Pe.forEach((Vn,An)=>{let pn=An,Rn=Vn;if("offset"!==An)switch(pn=f.normalizePropertyName(pn,I),Rn){case"!":Rn=a.get(An);break;case Ds:Rn=p.get(An);break;default:Rn=f.normalizeStyleValue(An,pn,Rn,I)}tn.set(pn,Rn)}),Dt||k.push(tn),de=tn,ee=Ze}),I.length)throw function Lp(f){return new l.vHH(3502,!1)}();return k}function Jl(f,c,a,p){switch(c){case"start":f.onStart(()=>p(a&&yf(a,"start",f)));break;case"done":f.onDone(()=>p(a&&yf(a,"done",f)));break;case"destroy":f.onDestroy(()=>p(a&&yf(a,"destroy",f)))}}function yf(f,c,a){const k=ju(f.element,f.triggerName,f.fromState,f.toState,c||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),ee=f._data;return null!=ee&&(k._data=ee),k}function ju(f,c,a,p,I="",k=0,ee){return{element:f,triggerName:c,fromState:a,toState:p,phaseName:I,totalTime:k,disabled:!!ee}}function ra(f,c,a){let p=f.get(c);return p||f.set(c,p=a),p}function Up(f){const c=f.indexOf(":");return[f.substring(1,c),f.slice(c+1)]}const b_=(()=>typeof document>"u"?null:document.documentElement)();function Xl(f){const c=f.parentNode||f.host||null;return c===b_?null:c}let $u=null,zu=!1;function C_(f,c){for(;c;){if(c===f)return!0;c=Xl(c)}return!1}function Bp(f,c,a){if(a)return Array.from(f.querySelectorAll(c));const p=f.querySelector(c);return p?[p]:[]}let jp=(()=>{class f{validateStyleProperty(a){return function rm(f){$u||($u=function jv(){return typeof document<"u"?document.body:null}()||{},zu=!!$u.style&&"WebkitAppearance"in $u.style);let c=!0;return $u.style&&!function Hu(f){return"ebkit"==f.substring(1,6)}(f)&&(c=f in $u.style,!c&&zu&&(c="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in $u.style)),c}(a)}matchesElement(a,p){return!1}containsElement(a,p){return C_(a,p)}getParentElement(a){return Xl(a)}query(a,p,I){return Bp(a,p,I)}computeStyle(a,p,I){return I||""}animate(a,p,I,k,ee,de=[],Pe){return new Zl(I,k)}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac})}return f})(),im=(()=>{class f{static#e=this.NOOP=new jp}return f})();const Hp=1e3,Gu="ng-enter",qu="ng-leave",Ef="ng-trigger",$p=".ng-trigger",sm="ng-animating",zp=".ng-animating";function $a(f){if("number"==typeof f)return f;const c=f.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:If(parseFloat(c[1]),c[2])}function If(f,c){return"s"===c?f*Hp:f}function Zu(f,c,a){return f.hasOwnProperty("duration")?f:function w_(f,c,a){let I,k=0,ee="";if("string"==typeof f){const de=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return c.push(kp()),{duration:0,delay:0,easing:""};I=If(parseFloat(de[1]),de[2]);const Pe=de[3];null!=Pe&&(k=If(parseFloat(Pe),de[4]));const Ze=de[5];Ze&&(ee=Ze)}else I=f;if(!a){let de=!1,Pe=c.length;I<0&&(c.push(function My(){return new l.vHH(3100,!1)}()),de=!0),k<0&&(c.push(function Py(){return new l.vHH(3101,!1)}()),de=!0),de&&c.splice(Pe,0,kp())}return{duration:I,delay:k,easing:ee}}(f,c,a)}function Cc(f,c={}){return Object.keys(f).forEach(a=>{c[a]=f[a]}),c}function om(f){const c=new Map;return Object.keys(f).forEach(a=>{c.set(a,f[a])}),c}function al(f,c=new Map,a){if(a)for(let[p,I]of a)c.set(p,I);for(let[p,I]of f)c.set(p,I);return c}function cl(f,c,a){c.forEach((p,I)=>{const k=ul(I);a&&!a.has(I)&&a.set(I,f.style[k]),f.style[k]=p})}function Wu(f,c){c.forEach((a,p)=>{const I=ul(p);f.style[I]=""})}function za(f){return Array.isArray(f)?1==f.length?f[0]:Op(f):f}const uh=new RegExp("{{\\s*(.+?)\\s*}}","g");function ll(f){let c=[];if("string"==typeof f){let a;for(;a=uh.exec(f);)c.push(a[1]);uh.lastIndex=0}return c}function dh(f,c,a){const p=f.toString(),I=p.replace(uh,(k,ee)=>{let de=c[ee];return null==de&&(a.push(function df(f){return new l.vHH(3003,!1)}()),de=""),de.toString()});return I==p?f:I}function Bo(f){const c=[];let a=f.next();for(;!a.done;)c.push(a.value),a=f.next();return c}const A_=/-+([a-z0-9])/g;function ul(f){return f.replace(A_,(...c)=>c[1].toUpperCase())}function ia(f,c,a){switch(c.type){case 7:return f.visitTrigger(c,a);case 0:return f.visitState(c,a);case 1:return f.visitTransition(c,a);case 2:return f.visitSequence(c,a);case 3:return f.visitGroup(c,a);case 4:return f.visitAnimate(c,a);case 5:return f.visitKeyframes(c,a);case 6:return f.visitStyle(c,a);case 8:return f.visitReference(c,a);case 9:return f.visitAnimateChild(c,a);case 10:return f.visitAnimateRef(c,a);case 11:return f.visitQuery(c,a);case 12:return f.visitStagger(c,a);default:throw function Ry(f){return new l.vHH(3004,!1)}()}}function By(f,c){return window.getComputedStyle(f)[c]}const Mi="*";function cm(f,c){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(p=>function M_(f,c,a){if(":"==f[0]){const Pe=function Hy(f,c){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return c.push(function Ly(f){return new l.vHH(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof Pe)return void c.push(Pe);f=Pe}const p=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function Uu(f){return new l.vHH(3015,!1)}()),c;const I=p[1],k=p[2],ee=p[3];c.push(lm(I,ee));"<"==k[0]&&!(I==Mi&&ee==Mi)&&c.push(lm(ee,I))}(p,a,c)):a.push(f),a}const Gp=new Set(["true","1"]),hh=new Set(["false","0"]);function lm(f,c){const a=Gp.has(f)||hh.has(f),p=Gp.has(c)||hh.has(c);return(I,k)=>{let ee=f==Mi||f==I,de=c==Mi||c==k;return!ee&&a&&"boolean"==typeof I&&(ee=I?Gp.has(f):hh.has(f)),!de&&p&&"boolean"==typeof k&&(de=k?Gp.has(c):hh.has(c)),ee&&de}}const Gv=new RegExp("s*:selfs*,?","g");function dm(f,c,a,p){return new qv(f).build(c,a,p)}class qv{constructor(c){this._driver=c}build(c,a,p){const I=new R_(a);return this._resetContextStyleTimingState(I),ia(this,za(c),I)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let p=a.queryCount=0,I=a.depCount=0;const k=[],ee=[];return"@"==c.name.charAt(0)&&a.errors.push(function E_(){return new l.vHH(3006,!1)}()),c.definitions.forEach(de=>{if(this._resetContextStyleTimingState(a),0==de.type){const Pe=de,Ze=Pe.name;Ze.toString().split(/\s*,\s*/).forEach(Dt=>{Pe.name=Dt,k.push(this.visitState(Pe,a))}),Pe.name=Ze}else if(1==de.type){const Pe=this.visitTransition(de,a);p+=Pe.queryCount,I+=Pe.depCount,ee.push(Pe)}else a.errors.push(function Vu(){return new l.vHH(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:ee,queryCount:p,depCount:I,options:null}}visitState(c,a){const p=this.visitStyle(c.styles,a),I=c.options&&c.options.params||null;if(p.containsDynamicStyles){const k=new Set,ee=I||{};p.styles.forEach(de=>{de instanceof Map&&de.forEach(Pe=>{ll(Pe).forEach(Ze=>{ee.hasOwnProperty(Ze)||k.add(Ze)})})}),k.size&&(Bo(k.values()),a.errors.push(function I_(f,c){return new l.vHH(3008,!1)}()))}return{type:0,name:c.name,style:p,options:I?{params:I}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const p=ia(this,za(c.animation),a);return{type:1,matchers:cm(c.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:sa(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(p=>ia(this,p,a)),options:sa(c.options)}}visitGroup(c,a){const p=a.currentTime;let I=0;const k=c.steps.map(ee=>{a.currentTime=p;const de=ia(this,ee,a);return I=Math.max(I,a.currentTime),de});return a.currentTime=I,{type:3,steps:k,options:sa(c.options)}}visitAnimate(c,a){const p=function hl(f,c){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return wc(Zu(f,c).duration,0,"");const a=f;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=wc(0,0,"");return k.dynamic=!0,k.strValue=a,k}const I=Zu(a,c);return wc(I.duration,I.delay,I.easing)}(c.timings,a.errors);a.currentAnimateTimings=p;let I,k=c.styles?c.styles:Np({});if(5==k.type)I=this.visitKeyframes(k,a);else{let ee=c.styles,de=!1;if(!ee){de=!0;const Ze={};p.easing&&(Ze.easing=p.easing),ee=Np(Ze)}a.currentTime+=p.duration+p.delay;const Pe=this.visitStyle(ee,a);Pe.isEmptyStep=de,I=Pe}return a.currentAnimateTimings=null,{type:4,timings:p,style:I,options:null}}visitStyle(c,a){const p=this._makeStyleAst(c,a);return this._validateStyleAst(p,a),p}_makeStyleAst(c,a){const p=[],I=Array.isArray(c.styles)?c.styles:[c.styles];for(let de of I)"string"==typeof de?de===Ds?p.push(de):a.errors.push(new l.vHH(3002,!1)):p.push(om(de));let k=!1,ee=null;return p.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ee=de.get("easing"),de.delete("easing")),!k))for(let Pe of de.values())if(Pe.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:p,easing:ee,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,a){const p=a.currentAnimateTimings;let I=a.currentTime,k=a.currentTime;p&&k>0&&(k-=p.duration+p.delay),c.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((de,Pe)=>{const Ze=a.collectedStyles.get(a.currentQuerySelector),Dt=Ze.get(Pe);let tn=!0;Dt&&(k!=I&&k>=Dt.startTime&&I<=Dt.endTime&&(a.errors.push(function T_(f,c,a,p,I){return new l.vHH(3010,!1)}()),tn=!1),k=Dt.startTime),tn&&Ze.set(Pe,{startTime:k,endTime:I}),a.options&&function Ku(f,c,a){const p=c.params||{},I=ll(f);I.length&&I.forEach(k=>{p.hasOwnProperty(k)||a.push(function v_(f){return new l.vHH(3001,!1)}())})}(de,a.options,a.errors)})})}visitKeyframes(c,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function ih(){return new l.vHH(3011,!1)}()),p;let k=0;const ee=[];let de=!1,Pe=!1,Ze=0;const Dt=c.steps.map(oi=>{const vi=this._makeStyleAst(oi,a);let hi=null!=vi.offset?vi.offset:function Tf(f){if("string"==typeof f)return null;let c=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(vi.styles),Qr=0;return null!=hi&&(k++,Qr=vi.offset=hi),Pe=Pe||Qr<0||Qr>1,de=de||Qr<Ze,Ze=Qr,ee.push(Qr),vi});Pe&&a.errors.push(function Fp(){return new l.vHH(3012,!1)}()),de&&a.errors.push(function Oy(){return new l.vHH(3200,!1)}());const tn=c.steps.length;let Vn=0;k>0&&k<tn?a.errors.push(function Ny(){return new l.vHH(3202,!1)}()):0==k&&(Vn=1/(tn-1));const An=tn-1,pn=a.currentTime,Rn=a.currentAnimateTimings,gr=Rn.duration;return Dt.forEach((oi,vi)=>{const hi=Vn>0?vi==An?1:Vn*vi:ee[vi],Qr=hi*gr;a.currentTime=pn+Rn.delay+Qr,Rn.duration=Qr,this._validateStyleAst(oi,a),oi.offset=hi,p.styles.push(oi)}),p}visitReference(c,a){return{type:8,animation:ia(this,za(c.animation),a),options:sa(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:sa(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:sa(c.options)}}visitQuery(c,a){const p=a.currentQuerySelector,I=c.options||{};a.queryCount++,a.currentQuery=c;const[k,ee]=function $y(f){const c=!!f.split(/\s*,\s*/).find(a=>":self"==a);return c&&(f=f.replace(Gv,"")),f=f.replace(/@\*/g,$p).replace(/@\w+/g,a=>$p+"-"+a.slice(1)).replace(/:animating/g,zp),[f,c]}(c.selector);a.currentQuerySelector=p.length?p+" "+k:k,ra(a.collectedStyles,a.currentQuerySelector,new Map);const de=ia(this,za(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:k,limit:I.limit||0,optional:!!I.optional,includeSelf:ee,animation:de,originalSelector:c.selector,options:sa(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function ky(){return new l.vHH(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:Zu(c.timings,a.errors,!0);return{type:12,animation:ia(this,za(c.animation),a),timings:p,options:null}}}class R_{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sa(f){return f?(f=Cc(f)).params&&(f.params=function zy(f){return f?Cc(f):null}(f.params)):f={},f}function wc(f,c,a){return{duration:f,delay:c,easing:a}}function hm(f,c,a,p,I,k,ee=null,de=!1){return{type:1,element:f,keyframes:c,preStyleProps:a,postStyleProps:p,duration:I,delay:k,totalTime:I+k,easing:ee,subTimeline:de}}class bf{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Cf=new RegExp(":enter","g"),O_=new RegExp(":leave","g");function pm(f,c,a,p,I,k=new Map,ee=new Map,de,Pe,Ze=[]){return(new Zv).buildKeyframes(f,c,a,p,I,k,ee,de,Pe,Ze)}class Zv{buildKeyframes(c,a,p,I,k,ee,de,Pe,Ze,Dt=[]){Ze=Ze||new bf;const tn=new gm(c,a,Ze,I,k,Dt,[]);tn.options=Pe;const Vn=Pe.delay?$a(Pe.delay):0;tn.currentTimeline.delayNextStep(Vn),tn.currentTimeline.setStyles([ee],null,tn.errors,Pe),ia(this,p,tn);const An=tn.timelines.filter(pn=>pn.containsAnimation());if(An.length&&de.size){let pn;for(let Rn=An.length-1;Rn>=0;Rn--){const gr=An[Rn];if(gr.element===a){pn=gr;break}}pn&&!pn.allowOnlyTimelineStyles()&&pn.setStyles([de],null,tn.errors,Pe)}return An.length?An.map(pn=>pn.buildKeyframes()):[hm(a,[],[],[],0,Vn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const p=a.subInstructions.get(a.element);if(p){const I=a.createSubContext(c.options),k=a.currentTimeline.currentTime,ee=this._visitSubInstructions(p,I,I.options);k!=ee&&a.transformIntoNewTimeline(ee)}a.previousNode=c}visitAnimateRef(c,a){const p=a.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,p),this.visitReference(c.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,p){for(const I of c){const k=I?.delay;if(k){const ee="number"==typeof k?k:$a(dh(k,I?.params??{},a.errors));p.delayNextStep(ee)}}}_visitSubInstructions(c,a,p){let k=a.currentTimeline.currentTime;const ee=null!=p.duration?$a(p.duration):null,de=null!=p.delay?$a(p.delay):null;return 0!==ee&&c.forEach(Pe=>{const Ze=a.appendInstructionToTimeline(Pe,ee,de);k=Math.max(k,Ze.duration+Ze.delay)}),k}visitReference(c,a){a.updateOptions(c.options,!0),ia(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const p=a.subContextCount;let I=a;const k=c.options;if(k&&(k.params||k.delay)&&(I=a.createSubContext(k),I.transformIntoNewTimeline(),null!=k.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=wf);const ee=$a(k.delay);I.delayNextStep(ee)}c.steps.length&&(c.steps.forEach(ee=>ia(this,ee,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>p&&I.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const p=[];let I=a.currentTimeline.currentTime;const k=c.options&&c.options.delay?$a(c.options.delay):0;c.steps.forEach(ee=>{const de=a.createSubContext(c.options);k&&de.delayNextStep(k),ia(this,ee,de),I=Math.max(I,de.currentTimeline.currentTime),p.push(de.currentTimeline)}),p.forEach(ee=>a.currentTimeline.mergeTimelineCollectedStyles(ee)),a.transformIntoNewTimeline(I),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const p=c.strValue;return Zu(a.params?dh(p,a.params,a.errors):p,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const p=a.currentAnimateTimings=this._visitTiming(c.timings,a),I=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),I.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(p.duration),this.visitStyle(k,a),I.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const p=a.currentTimeline,I=a.currentAnimateTimings;!I&&p.hasCurrentStyleProperties()&&p.forwardFrame();const k=I&&I.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(k):p.setStyles(c.styles,k,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const p=a.currentAnimateTimings,I=a.currentTimeline.duration,k=p.duration,de=a.createSubContext().currentTimeline;de.easing=p.easing,c.styles.forEach(Pe=>{de.forwardTime((Pe.offset||0)*k),de.setStyles(Pe.styles,Pe.easing,a.errors,a.options),de.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(de),a.transformIntoNewTimeline(I+k),a.previousNode=c}visitQuery(c,a){const p=a.currentTimeline.currentTime,I=c.options||{},k=I.delay?$a(I.delay):0;k&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=wf);let ee=p;const de=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!I.optional,a.errors);a.currentQueryTotal=de.length;let Pe=null;de.forEach((Ze,Dt)=>{a.currentQueryIndex=Dt;const tn=a.createSubContext(c.options,Ze);k&&tn.delayNextStep(k),Ze===a.element&&(Pe=tn.currentTimeline),ia(this,c.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,tn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ee),Pe&&(a.currentTimeline.mergeTimelineCollectedStyles(Pe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const p=a.parentContext,I=a.currentTimeline,k=c.timings,ee=Math.abs(k.duration),de=ee*(a.currentQueryTotal-1);let Pe=ee*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":Pe=de-Pe;break;case"full":Pe=p.currentStaggerTime}const Dt=a.currentTimeline;Pe&&Dt.delayNextStep(Pe);const tn=Dt.currentTime;ia(this,c.animation,a),a.previousNode=c,p.currentStaggerTime=I.currentTime-tn+(I.startTime-p.currentTimeline.startTime)}}const wf={};class gm{constructor(c,a,p,I,k,ee,de,Pe){this._driver=c,this.element=a,this.subInstructions=p,this._enterClassName=I,this._leaveClassName=k,this.errors=ee,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Pe||new mm(this._driver,a,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const p=c;let I=this.options;null!=p.duration&&(I.duration=$a(p.duration)),null!=p.delay&&(I.delay=$a(p.delay));const k=p.params;if(k){let ee=I.params;ee||(ee=this.options.params={}),Object.keys(k).forEach(de=>{(!a||!ee.hasOwnProperty(de))&&(ee[de]=dh(k[de],ee,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const p=c.params={};Object.keys(a).forEach(I=>{p[I]=a[I]})}}return c}createSubContext(c=null,a,p){const I=a||this.element,k=new gm(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,p||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=wf,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,p){const I={duration:a??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},k=new Gy(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,I,c.stretchStartingKeyframe);return this.timelines.push(k),I}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,p,I,k,ee){let de=[];if(I&&de.push(this.element),c.length>0){c=(c=c.replace(Cf,"."+this._enterClassName)).replace(O_,"."+this._leaveClassName);let Ze=this._driver.query(this.element,c,1!=p);0!==p&&(Ze=p<0?Ze.slice(Ze.length+p,Ze.length):Ze.slice(0,p)),de.push(...Ze)}return!k&&0==de.length&&ee.push(function Fy(f){return new l.vHH(3014,!1)}()),de}}class mm{constructor(c,a,p,I){this._driver=c,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new mm(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||Ds),this._currentKeyframe.set(a,Ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,p,I){a&&this._previousKeyframe.set("easing",a);const k=I&&I.params||{},ee=function Kv(f,c){const a=new Map;let p;return f.forEach(I=>{if("*"===I){p=p||c.keys();for(let k of p)a.set(k,Ds)}else al(I,a)}),a}(c,this._globalTimelineStyles);for(let[de,Pe]of ee){const Ze=dh(Pe,k,p);this._pendingStyles.set(de,Ze),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Ds),this._updateStyle(de,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,p)=>{const I=this._styleSummary.get(p);(!I||a.time>I.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((de,Pe)=>{const Ze=al(de,new Map,this._backFill);Ze.forEach((Dt,tn)=>{"!"===Dt?c.add(tn):Dt===Ds&&a.add(tn)}),p||Ze.set("offset",Pe/this.duration),I.push(Ze)});const k=c.size?Bo(c.values()):[],ee=a.size?Bo(a.values()):[];if(p){const de=I[0],Pe=new Map(de);de.set("offset",0),Pe.set("offset",1),I=[de,Pe]}return hm(this.element,I,k,ee,this.duration,this.startTime,this.easing,!1)}}class Gy extends mm{constructor(c,a,p,I,k,ee,de=!1){super(c,a,ee.delay),this.keyframes=p,this.preStyleProps=I,this.postStyleProps=k,this._stretchStartingKeyframe=de,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:p,easing:I}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],ee=p+a,de=a/ee,Pe=al(c[0]);Pe.set("offset",0),k.push(Pe);const Ze=al(c[0]);Ze.set("offset",Wv(de)),k.push(Ze);const Dt=c.length-1;for(let tn=1;tn<=Dt;tn++){let Vn=al(c[tn]);const An=Vn.get("offset");Vn.set("offset",Wv((a+An*p)/ee)),k.push(Vn)}p=ee,a=0,I="",c=k}return hm(this.element,c,this.preStyleProps,this.postStyleProps,p,a,I,!0)}}function Wv(f,c=3){const a=Math.pow(10,c-1);return Math.round(f*a)/a}class _m{}const qy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LE extends _m{normalizePropertyName(c,a){return ul(c)}normalizeStyleValue(c,a,p,I){let k="";const ee=p.toString().trim();if(qy.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)k="px";else{const de=p.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&I.push(function xy(f,c){return new l.vHH(3005,!1)}())}return ee+k}}function Yu(f,c,a,p,I,k,ee,de,Pe,Ze,Dt,tn,Vn){return{type:0,element:f,triggerName:c,isRemovalTransition:I,fromState:a,fromStyles:k,toState:p,toStyles:ee,timelines:de,queriedElements:Pe,preStyleProps:Ze,postStyleProps:Dt,totalTime:tn,errors:Vn}}const Qu={};class u{constructor(c,a,p){this._triggerName=c,this.ast=a,this._stateStyles=p}match(c,a,p,I){return function r(f,c,a,p,I){return f.some(k=>k(c,a,p,I))}(this.ast.matchers,c,a,p,I)}buildStyles(c,a,p){let I=this._stateStyles.get("*");return void 0!==c&&(I=this._stateStyles.get(c?.toString())||I),I?I.buildStyles(a,p):new Map}build(c,a,p,I,k,ee,de,Pe,Ze,Dt){const tn=[],Vn=this.ast.options&&this.ast.options.params||Qu,pn=this.buildStyles(p,de&&de.params||Qu,tn),Rn=Pe&&Pe.params||Qu,gr=this.buildStyles(I,Rn,tn),oi=new Set,vi=new Map,hi=new Map,Qr="void"===I,qa={params:s(Rn,Vn),delay:this.ast.options?.delay},wo=Dt?[]:pm(c,a,this.ast.animation,k,ee,pn,gr,qa,Ze,tn);let Ws=0;if(wo.forEach(Za=>{Ws=Math.max(Za.duration+Za.delay,Ws)}),tn.length)return Yu(a,this._triggerName,p,I,Qr,pn,gr,[],[],vi,hi,Ws,tn);wo.forEach(Za=>{const cd=Za.element,yE=ra(vi,cd,new Set);Za.preStyleProps.forEach(zf=>yE.add(zf));const Vm=ra(hi,cd,new Set);Za.postStyleProps.forEach(zf=>Vm.add(zf)),cd!==a&&oi.add(cd)});const oa=Bo(oi.values());return Yu(a,this._triggerName,p,I,Qr,pn,gr,wo,oa,vi,hi,Ws)}}function s(f,c){const a=Cc(c);for(const p in f)f.hasOwnProperty(p)&&null!=f[p]&&(a[p]=f[p]);return a}class d{constructor(c,a,p){this.styles=c,this.defaultParams=a,this.normalizer=p}buildStyles(c,a){const p=new Map,I=Cc(this.defaultParams);return Object.keys(c).forEach(k=>{const ee=c[k];null!==ee&&(I[k]=ee)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((ee,de)=>{ee&&(ee=dh(ee,I,a));const Pe=this.normalizer.normalizePropertyName(de,a);ee=this.normalizer.normalizeStyleValue(de,Pe,ee,a),p.set(de,ee)})}),p}}class T{constructor(c,a,p){this.name=c,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(I=>{this.states.set(I.name,new d(I.style,I.options&&I.options.params||{},p))}),L(this.states,"true","1"),L(this.states,"false","0"),a.transitions.forEach(I=>{this.transitionFactories.push(new u(c,I,this.states))}),this.fallbackTransition=function R(f,c,a){return new u(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,de)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,p,I){return this.transitionFactories.find(ee=>ee.match(c,a,p,I))||null}matchStyles(c,a,p){return this.fallbackTransition.buildStyles(c,a,p)}}function L(f,c,a){f.has(c)?f.has(a)||f.set(a,f.get(c)):f.has(a)&&f.set(c,f.get(a))}const K=new bf;class oe{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const p=[],k=dm(this._driver,a,p,[]);if(p.length)throw function hf(f){return new l.vHH(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,a,p){const I=c.element,k=_f(this._normalizer,c.keyframes,a,p);return this._driver.animate(I,k,c.duration,c.delay,c.easing,[],!0)}create(c,a,p={}){const I=[],k=this._animations.get(c);let ee;const de=new Map;if(k?(ee=pm(this._driver,a,k,Gu,qu,new Map,new Map,p,K,I),ee.forEach(Dt=>{const tn=ra(de,Dt.element,new Map);Dt.postStyleProps.forEach(Vn=>tn.set(Vn,null))})):(I.push(function Bu(){return new l.vHH(3300,!1)}()),ee=[]),I.length)throw function oh(f){return new l.vHH(3504,!1)}();de.forEach((Dt,tn)=>{Dt.forEach((Vn,An)=>{Dt.set(An,this._driver.computeStyle(tn,An,Ds))})});const Ze=Ql(ee.map(Dt=>{const tn=de.get(Dt.element);return this._buildPlayer(Dt,new Map,tn)}));return this._playersById.set(c,Ze),Ze.onDestroy(()=>this.destroy(c)),this.players.push(Ze),Ze}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function Yl(f){return new l.vHH(3301,!1)}();return a}listen(c,a,p,I){const k=ju(a,"","","");return Jl(this._getPlayer(c),p,k,I),()=>{}}command(c,a,p,I){if("register"==p)return void this.register(c,I[0]);if("create"==p)return void this.create(c,a,I[0]||{});const k=this._getPlayer(c);switch(p){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(c)}}}const ge="ng-animate-queued",ot="ng-animate-disabled",Pn=[],zn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed";class Zr{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const p=c&&c.hasOwnProperty("value");if(this.value=function gt(f){return f??null}(p?c.value:c),p){const k=Cc(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const p=this.options.params;Object.keys(a).forEach(I=>{null==p[I]&&(p[I]=a[I])})}}}const yr="void",Ye=new Zr(yr);class Se{constructor(c,a,p){this.id=c,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,uo(a,this._hostClassName)}listen(c,a,p,I){if(!this._triggers.has(a))throw function ff(f,c){return new l.vHH(3302,!1)}();if(null==p||0==p.length)throw function pf(f){return new l.vHH(3303,!1)}();if(!function fl(f){return"start"==f||"done"==f}(p))throw function gf(f,c){return new l.vHH(3400,!1)}();const k=ra(this._elementListeners,c,[]),ee={name:a,phase:p,callback:I};k.push(ee);const de=ra(this._engine.statesByElement,c,new Map);return de.has(a)||(uo(c,Ef),uo(c,Ef+"-"+a),de.set(a,Ye)),()=>{this._engine.afterFlush(()=>{const Pe=k.indexOf(ee);Pe>=0&&k.splice(Pe,1),this._triggers.has(a)||de.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function ah(f){return new l.vHH(3401,!1)}();return a}trigger(c,a,p,I=!0){const k=this._getTrigger(a),ee=new Qe(this.id,a,c);let de=this._engine.statesByElement.get(c);de||(uo(c,Ef),uo(c,Ef+"-"+a),this._engine.statesByElement.set(c,de=new Map));let Pe=de.get(a);const Ze=new Zr(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Pe&&Ze.absorbOptions(Pe.options),de.set(a,Ze),Pe||(Pe=Ye),Ze.value!==yr&&Pe.value===Ze.value){if(!function ho(f,c){const a=Object.keys(f),p=Object.keys(c);if(a.length!=p.length)return!1;for(let I=0;I<a.length;I++){const k=a[I];if(!c.hasOwnProperty(k)||f[k]!==c[k])return!1}return!0}(Pe.params,Ze.params)){const Rn=[],gr=k.matchStyles(Pe.value,Pe.params,Rn),oi=k.matchStyles(Ze.value,Ze.params,Rn);Rn.length?this._engine.reportError(Rn):this._engine.afterFlush(()=>{Wu(c,gr),cl(c,oi)})}return}const Vn=ra(this._engine.playersByElement,c,[]);Vn.forEach(Rn=>{Rn.namespaceId==this.id&&Rn.triggerName==a&&Rn.queued&&Rn.destroy()});let An=k.matchTransition(Pe.value,Ze.value,c,Ze.params),pn=!1;if(!An){if(!I)return;An=k.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:An,fromState:Pe,toState:Ze,player:ee,isFallbackTransition:pn}),pn||(uo(c,ge),ee.onStart(()=>{Ju(c,ge)})),ee.onDone(()=>{let Rn=this.players.indexOf(ee);Rn>=0&&this.players.splice(Rn,1);const gr=this._engine.playersByElement.get(c);if(gr){let oi=gr.indexOf(ee);oi>=0&&gr.splice(oi,1)}}),this.players.push(ee),Vn.push(ee),ee}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(I=>I.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const p=this._engine.driver.query(c,$p,!0);p.forEach(I=>{if(I[Kn])return;const k=this._engine.fetchNamespacesByElement(I);k.size?k.forEach(ee=>ee.triggerLeaveAnimation(I,a,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(c,a,p,I){const k=this._engine.statesByElement.get(c),ee=new Map;if(k){const de=[];if(k.forEach((Pe,Ze)=>{if(ee.set(Ze,Pe.value),this._triggers.has(Ze)){const Dt=this.trigger(c,Ze,yr,I);Dt&&de.push(Dt)}}),de.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,ee),p&&Ql(de).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(a&&p){const I=new Set;a.forEach(k=>{const ee=k.name;if(I.has(ee))return;I.add(ee);const Pe=this._triggers.get(ee).fallbackTransition,Ze=p.get(ee)||Ye,Dt=new Zr(yr),tn=new Qe(this.id,ee,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ee,transition:Pe,fromState:Ze,toState:Dt,player:tn,isFallbackTransition:!0})})}}removeNode(c,a){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let I=!1;if(p.totalAnimations){const k=p.players.length?p.playersByQueriedElement.get(c):[];if(k&&k.length)I=!0;else{let ee=c;for(;ee=ee.parentNode;)if(p.statesByElement.get(ee)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(c),I)p.markElementAsRemoved(this.id,c,!1,a);else{const k=c[Kn];(!k||k===zn)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,a))}}insertNode(c,a){uo(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(p=>{const I=p.player;if(I.destroyed)return;const k=p.element,ee=this._elementListeners.get(k);ee&&ee.forEach(de=>{if(de.name==p.triggerName){const Pe=ju(k,p.triggerName,p.fromState.value,p.toState.value);Pe._data=c,Jl(p.player,de.phase,Pe,de.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):a.push(p)}),this._queue=[],a.sort((p,I)=>{const k=p.transition.ast.depCount,ee=I.transition.ast.depCount;return 0==k||0==ee?k-ee:this._engine.driver.containsElement(p.element,I.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class je{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,p){this.bodyNode=c,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,a){const p=new Se(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,a){const p=this._namespaceList,I=this.namespacesByHostElement;if(p.length-1>=0){let ee=!1,de=this.driver.getParentElement(a);for(;de;){const Pe=I.get(de);if(Pe){const Ze=p.indexOf(Pe);p.splice(Ze+1,0,c),ee=!0;break}de=this.driver.getParentElement(de)}ee||p.unshift(c)}else p.push(c);return I.set(a,c),c}register(c,a){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,a)),p}registerTrigger(c,a,p){let I=this._namespaceLookup[c];I&&I.register(a,p)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const I=this._namespaceList.indexOf(p);I>=0&&this._namespaceList.splice(I,1),p.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,p=this.statesByElement.get(c);if(p)for(let I of p.values())if(I.namespaceId){const k=this._fetchNamespace(I.namespaceId);k&&a.add(k)}return a}trigger(c,a,p,I){if(Le(a)){const k=this._fetchNamespace(c);if(k)return k.trigger(a,p,I),!0}return!1}insertNode(c,a,p,I){if(!Le(a))return;const k=a[Kn];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(a);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(c){const ee=this._fetchNamespace(c);ee&&ee.insertNode(a,p)}I&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),uo(c,ot)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ju(c,ot))}removeNode(c,a,p){if(Le(a)){const I=c?this._fetchNamespace(c):null;I?I.removeNode(a,p):this.markElementAsRemoved(c,a,!1,p);const k=this.namespacesByHostElement.get(a);k&&k.id!==c&&k.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(c,a,p,I,k){this.collectedLeaveElements.push(a),a[Kn]={namespaceId:c,setForRemoval:I,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,a,p,I,k){return Le(a)?this._fetchNamespace(c).listen(a,p,I,k):()=>{}}_buildInstruction(c,a,p,I,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,I,c.fromState.options,c.toState.options,a,k)}destroyInnerAnimations(c){let a=this.driver.query(c,$p,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,zp,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ql(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Kn];if(a&&a.setForRemoval){if(c[Kn]=zn,a.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(ot)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,I)=>this._balanceNamespaceList(p,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)uo(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,c)}finally{for(let I=0;I<p.length;I++)p[I]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?Ql(a).onDone(()=>{p.forEach(I=>I())}):p.forEach(I=>I())}}reportError(c){throw function Vp(f){return new l.vHH(3402,!1)}()}_flushAnimations(c,a){const p=new bf,I=[],k=new Map,ee=[],de=new Map,Pe=new Map,Ze=new Map,Dt=new Set;this.disabledNodes.forEach(Hn=>{Dt.add(Hn);const ir=this.driver.query(Hn,".ng-animate-queued",!0);for(let mr=0;mr<ir.length;mr++)Dt.add(ir[mr])});const tn=this.bodyNode,Vn=Array.from(this.statesByElement.keys()),An=ph(Vn,this.collectedEnterElements),pn=new Map;let Rn=0;An.forEach((Hn,ir)=>{const mr=Gu+Rn++;pn.set(ir,mr),Hn.forEach(ai=>uo(ai,mr))});const gr=[],oi=new Set,vi=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const ir=this.collectedLeaveElements[Hn],mr=ir[Kn];mr&&mr.setForRemoval&&(gr.push(ir),oi.add(ir),mr.hasAnimation?this.driver.query(ir,".ng-star-inserted",!0).forEach(ai=>oi.add(ai)):vi.add(ir))}const hi=new Map,Qr=ph(Vn,Array.from(oi));Qr.forEach((Hn,ir)=>{const mr=qu+Rn++;hi.set(ir,mr),Hn.forEach(ai=>uo(ai,mr))}),c.push(()=>{An.forEach((Hn,ir)=>{const mr=pn.get(ir);Hn.forEach(ai=>Ju(ai,mr))}),Qr.forEach((Hn,ir)=>{const mr=hi.get(ir);Hn.forEach(ai=>Ju(ai,mr))}),gr.forEach(Hn=>{this.processLeaveNode(Hn)})});const qa=[],wo=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(a).forEach(mr=>{const ai=mr.player,Ks=mr.element;if(qa.push(ai),this.collectedEnterElements.length){const Ao=Ks[Kn];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(mr.triggerName)){const Sh=Ao.previousTriggersValues.get(mr.triggerName),Wa=this.statesByElement.get(mr.element);if(Wa&&Wa.has(mr.triggerName)){const Um=Wa.get(mr.triggerName);Um.value=Sh,Wa.set(mr.triggerName,Um)}}return void ai.destroy()}}const El=!tn||!this.driver.containsElement(tn,Ks),Ca=hi.get(Ks),ld=pn.get(Ks),Qi=this._buildInstruction(mr,p,ld,Ca,El);if(Qi.errors&&Qi.errors.length)return void wo.push(Qi);if(El)return ai.onStart(()=>Wu(Ks,Qi.fromStyles)),ai.onDestroy(()=>cl(Ks,Qi.toStyles)),void I.push(ai);if(mr.isFallbackTransition)return ai.onStart(()=>Wu(Ks,Qi.fromStyles)),ai.onDestroy(()=>cl(Ks,Qi.toStyles)),void I.push(ai);const Sv=[];Qi.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||Sv.push(Ao)}),Qi.timelines=Sv,p.append(Ks,Qi.timelines),ee.push({instruction:Qi,player:ai,element:Ks}),Qi.queriedElements.forEach(Ao=>ra(de,Ao,[]).push(ai)),Qi.preStyleProps.forEach((Ao,Sh)=>{if(Ao.size){let Wa=Pe.get(Sh);Wa||Pe.set(Sh,Wa=new Set),Ao.forEach((Um,ud)=>Wa.add(ud))}}),Qi.postStyleProps.forEach((Ao,Sh)=>{let Wa=Ze.get(Sh);Wa||Ze.set(Sh,Wa=new Set),Ao.forEach((Um,ud)=>Wa.add(ud))})});if(wo.length){const Hn=[];wo.forEach(ir=>{Hn.push(function nm(f,c){return new l.vHH(3505,!1)}())}),qa.forEach(ir=>ir.destroy()),this.reportError(Hn)}const Ws=new Map,oa=new Map;ee.forEach(Hn=>{const ir=Hn.element;p.has(ir)&&(oa.set(ir,ir),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,Ws))}),I.forEach(Hn=>{const ir=Hn.element;this._getPreviousPlayers(ir,!1,Hn.namespaceId,Hn.triggerName,null).forEach(ai=>{ra(Ws,ir,[]).push(ai),ai.destroy()})});const Za=gr.filter(Hn=>k_(Hn,Pe,Ze)),cd=new Map;jo(cd,this.driver,vi,Ze,Ds).forEach(Hn=>{k_(Hn,Pe,Ze)&&Za.push(Hn)});const Vm=new Map;An.forEach((Hn,ir)=>{jo(Vm,this.driver,new Set(Hn),Pe,"!")}),Za.forEach(Hn=>{const ir=cd.get(Hn),mr=Vm.get(Hn);cd.set(Hn,new Map([...ir?.entries()??[],...mr?.entries()??[]]))});const zf=[],vE=[],EE={};ee.forEach(Hn=>{const{element:ir,player:mr,instruction:ai}=Hn;if(p.has(ir)){if(Dt.has(ir))return mr.onDestroy(()=>cl(ir,ai.toStyles)),mr.disabled=!0,mr.overrideTotalTime(ai.totalTime),void I.push(mr);let Ks=EE;if(oa.size>1){let Ca=ir;const ld=[];for(;Ca=Ca.parentNode;){const Qi=oa.get(Ca);if(Qi){Ks=Qi;break}ld.push(Ca)}ld.forEach(Qi=>oa.set(Qi,Ks))}const El=this._buildAnimation(mr.namespaceId,ai,Ws,k,Vm,cd);if(mr.setRealPlayer(El),Ks===EE)zf.push(mr);else{const Ca=this.playersByElement.get(Ks);Ca&&Ca.length&&(mr.parentPlayer=Ql(Ca)),I.push(mr)}}else Wu(ir,ai.fromStyles),mr.onDestroy(()=>cl(ir,ai.toStyles)),vE.push(mr),Dt.has(ir)&&I.push(mr)}),vE.forEach(Hn=>{const ir=k.get(Hn.element);if(ir&&ir.length){const mr=Ql(ir);Hn.setRealPlayer(mr)}}),I.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<gr.length;Hn++){const ir=gr[Hn],mr=ir[Kn];if(Ju(ir,qu),mr&&mr.hasAnimation)continue;let ai=[];if(de.size){let El=de.get(ir);El&&El.length&&ai.push(...El);let Ca=this.driver.query(ir,zp,!0);for(let ld=0;ld<Ca.length;ld++){let Qi=de.get(Ca[ld]);Qi&&Qi.length&&ai.push(...Qi)}}const Ks=ai.filter(El=>!El.destroyed);Ks.length?Zp(this,ir,Ks):this.processLeaveNode(ir)}return gr.length=0,zf.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const ir=this.players.indexOf(Hn);this.players.splice(ir,1)}),Hn.play()}),zf}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,p,I,k){let ee=[];if(a){const de=this.playersByQueriedElement.get(c);de&&(ee=de)}else{const de=this.playersByElement.get(c);if(de){const Pe=!k||k==yr;de.forEach(Ze=>{Ze.queued||!Pe&&Ze.triggerName!=I||ee.push(Ze)})}}return(p||I)&&(ee=ee.filter(de=>!(p&&p!=de.namespaceId||I&&I!=de.triggerName))),ee}_beforeAnimationBuild(c,a,p){const k=a.element,ee=a.isRemovalTransition?void 0:c,de=a.isRemovalTransition?void 0:a.triggerName;for(const Pe of a.timelines){const Ze=Pe.element,Dt=Ze!==k,tn=ra(p,Ze,[]);this._getPreviousPlayers(Ze,Dt,ee,de,a.toState).forEach(An=>{const pn=An.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),An.destroy(),tn.push(An)})}Wu(k,a.fromStyles)}_buildAnimation(c,a,p,I,k,ee){const de=a.triggerName,Pe=a.element,Ze=[],Dt=new Set,tn=new Set,Vn=a.timelines.map(pn=>{const Rn=pn.element;Dt.add(Rn);const gr=Rn[Kn];if(gr&&gr.removedBeforeQueried)return new Zl(pn.duration,pn.delay);const oi=Rn!==Pe,vi=function N_(f){const c=[];return pl(f,c),c}((p.get(Rn)||Pn).map(Ws=>Ws.getRealPlayer())).filter(Ws=>!!Ws.element&&Ws.element===Rn),hi=k.get(Rn),Qr=ee.get(Rn),qa=_f(this._normalizer,pn.keyframes,hi,Qr),wo=this._buildPlayer(pn,qa,vi);if(pn.subTimeline&&I&&tn.add(Rn),oi){const Ws=new Qe(c,de,Rn);Ws.setRealPlayer(wo),Ze.push(Ws)}return wo});Ze.forEach(pn=>{ra(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function tt(f,c,a){let p=f.get(c);if(p){if(p.length){const I=p.indexOf(a);p.splice(I,1)}0==p.length&&f.delete(c)}return p}(this.playersByQueriedElement,pn.element,pn))}),Dt.forEach(pn=>uo(pn,sm));const An=Ql(Vn);return An.onDestroy(()=>{Dt.forEach(pn=>Ju(pn,sm)),cl(Pe,a.toStyles)}),tn.forEach(pn=>{ra(I,pn,[]).push(An)}),An}_buildPlayer(c,a,p){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,p):new Zl(c.duration,c.delay)}}class Qe{constructor(c,a,p){this.namespaceId=c,this.triggerName=a,this.element=p,this._player=new Zl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,p)=>{a.forEach(I=>Jl(c,p,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){ra(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function Le(f){return f&&1===f.nodeType}function fh(f,c){const a=f.style.display;return f.style.display=c??"none",a}function jo(f,c,a,p,I){const k=[];a.forEach(Pe=>k.push(fh(Pe)));const ee=[];p.forEach((Pe,Ze)=>{const Dt=new Map;Pe.forEach(tn=>{const Vn=c.computeStyle(Ze,tn,I);Dt.set(tn,Vn),(!Vn||0==Vn.length)&&(Ze[Kn]=kn,ee.push(Ze))}),f.set(Ze,Dt)});let de=0;return a.forEach(Pe=>fh(Pe,k[de++])),ee}function ph(f,c){const a=new Map;if(f.forEach(de=>a.set(de,[])),0==c.length)return a;const I=new Set(c),k=new Map;function ee(de){if(!de)return 1;let Pe=k.get(de);if(Pe)return Pe;const Ze=de.parentNode;return Pe=a.has(Ze)?Ze:I.has(Ze)?1:ee(Ze),k.set(de,Pe),Pe}return c.forEach(de=>{const Pe=ee(de);1!==Pe&&a.get(Pe).push(de)}),a}function uo(f,c){f.classList?.add(c)}function Ju(f,c){f.classList?.remove(c)}function Zp(f,c,a){Ql(a).onDone(()=>f.processLeaveNode(c))}function pl(f,c){for(let a=0;a<f.length;a++){const p=f[a];p instanceof uf?pl(p.players,c):c.push(p)}}function k_(f,c,a){const p=a.get(f);if(!p)return!1;let I=c.get(f);return I?p.forEach(k=>I.add(k)):c.set(f,p),a.delete(f),!0}class gl{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(I,k)=>{},this._transitionEngine=new je(c,a,p),this._timelineEngine=new oe(c,a,p),this._transitionEngine.onRemovalComplete=(I,k)=>this.onRemovalComplete(I,k)}registerTrigger(c,a,p,I,k){const ee=c+"-"+I;let de=this._triggerCache[ee];if(!de){const Pe=[],Dt=dm(this._driver,k,Pe,[]);if(Pe.length)throw function bc(f,c){return new l.vHH(3404,!1)}();de=function y(f,c,a){return new T(f,c,a)}(I,Dt,this._normalizer),this._triggerCache[ee]=de}this._transitionEngine.registerTrigger(a,I,de)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,p,I){this._transitionEngine.insertNode(c,a,p,I)}onRemove(c,a,p){this._transitionEngine.removeNode(c,a,p)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,p,I){if("@"==p.charAt(0)){const[k,ee]=Up(p);this._timelineEngine.command(k,a,ee,I)}else this._transitionEngine.trigger(c,a,p,I)}listen(c,a,p,I,k){if("@"==p.charAt(0)){const[ee,de]=Up(p);return this._timelineEngine.listen(ee,a,de,k)}return this._transitionEngine.listen(c,a,p,I,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let Af=(()=>{class f{static#e=this.initialStylesByElement=new WeakMap;constructor(a,p,I){this._element=a,this._startStyles=p,this._endStyles=I,this._state=0;let k=f.initialStylesByElement.get(a);k||f.initialStylesByElement.set(a,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cl(this._element,this._initialStyles),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(Wu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wu(this._element,this._endStyles),this._endStyles=null),cl(this._element,this._initialStyles),this._state=3)}}return f})();function Df(f){let c=null;return f.forEach((a,p)=>{(function Wy(f){return"display"===f||"position"===f})(p)&&(c=c||new Map,c.set(p,a))}),c}class Sf{constructor(c,a,p,I){this.element=c,this.keyframes=a,this.options=p,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(c,a,p){return c.animate(this._convertKeyframesToObject(a),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,I)=>{"offset"!==I&&c.set(I,this._finished?p:By(this.element,I))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Wp{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return C_(c,a)}getParentElement(c){return Xl(c)}query(c,a,p){return Bp(c,a,p)}computeStyle(c,a,p){return window.getComputedStyle(c)[a]}animate(c,a,p,I,k,ee=[]){const Pe={duration:p,delay:I,fill:0==I?"both":"forwards"};k&&(Pe.easing=k);const Ze=new Map,Dt=ee.filter(An=>An instanceof Sf);(function tu(f,c){return 0===f||0===c})(p,I)&&Dt.forEach(An=>{An.currentSnapshot.forEach((pn,Rn)=>Ze.set(Rn,pn))});let tn=function Hv(f){return f.length?f[0]instanceof Map?f:f.map(c=>om(c)):[]}(a).map(An=>al(An));tn=function am(f,c,a){if(a.size&&c.length){let p=c[0],I=[];if(a.forEach((k,ee)=>{p.has(ee)||I.push(ee),p.set(ee,k)}),I.length)for(let k=1;k<c.length;k++){let ee=c[k];I.forEach(de=>ee.set(de,By(f,de)))}}return c}(c,tn,Ze);const Vn=function Zy(f,c){let a=null,p=null;return Array.isArray(c)&&c.length?(a=Df(c[0]),c.length>1&&(p=Df(c[c.length-1]))):c instanceof Map&&(a=Df(c)),a||p?new Af(f,a,p):null}(c,tn);return new Sf(c,tn,Pe,Vn)}}let ym=(()=>{class f extends Es{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(a)?Op(a):a;return gh(this._renderer,null,p,"register",[I]),new vm(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(l.FYo),l.LFG(G.K0))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac})}return f})();class vm extends Yi{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new Ta(this._id,c,a||{},this._renderer)}}class Ta{constructor(c,a,p,I){this.id=c,this.element=a,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return gh(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gh(f,c,a,p,I){return f.setProperty(c,`@@${a}:${p}`,I)}const Kp="@.disabled";let Ky=(()=>{class f{constructor(a,p,I){this.delegate=a,this.engine=p,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(k,ee)=>{const de=ee?.parentNode(k);de&&ee.removeChild(de,k)}}createRenderer(a,p){const k=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let Dt=this._rendererCache.get(k);return Dt||(Dt=new Yp("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,Dt)),Dt}const ee=p.id,de=p.id+"-"+this._currentId;this._currentId++,this.engine.register(de,a);const Pe=Dt=>{Array.isArray(Dt)?Dt.forEach(Pe):this.engine.registerTrigger(ee,de,a,Dt.name,Dt)};return p.data.animation.forEach(Pe),new Em(this,de,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,I){a>=0&&a<this._microtaskId?this._zone.run(()=>p(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[ee,de]=k;ee(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(l.FYo),l.LFG(gl),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac})}return f})();class Yp{constructor(c,a,p,I){this.namespaceId=c,this.delegate=a,this.engine=p,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,p,I=!0){this.delegate.insertBefore(c,a,p),this.engine.onInsert(this.namespaceId,a,c,I)}removeChild(c,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,p,I){this.delegate.setAttribute(c,a,p,I)}removeAttribute(c,a,p){this.delegate.removeAttribute(c,a,p)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,p,I){this.delegate.setStyle(c,a,p,I)}removeStyle(c,a,p){this.delegate.removeStyle(c,a,p)}setProperty(c,a,p){"@"==a.charAt(0)&&a==Kp?this.disableAnimations(c,!!p):this.delegate.setProperty(c,a,p)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,p){return this.delegate.listen(c,a,p)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class Em extends Yp{constructor(c,a,p,I,k){super(a,p,I,k),this.factory=c,this.namespaceId=a}setProperty(c,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Kp?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,a.slice(1),p):this.delegate.setProperty(c,a,p)}listen(c,a,p){if("@"==a.charAt(0)){const I=function mh(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(c);let k=a.slice(1),ee="";return"@"!=k.charAt(0)&&([k,ee]=function Qp(f){const c=f.indexOf(".");return[f.substring(0,c),f.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,I,k,ee,de=>{this.factory.scheduleListenerCallback(de._data||-1,p,de)})}return this.delegate.listen(c,a,p)}}const Pf=[{provide:Es,useClass:ym},{provide:_m,useFactory:function Jp(){return new LE}},{provide:gl,useClass:(()=>{class f extends gl{constructor(a,p,I,k){super(a.body,p,I)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(G.K0),l.LFG(im),l.LFG(_m),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac})}return f})()},{provide:l.FYo,useFactory:function Xp(f,c,a){return new Ky(f,c,a)},deps:[g.se,gl,l.R0b]}],Ss=[{provide:im,useFactory:()=>new Wp},{provide:l.QbO,useValue:"BrowserAnimations"},...Pf],Ls=[{provide:im,useClass:jp},{provide:l.QbO,useValue:"NoopAnimations"},...Pf];let ba=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?Ls:Ss}}static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f});static#n=this.\u0275inj=l.cJS({providers:Ss,imports:[g.b2]})}return f})();const _h_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092"};var Ac=U(3182);class Xu{constructor(c){return c}}class nu{constructor(){return(0,Ac.C6)()}}const ru=new l.OlP("angularfire2._apps"),Jy={provide:Xu,useFactory:function L_(f){return f&&1===f.length?f[0]:new Xu((0,Ac.Mq)())},deps:[[new l.FiY,ru]]},V_={provide:nu,deps:[[new l.FiY,ru]]};function yh(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new Xu(p)}}let tg=(()=>{class f{constructor(a){(0,Ac.KN)("angularfire",xr.q4.full,"core"),(0,Ac.KN)("angularfire",xr.q4.full,"app"),(0,Ac.KN)("angular",l.q4F.full,a.toString())}static \u0275fac=function(p){return new(p||f)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:f});static \u0275inj=l.cJS({providers:[Jy,V_]})}return f})();function Im(f,...c){return{ngModule:tg,providers:[{provide:ru,useFactory:yh(f),multi:!0,deps:[l.R0b,l.zs3,xr.HU,...c]}]}}const Eh=(0,xr.u3)(Ac.ZF,!0);U(35),U(7879);class bm{constructor(){return(0,xr.vb)("auth")}}var Ff=U(1043);class rd{constructor(c){return c}}const Lf="firestore",Ch=new l.OlP("angularfire2.firestore-instances");function wh(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new rd(p)}}const Mm={provide:class id{constructor(){return(0,xr.vb)(Lf)}},deps:[[new l.FiY,Ch]]},J_={provide:rd,useFactory:function Q_(f,c){const a=(0,xr.JM)(Lf,f,c);return a&&new rd(a)},deps:[[new l.FiY,Ch],Xu]};let cu=(()=>{class f{constructor(){(0,Ac.KN)("angularfire",xr.q4.full,"fst")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=l.oAB({type:f});static \u0275inj=l.cJS({providers:[J_,Mm]})}return f})();function X_(f,...c){return{ngModule:cu,providers:[{provide:Ch,useFactory:wh(f),multi:!0,deps:[l.R0b,l.zs3,xr.HU,nu,[new l.FiY,bm],[new l.FiY,xr.Rf],...c]}]}}const Hf=(0,xr.u3)(Ff.ad,!0);var cE=U(7213);class wv{constructor(c){return c}}const Av="storage",Dv=new l.OlP("angularfire2.storage-instances");function uE(f){return(c,a)=>{const p=c.runOutsideAngular(()=>f(a));return new wv(p)}}const t0={provide:class lE{constructor(){return(0,xr.vb)(Av)}},deps:[[new l.FiY,Dv]]},dE={provide:wv,useFactory:function e0(f,c){const a=(0,xr.JM)(Av,f,c);return a&&new wv(a)},deps:[[new l.FiY,Dv],Xu]};let J0=(()=>{class f{constructor(){(0,Ac.KN)("angularfire",xr.q4.full,"gcs")}static \u0275fac=function(p){return new(p||f)};static \u0275mod=l.oAB({type:f});static \u0275inj=l.cJS({providers:[dE,t0]})}return f})();function hE(f,...c){return{ngModule:J0,providers:[{provide:Dv,useFactory:uE(f),multi:!0,deps:[l.R0b,l.zs3,xr.HU,nu,[new l.FiY,bm],[new l.FiY,xr.Rf],...c]}]}}const pE=(0,xr.u3)(Wd,!0);var mE=U(5842);let s0=(()=>{class f{constructor(a){this.injector=a}handleError(a){this.injector.get(mE.I).logError(a)}static#e=this.\u0275fac=function(p){return new(p||f)(l.LFG(l.zs3))};static#t=this.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac})}return f})(),_E=(()=>{class f{static#e=this.\u0275fac=function(p){return new(p||f)};static#t=this.\u0275mod=l.oAB({type:f,bootstrap:[xp]});static#n=this.\u0275inj=l.cJS({providers:[{provide:l.qLn,useClass:s0},mE.I],imports:[g.b2,_s.JF,bi.Bz,__,ba,qr,wd,Yf,ql.yb,Mp,cE.ww,mc.hO.initializeApp(_h_firebase),Im(()=>Eh(_h_firebase)),X_(()=>Hf()),hE(()=>pE()),fn.UX,fn.u5,bi.Bz]})}return f})();g.q6().bootstrapModule(_E).catch(f=>console.error(f))},5619:(Jt,Ke,U)=>{U.d(Ke,{X:()=>l});var g=U(8645);class l extends g.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const _e=super._subscribe(Ie);return!_e.closed&&Ie.next(this._value),_e}getValue(){const{hasError:Ie,thrownError:_e,_value:Ae}=this;if(Ie)throw _e;return this._throwIfClosed(),Ae}next(Ie){super.next(this._value=Ie)}}},5592:(Jt,Ke,U)=>{U.d(Ke,{y:()=>De});var g=U(305),l=U(7394),G=U(4850),Ie=U(8407),_e=U(2653),Ae=U(4674),Me=U(1441);let De=(()=>{class ye{constructor(rt){rt&&(this._subscribe=rt)}lift(rt){const mt=new ye;return mt.source=this,mt.operator=rt,mt}subscribe(rt,mt,ft){const wt=function se(ye){return ye&&ye instanceof g.Lv||function te(ye){return ye&&(0,Ae.m)(ye.next)&&(0,Ae.m)(ye.error)&&(0,Ae.m)(ye.complete)}(ye)&&(0,l.Nn)(ye)}(rt)?rt:new g.Hp(rt,mt,ft);return(0,Me.x)(()=>{const{operator:Et,source:nn}=this;wt.add(Et?Et.call(wt,nn):nn?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(rt){try{return this._subscribe(rt)}catch(mt){rt.error(mt)}}forEach(rt,mt){return new(mt=$e(mt))((ft,wt)=>{const Et=new g.Hp({next:nn=>{try{rt(nn)}catch(qe){wt(qe),Et.unsubscribe()}},error:wt,complete:ft});this.subscribe(Et)})}_subscribe(rt){var mt;return null===(mt=this.source)||void 0===mt?void 0:mt.subscribe(rt)}[G.L](){return this}pipe(...rt){return(0,Ie.U)(rt)(this)}toPromise(rt){return new(rt=$e(rt))((mt,ft)=>{let wt;this.subscribe(Et=>wt=Et,Et=>ft(Et),()=>mt(wt))})}}return ye.create=st=>new ye(st),ye})();function $e(ye){var st;return null!==(st=ye??_e.config.Promise)&&void 0!==st?st:Promise}},8645:(Jt,Ke,U)=>{U.d(Ke,{x:()=>Me});var g=U(5592),l=U(7394);const Ie=(0,U(2306).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=U(9039),Ae=U(1441);let Me=(()=>{class $e extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ye=new De(this,this);return ye.operator=se,ye}_throwIfClosed(){if(this.closed)throw new Ie}next(se){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(se)}})}error(se){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ye}=this;for(;ye.length;)ye.shift().error(se)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ye,isStopped:st,observers:rt}=this;return ye||st?l.Lc:(this.currentObservers=null,rt.push(se),new l.w0(()=>{this.currentObservers=null,(0,_e.P)(rt,se)}))}_checkFinalizedStatuses(se){const{hasError:ye,thrownError:st,isStopped:rt}=this;ye?se.error(st):rt&&se.complete()}asObservable(){const se=new g.y;return se.source=this,se}}return $e.create=(te,se)=>new De(te,se),$e})();class De extends Me{constructor(te,se){super(),this.destination=te,this.source=se}next(te){var se,ye;null===(ye=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ye||ye.call(se,te)}error(te){var se,ye;null===(ye=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ye||ye.call(se,te)}complete(){var te,se;null===(se=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===se||se.call(te)}_subscribe(te){var se,ye;return null!==(ye=null===(se=this.source)||void 0===se?void 0:se.subscribe(te))&&void 0!==ye?ye:l.Lc}}},305:(Jt,Ke,U)=>{U.d(Ke,{Hp:()=>ft,Lv:()=>ye});var g=U(4674),l=U(7394),G=U(2653),Ie=U(3894),_e=U(2420);const Ae=$e("C",void 0,void 0);function $e(Fe,it,ze){return{kind:Fe,value:it,error:ze}}var te=U(7599),se=U(1441);class ye extends l.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,l.Nn)(it)&&it.add(this)):this.destination=qe}static create(it,ze,ct){return new ft(it,ze,ct)}next(it){this.isStopped?nn(function De(Fe){return $e("N",Fe,void 0)}(it),this):this._next(it)}error(it){this.isStopped?nn(function Me(Fe){return $e("E",void 0,Fe)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?nn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function rt(Fe,it){return st.call(Fe,it)}class mt{constructor(it){this.partialObserver=it}next(it){const{partialObserver:ze}=this;if(ze.next)try{ze.next(it)}catch(ct){wt(ct)}}error(it){const{partialObserver:ze}=this;if(ze.error)try{ze.error(it)}catch(ct){wt(ct)}else wt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(ze){wt(ze)}}}class ft extends ye{constructor(it,ze,ct){let At;if(super(),(0,g.m)(it)||!it)At={next:it??void 0,error:ze??void 0,complete:ct??void 0};else{let kt;this&&G.config.useDeprecatedNextContext?(kt=Object.create(it),kt.unsubscribe=()=>this.unsubscribe(),At={next:it.next&&rt(it.next,kt),error:it.error&&rt(it.error,kt),complete:it.complete&&rt(it.complete,kt)}):At=it}this.destination=new mt(At)}}function wt(Fe){G.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(Fe):(0,Ie.h)(Fe)}function nn(Fe,it){const{onStoppedNotification:ze}=G.config;ze&&te.z.setTimeout(()=>ze(Fe,it))}const qe={closed:!0,next:_e.Z,error:function Et(Fe){throw Fe},complete:_e.Z}},7394:(Jt,Ke,U)=>{U.d(Ke,{Lc:()=>Ae,w0:()=>_e,Nn:()=>Me});var g=U(4674);const G=(0,U(2306).d)($e=>function(se){$e(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ye,st)=>`${st+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Ie=U(9039);class _e{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const rt of se)rt.remove(this);else se.remove(this);const{initialTeardown:ye}=this;if((0,g.m)(ye))try{ye()}catch(rt){te=rt instanceof G?rt.errors:[rt]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const rt of st)try{De(rt)}catch(mt){te=te??[],mt instanceof G?te=[...te,...mt.errors]:te.push(mt)}}if(te)throw new G(te)}}add(te){var se;if(te&&te!==this)if(this.closed)De(te);else{if(te instanceof _e){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(te)}}_hasParent(te){const{_parentage:se}=this;return se===te||Array.isArray(se)&&se.includes(te)}_addParent(te){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(te),se):se?[se,te]:te}_removeParent(te){const{_parentage:se}=this;se===te?this._parentage=null:Array.isArray(se)&&(0,Ie.P)(se,te)}remove(te){const{_finalizers:se}=this;se&&(0,Ie.P)(se,te),te instanceof _e&&te._removeParent(this)}}_e.EMPTY=(()=>{const $e=new _e;return $e.closed=!0,$e})();const Ae=_e.EMPTY;function Me($e){return $e instanceof _e||$e&&"closed"in $e&&(0,g.m)($e.remove)&&(0,g.m)($e.add)&&(0,g.m)($e.unsubscribe)}function De($e){(0,g.m)($e)?$e():$e.unsubscribe()}},2653:(Jt,Ke,U)=>{U.d(Ke,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Jt,Ke,U)=>{U.d(Ke,{a:()=>te});var g=U(5592),l=U(7453),G=U(2459),Ie=U(2737),_e=U(7400),Ae=U(4564),Me=U(2714),De=U(8251),$e=U(7103);function te(...st){const rt=(0,Ae.yG)(st),mt=(0,Ae.jO)(st),{args:ft,keys:wt}=(0,l.D)(st);if(0===ft.length)return(0,G.D)([],rt);const Et=new g.y(function se(st,rt,mt=Ie.y){return ft=>{ye(rt,()=>{const{length:wt}=st,Et=new Array(wt);let nn=wt,qe=wt;for(let Fe=0;Fe<wt;Fe++)ye(rt,()=>{const it=(0,G.D)(st[Fe],rt);let ze=!1;it.subscribe((0,De.x)(ft,ct=>{Et[Fe]=ct,ze||(ze=!0,qe--),qe||ft.next(mt(Et.slice()))},()=>{--nn||ft.complete()}))},ft)},ft)}}(ft,rt,wt?nn=>(0,Me.n)(wt,nn):Ie.y));return mt?Et.pipe((0,_e.Z)(mt)):Et}function ye(st,rt,mt){st?(0,$e.f)(mt,st,rt):rt()}},5211:(Jt,Ke,U)=>{U.d(Ke,{z:()=>_e});var g=U(7537),G=U(4564),Ie=U(2459);function _e(...Ae){return function l(){return(0,g.J)(1)}()((0,Ie.D)(Ae,(0,G.yG)(Ae)))}},6232:(Jt,Ke,U)=>{U.d(Ke,{E:()=>l});const l=new(U(5592).y)(_e=>_e.complete())},9315:(Jt,Ke,U)=>{U.d(Ke,{D:()=>De});var g=U(5592),l=U(7453),G=U(4829),Ie=U(4564),_e=U(8251),Ae=U(7400),Me=U(2714);function De(...$e){const te=(0,Ie.jO)($e),{args:se,keys:ye}=(0,l.D)($e),st=new g.y(rt=>{const{length:mt}=se;if(!mt)return void rt.complete();const ft=new Array(mt);let wt=mt,Et=mt;for(let nn=0;nn<mt;nn++){let qe=!1;(0,G.Xf)(se[nn]).subscribe((0,_e.x)(rt,Fe=>{qe||(qe=!0,Et--),ft[nn]=Fe},()=>wt--,void 0,()=>{(!wt||!qe)&&(Et||rt.next(ye?(0,Me.n)(ye,ft):ft),rt.complete())}))}});return te?st.pipe((0,Ae.Z)(te)):st}},2459:(Jt,Ke,U)=>{U.d(Ke,{D:()=>it});var g=U(4829),l=U(3093),G=U(5137),Ae=U(5592),De=U(4971),$e=U(4674),te=U(7103);function ye(ze,ct){if(!ze)throw new Error("Iterable cannot be null");return new Ae.y(At=>{(0,te.f)(At,ct,()=>{const kt=ze[Symbol.asyncIterator]();(0,te.f)(At,ct,()=>{kt.next().then(ve=>{ve.done?At.complete():At.next(ve.value)})},0,!0)})})}var st=U(8382),rt=U(4026),mt=U(4266),ft=U(3664),wt=U(5726),Et=U(9853),nn=U(541);function it(ze,ct){return ct?function Fe(ze,ct){if(null!=ze){if((0,st.c)(ze))return function Ie(ze,ct){return(0,g.Xf)(ze).pipe((0,G.R)(ct),(0,l.Q)(ct))}(ze,ct);if((0,mt.z)(ze))return function Me(ze,ct){return new Ae.y(At=>{let kt=0;return ct.schedule(function(){kt===ze.length?At.complete():(At.next(ze[kt++]),At.closed||this.schedule())})})}(ze,ct);if((0,rt.t)(ze))return function _e(ze,ct){return(0,g.Xf)(ze).pipe((0,G.R)(ct),(0,l.Q)(ct))}(ze,ct);if((0,wt.D)(ze))return ye(ze,ct);if((0,ft.T)(ze))return function se(ze,ct){return new Ae.y(At=>{let kt;return(0,te.f)(At,ct,()=>{kt=ze[De.h](),(0,te.f)(At,ct,()=>{let ve,jt;try{({value:ve,done:jt}=kt.next())}catch(an){return void At.error(an)}jt?At.complete():At.next(ve)},0,!0)}),()=>(0,$e.m)(kt?.return)&&kt.return()})}(ze,ct);if((0,nn.L)(ze))return function qe(ze,ct){return ye((0,nn.Q)(ze),ct)}(ze,ct)}throw(0,Et.z)(ze)}(ze,ct):(0,g.Xf)(ze)}},4829:(Jt,Ke,U)=>{U.d(Ke,{Xf:()=>st});var g=U(7582),l=U(4266),G=U(4026),Ie=U(5592),_e=U(8382),Ae=U(5726),Me=U(9853),De=U(3664),$e=U(541),te=U(4674),se=U(3894),ye=U(4850);function st(Fe){if(Fe instanceof Ie.y)return Fe;if(null!=Fe){if((0,_e.c)(Fe))return function rt(Fe){return new Ie.y(it=>{const ze=Fe[ye.L]();if((0,te.m)(ze.subscribe))return ze.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,l.z)(Fe))return function mt(Fe){return new Ie.y(it=>{for(let ze=0;ze<Fe.length&&!it.closed;ze++)it.next(Fe[ze]);it.complete()})}(Fe);if((0,G.t)(Fe))return function ft(Fe){return new Ie.y(it=>{Fe.then(ze=>{it.closed||(it.next(ze),it.complete())},ze=>it.error(ze)).then(null,se.h)})}(Fe);if((0,Ae.D)(Fe))return Et(Fe);if((0,De.T)(Fe))return function wt(Fe){return new Ie.y(it=>{for(const ze of Fe)if(it.next(ze),it.closed)return;it.complete()})}(Fe);if((0,$e.L)(Fe))return function nn(Fe){return Et((0,$e.Q)(Fe))}(Fe)}throw(0,Me.z)(Fe)}function Et(Fe){return new Ie.y(it=>{(function qe(Fe,it){var ze,ct,At,kt;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ze=(0,g.KL)(Fe);!(ct=yield ze.next()).done;)if(it.next(ct.value),it.closed)return}catch(ve){At={error:ve}}finally{try{ct&&!ct.done&&(kt=ze.return)&&(yield kt.call(ze))}finally{if(At)throw At.error}}it.complete()})})(Fe,it).catch(ze=>it.error(ze))})}},3019:(Jt,Ke,U)=>{U.d(Ke,{T:()=>Ae});var g=U(7537),l=U(4829),G=U(6232),Ie=U(4564),_e=U(2459);function Ae(...Me){const De=(0,Ie.yG)(Me),$e=(0,Ie._6)(Me,1/0),te=Me;return te.length?1===te.length?(0,l.Xf)(te[0]):(0,g.J)($e)((0,_e.D)(te,De)):G.E}},2096:(Jt,Ke,U)=>{U.d(Ke,{of:()=>G});var g=U(4564),l=U(2459);function G(...Ie){const _e=(0,g.yG)(Ie);return(0,l.D)(Ie,_e)}},8504:(Jt,Ke,U)=>{U.d(Ke,{_:()=>G});var g=U(5592),l=U(4674);function G(Ie,_e){const Ae=(0,l.m)(Ie)?Ie:()=>Ie,Me=De=>De.error(Ae());return new g.y(_e?De=>_e.schedule(Me,0,De):Me)}},8251:(Jt,Ke,U)=>{U.d(Ke,{x:()=>l});var g=U(305);function l(Ie,_e,Ae,Me,De){return new G(Ie,_e,Ae,Me,De)}class G extends g.Lv{constructor(_e,Ae,Me,De,$e,te){super(_e),this.onFinalize=$e,this.shouldUnsubscribe=te,this._next=Ae?function(se){try{Ae(se)}catch(ye){_e.error(ye)}}:super._next,this._error=De?function(se){try{De(se)}catch(ye){_e.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(se){_e.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(Jt,Ke,U)=>{U.d(Ke,{K:()=>Ie});var g=U(4829),l=U(8251),G=U(9360);function Ie(_e){return(0,G.e)((Ae,Me)=>{let te,De=null,$e=!1;De=Ae.subscribe((0,l.x)(Me,void 0,void 0,se=>{te=(0,g.Xf)(_e(se,Ie(_e)(Ae))),De?(De.unsubscribe(),De=null,te.subscribe(Me)):$e=!0})),$e&&(De.unsubscribe(),De=null,te.subscribe(Me))})}},6328:(Jt,Ke,U)=>{U.d(Ke,{b:()=>G});var g=U(1631),l=U(4674);function G(Ie,_e){return(0,l.m)(_e)?(0,g.z)(Ie,_e,1):(0,g.z)(Ie,1)}},3572:(Jt,Ke,U)=>{U.d(Ke,{d:()=>G});var g=U(9360),l=U(8251);function G(Ie){return(0,g.e)((_e,Ae)=>{let Me=!1;_e.subscribe((0,l.x)(Ae,De=>{Me=!0,Ae.next(De)},()=>{Me||Ae.next(Ie),Ae.complete()}))})}},3997:(Jt,Ke,U)=>{U.d(Ke,{x:()=>Ie});var g=U(2737),l=U(9360),G=U(8251);function Ie(Ae,Me=g.y){return Ae=Ae??_e,(0,l.e)((De,$e)=>{let te,se=!0;De.subscribe((0,G.x)($e,ye=>{const st=Me(ye);(se||!Ae(te,st))&&(se=!1,te=st,$e.next(ye))}))})}function _e(Ae,Me){return Ae===Me}},2181:(Jt,Ke,U)=>{U.d(Ke,{h:()=>G});var g=U(9360),l=U(8251);function G(Ie,_e){return(0,g.e)((Ae,Me)=>{let De=0;Ae.subscribe((0,l.x)(Me,$e=>Ie.call(_e,$e,De++)&&Me.next($e)))})}},4716:(Jt,Ke,U)=>{U.d(Ke,{x:()=>l});var g=U(9360);function l(G){return(0,g.e)((Ie,_e)=>{try{Ie.subscribe(_e)}finally{_e.add(G)}})}},1374:(Jt,Ke,U)=>{U.d(Ke,{P:()=>Me});var g=U(6973),l=U(2181),G=U(8180),Ie=U(3572),_e=U(3026),Ae=U(2737);function Me(De,$e){const te=arguments.length>=2;return se=>se.pipe(De?(0,l.h)((ye,st)=>De(ye,st,se)):Ae.y,(0,G.q)(1),te?(0,Ie.d)($e):(0,_e.T)(()=>new g.K))}},7398:(Jt,Ke,U)=>{U.d(Ke,{U:()=>G});var g=U(9360),l=U(8251);function G(Ie,_e){return(0,g.e)((Ae,Me)=>{let De=0;Ae.subscribe((0,l.x)(Me,$e=>{Me.next(Ie.call(_e,$e,De++))}))})}},7537:(Jt,Ke,U)=>{U.d(Ke,{J:()=>G});var g=U(1631),l=U(2737);function G(Ie=1/0){return(0,g.z)(l.y,Ie)}},1631:(Jt,Ke,U)=>{U.d(Ke,{z:()=>De});var g=U(7398),l=U(4829),G=U(9360),Ie=U(7103),_e=U(8251),Me=U(4674);function De($e,te,se=1/0){return(0,Me.m)(te)?De((ye,st)=>(0,g.U)((rt,mt)=>te(ye,rt,st,mt))((0,l.Xf)($e(ye,st))),se):("number"==typeof te&&(se=te),(0,G.e)((ye,st)=>function Ae($e,te,se,ye,st,rt,mt,ft){const wt=[];let Et=0,nn=0,qe=!1;const Fe=()=>{qe&&!wt.length&&!Et&&te.complete()},it=ct=>Et<ye?ze(ct):wt.push(ct),ze=ct=>{rt&&te.next(ct),Et++;let At=!1;(0,l.Xf)(se(ct,nn++)).subscribe((0,_e.x)(te,kt=>{st?.(kt),rt?it(kt):te.next(kt)},()=>{At=!0},void 0,()=>{if(At)try{for(Et--;wt.length&&Et<ye;){const kt=wt.shift();mt?(0,Ie.f)(te,mt,()=>ze(kt)):ze(kt)}Fe()}catch(kt){te.error(kt)}}))};return $e.subscribe((0,_e.x)(te,it,()=>{qe=!0,Fe()})),()=>{ft?.()}}(ye,st,$e,se)))}},3093:(Jt,Ke,U)=>{U.d(Ke,{Q:()=>Ie});var g=U(7103),l=U(9360),G=U(8251);function Ie(_e,Ae=0){return(0,l.e)((Me,De)=>{Me.subscribe((0,G.x)(De,$e=>(0,g.f)(De,_e,()=>De.next($e),Ae),()=>(0,g.f)(De,_e,()=>De.complete(),Ae),$e=>(0,g.f)(De,_e,()=>De.error($e),Ae)))})}},6699:(Jt,Ke,U)=>{U.d(Ke,{R:()=>Ie});var g=U(9360),l=U(8251);function Ie(_e,Ae){return(0,g.e)(function G(_e,Ae,Me,De,$e){return(te,se)=>{let ye=Me,st=Ae,rt=0;te.subscribe((0,l.x)(se,mt=>{const ft=rt++;st=ye?_e(st,mt,ft):(ye=!0,mt),De&&se.next(st)},$e&&(()=>{ye&&se.next(st),se.complete()})))}}(_e,Ae,arguments.length>=2,!0))}},3020:(Jt,Ke,U)=>{U.d(Ke,{B:()=>_e});var g=U(4829),l=U(8645),G=U(305),Ie=U(9360);function _e(Me={}){const{connector:De=(()=>new l.x),resetOnError:$e=!0,resetOnComplete:te=!0,resetOnRefCountZero:se=!0}=Me;return ye=>{let st,rt,mt,ft=0,wt=!1,Et=!1;const nn=()=>{rt?.unsubscribe(),rt=void 0},qe=()=>{nn(),st=mt=void 0,wt=Et=!1},Fe=()=>{const it=st;qe(),it?.unsubscribe()};return(0,Ie.e)((it,ze)=>{ft++,!Et&&!wt&&nn();const ct=mt=mt??De();ze.add(()=>{ft--,0===ft&&!Et&&!wt&&(rt=Ae(Fe,se))}),ct.subscribe(ze),!st&&ft>0&&(st=new G.Hp({next:At=>ct.next(At),error:At=>{Et=!0,nn(),rt=Ae(qe,$e,At),ct.error(At)},complete:()=>{wt=!0,nn(),rt=Ae(qe,te),ct.complete()}}),(0,g.Xf)(it).subscribe(st))})(ye)}}function Ae(Me,De,...$e){if(!0===De)return void Me();if(!1===De)return;const te=new G.Hp({next:()=>{te.unsubscribe(),Me()}});return(0,g.Xf)(De(...$e)).subscribe(te)}},7921:(Jt,Ke,U)=>{U.d(Ke,{O:()=>Ie});var g=U(5211),l=U(4564),G=U(9360);function Ie(..._e){const Ae=(0,l.yG)(_e);return(0,G.e)((Me,De)=>{(Ae?(0,g.z)(_e,Me,Ae):(0,g.z)(_e,Me)).subscribe(De)})}},5137:(Jt,Ke,U)=>{U.d(Ke,{R:()=>l});var g=U(9360);function l(G,Ie=0){return(0,g.e)((_e,Ae)=>{Ae.add(G.schedule(()=>_e.subscribe(Ae),Ie))})}},4664:(Jt,Ke,U)=>{U.d(Ke,{w:()=>Ie});var g=U(4829),l=U(9360),G=U(8251);function Ie(_e,Ae){return(0,l.e)((Me,De)=>{let $e=null,te=0,se=!1;const ye=()=>se&&!$e&&De.complete();Me.subscribe((0,G.x)(De,st=>{$e?.unsubscribe();let rt=0;const mt=te++;(0,g.Xf)(_e(st,mt)).subscribe($e=(0,G.x)(De,ft=>De.next(Ae?Ae(st,ft,mt,rt++):ft),()=>{$e=null,ye()}))},()=>{se=!0,ye()}))})}},8180:(Jt,Ke,U)=>{U.d(Ke,{q:()=>Ie});var g=U(6232),l=U(9360),G=U(8251);function Ie(_e){return _e<=0?()=>g.E:(0,l.e)((Ae,Me)=>{let De=0;Ae.subscribe((0,G.x)(Me,$e=>{++De<=_e&&(Me.next($e),_e<=De&&Me.complete())}))})}},9773:(Jt,Ke,U)=>{U.d(Ke,{R:()=>_e});var g=U(9360),l=U(8251),G=U(4829),Ie=U(2420);function _e(Ae){return(0,g.e)((Me,De)=>{(0,G.Xf)(Ae).subscribe((0,l.x)(De,()=>De.complete(),Ie.Z)),!De.closed&&Me.subscribe(De)})}},9397:(Jt,Ke,U)=>{U.d(Ke,{b:()=>_e});var g=U(4674),l=U(9360),G=U(8251),Ie=U(2737);function _e(Ae,Me,De){const $e=(0,g.m)(Ae)||Me||De?{next:Ae,error:Me,complete:De}:Ae;return $e?(0,l.e)((te,se)=>{var ye;null===(ye=$e.subscribe)||void 0===ye||ye.call($e);let st=!0;te.subscribe((0,G.x)(se,rt=>{var mt;null===(mt=$e.next)||void 0===mt||mt.call($e,rt),se.next(rt)},()=>{var rt;st=!1,null===(rt=$e.complete)||void 0===rt||rt.call($e),se.complete()},rt=>{var mt;st=!1,null===(mt=$e.error)||void 0===mt||mt.call($e,rt),se.error(rt)},()=>{var rt,mt;st&&(null===(rt=$e.unsubscribe)||void 0===rt||rt.call($e)),null===(mt=$e.finalize)||void 0===mt||mt.call($e)}))}):Ie.y}},3026:(Jt,Ke,U)=>{U.d(Ke,{T:()=>Ie});var g=U(6973),l=U(9360),G=U(8251);function Ie(Ae=_e){return(0,l.e)((Me,De)=>{let $e=!1;Me.subscribe((0,G.x)(De,te=>{$e=!0,De.next(te)},()=>$e?De.complete():De.error(Ae())))})}function _e(){return new g.K}},1954:(Jt,Ke,U)=>{U.d(Ke,{o:()=>_e});var g=U(7394);class l extends g.w0{constructor(Me,De){super()}schedule(Me,De=0){return this}}const G={setInterval(Ae,Me,...De){const{delegate:$e}=G;return $e?.setInterval?$e.setInterval(Ae,Me,...De):setInterval(Ae,Me,...De)},clearInterval(Ae){const{delegate:Me}=G;return(Me?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Ie=U(9039);class _e extends l{constructor(Me,De){super(Me,De),this.scheduler=Me,this.work=De,this.pending=!1}schedule(Me,De=0){var $e;if(this.closed)return this;this.state=Me;const te=this.id,se=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(se,te,De)),this.pending=!0,this.delay=De,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(se,this.id,De),this}requestAsyncId(Me,De,$e=0){return G.setInterval(Me.flush.bind(Me,this),$e)}recycleAsyncId(Me,De,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return De;null!=De&&G.clearInterval(De)}execute(Me,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Me,De);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,De){let te,$e=!1;try{this.work(Me)}catch(se){$e=!0,te=se||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Me,scheduler:De}=this,{actions:$e}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)($e,this),null!=Me&&(this.id=this.recycleAsyncId(De,Me,null)),this.delay=null,super.unsubscribe()}}}},2631:(Jt,Ke,U)=>{U.d(Ke,{v:()=>G});var g=U(4552);class l{constructor(_e,Ae=l.now){this.schedulerActionCtor=_e,this.now=Ae}schedule(_e,Ae=0,Me){return new this.schedulerActionCtor(this,_e).schedule(Me,Ae)}}l.now=g.l.now;class G extends l{constructor(_e,Ae=l.now){super(_e,Ae),this.actions=[],this._active=!1}flush(_e){const{actions:Ae}=this;if(this._active)return void Ae.push(_e);let Me;this._active=!0;do{if(Me=_e.execute(_e.state,_e.delay))break}while(_e=Ae.shift());if(this._active=!1,Me){for(;_e=Ae.shift();)_e.unsubscribe();throw Me}}}},6321:(Jt,Ke,U)=>{U.d(Ke,{z:()=>G});var g=U(1954);const G=new(U(2631).v)(g.o)},4552:(Jt,Ke,U)=>{U.d(Ke,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Jt,Ke,U)=>{U.d(Ke,{z:()=>g});const g={setTimeout(l,G,...Ie){const{delegate:_e}=g;return _e?.setTimeout?_e.setTimeout(l,G,...Ie):setTimeout(l,G,...Ie)},clearTimeout(l){const{delegate:G}=g;return(G?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(Jt,Ke,U)=>{U.d(Ke,{h:()=>l});const l=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Jt,Ke,U)=>{U.d(Ke,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Jt,Ke,U)=>{U.d(Ke,{K:()=>l});const l=(0,U(2306).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Jt,Ke,U)=>{U.d(Ke,{_6:()=>Ae,jO:()=>Ie,yG:()=>_e});var g=U(4674);function G(Me){return Me[Me.length-1]}function Ie(Me){return(0,g.m)(G(Me))?Me.pop():void 0}function _e(Me){return function l(Me){return Me&&(0,g.m)(Me.schedule)}(G(Me))?Me.pop():void 0}function Ae(Me,De){return"number"==typeof G(Me)?Me.pop():De}},7453:(Jt,Ke,U)=>{U.d(Ke,{D:()=>_e});const{isArray:g}=Array,{getPrototypeOf:l,prototype:G,keys:Ie}=Object;function _e(Me){if(1===Me.length){const De=Me[0];if(g(De))return{args:De,keys:null};if(function Ae(Me){return Me&&"object"==typeof Me&&l(Me)===G}(De)){const $e=Ie(De);return{args:$e.map(te=>De[te]),keys:$e}}}return{args:Me,keys:null}}},9039:(Jt,Ke,U)=>{function g(l,G){if(l){const Ie=l.indexOf(G);0<=Ie&&l.splice(Ie,1)}}U.d(Ke,{P:()=>g})},2306:(Jt,Ke,U)=>{function g(l){const Ie=l(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}U.d(Ke,{d:()=>g})},2714:(Jt,Ke,U)=>{function g(l,G){return l.reduce((Ie,_e,Ae)=>(Ie[_e]=G[Ae],Ie),{})}U.d(Ke,{n:()=>g})},1441:(Jt,Ke,U)=>{U.d(Ke,{O:()=>Ie,x:()=>G});var g=U(2653);let l=null;function G(_e){if(g.config.useDeprecatedSynchronousErrorHandling){const Ae=!l;if(Ae&&(l={errorThrown:!1,error:null}),_e(),Ae){const{errorThrown:Me,error:De}=l;if(l=null,Me)throw De}}else _e()}function Ie(_e){g.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=_e)}},7103:(Jt,Ke,U)=>{function g(l,G,Ie,_e=0,Ae=!1){const Me=G.schedule(function(){Ie(),Ae?l.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(l.add(Me),!Ae)return Me}U.d(Ke,{f:()=>g})},2737:(Jt,Ke,U)=>{function g(l){return l}U.d(Ke,{y:()=>g})},4266:(Jt,Ke,U)=>{U.d(Ke,{z:()=>g});const g=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(Jt,Ke,U)=>{U.d(Ke,{D:()=>l});var g=U(4674);function l(G){return Symbol.asyncIterator&&(0,g.m)(G?.[Symbol.asyncIterator])}},4674:(Jt,Ke,U)=>{function g(l){return"function"==typeof l}U.d(Ke,{m:()=>g})},8382:(Jt,Ke,U)=>{U.d(Ke,{c:()=>G});var g=U(4850),l=U(4674);function G(Ie){return(0,l.m)(Ie[g.L])}},3664:(Jt,Ke,U)=>{U.d(Ke,{T:()=>G});var g=U(4971),l=U(4674);function G(Ie){return(0,l.m)(Ie?.[g.h])}},4026:(Jt,Ke,U)=>{U.d(Ke,{t:()=>l});var g=U(4674);function l(G){return(0,g.m)(G?.then)}},541:(Jt,Ke,U)=>{U.d(Ke,{L:()=>Ie,Q:()=>G});var g=U(7582),l=U(4674);function G(_e){return(0,g.FC)(this,arguments,function*(){const Me=_e.getReader();try{for(;;){const{value:De,done:$e}=yield(0,g.qq)(Me.read());if($e)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(De)}}finally{Me.releaseLock()}})}function Ie(_e){return(0,l.m)(_e?.getReader)}},9360:(Jt,Ke,U)=>{U.d(Ke,{A:()=>l,e:()=>G});var g=U(4674);function l(Ie){return(0,g.m)(Ie?.lift)}function G(Ie){return _e=>{if(l(_e))return _e.lift(function(Ae){try{return Ie(Ae,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Jt,Ke,U)=>{U.d(Ke,{Z:()=>Ie});var g=U(7398);const{isArray:l}=Array;function Ie(_e){return(0,g.U)(Ae=>function G(_e,Ae){return l(Ae)?_e(...Ae):_e(Ae)}(_e,Ae))}},2420:(Jt,Ke,U)=>{function g(){}U.d(Ke,{Z:()=>g})},8407:(Jt,Ke,U)=>{U.d(Ke,{U:()=>G,z:()=>l});var g=U(2737);function l(...Ie){return G(Ie)}function G(Ie){return 0===Ie.length?g.y:1===Ie.length?Ie[0]:function(Ae){return Ie.reduce((Me,De)=>De(Me),Ae)}}},3894:(Jt,Ke,U)=>{U.d(Ke,{h:()=>G});var g=U(2653),l=U(7599);function G(Ie){l.z.setTimeout(()=>{const{onUnhandledError:_e}=g.config;if(!_e)throw Ie;_e(Ie)})}},9853:(Jt,Ke,U)=>{function g(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ke,{z:()=>g})},6814:(Jt,Ke,U)=>{U.d(Ke,{Do:()=>ft,EM:()=>Si,HT:()=>Ie,JF:()=>js,K0:()=>Ae,Mx:()=>wn,NF:()=>hs,O5:()=>Ji,Ov:()=>gi,PM:()=>kr,S$:()=>st,Ts:()=>Hi,V_:()=>De,Ye:()=>wt,b0:()=>mt,bD:()=>Ar,ez:()=>us,mk:()=>Ln,q:()=>G,sg:()=>rr,uU:()=>ni,w_:()=>_e});var g=U(5879);let l=null;function G(){return l}function Ie(P){l||(l=P)}class _e{}const Ae=new g.OlP("DocumentToken");let Me=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)($e)},providedIn:"platform"})}return P})();const De=new g.OlP("Location Initialized");let $e=(()=>{class P extends Me{constructor(){super(),this._doc=(0,g.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(j){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",j,!1),()=>J.removeEventListener("popstate",j)}onHashChange(j){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",j,!1),()=>J.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,J,Te){this._history.pushState(j,J,Te)}replaceState(j,J,Te){this._history.replaceState(j,J,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return new P},providedIn:"platform"})}return P})();function te(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function se(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function ye(P){return P&&"?"!==P[0]?"?"+P:P}let st=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(mt)},providedIn:"root"})}return P})();const rt=new g.OlP("appBaseHref");let mt=(()=>{class P extends st{constructor(j,J){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return te(this._baseHref,j)}path(j=!1){const J=this._platformLocation.pathname+ye(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&j?`${J}${Te}`:J}pushState(j,J,Te,_t){const Mt=this.prepareExternalUrl(Te+ye(_t));this._platformLocation.pushState(j,J,Mt)}replaceState(j,J,Te,_t){const Mt=this.prepareExternalUrl(Te+ye(_t));this._platformLocation.replaceState(j,J,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(J){return new(J||P)(g.LFG(Me),g.LFG(rt,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),ft=(()=>{class P extends st{constructor(j,J){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(j){const J=te(this._baseHref,j);return J.length>0?"#"+J:J}pushState(j,J,Te,_t){let Mt=this.prepareExternalUrl(Te+ye(_t));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(j,J,Mt)}replaceState(j,J,Te,_t){let Mt=this.prepareExternalUrl(Te+ye(_t));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(j,J,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(J){return new(J||P)(g.LFG(Me),g.LFG(rt,8))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac})}return P})(),wt=(()=>{class P{constructor(j){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const J=this._locationStrategy.getBaseHref();this._basePath=function Fe(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(se(qe(J))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,J=""){return this.path()==this.normalize(j+ye(J))}normalize(j){return P.stripTrailingSlash(function nn(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,qe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,J="",Te=null){this._locationStrategy.pushState(Te,"",j,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ye(J)),Te)}replaceState(j,J="",Te=null){this._locationStrategy.replaceState(Te,"",j,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ye(J)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)})),()=>{const J=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",J){this._urlChangeListeners.forEach(Te=>Te(j,J))}subscribe(j,J,Te){return this._subject.subscribe({next:j,error:J,complete:Te})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(J){return new(J||P)(g.LFG(st))};static#i=this.\u0275prov=g.Yz7({token:P,factory:function(){return function Et(){return new wt((0,g.LFG)(st))}()},providedIn:"root"})}return P})();function qe(P){return P.replace(/\/index.html$/,"")}var At=function(P){return P[P.Format=0]="Format",P[P.Standalone=1]="Standalone",P}(At||{}),kt=function(P){return P[P.Narrow=0]="Narrow",P[P.Abbreviated=1]="Abbreviated",P[P.Wide=2]="Wide",P[P.Short=3]="Short",P}(kt||{}),ve=function(P){return P[P.Short=0]="Short",P[P.Medium=1]="Medium",P[P.Long=2]="Long",P[P.Full=3]="Full",P}(ve||{}),jt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(jt||{});function ke(P,ne){return ar((0,g.cg1)(P)[g.wAp.DateFormat],ne)}function Je(P,ne){return ar((0,g.cg1)(P)[g.wAp.TimeFormat],ne)}function Xe(P,ne){return ar((0,g.cg1)(P)[g.wAp.DateTimeFormat],ne)}function ut(P,ne){const j=(0,g.cg1)(P),J=j[g.wAp.NumberSymbols][ne];if(typeof J>"u"){if(ne===jt.CurrencyDecimal)return j[g.wAp.NumberSymbols][jt.Decimal];if(ne===jt.CurrencyGroup)return j[g.wAp.NumberSymbols][jt.Group]}return J}function Cn(P){if(!P[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ar(P,ne){for(let j=ne;j>-1;j--)if(typeof P[j]<"u")return P[j];throw new Error("Locale data API: locale data undefined")}function Gn(P){const[ne,j]=P.split(":");return{hours:+ne,minutes:+j}}const Dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qn={},Vt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=function(P){return P[P.Short=0]="Short",P[P.ShortGMT=1]="ShortGMT",P[P.Long=2]="Long",P[P.Extended=3]="Extended",P}(Tn||{}),xn=function(P){return P[P.FullYear=0]="FullYear",P[P.Month=1]="Month",P[P.Date=2]="Date",P[P.Hours=3]="Hours",P[P.Minutes=4]="Minutes",P[P.Seconds=5]="Seconds",P[P.FractionalSeconds=6]="FractionalSeconds",P[P.Day=7]="Day",P}(xn||{}),On=function(P){return P[P.DayPeriods=0]="DayPeriods",P[P.Days=1]="Days",P[P.Months=2]="Months",P[P.Eras=3]="Eras",P}(On||{});function vr(P,ne,j,J){let Te=function re(P){if(H(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Te,_t=1,Mt=1]=P.split("-").map(_n=>+_n);return Er(Te,_t-1,Mt)}const j=parseFloat(P);if(!isNaN(P-j))return new Date(j);let J;if(J=P.match(Dr))return function q(P){const ne=new Date(0);let j=0,J=0;const Te=P[8]?ne.setUTCFullYear:ne.setFullYear,_t=P[8]?ne.setUTCHours:ne.setHours;P[9]&&(j=Number(P[9]+P[10]),J=Number(P[9]+P[11])),Te.call(ne,Number(P[1]),Number(P[2])-1,Number(P[3]));const Mt=Number(P[4]||0)-j,_n=Number(P[5]||0)-J,Rr=Number(P[6]||0),Gr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return _t.call(ne,Mt,_n,Rr,Gr),ne}(J)}const ne=new Date(P);if(!H(ne))throw new Error(`Unable to convert "${P}" into a date`);return ne}(P);ne=Fn(j,ne)||ne;let _n,Mt=[];for(;ne;){if(_n=Vt.exec(ne),!_n){Mt.push(ne);break}{Mt=Mt.concat(_n.slice(1));const Br=Mt.pop();if(!Br)break;ne=Br}}let Rr=Te.getTimezoneOffset();J&&(Rr=ci(J,Rr),Te=function xe(P,ne,j){const J=j?-1:1,Te=P.getTimezoneOffset();return function Ir(P,ne){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ne),P}(P,J*(ci(ne,Te)-Te))}(Te,J,!0));let Gr="";return Mt.forEach(Br=>{const pr=function Nn(P){if(zt[P])return zt[P];let ne;switch(P){case"G":case"GG":case"GGG":ne=nr(On.Eras,kt.Abbreviated);break;case"GGGG":ne=nr(On.Eras,kt.Wide);break;case"GGGGG":ne=nr(On.Eras,kt.Narrow);break;case"y":ne=rn(xn.FullYear,1,0,!1,!0);break;case"yy":ne=rn(xn.FullYear,2,0,!0,!0);break;case"yyy":ne=rn(xn.FullYear,3,0,!1,!0);break;case"yyyy":ne=rn(xn.FullYear,4,0,!1,!0);break;case"Y":ne=yt(1);break;case"YY":ne=yt(2,!0);break;case"YYY":ne=yt(3);break;case"YYYY":ne=yt(4);break;case"M":case"L":ne=rn(xn.Month,1,1);break;case"MM":case"LL":ne=rn(xn.Month,2,1);break;case"MMM":ne=nr(On.Months,kt.Abbreviated);break;case"MMMM":ne=nr(On.Months,kt.Wide);break;case"MMMMM":ne=nr(On.Months,kt.Narrow);break;case"LLL":ne=nr(On.Months,kt.Abbreviated,At.Standalone);break;case"LLLL":ne=nr(On.Months,kt.Wide,At.Standalone);break;case"LLLLL":ne=nr(On.Months,kt.Narrow,At.Standalone);break;case"w":ne=be(1);break;case"ww":ne=be(2);break;case"W":ne=be(1,!0);break;case"d":ne=rn(xn.Date,1);break;case"dd":ne=rn(xn.Date,2);break;case"c":case"cc":ne=rn(xn.Day,1);break;case"ccc":ne=nr(On.Days,kt.Abbreviated,At.Standalone);break;case"cccc":ne=nr(On.Days,kt.Wide,At.Standalone);break;case"ccccc":ne=nr(On.Days,kt.Narrow,At.Standalone);break;case"cccccc":ne=nr(On.Days,kt.Short,At.Standalone);break;case"E":case"EE":case"EEE":ne=nr(On.Days,kt.Abbreviated);break;case"EEEE":ne=nr(On.Days,kt.Wide);break;case"EEEEE":ne=nr(On.Days,kt.Narrow);break;case"EEEEEE":ne=nr(On.Days,kt.Short);break;case"a":case"aa":case"aaa":ne=nr(On.DayPeriods,kt.Abbreviated);break;case"aaaa":ne=nr(On.DayPeriods,kt.Wide);break;case"aaaaa":ne=nr(On.DayPeriods,kt.Narrow);break;case"b":case"bb":case"bbb":ne=nr(On.DayPeriods,kt.Abbreviated,At.Standalone,!0);break;case"bbbb":ne=nr(On.DayPeriods,kt.Wide,At.Standalone,!0);break;case"bbbbb":ne=nr(On.DayPeriods,kt.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":ne=nr(On.DayPeriods,kt.Abbreviated,At.Format,!0);break;case"BBBB":ne=nr(On.DayPeriods,kt.Wide,At.Format,!0);break;case"BBBBB":ne=nr(On.DayPeriods,kt.Narrow,At.Format,!0);break;case"h":ne=rn(xn.Hours,1,-12);break;case"hh":ne=rn(xn.Hours,2,-12);break;case"H":ne=rn(xn.Hours,1);break;case"HH":ne=rn(xn.Hours,2);break;case"m":ne=rn(xn.Minutes,1);break;case"mm":ne=rn(xn.Minutes,2);break;case"s":ne=rn(xn.Seconds,1);break;case"ss":ne=rn(xn.Seconds,2);break;case"S":ne=rn(xn.FractionalSeconds,1);break;case"SS":ne=rn(xn.FractionalSeconds,2);break;case"SSS":ne=rn(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Cr(Tn.Short);break;case"ZZZZZ":ne=Cr(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Cr(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Cr(Tn.Long);break;default:return null}return zt[P]=ne,ne}(Br);Gr+=pr?pr(Te,j,Rr):"''"===Br?"'":Br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gr}function Er(P,ne,j){const J=new Date(0);return J.setFullYear(P,ne,j),J.setHours(0,0,0),J}function Fn(P,ne){const j=function hr(P){return(0,g.cg1)(P)[g.wAp.LocaleId]}(P);if(Qn[j]=Qn[j]||{},Qn[j][ne])return Qn[j][ne];let J="";switch(ne){case"shortDate":J=ke(P,ve.Short);break;case"mediumDate":J=ke(P,ve.Medium);break;case"longDate":J=ke(P,ve.Long);break;case"fullDate":J=ke(P,ve.Full);break;case"shortTime":J=Je(P,ve.Short);break;case"mediumTime":J=Je(P,ve.Medium);break;case"longTime":J=Je(P,ve.Long);break;case"fullTime":J=Je(P,ve.Full);break;case"short":const Te=Fn(P,"shortTime"),_t=Fn(P,"shortDate");J=$n(Xe(P,ve.Short),[Te,_t]);break;case"medium":const Mt=Fn(P,"mediumTime"),_n=Fn(P,"mediumDate");J=$n(Xe(P,ve.Medium),[Mt,_n]);break;case"long":const Rr=Fn(P,"longTime"),Gr=Fn(P,"longDate");J=$n(Xe(P,ve.Long),[Rr,Gr]);break;case"full":const Br=Fn(P,"fullTime"),pr=Fn(P,"fullDate");J=$n(Xe(P,ve.Full),[Br,pr])}return J&&(Qn[j][ne]=J),J}function $n(P,ne){return ne&&(P=P.replace(/\{([^}]+)}/g,function(j,J){return null!=ne&&J in ne?ne[J]:j})),P}function Hr(P,ne,j="-",J,Te){let _t="";(P<0||Te&&P<=0)&&(Te?P=1-P:(P=-P,_t=j));let Mt=String(P);for(;Mt.length<ne;)Mt="0"+Mt;return J&&(Mt=Mt.slice(Mt.length-ne)),_t+Mt}function rn(P,ne,j=0,J=!1,Te=!1){return function(_t,Mt){let _n=function pi(P,ne){switch(P){case xn.FullYear:return ne.getFullYear();case xn.Month:return ne.getMonth();case xn.Date:return ne.getDate();case xn.Hours:return ne.getHours();case xn.Minutes:return ne.getMinutes();case xn.Seconds:return ne.getSeconds();case xn.FractionalSeconds:return ne.getMilliseconds();case xn.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,_t);if((j>0||_n>-j)&&(_n+=j),P===xn.Hours)0===_n&&-12===j&&(_n=12);else if(P===xn.FractionalSeconds)return function fi(P,ne){return Hr(P,3).substring(0,ne)}(_n,ne);const Rr=ut(Mt,jt.MinusSign);return Hr(_n,ne,Rr,J,Te)}}function nr(P,ne,j=At.Format,J=!1){return function(Te,_t){return function Sr(P,ne,j,J,Te,_t){switch(j){case On.Months:return function cn(P,ne,j){const J=(0,g.cg1)(P),_t=ar([J[g.wAp.MonthsFormat],J[g.wAp.MonthsStandalone]],ne);return ar(_t,j)}(ne,Te,J)[P.getMonth()];case On.Days:return function qt(P,ne,j){const J=(0,g.cg1)(P),_t=ar([J[g.wAp.DaysFormat],J[g.wAp.DaysStandalone]],ne);return ar(_t,j)}(ne,Te,J)[P.getDay()];case On.DayPeriods:const Mt=P.getHours(),_n=P.getMinutes();if(_t){const Gr=function Mn(P){const ne=(0,g.cg1)(P);return Cn(ne),(ne[g.wAp.ExtraData][2]||[]).map(J=>"string"==typeof J?Gn(J):[Gn(J[0]),Gn(J[1])])}(ne),Br=function Wt(P,ne,j){const J=(0,g.cg1)(P);Cn(J);const _t=ar([J[g.wAp.ExtraData][0],J[g.wAp.ExtraData][1]],ne)||[];return ar(_t,j)||[]}(ne,Te,J),pr=Gr.findIndex(Yr=>{if(Array.isArray(Yr)){const[Fr,Ri]=Yr,ss=Mt>=Fr.hours&&_n>=Fr.minutes,Ki=Mt<Ri.hours||Mt===Ri.hours&&_n<Ri.minutes;if(Fr.hours<Ri.hours){if(ss&&Ki)return!0}else if(ss||Ki)return!0}else if(Yr.hours===Mt&&Yr.minutes===_n)return!0;return!1});if(-1!==pr)return Br[pr]}return function Rt(P,ne,j){const J=(0,g.cg1)(P),_t=ar([J[g.wAp.DayPeriodsFormat],J[g.wAp.DayPeriodsStandalone]],ne);return ar(_t,j)}(ne,Te,J)[Mt<12?0:1];case On.Eras:return function lt(P,ne){return ar((0,g.cg1)(P)[g.wAp.Eras],ne)}(ne,J)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Te,_t,P,ne,j,J)}}function Cr(P){return function(ne,j,J){const Te=-1*J,_t=ut(j,jt.MinusSign),Mt=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(P){case Tn.Short:return(Te>=0?"+":"")+Hr(Mt,2,_t)+Hr(Math.abs(Te%60),2,_t);case Tn.ShortGMT:return"GMT"+(Te>=0?"+":"")+Hr(Mt,1,_t);case Tn.Long:return"GMT"+(Te>=0?"+":"")+Hr(Mt,2,_t)+":"+Hr(Math.abs(Te%60),2,_t);case Tn.Extended:return 0===J?"Z":(Te>=0?"+":"")+Hr(Mt,2,_t)+":"+Hr(Math.abs(Te%60),2,_t);default:throw new Error(`Unknown zone width "${P}"`)}}}const Jr=0,He=4;function ae(P){return Er(P.getFullYear(),P.getMonth(),P.getDate()+(He-P.getDay()))}function be(P,ne=!1){return function(j,J){let Te;if(ne){const _t=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,Mt=j.getDate();Te=1+Math.floor((Mt+_t)/7)}else{const _t=ae(j),Mt=function vt(P){const ne=Er(P,Jr,1).getDay();return Er(P,0,1+(ne<=He?He:He+7)-ne)}(_t.getFullYear()),_n=_t.getTime()-Mt.getTime();Te=1+Math.round(_n/6048e5)}return Hr(Te,P,ut(J,jt.MinusSign))}}function yt(P,ne=!1){return function(j,J){return Hr(ae(j).getFullYear(),P,ut(J,jt.MinusSign),ne)}}const zt={};function ci(P,ne){P=P.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(j)?ne:j}function H(P){return P instanceof Date&&!isNaN(P.valueOf())}function wn(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const J=j.indexOf("="),[Te,_t]=-1==J?[j,""]:[j.slice(0,J),j.slice(J+1)];if(Te.trim()===ne)return decodeURIComponent(_t)}return null}const Sn=/\s+/,yn=[];let Ln=(()=>{class P{constructor(j,J,Te,_t){this._iterableDiffers=j,this._keyValueDiffers=J,this._ngEl=Te,this._renderer=_t,this.initialClasses=yn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Sn):yn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Sn):j}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const J of j)this._updateState(J,!0);else if(null!=j)for(const J of Object.keys(j))this._updateState(J,!!j[J]);this._applyStateDiff()}_updateState(j,J){const Te=this.stateMap.get(j);void 0!==Te?(Te.enabled!==J&&(Te.changed=!0,Te.enabled=J),Te.touched=!0):this.stateMap.set(j,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const J=j[0],Te=j[1];Te.changed?(this._toggleClass(J,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),Te.touched=!1}}_toggleClass(j,J){(j=j.trim()).length>0&&j.split(Sn).forEach(Te=>{J?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return P})();class Wr{constructor(ne,j,J,Te){this.$implicit=ne,this.ngForOf=j,this.index=J,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,J,Te){this._viewContainer=j,this._template=J,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const J=this._viewContainer;j.forEachOperation((Te,_t,Mt)=>{if(null==Te.previousIndex)J.createEmbeddedView(this._template,new Wr(Te.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)J.remove(null===_t?void 0:_t);else if(null!==_t){const _n=J.get(_t);J.move(_n,Mt),Ii(_n,Te)}});for(let Te=0,_t=J.length;Te<_t;Te++){const _n=J.get(Te).context;_n.index=Te,_n.count=_t,_n.ngForOf=this._ngForOf}j.forEachIdentityChange(Te=>{Ii(J.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(j,J){return!0}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return P})();function Ii(P,ne){P.context.$implicit=ne.item}let Ji=(()=>{class P{constructor(j,J){this._viewContainer=j,this._context=new Vr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Do("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Do("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,J){return!0}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return P})();class Vr{constructor(){this.$implicit=null,this.ngIf=null}}function Do(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(ne)}'.`)}function Xi(P,ne){return new g.vHH(2100,!1)}class Aa{createSubscription(ne,j){return(0,g.rg0)(()=>ne.subscribe({next:j,error:J=>{throw J}}))}dispose(ne){(0,g.rg0)(()=>ne.unsubscribe())}}class Ei{createSubscription(ne,j){return ne.then(j,J=>{throw J})}dispose(ne){}}const Da=new Ei,Is=new Aa;let gi=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,J=>this._updateLatestValue(j,J))}_selectStrategy(j){if((0,g.QGY)(j))return Da;if((0,g.F4k)(j))return Is;throw Xi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,J){j===this._obj&&(this._latestValue=J,this._ref.markForCheck())}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.sBO,16))};static#t=this.\u0275pipe=g.Yjl({name:"async",type:P,pure:!1,standalone:!0})}return P})();const Un=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ur=new g.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ni=(()=>{class P{constructor(j,J,Te){this.locale=j,this.defaultTimezone=J,this.defaultOptions=Te}transform(j,J,Te,_t){if(null==j||""===j||j!=j)return null;try{return vr(j,J??this.defaultOptions?.dateFormat??"mediumDate",_t||this.locale,Te??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Mt){throw Xi()}}static#e=this.\u0275fac=function(J){return new(J||P)(g.Y36(g.soG,16),g.Y36(Un,24),g.Y36(Ur,24))};static#t=this.\u0275pipe=g.Yjl({name:"date",type:P,pure:!0,standalone:!0})}return P})(),Hi=(()=>{class P{transform(j){return JSON.stringify(j,null,2)}static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275pipe=g.Yjl({name:"json",type:P,pure:!1,standalone:!0})}return P})(),us=(()=>{class P{static#e=this.\u0275fac=function(J){return new(J||P)};static#t=this.\u0275mod=g.oAB({type:P});static#n=this.\u0275inj=g.cJS({})}return P})();const Ar="browser",ds="server";function hs(P){return P===Ar}function kr(P){return P===ds}let Si=(()=>{class P{static#e=this.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new ps((0,g.LFG)(Ae),window)})}return P})();class ps{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function Ms(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const J=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Te=J.currentNode;for(;Te;){const _t=Te.shadowRoot;if(_t){const Mt=_t.getElementById(ne)||_t.querySelector(`[name="${ne}"]`);if(Mt)return Mt}Te=J.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),J=j.left+this.window.pageXOffset,Te=j.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(J-_t[0],Te-_t[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class js{}},9862:(Jt,Ke,U)=>{U.d(Ke,{JF:()=>B,eN:()=>fe});var g=U(5879),l=U(2096),G=U(2459),Ie=U(5592),_e=U(6328),Ae=U(2181),Me=U(7398),De=U(4716),$e=U(4664),te=U(6814);class se{}class ye{}class st{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?"string"==typeof we?this.lazyInit=()=>{this.headers=new Map,we.split("\n").forEach(Ve=>{const St=Ve.indexOf(":");if(St>0){const Ut=Ve.slice(0,St),un=Ut.toLowerCase(),Qt=Ve.slice(St+1).trim();this.maybeSetNormalizedName(Ut,un),this.headers.has(un)?this.headers.get(un).push(Qt):this.headers.set(un,[Qt])}})}:typeof Headers<"u"&&we instanceof Headers?(this.headers=new Map,we.forEach((Ve,St)=>{this.setHeaderEntries(St,Ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(we).forEach(([Ve,St])=>{this.setHeaderEntries(Ve,St)})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const Ve=this.headers.get(we.toLowerCase());return Ve&&Ve.length>0?Ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,Ve){return this.clone({name:we,value:Ve,op:"a"})}set(we,Ve){return this.clone({name:we,value:Ve,op:"s"})}delete(we,Ve){return this.clone({name:we,value:Ve,op:"d"})}maybeSetNormalizedName(we,Ve){this.normalizedNames.has(Ve)||this.normalizedNames.set(Ve,we)}init(){this.lazyInit&&(this.lazyInit instanceof st?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(Ve=>{this.headers.set(Ve,we.headers.get(Ve)),this.normalizedNames.set(Ve,we.normalizedNames.get(Ve))})}clone(we){const Ve=new st;return Ve.lazyInit=this.lazyInit&&this.lazyInit instanceof st?this.lazyInit:this,Ve.lazyUpdate=(this.lazyUpdate||[]).concat([we]),Ve}applyUpdate(we){const Ve=we.name.toLowerCase();switch(we.op){case"a":case"s":let St=we.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(we.name,Ve);const Ut=("a"===we.op?this.headers.get(Ve):void 0)||[];Ut.push(...St),this.headers.set(Ve,Ut);break;case"d":const un=we.value;if(un){let Qt=this.headers.get(Ve);if(!Qt)return;Qt=Qt.filter(cr=>-1===un.indexOf(cr)),0===Qt.length?(this.headers.delete(Ve),this.normalizedNames.delete(Ve)):this.headers.set(Ve,Qt)}else this.headers.delete(Ve),this.normalizedNames.delete(Ve)}}setHeaderEntries(we,Ve){const St=(Array.isArray(Ve)?Ve:[Ve]).map(un=>un.toString()),Ut=we.toLowerCase();this.headers.set(Ut,St),this.maybeSetNormalizedName(we,Ut)}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ve=>we(this.normalizedNames.get(Ve),this.headers.get(Ve)))}}class mt{encodeKey(we){return nn(we)}encodeValue(we){return nn(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const wt=/%(\d[a-f0-9])/gi,Et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nn(Oe){return encodeURIComponent(Oe).replace(wt,(we,Ve)=>Et[Ve]??we)}function qe(Oe){return`${Oe}`}class Fe{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new mt,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ft(Oe,we){const Ve=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(Ut=>{const un=Ut.indexOf("="),[Qt,cr]=-1==un?[we.decodeKey(Ut),""]:[we.decodeKey(Ut.slice(0,un)),we.decodeValue(Ut.slice(un+1))],dn=Ve.get(Qt)||[];dn.push(cr),Ve.set(Qt,dn)}),Ve}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(Ve=>{const St=we.fromObject[Ve],Ut=Array.isArray(St)?St.map(qe):[qe(St)];this.map.set(Ve,Ut)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const Ve=this.map.get(we);return Ve?Ve[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,Ve){return this.clone({param:we,value:Ve,op:"a"})}appendAll(we){const Ve=[];return Object.keys(we).forEach(St=>{const Ut=we[St];Array.isArray(Ut)?Ut.forEach(un=>{Ve.push({param:St,value:un,op:"a"})}):Ve.push({param:St,value:Ut,op:"a"})}),this.clone(Ve)}set(we,Ve){return this.clone({param:we,value:Ve,op:"s"})}delete(we,Ve){return this.clone({param:we,value:Ve,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const Ve=this.encoder.encodeKey(we);return this.map.get(we).map(St=>Ve+"="+this.encoder.encodeValue(St)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const Ve=new Fe({encoder:this.encoder});return Ve.cloneFrom=this.cloneFrom||this,Ve.updates=(this.updates||[]).concat(we),Ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const Ve=("a"===we.op?this.map.get(we.param):void 0)||[];Ve.push(qe(we.value)),this.map.set(we.param,Ve);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let St=this.map.get(we.param)||[];const Ut=St.indexOf(qe(we.value));-1!==Ut&&St.splice(Ut,1),St.length>0?this.map.set(we.param,St):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class ze{constructor(){this.map=new Map}set(we,Ve){return this.map.set(we,Ve),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function At(Oe){return typeof ArrayBuffer<"u"&&Oe instanceof ArrayBuffer}function kt(Oe){return typeof Blob<"u"&&Oe instanceof Blob}function ve(Oe){return typeof FormData<"u"&&Oe instanceof FormData}class an{constructor(we,Ve,St,Ut){let un;if(this.url=Ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function ct(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==St?St:null,un=Ut):un=St,un&&(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params)),this.headers||(this.headers=new st),this.context||(this.context=new ze),this.params){const Qt=this.params.toString();if(0===Qt.length)this.urlWithParams=Ve;else{const cr=Ve.indexOf("?");this.urlWithParams=Ve+(-1===cr?"?":cr<Ve.length-1?"&":"")+Qt}}else this.params=new Fe,this.urlWithParams=Ve}serializeBody(){return null===this.body?null:At(this.body)||kt(this.body)||ve(this.body)||function jt(Oe){return typeof URLSearchParams<"u"&&Oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ve(this.body)?null:kt(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const Ve=we.method||this.method,St=we.url||this.url,Ut=we.responseType||this.responseType,un=void 0!==we.body?we.body:this.body,Qt=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,cr=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let dn=we.headers||this.headers,nt=we.params||this.params;const We=we.context??this.context;return void 0!==we.setHeaders&&(dn=Object.keys(we.setHeaders).reduce((Tt,en)=>Tt.set(en,we.setHeaders[en]),dn)),we.setParams&&(nt=Object.keys(we.setParams).reduce((Tt,en)=>Tt.set(en,we.setParams[en]),nt)),new an(Ve,St,un,{params:nt,headers:dn,context:We,reportProgress:cr,responseType:Ut,withCredentials:Qt})}}var hr=function(Oe){return Oe[Oe.Sent=0]="Sent",Oe[Oe.UploadProgress=1]="UploadProgress",Oe[Oe.ResponseHeader=2]="ResponseHeader",Oe[Oe.DownloadProgress=3]="DownloadProgress",Oe[Oe.Response=4]="Response",Oe[Oe.User=5]="User",Oe}(hr||{});class Rt{constructor(we,Ve=200,St="OK"){this.headers=we.headers||new st,this.status=void 0!==we.status?we.status:Ve,this.statusText=we.statusText||St,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class qt extends Rt{constructor(we={}){super(we),this.type=hr.ResponseHeader}clone(we={}){return new qt({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class cn extends Rt{constructor(we={}){super(we),this.type=hr.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new cn({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class lt extends Rt{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Re(Oe,we){return{body:we,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials}}let fe=(()=>{class Oe{constructor(Ve){this.handler=Ve}request(Ve,St,Ut={}){let un;if(Ve instanceof an)un=Ve;else{let dn,nt;dn=Ut.headers instanceof st?Ut.headers:new st(Ut.headers),Ut.params&&(nt=Ut.params instanceof Fe?Ut.params:new Fe({fromObject:Ut.params})),un=new an(Ve,St,void 0!==Ut.body?Ut.body:null,{headers:dn,context:Ut.context,params:nt,reportProgress:Ut.reportProgress,responseType:Ut.responseType||"json",withCredentials:Ut.withCredentials})}const Qt=(0,l.of)(un).pipe((0,_e.b)(dn=>this.handler.handle(dn)));if(Ve instanceof an||"events"===Ut.observe)return Qt;const cr=Qt.pipe((0,Ae.h)(dn=>dn instanceof cn));switch(Ut.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return cr.pipe((0,Me.U)(dn=>{if(null!==dn.body&&!(dn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return dn.body}));case"blob":return cr.pipe((0,Me.U)(dn=>{if(null!==dn.body&&!(dn.body instanceof Blob))throw new Error("Response is not a Blob.");return dn.body}));case"text":return cr.pipe((0,Me.U)(dn=>{if(null!==dn.body&&"string"!=typeof dn.body)throw new Error("Response is not a string.");return dn.body}));default:return cr.pipe((0,Me.U)(dn=>dn.body))}case"response":return cr;default:throw new Error(`Unreachable: unhandled observe type ${Ut.observe}}`)}}delete(Ve,St={}){return this.request("DELETE",Ve,St)}get(Ve,St={}){return this.request("GET",Ve,St)}head(Ve,St={}){return this.request("HEAD",Ve,St)}jsonp(Ve,St){return this.request("JSONP",Ve,{params:(new Fe).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ve,St={}){return this.request("OPTIONS",Ve,St)}patch(Ve,St,Ut={}){return this.request("PATCH",Ve,Re(Ut,St))}post(Ve,St,Ut={}){return this.request("POST",Ve,Re(Ut,St))}put(Ve,St,Ut={}){return this.request("PUT",Ve,Re(Ut,St))}static#e=this.\u0275fac=function(St){return new(St||Oe)(g.LFG(se))};static#t=this.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})();function Zt(Oe,we){return we(Oe)}function gn(Oe,we){return(Ve,St)=>we.intercept(Ve,{handle:Ut=>Oe(Ut,St)})}const Cn=new g.OlP(""),Mn=new g.OlP(""),Wt=new g.OlP("");function Dn(){let Oe=null;return(we,Ve)=>{null===Oe&&(Oe=((0,g.f3M)(Cn,{optional:!0})??[]).reduceRight(gn,Zt));const St=(0,g.f3M)(g.HDt),Ut=St.add();return Oe(we,Ve).pipe((0,De.x)(()=>St.remove(Ut)))}}let ar=(()=>{class Oe extends se{constructor(Ve,St){super(),this.backend=Ve,this.injector=St,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Ve){if(null===this.chain){const Ut=Array.from(new Set([...this.injector.get(Mn),...this.injector.get(Wt,[])]));this.chain=Ut.reduceRight((un,Qt)=>function tr(Oe,we,Ve){return(St,Ut)=>Ve.runInContext(()=>we(St,un=>Oe(un,Ut)))}(un,Qt,this.injector),Zt)}const St=this.pendingTasks.add();return this.chain(Ve,Ut=>this.backend.handle(Ut)).pipe((0,De.x)(()=>this.pendingTasks.remove(St)))}static#e=this.\u0275fac=function(St){return new(St||Oe)(g.LFG(ye),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})();const Er=/^\)\]\}',?\n/;let $n=(()=>{class Oe{constructor(Ve){this.xhrFactory=Ve}handle(Ve){if("JSONP"===Ve.method)throw new g.vHH(-2800,!1);const St=this.xhrFactory;return(St.\u0275loadImpl?(0,G.D)(St.\u0275loadImpl()):(0,l.of)(null)).pipe((0,$e.w)(()=>new Ie.y(un=>{const Qt=St.build();if(Qt.open(Ve.method,Ve.urlWithParams),Ve.withCredentials&&(Qt.withCredentials=!0),Ve.headers.forEach((yn,Ln)=>Qt.setRequestHeader(yn,Ln.join(","))),Ve.headers.has("Accept")||Qt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ve.headers.has("Content-Type")){const yn=Ve.detectContentTypeHeader();null!==yn&&Qt.setRequestHeader("Content-Type",yn)}if(Ve.responseType){const yn=Ve.responseType.toLowerCase();Qt.responseType="json"!==yn?yn:"text"}const cr=Ve.serializeBody();let dn=null;const nt=()=>{if(null!==dn)return dn;const yn=Qt.statusText||"OK",Ln=new st(Qt.getAllResponseHeaders()),wr=function Fn(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(Qt)||Ve.url;return dn=new qt({headers:Ln,status:Qt.status,statusText:yn,url:wr}),dn},We=()=>{let{headers:yn,status:Ln,statusText:wr,url:Ai}=nt(),Wr=null;204!==Ln&&(Wr=typeof Qt.response>"u"?Qt.responseText:Qt.response),0===Ln&&(Ln=Wr?200:0);let rr=Ln>=200&&Ln<300;if("json"===Ve.responseType&&"string"==typeof Wr){const Ii=Wr;Wr=Wr.replace(Er,"");try{Wr=""!==Wr?JSON.parse(Wr):null}catch(cs){Wr=Ii,rr&&(rr=!1,Wr={error:cs,text:Wr})}}rr?(un.next(new cn({body:Wr,headers:yn,status:Ln,statusText:wr,url:Ai||void 0})),un.complete()):un.error(new lt({error:Wr,headers:yn,status:Ln,statusText:wr,url:Ai||void 0}))},Tt=yn=>{const{url:Ln}=nt(),wr=new lt({error:yn,status:Qt.status||0,statusText:Qt.statusText||"Unknown Error",url:Ln||void 0});un.error(wr)};let en=!1;const wn=yn=>{en||(un.next(nt()),en=!0);let Ln={type:hr.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ln.total=yn.total),"text"===Ve.responseType&&Qt.responseText&&(Ln.partialText=Qt.responseText),un.next(Ln)},Sn=yn=>{let Ln={type:hr.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ln.total=yn.total),un.next(Ln)};return Qt.addEventListener("load",We),Qt.addEventListener("error",Tt),Qt.addEventListener("timeout",Tt),Qt.addEventListener("abort",Tt),Ve.reportProgress&&(Qt.addEventListener("progress",wn),null!==cr&&Qt.upload&&Qt.upload.addEventListener("progress",Sn)),Qt.send(cr),un.next({type:hr.Sent}),()=>{Qt.removeEventListener("error",Tt),Qt.removeEventListener("abort",Tt),Qt.removeEventListener("load",We),Qt.removeEventListener("timeout",Tt),Ve.reportProgress&&(Qt.removeEventListener("progress",wn),null!==cr&&Qt.upload&&Qt.upload.removeEventListener("progress",Sn)),Qt.readyState!==Qt.DONE&&Qt.abort()}})))}static#e=this.\u0275fac=function(St){return new(St||Oe)(g.LFG(te.JF))};static#t=this.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})();const Hr=new g.OlP("XSRF_ENABLED"),rn=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sr{}let Cr=(()=>{class Oe{constructor(Ve,St,Ut){this.doc=Ve,this.platform=St,this.cookieName=Ut,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ve=this.doc.cookie||"";return Ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.Mx)(Ve,this.cookieName),this.lastCookieString=Ve),this.lastToken}static#e=this.\u0275fac=function(St){return new(St||Oe)(g.LFG(te.K0),g.LFG(g.Lbi),g.LFG(rn))};static#t=this.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})();function Jr(Oe,we){const Ve=Oe.url.toLowerCase();if(!(0,g.f3M)(Hr)||"GET"===Oe.method||"HEAD"===Oe.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return we(Oe);const St=(0,g.f3M)(Sr).getToken(),Ut=(0,g.f3M)(nr);return null!=St&&!Oe.headers.has(Ut)&&(Oe=Oe.clone({headers:Oe.headers.set(Ut,St)})),we(Oe)}var vt=function(Oe){return Oe[Oe.Interceptors=0]="Interceptors",Oe[Oe.LegacyInterceptors=1]="LegacyInterceptors",Oe[Oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Oe[Oe.NoXsrfProtection=3]="NoXsrfProtection",Oe[Oe.JsonpSupport=4]="JsonpSupport",Oe[Oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Oe[Oe.Fetch=6]="Fetch",Oe}(vt||{});function be(...Oe){const we=[fe,$n,ar,{provide:se,useExisting:ar},{provide:ye,useExisting:$n},{provide:Mn,useValue:Jr,multi:!0},{provide:Hr,useValue:!0},{provide:Sr,useClass:Cr}];for(const Ve of Oe)we.push(...Ve.\u0275providers);return(0,g.MR2)(we)}const zt=new g.OlP("LEGACY_INTERCEPTOR_FN");function Nn(){return function ae(Oe,we){return{\u0275kind:Oe,\u0275providers:we}}(vt.LegacyInterceptors,[{provide:zt,useFactory:Dn},{provide:Mn,useExisting:zt,multi:!0}])}let B=(()=>{class Oe{static#e=this.\u0275fac=function(St){return new(St||Oe)};static#t=this.\u0275mod=g.oAB({type:Oe});static#n=this.\u0275inj=g.cJS({providers:[be(Nn())]})}return Oe})()},5879:(Jt,Ke,U)=>{U.d(Ke,{$8M:()=>bu,$WT:()=>ji,$Z:()=>L,AFp:()=>I_,ALo:()=>JI,AaK:()=>ye,AsE:()=>Dt,CHM:()=>yd,CRH:()=>pT,DdM:()=>GI,EJc:()=>kw,EiD:()=>qg,EpF:()=>wi,F$t:()=>HE,F4k:()=>ti,FYo:()=>Ef,FiY:()=>_c,GfV:()=>$a,Gpc:()=>mt,HDt:()=>FT,Hsn:()=>$E,JOm:()=>Ld,JVY:()=>Ug,JZr:()=>qe,KtG:()=>oc,L6k:()=>u_,LAX:()=>d_,LFG:()=>Ot,LSH:()=>Wg,Lbi:()=>T_,Lck:()=>IC,MAs:()=>sd,MGl:()=>bv,MMx:()=>LI,MR2:()=>Es,NdJ:()=>Zs,Ojb:()=>Oy,OlP:()=>rn,Oqu:()=>Pe,P3R:()=>Yg,PXZ:()=>uA,Q6J:()=>Nm,QGY:()=>Vs,QbO:()=>Fp,Qsj:()=>$p,R0b:()=>Mi,RDi:()=>bp,Rgc:()=>Fv,SBq:()=>Gu,Sil:()=>Vw,Suo:()=>fT,TTD:()=>pr,TgZ:()=>dg,VKq:()=>qI,VuI:()=>qA,X6Q:()=>yA,XFs:()=>Tn,Xpm:()=>Ei,Xq5:()=>z_,Xts:()=>eh,Y36:()=>R,YKP:()=>kI,YNc:()=>Rm,Yjl:()=>$o,Yz7:()=>Cn,Z0I:()=>ar,ZZ4:()=>U0,_Bn:()=>NI,_UZ:()=>Ho,_c5:()=>NA,_uU:()=>I,aQg:()=>B0,c2e:()=>kT,cJS:()=>Wt,cg1:()=>o0,dDg:()=>oA,dqk:()=>$n,eBb:()=>Yd,eFA:()=>qT,eJc:()=>b0,ekj:()=>fE,eoX:()=>HT,f3M:()=>Xt,g9A:()=>Kl,h0i:()=>Bm,hGG:()=>kA,hij:()=>Ze,iGM:()=>hT,ifc:()=>Qt,ip1:()=>NT,jDz:()=>VI,kL8:()=>oI,lG2:()=>es,lcZ:()=>XI,lqb:()=>Ia,lri:()=>BT,mCW:()=>Qd,n5z:()=>Tu,oAB:()=>Ts,oxw:()=>jE,pB0:()=>Ap,q3G:()=>Lu,q4F:()=>If,qFp:()=>WA,qLn:()=>tu,qOj:()=>ml,qZA:()=>Dh,qzn:()=>Tc,rWj:()=>jT,rg0:()=>_t,s9C:()=>iE,sBO:()=>vA,s_b:()=>SE,soG:()=>PE,tb:()=>O0,tp0:()=>Ba,uIk:()=>Sc,vHH:()=>Fe,vpe:()=>dl,wAp:()=>oy,xi3:()=>eT,xp6:()=>y,z2F:()=>uy,z3N:()=>Ic,zSh:()=>Sy,zs3:()=>Bo});var g=U(8645),l=U(7394),G=U(5592),Ie=U(3019),_e=U(5619),Ae=U(2096),Me=U(3020),De=U(4664),$e=U(3997);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function se(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function st(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const rt=te({__forward_ref__:te});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return ye(this())},t}function ft(t){return wt(t)?t():t}function wt(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===mt}function Et(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class Fe extends Error{constructor(n,i){super(function it(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t,n){throw new Fe(-201,!1)}function Gt(t,n){null==t&&function $t(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return Gn(t,In)||Gn(t,Qn)}function ar(t){return null!==Dn(t)}function Gn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Lr(t){return t&&(t.hasOwnProperty(Dr)||t.hasOwnProperty(Vt))?t[Dr]:null}const In=te({\u0275prov:te}),Dr=te({\u0275inj:te}),Qn=te({ngInjectableDef:te}),Vt=te({ngInjectorDef:te});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let xn;function vr(t){const n=xn;return xn=t,n}function Er(t,n,i){const o=Dn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Tn.Optional?null:void 0!==n?n:void jt(ye(t))}const $n=globalThis;class rn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Cn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nn={},ci="__NG_DI_FLAG__",Ir="ngTempTokenPath",re=/\n/gm,H="__source";let B;function Be(t){const n=B;return B=t,n}function bt(t,n=Tn.Default){if(void 0===B)throw new Fe(-203,!1);return null===B?Er(t,void 0,n):B.get(t,n&Tn.Optional?null:void 0,n)}function Ot(t,n=Tn.Default){return(function On(){return xn}()||bt)(ft(t),n)}function Xt(t,n=Tn.Default){return Ot(t,ln(n))}function ln(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zn(t){const n=[];for(let i=0;i<t.length;i++){const o=ft(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Fe(900,!1);let h,m=Tn.Default;for(let b=0;b<o.length;b++){const D=o[b],x=we(D);"number"==typeof x?-1===x?h=D.token:m|=x:h=D}n.push(Ot(h,m))}else n.push(Ot(o))}return n}function Oe(t,n){return t[ci]=n,t.prototype[ci]=n,t}function we(t){return t[ci]}function Ut(t){return{toString:t}.toString()}var un=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(un||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{});const cr={},dn=[],nt=te({\u0275cmp:te}),We=te({\u0275dir:te}),Tt=te({\u0275pipe:te}),en=te({\u0275mod:te}),wn=te({\u0275fac:te}),Sn=te({__NG_ELEMENT_ID__:te}),yn=te({__NG_ENV_ID__:te});function Ln(t,n,i){let o=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const m=n.length;if(h+m===o||t.charCodeAt(h+m)<=32)return h}i=h+1}}function wr(t,n,i){let o=0;for(;o<i.length;){const h=i[o];if("number"==typeof h){if(0!==h)break;o++;const m=i[o++],b=i[o++],D=i[o++];t.setAttribute(n,b,D,m)}else{const m=h,b=i[++o];Wr(m)?t.setProperty(n,m,b):t.setAttribute(n,m,b),o++}}return o}function Ai(t){return 3===t||4===t||6===t}function Wr(t){return 64===t.charCodeAt(0)}function rr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const h=n[o];"number"==typeof h?i=h:0===i||Ii(t,i,h,null,-1===i||2===i?n[++o]:null)}}return t}function Ii(t,n,i,o,h){let m=0,b=t.length;if(-1===n)b=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){b=-1;break}if(D>n){b=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===i){if(null===o)return void(null!==h&&(t[m+1]=h));if(o===t[m+1])return void(t[m+2]=h)}m++,null!==o&&m++,null!==h&&m++}-1!==b&&(t.splice(b,0,n),m=b+1),t.splice(m++,0,i),null!==o&&t.splice(m++,0,o),null!==h&&t.splice(m++,0,h)}const cs="ng-template";function Ji(t,n,i){let o=0,h=!0;for(;o<t.length;){let m=t[o++];if("string"==typeof m&&h){const b=t[o++];if(i&&"class"===m&&-1!==Ln(b.toLowerCase(),n,0))return!0}else{if(1===m){for(;o<t.length&&"string"==typeof(m=t[o++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Vr(t){return 4===t.type&&t.value!==cs}function Do(t,n,i){return n===(4!==t.type||i?t.value:cs)}function ls(t,n,i){let o=4;const h=t.attrs||[],m=function Pi(t){for(let n=0;n<t.length;n++)if(Ai(t[n]))return n;return t.length}(h);let b=!1;for(let D=0;D<n.length;D++){const x=n[D];if("number"!=typeof x){if(!b)if(4&o){if(o=2|1&o,""!==x&&!Do(t,x,i)||""===x&&1===n.length){if(Ui(o))return!1;b=!0}}else{const $=8&o?x:n[++D];if(8&o&&null!==t.attrs){if(!Ji(t.attrs,$,i)){if(Ui(o))return!1;b=!0}continue}const me=xc(8&o?"class":x,h,Vr(t),i);if(-1===me){if(Ui(o))return!1;b=!0;continue}if(""!==$){let Ge;Ge=me>m?"":h[me+1].toLowerCase();const et=8&o?Ge:null;if(et&&-1!==Ln(et,$,0)||2&o&&$!==Ge){if(Ui(o))return!1;b=!0}}}}else{if(!b&&!Ui(o)&&!Ui(x))return!1;if(b&&Ui(x))continue;b=!1,o=x|1&o}}return Ui(o)||b}function Ui(t){return 0==(1&t)}function xc(t,n,i,o){if(null===n)return-1;let h=0;if(o||!i){let m=!1;for(;h<n.length;){const b=n[h];if(b===t)return h;if(3===b||6===b)m=!0;else{if(1===b||2===b){let D=n[++h];for(;"string"==typeof D;)D=n[++h];continue}if(4===b)break;if(0===b){h+=4;continue}}h+=m?1:2}return-1}return function $r(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Kr(t,n,i=!1){for(let o=0;o<n.length;o++)if(ls(t,n[o],i))return!0;return!1}function wa(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let h=0;h<t.length;h++)if(t[h]!==o[h])continue e;return!0}}return!1}function Us(t,n){return t?":not("+n.trim()+")":n}function Bi(t){let n=t[0],i=1,o=2,h="",m=!1;for(;i<t.length;){let b=t[i];if("string"==typeof b)if(2&o){const D=t[++i];h+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&o?h+="."+b:4&o&&(h+=" "+b);else""!==h&&!Ui(b)&&(n+=Us(m,h),h=""),o=b,m=m||!Ui(o);i++}return""!==h&&(n+=Us(m,h)),n}function Ei(t){return Ut(()=>{const n=ts(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""};Hi(i);const o=t.dependencies;return i.directiveDefs=zo(o,!1),i.pipeDefs=zo(o,!0),i.id=function Bs(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Is(t){return Un(t)||Ur(t)}function gi(t){return null!==t}function Ts(t){return Ut(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function So(t,n){if(null==t)return cr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let h=t[o],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),i[h]=o,n&&(n[h]=m)}return i}function es(t){return Ut(()=>{const n=ts(t);return Hi(n),n})}function $o(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Un(t){return t[nt]||null}function Ur(t){return t[We]||null}function ni(t){return t[Tt]||null}function ji(t){const n=Un(t)||Ur(t)||ni(t);return null!==n&&n.standalone}function zr(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${ye(t)} does not have '\u0275mod' property.`);return i}function ts(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:So(t.inputs,n),outputs:So(t.outputs)}}function Hi(t){t.features?.forEach(n=>n(t))}function zo(t,n){if(!t)return null;const i=n?ni:Is;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(gi)}const Or=0,on=1,qn=2,Mr=3,Di=4,Qs=5,Xr=6,us=7,Ar=8,ds=9,mo=10,Wn=11,hs=12,kr=13,Ni=14,Bn=15,fs=16,Si=17,ps=18,Ms=19,Nc=20,js=21,Xn=22,fr=23,_o=24,lr=25,rs=1,ki=2,bs=7,Go=9,li=11;function ui(t){return Array.isArray(t)&&"object"==typeof t[rs]}function $i(t){return Array.isArray(t)&&!0===t[rs]}function Ya(t){return 0!=(4&t.flags)}function Ps(t){return t.componentOffset>-1}function Js(t){return 1==(1&t.flags)}function Fi(t){return!!t.template}function aa(t){return 0!=(512&t[qn])}function Hs(t,n){return t.hasOwnProperty(wn)?t[wn]:null}let Pr=null,la=!1;function Li(t){const n=Pr;return Pr=t,n}const hu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function to(t){if(!Wo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xa(t){t.dirty=!0,function no(t){if(void 0===t.liveConsumerNode)return;const n=la;la=!0;try{for(const i of t.liveConsumerNode)i.dirty||xa(i)}finally{la=n}}(t),t.consumerMarkedDirty?.(t)}function sr(t){return t&&(t.nextProducerIndex=0),Li(t)}function Lc(t,n){if(Li(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Wo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Oa(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vc(t){Po(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(to(i),o!==i.version))return!0}return!1}function tc(t){if(Po(t),Wo(t))for(let n=0;n<t.producerNode.length;n++)Oa(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oa(t,n){if(function rc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Po(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Oa(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];Po(h),h.producerIndexOfThis[o]=n}}function Wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Po(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Na=null;function _t(t){const n=Li(null);try{return t()}finally{Li(n)}}const _n=()=>{},Rr=(()=>({...hu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_n}))();class Br{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function pr(){return Yr}function Yr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),Fr}function Fr(){const t=Ki(this),n=t?.current;if(n){const i=t.previous;if(i===cr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,i,o){const h=this.declaredInputs[i],m=Ki(t)||function Yo(t,n){return t[ss]=n}(t,{previous:cr,current:null}),b=m.current||(m.current={}),D=m.previous,x=D[h];b[h]=new Br(x&&x.currentValue,n,D===cr),t[o]=n}pr.ngInherit=!0;const ss="__ngSimpleChanges__";function Ki(t){return t[ss]||null}const Jn=function(t,n,i){};function si(t){for(;Array.isArray(t);)t=t[Or];return t}function xo(t,n){return si(n[t])}function ws(t,n){return si(n[t.index])}function Cl(t,n){return t.data[n]}function Jo(t,n){return t[n]}function As(t,n){const i=n[t];return ui(i)?i:i[Or]}function ro(t,n){return null==n?null:t[n]}function Oo(t){t[Si]=0}function No(t){1024&t[qn]||(t[qn]|=1024,Ph(t,1))}function pd(t){1024&t[qn]&&(t[qn]&=-1025,Ph(t,-1))}function Ph(t,n){let i=t[Mr];if(null===i)return;i[Qs]+=n;let o=i;for(i=i[Mr];null!==i&&(1===n&&1===o[Qs]||-1===n&&0===o[Qs]);)i[Qs]+=n,o=i,i=i[Mr]}const er={lFrame:ms(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ti(){return er.bindingsEnabled}function La(){return null!==er.skipHydrationRootTNode}function Nt(){return er.lFrame.lView}function Nr(){return er.lFrame.tView}function yd(t){return er.lFrame.contextLView=t,t[Ar]}function oc(t){return er.lFrame.contextLView=null,t}function os(){let t=Vi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vi(){return er.lFrame.currentTNode}function gs(t,n){const i=er.lFrame;i.currentTNode=t,i.isParent=n}function $c(){return er.lFrame.isParent}function ac(){er.lFrame.isParent=!1}function xs(){const t=er.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function da(){return er.lFrame.bindingIndex++}function S(t){const n=er.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=er.lFrame;i.bindingIndex=i.bindingRootIndex=t,ce(n)}function ce(t){er.lFrame.currentDirectiveIndex=t}function ht(){return er.lFrame.currentQueryIndex}function pt(t){er.lFrame.currentQueryIndex=t}function mn(t){const n=t[on];return 2===n.type?n.declTNode:1===n.type?t[Xr]:null}function _r(t,n,i){if(i&Tn.SkipSelf){let h=n,m=t;for(;!(h=h.parent,null!==h||i&Tn.Host||(h=mn(m),null===h||(m=m[Ni],10&h.type))););if(null===h)return!1;n=h,t=m}const o=er.lFrame=or();return o.currentTNode=n,o.lView=t,!0}function qr(t){const n=or(),i=t[on];er.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function or(){const t=er.lFrame,n=null===t?null:t.child;return null===n?ms(t):n}function ms(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Gs(){const t=er.lFrame;return er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const io=Gs;function cc(){const t=Gs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _s(){return er.lFrame.selectedIndex}function zc(t){er.lFrame.selectedIndex=t}function di(){const t=er.lFrame;return Cl(t.tView,t.selectedIndex)}let Oh=!0;function Xo(){return Oh}function fa(t){Oh=t}function kh(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const m=t.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:$,ngOnDestroy:ie}=m;b&&(t.contentHooks??=[]).push(-i,b),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),x&&(t.viewHooks??=[]).push(-i,x),$&&((t.viewHooks??=[]).push(i,$),(t.viewCheckHooks??=[]).push(i,$)),null!=ie&&(t.destroyHooks??=[]).push(i,ie)}}function yo(t,n,i){Kf(t,n,3,i)}function ea(t,n,i,o){(3&t[qn])===i&&Kf(t,n,i,o)}function Lo(t,n){let i=t[qn];(3&i)===n&&(i&=8191,i+=1,t[qn]=i)}function Kf(t,n,i,o){const m=o??-1,b=n.length-1;let D=0;for(let x=void 0!==o?65535&t[Si]:0;x<b;x++)if("number"==typeof n[x+1]){if(D=n[x],null!=o&&D>=o)break}else n[x]<0&&(t[Si]+=65536),(D<m||-1==m)&&(bd(t,i,n,x),t[Si]=(4294901760&t[Si])+x+2),x++}function Td(t,n){Jn(4,t,n);const i=Li(null);try{n.call(t)}finally{Li(i),Jn(5,t,n)}}function bd(t,n,i,o){const h=i[o]<0,m=i[o+1],D=t[h?-i[o]:i[o]];h?t[qn]>>13<t[Si]>>16&&(3&t[qn])===n&&(t[qn]+=8192,Td(D,m)):Td(D,m)}const lc=-1;class Dl{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Sl(t){return t!==lc}function vu(t){return 32767&t}function ta(t,n){let i=function mg(t){return t>>16}(t),o=n;for(;i>0;)o=o[Ni],i--;return o}let Ml=!0;function ga(t){const n=Ml;return Ml=t,n}const Ad=255,as=5;let _g=0;const Os={};function Dd(t,n){const i=ma(t,n);if(-1!==i)return i;const o=n[on];o.firstCreatePass&&(t.injectorIndex=n.length,ys(o.data,t),ys(n,null),ys(o.blueprint,null));const h=Pl(t,n),m=t.injectorIndex;if(Sl(h)){const b=vu(h),D=ta(h,n),x=D[on].data;for(let $=0;$<8;$++)n[m+$]=D[b+$]|x[b+$]}return n[m+8]=h,m}function ys(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ma(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Pl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,h=n;for(;null!==h;){if(o=jh(h),null===o)return lc;if(i++,h=h[Ni],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return lc}function uc(t,n,i){!function Vh(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Sn)&&(o=i[Sn]),null==o&&(o=i[Sn]=_g++);const h=o&Ad;n.data[t+(h>>as)]|=1<<h}(t,n,i)}function Gc(t,n,i){if(i&Tn.Optional||void 0!==t)return t;jt()}function bi(t,n,i,o){if(i&Tn.Optional&&void 0===o&&(o=null),!(i&(Tn.Self|Tn.Host))){const h=t[ds],m=vr(void 0);try{return h?h.get(n,o,i&Tn.Optional):Er(n,o,i&Tn.Optional)}finally{vr(m)}}return Gc(o,0,i)}function na(t,n,i,o=Tn.Default,h){if(null!==t){if(2048&n[qn]&&!(o&Tn.Self)){const b=function hc(t,n,i,o,h){let m=t,b=n;for(;null!==m&&null!==b&&2048&b[qn]&&!(512&b[qn]);){const D=Rl(m,b,i,o|Tn.Self,Os);if(D!==Os)return D;let x=m.parent;if(!x){const $=b[Nc];if($){const ie=$.get(i,Os,o);if(ie!==Os)return ie}x=jh(b),b=b[Ni]}m=x}return h}(t,n,i,o,Os);if(b!==Os)return b}const m=Rl(t,n,i,o,Os);if(m!==Os)return m}return bi(n,i,o,h)}function Rl(t,n,i,o,h){const m=function Sd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Sn)?t[Sn]:void 0;return"number"==typeof n?n>=0?n&Ad:Bh:n}(i);if("function"==typeof m){if(!_r(n,t,o))return o&Tn.Host?Gc(h,0,o):bi(n,i,o,h);try{let b;if(b=m(o),null!=b||o&Tn.Optional)return b;jt()}finally{io()}}else if("number"==typeof m){let b=null,D=ma(t,n),x=lc,$=o&Tn.Host?n[Bn][Xr]:null;for((-1===D||o&Tn.SkipSelf)&&(x=-1===D?Pl(t,n):n[D+8],x!==lc&&Iu(o,!1)?(b=n[on],D=vu(x),n=ta(x,n)):D=-1);-1!==D;){const ie=n[on];if(Qf(m,D,ie.data)){const me=Uh(D,n,i,b,o,$);if(me!==Os)return me}x=n[D+8],x!==lc&&Iu(o,n[on].data[D+8]===$)&&Qf(m,D,n)?(b=ie,D=vu(x),n=ta(x,n)):D=-1}}return h}function Uh(t,n,i,o,h,m){const b=n[on],D=b.data[t+8],ie=Eu(D,b,i,null==o?Ps(D)&&Ml:o!=b&&0!=(3&D.type),h&Tn.Host&&m===D);return null!==ie?qc(n,b,ie,D):Os}function Eu(t,n,i,o,h){const m=t.providerIndexes,b=n.data,D=1048575&m,x=t.directiveStart,ie=m>>20,Ge=h?D+ie:t.directiveEnd;for(let et=o?D:D+ie;et<Ge;et++){const Pt=b[et];if(et<x&&i===Pt||et>=x&&Pt.type===i)return et}if(h){const et=b[x];if(et&&Fi(et)&&et.type===i)return x}return null}function qc(t,n,i,o){let h=t[i];const m=n.data;if(function Cd(t){return t instanceof Dl}(h)){const b=h;b.resolving&&function At(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${t}${i}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}(m[i]));const D=ga(b.canSeeViewProviders);b.resolving=!0;const $=b.injectImpl?vr(b.injectImpl):null;_r(t,o,Tn.Default);try{h=t[i]=b.factory(void 0,m,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Nh(t,n,i){const{ngOnChanges:o,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(o){const b=Yr(n);(i.preOrderHooks??=[]).push(t,b),(i.preOrderCheckHooks??=[]).push(t,b)}h&&(i.preOrderHooks??=[]).push(0-t,h),m&&((i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m))}(i,m[i],n)}finally{null!==$&&vr($),ga(D),b.resolving=!1,io()}}return h}function Qf(t,n,i){return!!(i[n+(t>>as)]&1<<t)}function Iu(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class vs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return na(this._tNode,this._lView,n,ln(o),i)}}function Bh(){return new vs(os(),Nt())}function Tu(t){return Ut(()=>{const n=t.prototype.constructor,i=n[wn]||_a(n),o=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==o;){const m=h[wn]||_a(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function _a(t){return wt(t)?()=>{const n=_a(ft(t));return n&&n()}:Hs(t)}function jh(t){const n=t[on],i=n.type;return 2===i?n.declTNode:1===i?t[Xr]:null}function bu(t){return function Yf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let h=0;for(;h<o;){const m=i[h];if(Ai(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<o&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(os(),t)}const fc="__parameters__";function xi(t,n,i){return Ut(()=>{const o=function pc(t){return function(...i){if(t){const o=t(...i);for(const h in o)this[h]=o[h]}}}(n);function h(...m){if(this instanceof h)return o.apply(this,m),this;const b=new h(...m);return D.annotation=b,D;function D(x,$,ie){const me=x.hasOwnProperty(fc)?x[fc]:Object.defineProperty(x,fc,{value:[]})[fc];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(b),x}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function Vo(t,n){t.forEach(i=>Array.isArray(i)?Vo(i,n):n(i))}function Au(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function mc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Nl(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function oo(t,n,i){let o=Fl(t,n);return o>=0?t[1|o]=i:(o=~o,function vo(t,n,i,o){let h=t.length;if(h==n)t.push(i,o);else if(1===h)t.push(o,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Du(t,n){const i=Fl(t,n);if(i>=0)return t[1|i]}function Fl(t,n){return function Ua(t,n,i){let o=0,h=t.length>>i;for(;h!==o;){const m=o+(h-o>>1),b=t[m<<i];if(n===b)return m<<i;b>n?h=m:o=m+1}return~(h<<i)}(t,n,1)}const _c=Oe(xi("Optional"),8),Ba=Oe(xi("SkipSelf"),4);function Fd(t){return 128==(128&t.flags)}var Ld=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ld||{});const op=new Map;let Wm=0;const Ru="__ngContext__";function ks(t,n){ui(n)?(t[Ru]=n[Ms],function ap(t){op.set(t[Ms],t)}(n)):t[Ru]=n}let Cg;function jd(t,n){return Cg(t,n)}function Ou(t){const n=t[Mr];return $i(n)?n[Mr]:n}function Dg(t){return Nu(t[hs])}function Jh(t){return Nu(t[Di])}function Nu(t){for(;null!==t&&!$i(t);)t=t[Di];return t}function il(t,n,i,o,h){if(null!=o){let m,b=!1;$i(o)?m=o:ui(o)&&(b=!0,o=o[Or]);const D=si(o);0===t&&null!==i?null==h?r_(n,i,D):bo(n,i,D,h||null,!0):1===t&&null!==i?bo(n,i,D,h||null,!0):2===t?function Ep(t,n,i){const o=gp(t,n);o&&function i_(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,D,b):3===t&&n.destroyNode(D),null!=m&&function Ip(t,n,i,o,h){const m=i[bs];m!==si(i)&&il(n,t,o,m,h);for(let D=li;D<i.length;D++){const x=i[D];zl(x[on],x,t,n,o,m)}}(n,t,m,i,h)}}function dp(t,n,i){return t.createElement(n,i)}function t_(t,n){const i=t[Go],o=i.indexOf(n);pd(n),i.splice(o,1)}function fp(t,n){if(t.length<=li)return;const i=li+n,o=t[i];if(o){const h=o[fs];null!==h&&h!==t&&t_(h,o),n>0&&(t[i-1][Di]=o[Di]);const m=mc(t,li+n);!function Jm(t,n){zl(t,n,n[Wn],2,null,null),n[Or]=null,n[Xr]=null}(o[on],o);const b=m[ps];null!==b&&b.detachView(m[on]),o[Mr]=null,o[Di]=null,o[qn]&=-129}return o}function To(t,n){if(!(256&n[qn])){const i=n[Wn];n[fr]&&tc(n[fr]),n[_o]&&tc(n[_o]),i.destroyNode&&zl(t,n,i,3,null,null),function Xm(t){let n=t[hs];if(!n)return Sg(t[on],t);for(;n;){let i=null;if(ui(n))i=n[hs];else{const o=n[li];o&&(i=o)}if(!i){for(;n&&!n[Di]&&n!==t;)ui(n)&&Sg(n[on],n),n=n[Mr];null===n&&(n=t),ui(n)&&Sg(n[on],n),i=n&&n[Di]}n=i}}(n)}}function Sg(t,n){if(!(256&n[qn])){n[qn]&=-129,n[qn]|=256,function n_(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const h=n[i[o]];if(!(h instanceof Dl)){const m=i[o+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const D=h[m[b]],x=m[b+1];Jn(4,D,x);try{x.call(D)}finally{Jn(5,D,x)}}else{Jn(4,h,m);try{m.call(h)}finally{Jn(5,h,m)}}}}}(t,n),function Mg(t,n){const i=t.cleanup,o=n[us];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const b=i[m+3];b>=0?o[b]():o[-b].unsubscribe(),m+=2}else i[m].call(o[i[m+1]]);null!==o&&(n[us]=null);const h=n[js];if(null!==h){n[js]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(t,n),1===n[on].type&&n[Wn].destroy();const i=n[fs];if(null!==i&&$i(n[Mr])){i!==n[Mr]&&t_(i,n);const o=n[ps];null!==o&&o.detachView(t)}!function Qh(t){op.delete(t[Ms])}(n)}}function ef(t,n,i){return function tf(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Or];{const{componentOffset:h}=o;if(h>-1){const{encapsulation:m}=t.data[o.directiveStart+h];if(m===Qt.None||m===Qt.Emulated)return null}return ws(o,i)}}(t,n.parent,i)}function bo(t,n,i,o,h){t.insertBefore(n,i,o,h)}function r_(t,n,i){t.appendChild(n,i)}function pp(t,n,i,o,h){null!==o?bo(t,n,i,o,h):r_(t,n,i)}function gp(t,n){return t.parentNode(n)}function mp(t,n,i){return _p(t,n,i)}let Rg,Ng,Lg,Wd,_p=function zd(t,n,i){return 40&t.type?ws(t,i):null};function vp(t,n,i,o){const h=ef(t,o,n),m=n[Wn],D=mp(o.parent||n[Xr],o,n);if(null!=h)if(Array.isArray(i))for(let x=0;x<i.length;x++)pp(m,h,i[x],D,!1);else pp(m,h,i,D,!1);void 0!==Rg&&Rg(m,o,n,i,h)}function ku(t,n){if(null!==n){const i=n.type;if(3&i)return ws(n,t);if(4&i)return nf(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return ku(t,o);{const h=t[n.index];return $i(h)?nf(-1,h):si(h)}}if(32&i)return jd(n,t)()||si(t[n.index]);{const o=xg(t,n);return null!==o?Array.isArray(o)?o[0]:ku(Ou(t[Bn]),o):ku(t,n.next)}}return null}function xg(t,n){return null!==n?t[Bn][Xr].projection[n.projection]:null}function nf(t,n){const i=li+t+1;if(i<n.length){const o=n[i],h=o[on].firstChild;if(null!==h)return ku(o,h)}return n[bs]}function sf(t,n,i,o,h,m,b){for(;null!=i;){const D=o[i.index],x=i.type;if(b&&0===n&&(D&&ks(si(D),o),i.flags|=2),32!=(32&i.flags))if(8&x)sf(t,n,i.child,o,h,m,!1),il(n,t,h,D,m);else if(32&x){const $=jd(i,o);let ie;for(;ie=$();)il(n,t,h,ie,m);il(n,t,h,D,m)}else 16&x?af(t,n,o,i,h,m):il(n,t,h,D,m);i=b?i.projectionNext:i.next}}function zl(t,n,i,o,h,m){sf(i,o,t.firstChild,n,h,m,!1)}function af(t,n,i,o,h,m){const b=i[Bn],x=b[Xr].projection[o.projection];if(Array.isArray(x))for(let $=0;$<x.length;$++)il(n,t,h,x[$],m);else{let $=x;const ie=b[Mr];Fd(o)&&($.flags|=128),sf(t,n,$,ie,h,m,!0)}}function sl(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Og(t,n,i){const{mergedAttrs:o,classes:h,styles:m}=i;null!==o&&wr(t,n,o),null!==h&&sl(t,n,h),null!==m&&function Tp(t,n,i){t.setAttribute(n,"style",i)}(t,n,m)}function qd(t){return function cf(){if(void 0===Ng&&(Ng=null,$n.trustedTypes))try{Ng=$n.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ng}()?.createHTML(t)||t}function bp(t){Lg=t}function c_(t){return function lf(){if(void 0===Wd&&(Wd=null,$n.trustedTypes))try{Wd=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wd}()?.createScriptURL(t)||t}class Fu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}class Kd extends Fu{getTypeName(){return"HTML"}}class l_ extends Fu{getTypeName(){return"Style"}}class Cp extends Fu{getTypeName(){return"Script"}}class va extends Fu{getTypeName(){return"URL"}}class wp extends Fu{getTypeName(){return"ResourceURL"}}function Ic(t){return t instanceof Fu?t.changingThisBreaksApplicationSecurity:t}function Tc(t,n){const i=function gy(t){return t instanceof Fu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}function Ug(t){return new Kd(t)}function u_(t){return new l_(t)}function Yd(t){return new Cp(t)}function d_(t){return new va(t)}function Ap(t){return new wp(t)}class Dp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(qd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class my{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=qd(n),i}}const Sp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qd(t){return(t=String(t)).match(Sp)?t:"unsafe:"+t}function Ea(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Jd(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const jg=Ea("area,br,col,hr,img,wbr"),Mp=Ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xd=Ea("rp,rt"),Gl=Jd(jg,Jd(Mp,Ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jd(Xd,Ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jd(Xd,Mp)),Pp=Ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ql=Jd(Pp,Ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zg=Ea("script,style,template");class Ey{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Gl.hasOwnProperty(i))return this.sanitizedSomething=!0,!zg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let h=0;h<o.length;h++){const m=o.item(h),b=m.name,D=b.toLowerCase();if(!ql.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=m.value;Pp[D]&&(x=Qd(x)),this.buf.push(" ",b,'="',Gg(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Gl.hasOwnProperty(i)&&!jg.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Gg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Iy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ty=/([^\#-~ |!])/g;function Gg(t){return t.replace(/&/g,"&amp;").replace(Iy,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ty,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rp;function qg(t,n){let i=null;try{Rp=Rp||function Bg(t){const n=new my(t);return function _y(){try{return!!(new window.DOMParser).parseFromString(qd(""),"text/html")}catch{return!1}}()?new Dp(n):n}(t);let o=n?String(n):"";i=Rp.getInertBodyElement(o);let h=5,m=o;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,o=m,m=i.innerHTML,i=Rp.getInertBodyElement(o)}while(o!==m);return qd((new Ey).sanitizeChildren(Zg(i)||i))}finally{if(i){const o=Zg(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Zg(t){return"content"in t&&function by(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function Wg(t){const n=Tr();return n?n.sanitize(Lu.URL,t)||"":Tc(t,"URL")?Ic(t):Qd(ze(t))}function p_(t){const n=Tr();if(n)return c_(n.sanitize(Lu.RESOURCE_URL,t)||"");if(Tc(t,"ResourceURL"))return c_(Ic(t));throw new Fe(904,!1)}function Yg(t,n,i){return function __(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?p_:Wg}(n,i)(t)}function Tr(){const t=Nt();return t&&t[mo].sanitizer}const eh=new rn("ENVIRONMENT_INITIALIZER"),Jg=new rn("INJECTOR",-1),th=new rn("INJECTOR_DEF_TYPES");class xp{get(n,i=Nn){if(i===Nn){const o=new Error(`NullInjectorError: No provider for ${ye(n)}!`);throw o.name="NullInjectorError",o}return i}}function Es(t){return{\u0275providers:t}}function Yi(...t){return{\u0275providers:Ds(0,t),\u0275fromNgModule:!0}}function Ds(t,...n){const i=[],o=new Set;let h;const m=b=>{i.push(b)};return Vo(n,b=>{const D=b;Xg(D,m,[],o)&&(h||=[],h.push(D))}),void 0!==h&&Ay(h,m),i}function Ay(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:h}=t[i];Op(h,m=>{n(m,o)})}}function Xg(t,n,i,o){if(!(t=ft(t)))return!1;let h=null,m=Lr(t);const b=!m&&Un(t);if(m||b){if(b&&!b.standalone)return!1;h=t}else{const x=t.ngModule;if(m=Lr(x),!m)return!1;h=x}const D=o.has(h);if(b){if(D)return!1;if(o.add(h),b.dependencies){const x="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const $ of x)Xg($,n,i,o)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let $;o.add(h);try{Vo(m.imports,ie=>{Xg(ie,n,i,o)&&($||=[],$.push(ie))})}finally{}void 0!==$&&Ay($,n)}if(!D){const $=Hs(h)||(()=>new h);n({provide:h,useFactory:$,deps:dn},h),n({provide:th,useValue:h,multi:!0},h),n({provide:eh,useValue:()=>Ot(h),multi:!0},h)}const x=m.providers;if(null!=x&&!D){const $=t;Op(x,ie=>{n(ie,$)})}}}return h!==t&&void 0!==t.providers}function Op(t,n){for(let i of t)Et(i)&&(i=i.\u0275providers),Array.isArray(i)?Op(i,n):n(i)}const Np=te({provide:String,useValue:te});function y_(t){return null!==t&&"object"==typeof t&&Np in t}function nh(t){return"function"==typeof t}const Sy=new rn("Set Injector scope."),tm={},Gi={};let Zl;function uf(){return void 0===Zl&&(Zl=new xp),Zl}class Ia{}class rh extends Ia{get destroyed(){return this._destroyed}constructor(n,i,o,h){super(),this.parent=i,this.source=o,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vu(n,b=>this.processProvider(b)),this.records.set(Jg,df(void 0,this)),h.has("environment")&&this.records.set(Ia,df(void 0,this));const m=this.records.get(Sy);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(th.multi,dn,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Be(this),o=vr(void 0);try{return n()}finally{Be(i),vr(o)}}get(n,i=Nn,o=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(yn))return n[yn](this);o=ln(o);const m=Be(this),b=vr(void 0);try{if(!(o&Tn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const $=function E_(t){return"function"==typeof t||"object"==typeof t&&t instanceof rn}(n)&&Dn(n);x=$&&this.injectableDefInScope($)?df(kp(n),tm):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(o&Tn.Self?uf():this.parent).get(n,i=o&Tn.Optional&&i===Nn?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[Ir]=D[Ir]||[]).unshift(ye(n)),m)throw D;return function Ve(t,n,i,o){const h=t[Ir];throw n[H]&&h.unshift(n[H]),t.message=function St(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=ye(n);if(Array.isArray(n))h=n.map(ye).join(" -> ");else if("object"==typeof n){let m=[];for(let b in n)if(n.hasOwnProperty(b)){let D=n[b];m.push(b+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}h=`{${m.join(", ")}}`}return`${i}${o?"("+o+")":""}[${h}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,h,i,o),t.ngTokenPath=h,t[Ir]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{vr(b),Be(m)}}resolveInjectorInitializers(){const n=Be(this),i=vr(void 0);try{const h=this.get(eh.multi,dn,Tn.Self);for(const m of h)m()}finally{Be(n),vr(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(ye(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(n){let i=nh(n=ft(n))?n:ft(n&&n.provide);const o=function Py(t){return y_(t)?df(void 0,t.useValue):df(v_(t),tm)}(n);if(nh(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=df(void 0,tm,!0),h.factory=()=>Zn(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===tm&&(i.value=Gi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function xy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ft(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function kp(t){const n=Dn(t),i=null!==n?n.factory:Hs(t);if(null!==i)return i;if(t instanceof rn)throw new Fe(204,!1);if(t instanceof Function)return function My(t){const n=t.length;if(n>0)throw Nl(n,"?"),new Fe(204,!1);const i=function Lt(t){return t&&(t[In]||t[Qn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Fe(204,!1)}function v_(t,n,i){let o;if(nh(t)){const h=ft(t);return Hs(h)||kp(h)}if(y_(t))o=()=>ft(t.useValue);else if(function Dy(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Zn(t.deps||[]));else if(function em(t){return!(!t||!t.useExisting)}(t))o=()=>Ot(ft(t.useExisting));else{const h=ft(t&&(t.useClass||t.provide));if(!function Ry(t){return!!t.deps}(t))return Hs(h)||kp(h);o=()=>new h(...Zn(t.deps))}return o}function df(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Vu(t,n){for(const i of t)Array.isArray(i)?Vu(i,n):i&&Et(i)?Vu(i.\u0275providers,n):n(i)}const I_=new rn("AppId",{providedIn:"root",factory:()=>Wl}),Wl="ng",Kl=new rn("Platform Initializer"),T_=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fp=new rn("AnimationModuleType"),Oy=new rn("CSP nonce",{providedIn:"root",factory:()=>function Zd(){if(void 0!==Lg)return Lg;if(typeof document<"u")return document;throw new Fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ch=(t,n,i)=>null;function Jl(t,n,i=!1){return ch(t,n,i)}class jv{}class C_{}class im{resolveComponentFactory(n){throw function Bp(t){const n=Error(`No component factory found for ${ye(t)}.`);return n.ngComponent=t,n}(n)}}let Hp=(()=>{class t{static#e=this.NULL=new im}return t})();function vf(){return lh(os(),Nt())}function lh(t,n){return new Gu(ws(t,n))}let Gu=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=vf}return t})();function qu(t){return t instanceof Gu?t.nativeElement:t}class Ef{}let $p=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function sm(){const t=Nt(),i=As(os().index,t);return(ui(i)?i:t)[Wn]}()}return t})(),zp=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>null})}return t})();class $a{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const If=new $a("16.2.12"),Zu={};function ll(t,n=null,i=null,o){const h=dh(t,n,i,o);return h.resolveInjectorInitializers(),h}function dh(t,n=null,i=null,o,h=new Set){const m=[i||dn,Yi(t)];return o=o||("object"==typeof t?void 0:ye(t)),new rh(m,n||uf(),o||null,h)}let Bo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Nn;static#t=this.NULL=new xp;static create(i,o){if(Array.isArray(i))return ll({name:""},o,i,"");{const h=i.name??"";return ll({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=Cn({token:t,providedIn:"any",factory:()=>Ot(Jg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function D_(t){return t.ngOriginalError}class tu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&D_(n);for(;i&&D_(i);)i=D_(i);return i||null}}function S_(t){return n=>{setTimeout(t,void 0,n)}}const dl=class $v extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let h=n,m=i||(()=>null),b=o;if(n&&"object"==typeof n){const x=n;h=x.next?.bind(x),m=x.error?.bind(x),b=x.complete?.bind(x)}this.__isAsync&&(m=S_(m),h&&(h=S_(h)),b&&(b=S_(b)));const D=super.subscribe({next:h,error:m,complete:b});return n instanceof l.w0&&n.add(D),D}};function jy(...t){}class Mi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dl(!1),this.onMicrotaskEmpty=new dl(!1),this.onStable=new dl(!1),this.onError=new dl(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!o&&i,h.shouldCoalesceRunChangeDetection=o,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zv(){const t="function"==typeof $n.requestAnimationFrame;let n=$n[t?"requestAnimationFrame":"setTimeout"],i=$n[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Gp(t){const n=()=>{!function Hy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hh(t),t.isCheckStableRunning=!0,M_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,h,m,b,D)=>{if(function qv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(h,m,b,D);try{return lm(t),i.invokeTask(h,m,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),um(t)}},onInvoke:(i,o,h,m,b,D,x)=>{try{return lm(t),i.invoke(h,m,b,D,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),um(t)}},onHasTask:(i,o,h,m)=>{i.hasTask(h,m),o===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,hh(t),M_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(i,o,h,m)=>(i.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mi.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Mi.isInAngularZone())throw new Fe(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,h){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+h,n,cm,jy,jy);try{return m.runTask(b,i,o)}finally{m.cancelTask(b)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const cm={};function M_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function um(t){t._nesting--,M_(t)}class Gv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dl,this.onMicrotaskEmpty=new dl,this.onStable=new dl,this.onError=new dl}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,h){return n.apply(i,o)}}const dm=new rn("",{providedIn:"root",factory:P_});function P_(){const t=Xt(Mi);let n=!0;const i=new G.y(h=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(n),h.complete()})}),o=new G.y(h=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Mi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const b=t.onUnstable.subscribe(()=>{Mi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),b.unsubscribe()}});return(0,Ie.T)(i,o.pipe((0,Me.B)()))}function hl(t){return t instanceof Function?t():t}let fm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cf(t){for(;t;){t[qn]|=64;const n=Ou(t);if(aa(t)&&!n)return t;t=n}return null}const pm=new rn("",{providedIn:"root",factory:()=>!1});let Yu=null;function Qu(t,n){return t[n]??s()}function u(t,n){const i=s();i.producerNode?.length&&(t[n]=Yu,i.lView=t,Yu=r())}const e={...hu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Yu??=r(),Yu}const d={};function y(t){T(Nr(),Nt(),_s()+t,!1)}function T(t,n,i,o){if(!o)if(3==(3&n[qn])){const m=t.preOrderCheckHooks;null!==m&&yo(n,m,i)}else{const m=t.preOrderHooks;null!==m&&ea(n,m,0,i)}zc(i)}function R(t,n=Tn.Default){const i=Nt();return null===i?Ot(t,n):na(os(),i,ft(t),n)}function L(){throw new Error("invalid")}function oe(t,n,i,o,h,m,b,D,x,$,ie){const me=n.blueprint.slice();return me[Or]=h,me[qn]=140|o,(null!==$||t&&2048&t[qn])&&(me[qn]|=2048),Oo(me),me[Mr]=me[Ni]=t,me[Ar]=i,me[mo]=b||t&&t[mo],me[Wn]=D||t&&t[Wn],me[ds]=x||t&&t[ds]||null,me[Xr]=m,me[Ms]=function co(){return Wm++}(),me[Xn]=ie,me[Nc]=$,me[Bn]=2==n.type?t[Bn]:me,me}function ge(t,n,i,o,h){let m=t.data[n];if(null===m)m=function Ne(t,n,i,o,h){const m=Vi(),b=$c(),x=t.data[n]=function tt(t,n,i,o,h,m){let b=n?n.injectorIndex:-1,D=0;return La()&&(D|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,i,n,o,h);return null===t.firstChild&&(t.firstChild=x),null!==m&&(b?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,n,i,o,h),function O(){return er.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=o,m.attrs=h;const b=function wl(){const t=er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return gs(m,!0),m}function ot(t,n,i,o){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(o),t.blueprint.push(o),t.data.push(null);return h}function xt(t,n,i,o,h){const m=Qu(n,fr),b=_s(),D=2&o;try{zc(-1),D&&n.length>lr&&T(t,n,lr,!1),Jn(D?2:0,h);const $=D?m:null,ie=sr($);try{null!==$&&($.dirty=!1),i(o,h)}finally{Lc($,ie)}}finally{D&&null===n[fr]&&u(n,fr),zc(b),Jn(D?3:1,h)}}function Kt(t,n,i){if(Ya(n)){const o=Li(null);try{const m=n.directiveEnd;for(let b=n.directiveStart;b<m;b++){const D=t.data[b];D.contentQueries&&D.contentQueries(1,i[b],b)}}finally{Li(o)}}}function Bt(t,n,i){Ti()&&(function k_(t,n,i,o){const h=i.directiveStart,m=i.directiveEnd;Ps(i)&&function vm(t,n,i){const o=ws(n,t),h=zn(i);let b=16;i.signals?b=4096:i.onPush&&(b=64);const D=mh(t,oe(t,h,null,b,o,n,null,t[mo].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=D}(n,i,t.data[h+i.componentOffset]),t.firstCreatePass||Dd(i,n),ks(o,n);const b=i.initialInputs;for(let D=h;D<m;D++){const x=t.data[D],$=qc(n,t,D,i);ks($,n),null!==b&&Mf(0,D-h,$,x,0,b),Fi(x)&&(As(i.index,n)[Ar]=qc(n,t,D,i))}}(t,n,i,ws(i,n)),64==(64&i.flags)&&gl(t,n,i))}function Pn(t,n,i=ws){const o=n.localNames;if(null!==o){let h=n.index+1;for(let m=0;m<o.length;m+=2){const b=o[m+1],D=-1===b?i(n,t):t[b];t[h++]=D}}}function zn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function kn(t,n,i,o,h,m,b,D,x,$,ie){const me=lr+o,Ge=me+h,et=function Kn(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:d);return i}(me,Ge),Pt="function"==typeof $?$():$;return et[on]={type:t,blueprint:et,template:i,queries:null,viewQuery:D,declTNode:n,data:et.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:Pt,incompleteFirstPass:!1,ssrId:ie}}let Ye=t=>null;function gt(t,n,i,o){for(let h in t)if(t.hasOwnProperty(h)){i=null===i?{}:i;const m=t[h];null===o?Le(i,n,h,m):o.hasOwnProperty(h)&&Le(i,n,o[h],m)}return i}function Le(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function jo(t,n,i,o,h,m,b,D){const x=ws(n,i);let ie,$=n.inputs;!D&&null!=$&&(ie=$[o])?(Ls(t,i,ie,o,h),Ps(n)&&function ph(t,n){const i=As(n,t);16&i[qn]||(i[qn]|=64)}(i,n.index)):3&n.type&&(o=function fh(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),h=null!=b?b(h,n.value||"",o):h,m.setProperty(x,o,h))}function Zp(t,n,i,o){if(Ti()){const h=null===o?null:{"":-1},m=function Af(t,n){const i=t.directiveRegistry;let o=null,h=null;if(i)for(let m=0;m<i.length;m++){const b=i[m];if(Kr(n,b.selectors,!1))if(o||(o=[]),Fi(b))if(null!==b.findHostDirectiveDefs){const D=[];h=h||new Map,b.findHostDirectiveDefs(b,D,h),o.unshift(...D,b),Df(t,n,D.length)}else o.unshift(b),Df(t,n,0);else h=h||new Map,b.findHostDirectiveDefs?.(b,o,h),o.push(b)}return null===o?null:[o,h]}(t,i);let b,D;null===m?b=D=null:[b,D]=m,null!==b&&N_(t,n,i,b,h,D),h&&function Wy(t,n,i){if(n){const o=t.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new Fe(-301,!1);o.push(n[h],m)}}}(i,o,h)}i.mergedAttrs=rr(i.mergedAttrs,i.attrs)}function N_(t,n,i,o,h,m){for(let $=0;$<o.length;$++)uc(Dd(i,n),t,o[$].type);!function Wp(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let $=0;$<o.length;$++){const ie=o[$];ie.providersResolver&&ie.providersResolver(ie)}let b=!1,D=!1,x=ot(t,n,o.length,null);for(let $=0;$<o.length;$++){const ie=o[$];i.mergedAttrs=rr(i.mergedAttrs,ie.hostAttrs),ym(t,i,n,x,ie),Sf(x,ie,h),null!==ie.contentQueries&&(i.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(i.flags|=64);const me=ie.type.prototype;!b&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),b=!0),!D&&(me.ngOnChanges||me.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),x++}!function fl(t,n,i){const h=n.directiveEnd,m=t.data,b=n.attrs,D=[];let x=null,$=null;for(let ie=n.directiveStart;ie<h;ie++){const me=m[ie],Ge=i?i.get(me):null,Pt=Ge?Ge.outputs:null;x=gt(me.inputs,ie,x,Ge?Ge.inputs:null),$=gt(me.outputs,ie,$,Pt);const Yt=null===x||null===b||Vr(n)?null:Ky(x,ie,b);D.push(Yt)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=x,n.outputs=$}(t,i,m)}function gl(t,n,i){const o=i.directiveStart,h=i.directiveEnd,m=i.index,b=function z(){return er.lFrame.currentDirectiveIndex}();try{zc(m);for(let D=o;D<h;D++){const x=t.data[D],$=n[D];ce(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Zy(x,$)}}finally{zc(-1),ce(b)}}function Zy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Df(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Sf(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Fi(n)&&(i[""]=t)}}function ym(t,n,i,o,h){t.data[o]=h;const m=h.factory||(h.factory=Hs(h.type)),b=new Dl(m,Fi(h),R);t.blueprint[o]=b,i[o]=b,function pl(t,n,i,o,h){const m=h.hostBindings;if(m){let b=t.hostBindingOpCodes;null===b&&(b=t.hostBindingOpCodes=[]);const D=~n.index;(function ho(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(b)!=D&&b.push(D),b.push(i,o,m)}}(t,n,o,ot(t,i,h.hostVars,d),h)}function Ta(t,n,i,o,h,m){const b=ws(t,n);!function gh(t,n,i,o,h,m,b){if(null==m)t.removeAttribute(n,h,i);else{const D=null==b?ze(m):b(m,o||"",h);t.setAttribute(n,h,D,i)}}(n[Wn],b,m,t.value,i,o,h)}function Mf(t,n,i,o,h,m){const b=m[n];if(null!==b)for(let D=0;D<b.length;)Kp(o,i,b[D++],b[D++],b[D++])}function Kp(t,n,i,o,h){const m=Li(null);try{const b=t.inputTransforms;null!==b&&b.hasOwnProperty(o)&&(h=b[o].call(n,h)),null!==t.setInput?t.setInput(n,h,i,o):n[o]=h}finally{Li(m)}}function Ky(t,n,i){let o=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===o&&(o=[]);const b=t[m];for(let D=0;D<b.length;D+=2)if(b[D]===n){o.push(m,b[D+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return o}function Yp(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Em(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const m=i[o+1];if(-1!==m){const b=t.data[m];pt(i[o]),b.contentQueries(2,n[m],m)}}}function mh(t,n){return t[hs]?t[kr][Di]=n:t[hs]=n,t[kr]=n,n}function Qp(t,n,i){pt(0);const o=Li(null);try{n(t,i)}finally{Li(o)}}function Jp(t){return t[us]||(t[us]=[])}function Xp(t){return t.cleanup||(t.cleanup=[])}function Ss(t,n){const i=t[ds],o=i?i.get(tu,null):null;o&&o.handleError(n)}function Ls(t,n,i,o,h){for(let m=0;m<i.length;){const b=i[m++],D=i[m++];Kp(t.data[b],n[b],o,D,h)}}function ba(t,n,i){const o=xo(n,t);!function Qm(t,n,i){t.setValue(n,i)}(t[Wn],o,i)}function Yy(t,n){const i=As(n,t),o=i[on];!function Qy(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const h=i[Or];null!==h&&null===i[Xn]&&(i[Xn]=Jl(h,i[ds])),F_(o,i,i[Ar])}function F_(t,n,i){qr(n);try{const o=t.viewQuery;null!==o&&Qp(1,o,i);const h=t.template;null!==h&&xt(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Em(t,n),t.staticViewQueries&&Qp(2,t.viewQuery,i);const m=t.components;null!==m&&function _h(t,n){for(let i=0;i<n.length;i++)Yy(t,n[i])}(n,m)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[qn]&=-5,cc()}}let Ac=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,h){const m=typeof Zone>"u"?null:Zone.current,b=function Mt(t,n,i){const o=Object.create(Rr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const h=b=>{o.cleanupFn=b};return o.ref={notify:()=>xa(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Vc(o))return;o.hasRun=!0;const b=sr(o);try{o.cleanupFn(),o.cleanupFn=_n,o.fn(h)}finally{Lc(o,b)}},cleanup:()=>o.cleanupFn()},o.ref}(i,$=>{this.all.has($)&&this.queue.set($,m)},h);let D;this.all.add(b),b.notify();const x=()=>{b.cleanup(),D?.(),this.all.delete(b),this.queue.delete(b)};return D=o?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function nu(t,n,i){let o=i?t.styles:null,h=i?t.classes:null,m=0;if(null!==n)for(let b=0;b<n.length;b++){const D=n[b];"number"==typeof D?m=D:1==m?h=st(h,D):2==m&&(o=st(o,D+": "+n[++b]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=h:t.classesWithoutHost=h}function eg(t,n,i,o,h=!1){for(;null!==i;){const m=n[i.index];null!==m&&o.push(si(m)),$i(m)&&L_(m,o);const b=i.type;if(8&b)eg(t,n,i.child,o);else if(32&b){const D=jd(i,n);let x;for(;x=D();)o.push(x)}else if(16&b){const D=xg(n,i);if(Array.isArray(D))o.push(...D);else{const x=Ou(n[Bn]);eg(x[on],x,D,o,!0)}}i=h?i.projectionNext:i.next}return o}function L_(t,n){for(let i=li;i<t.length;i++){const o=t[i],h=o[on].firstChild;null!==h&&eg(o[on],o,h,n)}t[bs]!==t[Or]&&n.push(t[bs])}function ru(t,n,i,o=!0){const h=n[mo],m=h.rendererFactory,b=h.afterRenderEventManager;m.begin?.(),b?.begin();try{yh(t,n,t.template,i)}catch(x){throw o&&Ss(n,x),x}finally{m.end?.(),h.effectManager?.flush(),b?.end()}}function yh(t,n,i,o){const h=n[qn];if(256!=(256&h)){n[mo].effectManager?.flush(),qr(n);try{Oo(n),function Id(t){return er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&xt(t,n,i,2,o);const b=3==(3&h);if(b){const $=t.preOrderCheckHooks;null!==$&&yo(n,$,null)}else{const $=t.preOrderHooks;null!==$&&ea(n,$,0,null),Lo(n,0)}if(function Im(t){for(let n=Dg(t);null!==n;n=Jh(n)){if(!n[ki])continue;const i=n[Go];for(let o=0;o<i.length;o++){No(i[o])}}}(n),tg(n,2),null!==t.contentQueries&&Em(t,n),b){const $=t.contentCheckHooks;null!==$&&yo(n,$)}else{const $=t.contentHooks;null!==$&&ea(n,$,1),Lo(n,1)}!function K(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Qu(n,_o);try{for(let h=0;h<i.length;h++){const m=i[h];if(m<0)zc(~m);else{const b=m,D=i[++h],x=i[++h];N(D,b),o.dirty=!1;const $=sr(o);try{x(2,n[b])}finally{Lc(o,$)}}}}finally{null===n[_o]&&u(n,_o),zc(-1)}}(t,n);const D=t.components;null!==D&&ng(n,D,0);const x=t.viewQuery;if(null!==x&&Qp(2,x,o),b){const $=t.viewCheckHooks;null!==$&&yo(n,$)}else{const $=t.viewHooks;null!==$&&ea(n,$,2),Lo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[qn]&=-73,pd(n)}finally{cc()}}}function tg(t,n){for(let i=Dg(t);null!==i;i=Jh(i))for(let o=li;o<i.length;o++)U_(i[o],n)}function vh(t,n,i){U_(As(n,t),i)}function U_(t,n){if(!function sc(t){return 128==(128&t[qn])}(t))return;const i=t[on],o=t[qn];if(80&o&&0===n||1024&o||2===n)yh(i,t,i.template,t[Ar]);else if(t[Qs]>0){tg(t,1);const h=i.components;null!==h&&ng(t,h,1)}}function ng(t,n,i){for(let o=0;o<n.length;o++)vh(t,n[o],i)}class Eh{get rootNodes(){const n=this._lView,i=n[on];return eg(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ar]}set context(n){this._lView[Ar]=n}get destroyed(){return 256==(256&this._lView[qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Mr];if($i(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(fp(n,o),mc(i,o))}this._attachedToViewContainer=!1}To(this._lView[on],this._lView)}onDestroy(n){!function qf(t,n){if(256==(256&t[qn]))throw new Fe(911,!1);null===t[js]&&(t[js]=[]),t[js].push(n)}(this._lView,n)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[qn]&=-129}reattach(){this._lView[qn]|=128}detectChanges(){ru(this._lView[on],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hp(t,n){zl(t,n,n[Wn],2,null,null)}(this._lView[on],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=n}}class rg extends Eh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ru(n[on],n,n[Ar],!1)}checkNoChanges(){}get context(){return null}}class B_ extends Hp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Un(n);return new Dc(i,this.ngModule)}}function Co(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class ig{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ln(o);const h=this.injector.get(n,Zu,o);return h!==Zu||i===Zu?h:this.parentInjector.get(n,i,o)}}class Dc extends C_{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Co(n.inputs);if(null!==i)for(const h of o)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return o}get outputs(){return Co(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Xi(t){return t.map(Bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,h){let m=(h=h||this.ngModule)instanceof Ia?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new ig(n,m):n,D=b.get(Ef,null);if(null===D)throw new Fe(407,!1);const me={rendererFactory:D,sanitizer:b.get(zp,null),effectManager:b.get(Ac,null),afterRenderEventManager:b.get(fm,null)},Ge=D.createRenderer(null,this.componentDef),et=this.componentDef.selectors[0][0]||"div",Pt=o?function Zr(t,n,i,o){const m=o.get(pm,!1)||i===Qt.ShadowDom,b=t.selectRootElement(n,m);return function yr(t){Ye(t)}(b),b}(Ge,o,this.componentDef.encapsulation,b):dp(Ge,et,function Xy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(et)),Yn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ht=null;null!==Pt&&(Ht=Jl(Pt,b,!0));const br=kn(0,null,null,1,0,null,null,null,null,null,null),jr=oe(null,br,null,Yn,null,null,me,Ge,b,null,Ht);let Oi,Rc;qr(jr);try{const Gf=this.componentDef;let dy,H0=null;Gf.findHostDirectiveDefs?(dy=[],H0=new Map,Gf.findHostDirectiveDefs(Gf,dy,H0),dy.push(Gf)):dy=[Gf];const KA=function bm(t,n){const i=t[on],o=lr;return t[o]=n,ge(i,o,2,"#host",null)}(jr,Pt),YA=function Rf(t,n,i,o,h,m,b){const D=h[on];!function Cm(t,n,i,o){for(const h of t)n.mergedAttrs=rr(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(nu(n,n.mergedAttrs,!0),null!==i&&Og(o,i,n))}(o,t,n,b);let x=null;null!==n&&(x=Jl(n,h[ds]));const $=m.rendererFactory.createRenderer(n,i);let ie=16;i.signals?ie=4096:i.onPush&&(ie=64);const me=oe(h,zn(i),null,ie,h[t.index],t,m,$,null,null,x);return D.firstCreatePass&&Df(D,t,o.length-1),mh(h,me),h[t.index]=me}(KA,Pt,Gf,dy,jr,me,Ge);Rc=Cl(br,lr),Pt&&function sg(t,n,i,o){if(o)wr(t,i,["ng-version",If.full]);else{const{attrs:h,classes:m}=function Aa(t){const n=[],i=[];let o=1,h=2;for(;o<t.length;){let m=t[o];if("string"==typeof m)2===h?""!==m&&n.push(m,t[++o]):8===h&&i.push(m);else{if(!Ui(h))break;h=m}o++}return{attrs:n,classes:i}}(n.selectors[0]);h&&wr(t,i,h),m&&m.length>0&&sl(t,i,m.join(" "))}}(Ge,Gf,Pt,o),void 0!==i&&function tv(t,n,i){const o=t.projection=[];for(let h=0;h<n.length;h++){const m=i[h];o.push(null!=m?Array.from(m):null)}}(Rc,this.ngContentSelectors,i),Oi=function ev(t,n,i,o,h,m){const b=os(),D=h[on],x=ws(b,h);N_(D,h,b,i,null,o);for(let ie=0;ie<i.length;ie++)ks(qc(h,D,b.directiveStart+ie,b),h);gl(D,h,b),x&&ks(x,h);const $=qc(h,D,b.directiveStart+b.componentOffset,b);if(t[Ar]=h[Ar]=$,null!==m)for(const ie of m)ie($,n);return Kt(D,b,t),$}(YA,Gf,dy,H0,jr,[j_]),F_(br,jr,null)}finally{cc()}return new Tm(this.componentType,Oi,lh(Rc,jr),jr,Rc)}}class Tm extends jv{constructor(n,i,o,h,m){super(),this.location=o,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new rg(h),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let h;if(null!==o&&(h=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Ls(m[on],m,h,n,i),this.previousInputValues.set(n,i),Cf(As(this._tNode.index,m))}}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function j_(){const t=os();kh(Nt()[on],t)}function ml(t){let n=function xf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let h;if(Fi(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Fe(903,!1);h=n.\u0275dir}if(h){if(i){o.push(h);const b=t;b.inputs=og(t.inputs),b.inputTransforms=og(t.inputTransforms),b.declaredInputs=og(t.declaredInputs),b.outputs=og(t.outputs);const D=h.hostBindings;D&&rv(t,D);const x=h.viewQuery,$=h.contentQueries;if(x&&H_(t,x),$&&$_(t,$),se(t.inputs,h.inputs),se(t.declaredInputs,h.declaredInputs),se(t.outputs,h.outputs),null!==h.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),se(b.inputTransforms,h.inputTransforms)),Fi(h)&&h.data.animation){const ie=t.data;ie.animation=(ie.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let b=0;b<m.length;b++){const D=m[b];D&&D.ngInherit&&D(t),D===ml&&(i=!1)}}n=Object.getPrototypeOf(n)}!function nv(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const h=t[o];h.hostVars=n+=h.hostVars,h.hostAttrs=rr(h.hostAttrs,i=rr(i,h.hostAttrs))}}(o)}function og(t){return t===cr?{}:t===dn?[]:t}function H_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,h)=>{n(o,h),i(o,h)}:n}function $_(t,n){const i=t.contentQueries;t.contentQueries=i?(o,h,m)=>{n(o,h,m),i(o,h,m)}:n}function rv(t,n){const i=t.hostBindings;t.hostBindings=i?(o,h)=>{n(o,h),i(o,h)}:n}function z_(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const h=n[o];Array.isArray(h)&&h[2]&&(i[o]=h[2])}t.inputTransforms=i}function ag(t){return!!Dm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Dm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _l(t,n,i){return t[n]=i}function fo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ed(t,n,i,o){const h=fo(t,n,i);return fo(t,n+1,o)||h}function Sc(t,n,i,o){const h=Nt();return fo(h,da(),n)&&(Nr(),Ta(di(),h,t,n,i,o)),Sc}function su(t,n,i,o){return fo(t,da(),i)?n+ze(i)+o:d}function Th(t,n,i,o,h,m){const D=ed(t,function Fo(){return er.lFrame.bindingIndex}(),i,h);return S(2),D?n+ze(i)+o+ze(h)+m:d}function Rm(t,n,i,o,h,m,b,D){const x=Nt(),$=Nr(),ie=t+lr,me=$.firstCreatePass?function yv(t,n,i,o,h,m,b,D,x){const $=n.consts,ie=ge(n,t,4,b||null,ro($,D));Zp(n,i,ie,ro($,x)),kh(n,ie);const me=ie.tView=kn(2,ie,o,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,ie),me.queries=n.queries.embeddedTView(ie)),ie}(ie,$,x,n,i,o,h,m,b):$.data[ie];gs(me,!1);const Ge=xm($,x,me,t);Xo()&&vp($,x,Ge,me),ks(Ge,x),mh(x,x[ie]=Yp(Ge,x,Ge,me)),Js(me)&&Bt($,x,me),null!=b&&Pn(x,me,D)}let xm=function ny(t,n,i,o){return fa(!0),n[Wn].createComment("")};function sd(t){return Jo(function vd(){return er.lFrame.contextLView}(),lr+t)}function Nm(t,n,i){const o=Nt();return fo(o,da(),n)&&jo(Nr(),di(),o,t,n,o[Wn],i,!1),Nm}function km(t,n,i,o,h){const b=h?"class":"style";Ls(t,i,n.inputs[b],b,o)}function dg(t,n,i,o){const h=Nt(),m=Nr(),b=lr+t,D=h[Wn],x=m.firstCreatePass?function Iv(t,n,i,o,h,m){const b=n.consts,x=ge(n,t,2,o,ro(b,h));return Zp(n,i,x,ro(b,m)),null!==x.attrs&&nu(x,x.attrs,!1),null!==x.mergedAttrs&&nu(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(b,m,h,n,i,o):m.data[b],$=ry(m,h,x,D,n,t);h[b]=$;const ie=Js(x);return gs(x,!0),Og(D,$,x),32!=(32&x.flags)&&Xo()&&vp(m,h,$,x),0===function Fa(){return er.lFrame.elementDepthCount}()&&ks($,h),function Rh(){er.lFrame.elementDepthCount++}(),ie&&(Bt(m,h,x),Kt(m,x,h)),null!==o&&Pn(h,x),dg}function Dh(){let t=os();$c()?ac():(t=t.parent,gs(t,!1));const n=t;(function xh(t){return er.skipHydrationRootTNode===t})(n)&&function pg(){er.skipHydrationRootTNode=null}(),function md(){er.lFrame.elementDepthCount--}();const i=Nr();return i.firstCreatePass&&(kh(i,t),Ya(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function gg(t){return 0!=(8&t.flags)}(n)&&km(i,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fh(t){return 0!=(16&t.flags)}(n)&&km(i,n,Nt(),n.stylesWithoutHost,!1),Dh}function Ho(t,n,i,o){return dg(t,n,i,o),Dh(),Ho}let ry=(t,n,i,o,h,m)=>(fa(!0),dp(o,h,function ha(){return er.lFrame.currentNamespace}()));function wi(){return Nt()}function Vs(t){return!!t&&"function"==typeof t.then}function ti(t){return!!t&&"function"==typeof t.subscribe}function Zs(t,n,i,o){const h=Nt(),m=Nr(),b=os();return function Ga(t,n,i,o,h,m,b){const D=Js(o),$=t.firstCreatePass&&Xp(t),ie=n[Ar],me=Jp(n);let Ge=!0;if(3&o.type||b){const Yt=ws(o,n),En=b?b(Yt):Yt,Yn=me.length,Ht=b?jr=>b(si(jr[o.index])):o.index;let br=null;if(!b&&D&&(br=function jf(t,n,i,o){const h=t.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const b=h[m];if(b===i&&h[m+1]===o){const D=n[us],x=h[m+2];return D.length>x?D[x]:null}"string"==typeof b&&(m+=2)}return null}(t,n,h,o.index)),null!==br)(br.__ngLastListenerFn__||br).__ngNextListenerFn__=m,br.__ngLastListenerFn__=m,Ge=!1;else{m=Fm(o,n,ie,m,!1);const jr=i.listen(En,h,m);me.push(m,jr),$&&$.push(h,Ht,Yn,Yn+1)}}else m=Fm(o,n,ie,m,!1);const et=o.outputs;let Pt;if(Ge&&null!==et&&(Pt=et[h])){const Yt=Pt.length;if(Yt)for(let En=0;En<Yt;En+=2){const Oi=n[Pt[En]][Pt[En+1]].subscribe(m),Rc=me.length;me.push(m,Oi),$&&$.push(h,o.index,Rc,-(Rc+1))}}}(m,h,h[Wn],b,t,n,o),Zs}function Hf(t,n,i,o){try{return Jn(6,n,i),!1!==i(o)}catch(h){return Ss(t,h),!1}finally{Jn(7,n,i)}}function Fm(t,n,i,o,h){return function m(b){if(b===Function)return o;Cf(t.componentOffset>-1?As(t.index,n):n);let x=Hf(n,i,o,b),$=m.__ngNextListenerFn__;for(;$;)x=Hf(n,i,$,b)&&x,$=$.__ngNextListenerFn__;return h&&!1===x&&b.preventDefault(),x}}function jE(t=1){return function so(t){return(er.lFrame.contextLView=function mu(t,n){for(;t>0;)n=n[Ni],t--;return n}(t,er.lFrame.contextLView))[Ar]}(t)}function $0(t,n){let i=null;const o=function Oc(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const m=n[h];if("*"!==m){if(null===o?Kr(t,m,!0):wa(o,m))return h}else i=h}return i}function HE(t){const n=Nt()[Bn][Xr];if(!n.projection){const o=n.projection=Nl(t?t.length:1,null),h=o.slice();let m=n.child;for(;null!==m;){const b=t?$0(m,t):0;null!==b&&(h[b]?h[b].projectionNext=m:o[b]=m,h[b]=m),m=m.next}}}function $E(t,n=0,i){const o=Nt(),h=Nr(),m=ge(h,lr+t,16,null,i||null);null===m.projection&&(m.projection=n),ac(),(!o[Xn]||La())&&32!=(32&m.flags)&&function Gd(t,n,i){af(n[Wn],0,n,i,ef(t,i,n),mp(i.parent||n[Xr],i,n))}(h,o,m)}function iE(t,n,i){return bv(t,"",n,"",i),iE}function bv(t,n,i,o,h){const m=Nt(),b=su(m,n,i,o);return b!==d&&jo(Nr(),di(),m,t,b,m[Wn],h,!1),bv}function Cv(t,n){return t<<17|n<<2}function $f(t){return t>>17&32767}function sE(t){return 2|t}function hg(t){return(131068&t)>>2}function oE(t,n){return-131069&t|n<<2}function aE(t){return 1|t}function JE(t,n,i,o,h){const m=t[i+1],b=null===n;let D=o?$f(m):hg(m),x=!1;for(;0!==D&&(!1===x||b);){const ie=t[D+1];K0(t[D],n)&&(x=!0,t[D+1]=o?aE(ie):sE(ie)),D=o?$f(ie):hg(ie)}x&&(t[i+1]=o?sE(m):aE(m))}function K0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Fl(t,n)>=0}function fE(t,n){return function uu(t,n,i,o){const h=Nt(),m=Nr(),b=S(2);m.firstUpdatePass&&function pE(t,n,i,o){const h=t.data;if(null===h[i+1]){const m=h[_s()],b=function n0(t,n){return n>=t.expandoStartIndex}(t,i);(function p(t,n){return 0!=(t.flags&(n?8:16))})(m,o)&&null===n&&!b&&(n=!1),n=function tI(t,n,i,o){const h=function Ee(t){const n=er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=o?n.residualClasses:n.residualStyles;if(null===h)0===(o?n.classBindings:n.styleBindings)&&(i=iy(i=gE(null,t,n,i,o),n.attrs,o),m=null);else{const b=n.directiveStylingLast;if(-1===b||t[b]!==h)if(i=gE(h,t,n,i,o),null===m){let x=function nI(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==hg(o))return t[$f(o)]}(t,n,o);void 0!==x&&Array.isArray(x)&&(x=gE(null,t,n,x[1],o),x=iy(x,n.attrs,o),function rI(t,n,i,o){t[$f(i?n.classBindings:n.styleBindings)]=o}(t,n,o,x))}else m=function iI(t,n,i){let o;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)o=iy(o,t[m].hostAttrs,i);return iy(o,n.attrs,i)}(t,n,o)}return void 0!==m&&(o?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,o),function Z0(t,n,i,o,h,m){let b=m?n.classBindings:n.styleBindings,D=$f(b),x=hg(b);t[o]=i;let ie,$=!1;if(Array.isArray(i)?(ie=i[1],(null===ie||Fl(i,ie)>0)&&($=!0)):ie=i,h)if(0!==x){const Ge=$f(t[D+1]);t[o+1]=Cv(Ge,D),0!==Ge&&(t[Ge+1]=oE(t[Ge+1],o)),t[D+1]=function G0(t,n){return 131071&t|n<<17}(t[D+1],o)}else t[o+1]=Cv(D,0),0!==D&&(t[D+1]=oE(t[D+1],o)),D=o;else t[o+1]=Cv(x,0),0===D?D=o:t[x+1]=oE(t[x+1],o),x=o;$&&(t[o+1]=sE(t[o+1])),JE(t,ie,o,!0),JE(t,ie,o,!1),function W0(t,n,i,o,h){const m=h?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Fl(m,n)>=0&&(i[o+1]=aE(i[o+1]))}(n,ie,t,o,m),b=Cv(D,x),m?n.classBindings=b:n.styleBindings=b}(h,m,n,i,b,o)}}(m,t,b,o),n!==d&&fo(h,b,n)&&function _E(t,n,i,o,h,m,b,D){if(!(3&n.type))return;const x=t.data,$=x[D+1],ie=function q0(t){return 1==(1&t)}($)?f(x,n,i,h,hg($),b):void 0;c(ie)||(c(m)||function z0(t){return 2==(2&t)}($)&&(m=f(x,null,i,h,D,b)),function o_(t,n,i,o,h){if(n)h?t.addClass(i,o):t.removeClass(i,o);else{let m=-1===o.indexOf("-")?void 0:Ld.DashCase;null==h?t.removeStyle(i,o,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ld.Important),t.setStyle(i,o,h,m))}}(o,b,xo(_s(),i),h,m))}(m,m.data[_s()],h,h[Wn],t,h[b+1]=function a(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ye(Ic(t)))),t}(n,i),o,b)}(t,n,null,!0),fE}function gE(t,n,i,o,h){let m=null;const b=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<b&&(m=n[D],o=iy(o,m.hostAttrs,h),m!==t);)D++;return null!==t&&(i.directiveStylingLast=D),o}function iy(t,n,i){const o=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const b=n[m];"number"==typeof b?h=b:h===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oo(t,b,!!i||n[++m]))}return void 0===t?null:t}function f(t,n,i,o,h,m){const b=null===n;let D;for(;h>0;){const x=t[h],$=Array.isArray(x),ie=$?x[1]:x,me=null===ie;let Ge=i[h+1];Ge===d&&(Ge=me?dn:void 0);let et=me?Du(Ge,o):ie===o?Ge:void 0;if($&&!c(et)&&(et=Du(x,o)),c(et)&&(D=et,b))return D;const Pt=t[h+1];h=b?$f(Pt):hg(Pt)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(D=Du(x,o))}return D}function c(t){return void 0!==t}function I(t,n=""){const i=Nt(),o=Nr(),h=t+lr,m=o.firstCreatePass?ge(o,h,1,n,null):o.data[h],b=k(o,i,m,n,t);i[h]=b,Xo()&&vp(o,i,b,m),gs(m,!1)}let k=(t,n,i,o,h)=>(fa(!0),function Hd(t,n){return t.createText(n)}(n[Wn],o));function Pe(t){return Ze("",t,""),Pe}function Ze(t,n,i){const o=Nt(),h=su(o,t,n,i);return h!==d&&ba(o,_s(),h),Ze}function Dt(t,n,i,o,h){const m=Nt(),b=Th(m,t,n,i,o,h);return b!==d&&ba(m,_s(),b),Dt}const ud=void 0;var Ib=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Eb(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let sy={};function o0(t){const n=function Tb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=aI(n);if(i)return i;const o=n.split("-")[0];if(i=aI(o),i)return i;if("en"===o)return Ib;throw new Fe(701,!1)}function oI(t){return o0(t)[oy.PluralCase]}function aI(t){return t in sy||(sy[t]=$n.ng&&$n.ng.common&&$n.ng.common.locales&&$n.ng.common.locales[t]),sy[t]}var oy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(oy||{});const ay="en-US";let cI=ay;function l0(t,n,i,o,h){if(t=ft(t),Array.isArray(t))for(let m=0;m<t.length;m++)l0(t[m],n,i,o,h);else{const m=Nr(),b=Nt(),D=os();let x=nh(t)?t:ft(t.provide);const $=v_(t),ie=1048575&D.providerIndexes,me=D.directiveStart,Ge=D.providerIndexes>>20;if(nh(t)||!t.multi){const et=new Dl($,h,R),Pt=d0(x,n,h?ie:ie+Ge,me);-1===Pt?(uc(Dd(D,b),m,x),u0(m,t,n.length),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(et),b.push(et)):(i[Pt]=et,b[Pt]=et)}else{const et=d0(x,n,ie+Ge,me),Pt=d0(x,n,ie,ie+Ge),En=Pt>=0&&i[Pt];if(h&&!En||!h&&!(et>=0&&i[et])){uc(Dd(D,b),m,x);const Yn=function EC(t,n,i,o,h){const m=new Dl(t,i,R);return m.multi=[],m.index=n,m.componentProviders=0,OI(m,h,o&&!i),m}(h?vC:yC,i.length,h,o,$);!h&&En&&(i[Pt].providerFactory=Yn),u0(m,t,n.length,0),n.push(x),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),i.push(Yn),b.push(Yn)}else u0(m,t,et>-1?et:Pt,OI(i[h?Pt:et],$,!h&&o));!h&&o&&En&&i[Pt].componentProviders++}}}function u0(t,n,i,o){const h=nh(n),m=function Ci(t){return!!t.useClass}(n);if(h||m){const x=(m?ft(n.useClass):n).prototype.ngOnDestroy;if(x){const $=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const ie=$.indexOf(i);-1===ie?$.push(i,[o,x]):$[ie+1].push(o,x)}else $.push(i,x)}}}function OI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function d0(t,n,i,o){for(let h=i;h<o;h++)if(n[h]===t)return h;return-1}function yC(t,n,i,o){return h0(this.multi,[])}function vC(t,n,i,o){const h=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=qc(i,i[on],this.providerFactory.index,o);m=D.slice(0,b),h0(h,m);for(let x=b;x<D.length;x++)m.push(D[x])}else m=[],h0(h,m);return m}function h0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function NI(t,n=[]){return i=>{i.providersResolver=(o,h)=>function _C(t,n,i){const o=Nr();if(o.firstCreatePass){const h=Fi(t);l0(i,o.data,o.blueprint,h,!0),l0(n,o.data,o.blueprint,h,!1)}}(o,h?h(t):t,n)}}class Bm{}class kI{}function IC(t,n){return new f0(t,n??null,[])}class f0 extends Bm{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B_(this);const h=zr(n);this._bootstrapComponents=hl(h.bootstrap),this._r3Injector=dh(n,i,[{provide:Bm,useValue:this},{provide:Hp,useValue:this.componentFactoryResolver},...o],ye(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class p0 extends kI{constructor(n){super(),this.moduleType=n}create(n){return new f0(this.moduleType,n,[])}}class FI extends Bm{constructor(n){super(),this.componentFactoryResolver=new B_(this),this.instance=null;const i=new rh([...n.providers,{provide:Bm,useValue:this},{provide:Hp,useValue:this.componentFactoryResolver}],n.parent||uf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function LI(t,n,i=null){return new FI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let bC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=Ds(0,i.type),h=o.length>0?LI([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Cn({token:t,providedIn:"environment",factory:()=>new t(Ot(Ia))})}return t})();function VI(t){t.getStandaloneInjector=n=>n.get(bC).getOrCreateStandaloneInjector(t)}function GI(t,n,i){const o=xs()+t,h=Nt();return h[o]===d?_l(h,o,i?n.call(i):n()):function cg(t,n){return t[n]}(h,o)}function qI(t,n,i,o){return ZI(Nt(),xs(),t,n,i,o)}function Nv(t,n){const i=t[n];return i===d?void 0:i}function ZI(t,n,i,o,h,m){const b=n+i;return fo(t,b,h)?_l(t,b+1,m?o.call(m,h):o(h)):Nv(t,b+1)}function JI(t,n){const i=Nr();let o;const h=t+lr;i.firstCreatePass?(o=function BC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[h]=o,o.onDestroy&&(i.destroyHooks??=[]).push(h,o.onDestroy)):o=i.data[h];const m=o.factory||(o.factory=Hs(o.type)),D=vr(R);try{const x=ga(!1),$=m();return ga(x),function Ev(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Nt(),h,$),$}finally{vr(D)}}function XI(t,n,i){const o=t+lr,h=Nt(),m=Jo(h,o);return kv(h,o)?ZI(h,xs(),n,m.transform,i,m):m.transform(i)}function eT(t,n,i,o){const h=t+lr,m=Nt(),b=Jo(m,h);return kv(m,h)?function WI(t,n,i,o,h,m,b){const D=n+i;return ed(t,D,h,m)?_l(t,D+2,b?o.call(b,h,m):o(h,m)):Nv(t,D+2)}(m,xs(),n,b.transform,i,o,b):b.transform(i,o)}function kv(t,n){return t[on].data[n].pure}function zC(){return this._results[Symbol.iterator]()}class m0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new dl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=m0.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=zC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const h=function xr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function wu(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let h=t[o],m=n[o];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(o._results,h,i))&&(o._results=h,o.length=h.length,o.last=h[this.length-1],o.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qC(t,n,i,o=!0){const h=n[on];if(function $d(t,n,i,o){const h=li+o,m=i.length;o>0&&(i[h-1][Di]=n),o<m-li?(n[Di]=i[h],Au(i,li+o,n)):(i.push(n),n[Di]=null),n[Mr]=i;const b=n[fs];null!==b&&i!==b&&function e_(t,n){const i=t[Go];n[Bn]!==n[Mr][Mr][Bn]&&(t[ki]=!0),null===i?t[Go]=[n]:i.push(n)}(b,n);const D=n[ps];null!==D&&D.insertView(t),n[qn]|=128}(h,n,t,i),o){const m=nf(i,t),b=n[Wn],D=gp(b,t[bs]);null!==D&&function lo(t,n,i,o,h,m){o[Or]=h,o[Xr]=n,zl(t,o,i,1,h,m)}(h,t[Xr],b,n,D,m)}}let Fv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const ZC=Fv,WC=class extends ZC{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const h=function GC(t,n,i,o){const h=n.tView,D=oe(t,h,i,4096&t[qn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);D[fs]=t[n.index];const $=t[ps];return null!==$&&(D[ps]=$.createEmbeddedView(h)),F_(h,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Eh(h)}};function KC(){return AE(os(),Nt())}function AE(t,n){return 4&t.type?new WC(n,t,lh(t,n)):null}let SE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tw}return t})();function tw(){return aT(os(),Nt())}const nw=SE,sT=class extends nw{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return lh(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pl(this._hostTNode,this._hostLView);if(Sl(n)){const i=ta(n,this._hostLView),o=vu(n);return new vs(i[on].data[o+8],i)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=oT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-li}createEmbeddedView(n,i,o){let h,m;"number"==typeof o?h=o:null!=o&&(h=o.index,m=o.injector);const D=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(D,h,false),D}createComponent(n,i,o,h,m){const b=n&&!function gc(t){return"function"==typeof t}(n);let D;if(b)D=i;else{const Yt=i||{};D=Yt.index,o=Yt.injector,h=Yt.projectableNodes,m=Yt.environmentInjector||Yt.ngModuleRef}const x=b?n:new Dc(Un(n)),$=o||this.parentInjector;if(!m&&null==x.ngModule){const En=(b?$:this.parentInjector).get(Ia,null);En&&(m=En)}Un(x.componentType??{});const et=x.create($,h,null,m);return this.insertImpl(et.hostView,D,false),et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const h=n._lView;if(function pu(t){return $i(t[Mr])}(h)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const $=h[Mr],ie=new sT($,$[Xr],$[Mr]);ie.detach(ie.indexOf(n))}}const b=this._adjustIndex(i),D=this._lContainer;return qC(D,h,b,!o),n.attachToViewContainerRef(),Au(_0(D),b,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=oT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=fp(this._lContainer,i);o&&(mc(_0(this._lContainer),i),To(o[on],o))}detach(n){const i=this._adjustIndex(n,-1),o=fp(this._lContainer,i);return o&&null!=mc(_0(this._lContainer),i)?new Eh(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function oT(t){return t[8]}function _0(t){return t[8]||(t[8]=[])}function aT(t,n){let i;const o=n[t.index];return $i(o)?i=o:(i=Yp(o,n,null,t),n[t.index]=i,mh(n,i)),cT(i,n,t,o),new sT(i,t,n)}let cT=function lT(t,n,i,o){if(t[bs])return;let h;h=8&i.type?si(o):function rw(t,n){const i=t[Wn],o=i.createComment(""),h=ws(n,t);return bo(i,gp(i,h),o,function Pg(t,n){return t.nextSibling(n)}(i,h),!1),o}(n,i),t[bs]=h};class y0{constructor(n){this.queryList=n,this.matches=null}clone(){return new y0(this.queryList)}setDirty(){this.queryList.setDirty()}}class v0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<o;m++){const b=i.getByIndex(m);h.push(this.queries[b.indexInDeclarationView].clone())}return new v0(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==_T(n,i).matches&&this.queries[i].setDirty()}}class uT{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class E0{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const h=null!==i?i.length:0,m=this.getByIndex(o).embeddedTView(n,h);m&&(m.indexInDeclarationView=o,null!==i?i.push(m):i=[m])}return null!==i?new E0(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class I0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new I0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let h=0;h<o.length;h++){const m=o[h];this.matchTNodeWithReadOption(n,i,ow(i,m)),this.matchTNodeWithReadOption(n,i,Eu(i,n,m,!1,!1))}else o===Fv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Eu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const h=this.metadata.read;if(null!==h)if(h===Gu||h===SE||h===Fv&&4&i.type)this.addMatch(i.index,-2);else{const m=Eu(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function ow(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function cw(t,n,i,o){return-1===i?function aw(t,n){return 11&t.type?lh(t,n):4&t.type?AE(t,n):null}(n,t):-2===i?function lw(t,n,i){return i===Gu?lh(n,t):i===Fv?AE(n,t):i===SE?aT(n,t):void 0}(t,n,o):qc(t,t[on],i,n)}function dT(t,n,i,o){const h=n[ps].queries[o];if(null===h.matches){const m=t.data,b=i.matches,D=[];for(let x=0;x<b.length;x+=2){const $=b[x];D.push($<0?null:cw(n,m[$],b[x+1],i.metadata.read))}h.matches=D}return h.matches}function T0(t,n,i,o){const h=t.queries.getByIndex(i),m=h.matches;if(null!==m){const b=dT(t,n,h,i);for(let D=0;D<m.length;D+=2){const x=m[D];if(x>0)o.push(b[D/2]);else{const $=m[D+1],ie=n[-x];for(let me=li;me<ie.length;me++){const Ge=ie[me];Ge[fs]===Ge[Mr]&&T0(Ge[on],Ge,$,o)}if(null!==ie[Go]){const me=ie[Go];for(let Ge=0;Ge<me.length;Ge++){const et=me[Ge];T0(et[on],et,$,o)}}}}}return o}function hT(t){const n=Nt(),i=Nr(),o=ht();pt(o+1);const h=_T(i,o);if(t.dirty&&function jc(t){return 4==(4&t[qn])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const m=h.crossesNgTemplate?T0(i,n,o,[]):dT(i,n,h,o);t.reset(m,qu),t.notifyOnChanges()}return!0}return!1}function fT(t,n,i,o){const h=Nr();if(h.firstCreatePass){const m=os();(function mT(t,n,i){null===t.queries&&(t.queries=new E0),t.queries.track(new I0(n,i))})(h,new uT(n,i,o),m.index),function hw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}!function gT(t,n,i){const o=new m0(4==(4&i));(function Qe(t,n,i,o){const h=Jp(n);h.push(i),t.firstCreatePass&&Xp(t).push(o,h.length-1)})(t,n,o,o.destroy),null===n[ps]&&(n[ps]=new v0),n[ps].queries.push(new y0(o))}(h,Nt(),i)}function pT(){return function dw(t,n){return t[ps].queries[n].queryList}(Nt(),ht())}function _T(t,n){return t.queries.getByIndex(n)}function b0(t){return!!zr(t)}const NT=new rn("Application Initializer");let S0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Xt(NT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(Vs(m))i.push(m);else if(ti(m)){const b=new Promise((D,x)=>{m.subscribe({complete:D,error:x})});i.push(b)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(h=>{this.reject(h)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kT=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const PE=new rn("LocaleId",{providedIn:"root",factory:()=>Xt(PE,Tn.Optional|Tn.SkipSelf)||function Nw(){return typeof $localize<"u"&&$localize.locale||ay}()}),kw=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let FT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Vw=(()=>{class t{compileModuleSync(i){return new p0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),m=hl(zr(i).declarations).reduce((b,D)=>{const x=Un(D);return x&&b.push(new Dc(x)),b},[]);return new Lw(o,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const BT=new rn(""),jT=new rn("");let R0,oA=(()=>{class t{constructor(i,o,h){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R0||(function aA(t){R0=t}(h),h.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,h){let m=-1;o&&o>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,o,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,h){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(Mi),Ot(HT),Ot(jT))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac})}return t})(),HT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return R0?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fg=null;const $T=new rn("AllowMultipleToken"),x0=new rn("PlatformDestroyListeners"),O0=new rn("appBootstrapListener");class uA{constructor(n,i){this.name=n,this.token=i}}function qT(t,n,i=[]){const o=`Platform: ${n}`,h=new rn(o);return(m=[])=>{let b=N0();if(!b||b.injector.get($T,!1)){const D=[...i,...m,{provide:h,useValue:!0}];t?t(D):function dA(t){if(fg&&!fg.get($T,!1))throw new Fe(400,!1);(function zT(){!function bl(t){Na=t}(()=>{throw new Fe(600,!1)})})(),fg=t;const n=t.get(WT);(function GT(t){t.get(Kl,null)?.forEach(i=>i())})(t)}(function ZT(t=[],n){return Bo.create({name:n,providers:[{provide:Sy,useValue:"platform"},{provide:x0,useValue:new Set([()=>fg=null])},...t]})}(D,o))}return function fA(t){const n=N0();if(!n)throw new Fe(401,!1);return n}()}}function N0(){return fg?.get(WT)??null}let WT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const h=function pA(t="zone.js",n){return"noop"===t?new Gv:"zone.js"===t?new Mi(n):t}(o?.ngZone,function KT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return h.run(()=>{const m=function TC(t,n,i){return new f0(t,n,i)}(i.moduleType,this.injector,function eb(t){return[{provide:Mi,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const n=Xt(mA,{optional:!0});return()=>n.initialize()}},{provide:XT,useFactory:gA},{provide:dm,useFactory:P_}]}(()=>h)),b=m.injector.get(tu,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:x=>{b.handleError(x)}});m.onDestroy(()=>{xE(this._modules,m),D.unsubscribe()})}),function YT(t,n,i){try{const o=i();return Vs(o)?o.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(b,h,()=>{const D=m.injector.get(S0);return D.runInitializers(),D.donePromise.then(()=>(function lI(t){Gt(t,"Expected localeId to be defined"),"string"==typeof t&&(cI=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(PE,ay)||ay),this._moduleDoBootstrap(m),m))})})}bootstrapModule(i,o=[]){const h=QT({},o);return function cA(t,n,i){const o=new p0(i);return Promise.resolve(o)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(i){const o=i.injector.get(uy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>o.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new Fe(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(x0,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(Bo))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function QT(t,n){return Array.isArray(n)?n.reduce(QT,t):{...t,...n}}let uy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(XT),this.zoneIsStable=Xt(dm),this.componentTypes=[],this.components=[],this.isStable=Xt(FT).hasPendingTasks.pipe((0,De.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,$e.x)(),(0,Me.B)()),this._injector=Xt(Ia)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const h=i instanceof C_;if(!this._injector.get(S0).done)throw!h&&ji(i),new Fe(405,!1);let b;b=h?i:this._injector.get(Hp).resolveComponentFactory(i),this.componentTypes.push(b.componentType);const D=function lA(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Bm),$=b.create(Bo.NULL,[],o||b.selector,D),ie=$.location.nativeElement,me=$.injector.get(BT,null);return me?.registerApplication(ie),$.onDestroy(()=>{this.detachView($.hostView),xE(this.components,$),me?.unregisterApplication(ie)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;xE(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(O0,[]);o.push(...this._bootstrapListeners),o.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Fe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const XT=new rn("",{providedIn:"root",factory:()=>Xt(tu).handleError.bind(void 0)});function gA(){const t=Xt(Mi),n=Xt(tu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let mA=(()=>{class t{constructor(){this.zone=Xt(Mi),this.applicationRef=Xt(uy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yA(){return!1}let vA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=EA}return t})();function EA(t){return function IA(t,n,i){if(Ps(t)&&!i){const o=As(t.index,n);return new Eh(o,o)}return 47&t.type?new Eh(n[Bn],n):null}(os(),Nt(),16==(16&t))}class ib{constructor(){}supports(n){return ag(n)}create(n){return new DA(n)}}const AA=(t,n)=>n;class DA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||AA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,h=0,m=null;for(;i||o;){const b=!o||i&&i.currentIndex<ob(o,h,m)?i:o,D=ob(b,h,m),x=b.currentIndex;if(b===o)h--,o=o._nextRemoved;else if(i=i._next,null==b.previousIndex)h++;else{m||(m=[]);const $=D-h,ie=x-h;if($!=ie){for(let Ge=0;Ge<$;Ge++){const et=Ge<m.length?m[Ge]:m[Ge]=0,Pt=et+Ge;ie<=Pt&&Pt<$&&(m[Ge]=et+1)}m[b.previousIndex]=ie-$}}D!==x&&n(b,D,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ag(n))throw new Fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,b,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],b=this._trackByFn(D,m),null!==i&&Object.is(i.trackById,b)?(o&&(i=this._verifyReinsertion(i,m,b,D)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,b,D),o=!0),i=i._next}else h=0,function q_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,D=>{b=this._trackByFn(h,D),null!==i&&Object.is(i.trackById,b)?(o&&(i=this._verifyReinsertion(i,D,b,h)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,b,h),o=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new SA(i,o),m,h),n}_verifyReinsertion(n,i,o,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new sb),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class sb{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new MA,this.map.set(i,o)),o.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ob(t,n,i){const o=t.previousIndex;if(null===o)return o;let h=0;return i&&o<i.length&&(h=i[o]),o+n+h}class ab{constructor(){}supports(n){return n instanceof Map||Dm(n)}create(){return new PA}}class PA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Dm(n)))throw new Fe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,o);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,b=h._next;return m&&(m._next=b),b&&(b._prev=m),h._next=null,h._prev=null,h}const o=new RA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class RA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cb(){return new U0([new ib])}let U0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:cb});constructor(i){this.factories=i}static create(i,o){if(null!=o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||cb()),deps:[[t,new Ba,new _c]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(null!=o)return o;throw new Fe(901,!1)}}return t})();function lb(){return new B0([new ab])}let B0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:lb});constructor(i){this.factories=i}static create(i,o){if(o){const h=o.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||lb()),deps:[[t,new Ba,new _c]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(o)return o;throw new Fe(901,!1)}}return t})();const NA=qT(null,"core",[]);let kA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(Ot(uy))};static#t=this.\u0275mod=Ts({type:t});static#n=this.\u0275inj=Wt({})}return t})();function qA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WA(t){const n=Un(t);if(!n)return null;const i=new Dc(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(Jt,Ke,U)=>{U.d(Ke,{zQ:()=>qt,ww:()=>cn,rT:()=>jt,f7:()=>hr,L6:()=>kt,_Q:()=>ve,lh:()=>an,Qv:()=>At,nw:()=>Rt}),U(6365);var l=U(6814),G=U(5879),Ie=U(1920),_e=U(7217),Ae=U(8645),Me=U(2096),De=U(5592),$e=U(2459),te=U(3019),se=U(3093),ye=U(4664),st=U(7398),rt=U(4552);class mt extends Ae.x{constructor(Re=1/0,fe=1/0,ke=rt.l){super(),this._bufferSize=Re,this._windowTime=fe,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=fe===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,fe)}next(Re){const{isStopped:fe,_buffer:ke,_infiniteTimeWindow:Je,_timestampProvider:Xe,_windowTime:ut}=this;fe||(ke.push(Re),!Je&&ke.push(Xe.now()+ut)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const fe=this._innerSubscribe(Re),{_infiniteTimeWindow:ke,_buffer:Je}=this,Xe=Je.slice();for(let ut=0;ut<Xe.length&&!Re.closed;ut+=ke?1:2)Re.next(Xe[ut]);return this._checkFinalizedStatuses(Re),fe}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:fe,_buffer:ke,_infiniteTimeWindow:Je}=this,Xe=(Je?1:2)*Re;if(Re<1/0&&Xe<ke.length&&ke.splice(0,ke.length-Xe),!Je){const ut=fe.now();let It=0;for(let Gt=1;Gt<ke.length&&ke[Gt]<=ut;Gt+=2)It=Gt;It&&ke.splice(0,It+1)}}}var ft=U(3020);function wt(lt,Re,fe){let ke,Je=!1;return lt&&"object"==typeof lt?({bufferSize:ke=1/0,windowTime:Re=1/0,refCount:Je=!1,scheduler:fe}=lt):ke=lt??1/0,(0,ft.B)({connector:()=>new mt(ke,Re,fe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Je})}var Et=U(1374),nn=U(4674);function qe(lt,Re){return(0,nn.m)(Re)?(0,ye.w)(()=>lt,Re):(0,ye.w)(()=>lt)}var Fe=U(5137),it=U(2181),ze=U(7142);const At=new G.OlP("angularfire2.auth.use-emulator"),kt=new G.OlP("angularfire2.auth.settings"),ve=new G.OlP("angularfire2.auth.tenant-id"),jt=new G.OlP("angularfire2.auth.langugage-code"),an=new G.OlP("angularfire2.auth.use-device-language"),hr=new G.OlP("angularfire.auth.persistence"),Rt=(lt,Re,fe,ke,Je,Xe,ut,It)=>(0,_e.cc)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const Gt=Re.runOutsideAngular(()=>lt.auth());if(fe&&Gt.useEmulator(...fe),ke&&(Gt.tenantId=ke),Gt.languageCode=Je,Xe&&Gt.useDeviceLanguage(),ut)for(const[$t,Zt]of Object.entries(ut))Gt.settings[$t]=Zt;return It&&Gt.setPersistence(It),Gt},[fe,ke,Je,Xe,ut,It]);let qt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(fe,ke,Je,Xe,ut,It,Gt,$t,Zt,gn,tr,Cn){const Mn=new Ae.x,Wt=(0,Me.of)(void 0).pipe((0,se.Q)(ut.outsideAngular),(0,ye.w)(()=>Xe.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,st.U)(()=>(0,_e.on)(fe,Xe,ke)),(0,st.U)(Dn=>Rt(Dn,Xe,It,$t,Zt,gn,Gt,tr)),wt({bufferSize:1,refCount:!1}));if((0,l.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{Wt.pipe((0,Et.P)()).subscribe();const Dn=Wt.pipe((0,ye.w)(Lt=>Lt.getRedirectResult().then(Lr=>Lr,()=>null)),Ie.iC,wt({bufferSize:1,refCount:!1})),ar=Wt.pipe((0,ye.w)(Lt=>new De.y(Lr=>({unsubscribe:Xe.runOutsideAngular(()=>Lt.onAuthStateChanged(In=>Lr.next(In),In=>Lr.error(In),()=>Lr.complete()))})))),Gn=Wt.pipe((0,ye.w)(Lt=>new De.y(Lr=>({unsubscribe:Xe.runOutsideAngular(()=>Lt.onIdTokenChanged(In=>Lr.next(In),In=>Lr.error(In),()=>Lr.complete()))}))));this.authState=Dn.pipe(qe(ar),(0,Fe.R)(ut.outsideAngular),(0,se.Q)(ut.insideAngular)),this.user=Dn.pipe(qe(Gn),(0,Fe.R)(ut.outsideAngular),(0,se.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(Lt=>Lt?(0,$e.D)(Lt.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(Lt=>Lt?(0,$e.D)(Lt.getIdTokenResult()):(0,Me.of)(null))),this.credential=(0,te.T)(Dn,Mn,this.authState.pipe((0,it.h)(Lt=>!Lt))).pipe((0,st.U)(Lt=>Lt?.user?Lt:null),(0,Fe.R)(ut.outsideAngular),(0,se.Q)(ut.insideAngular))}return(0,_e.pX)(this,Wt,Xe,{spy:{apply:(Dn,ar,Gn)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&Gn.then(Lt=>Mn.next(Lt))}}})}static \u0275fac=function(ke){return new(ke||lt)(G.LFG(_e.Dh),G.LFG(_e.xv,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(Ie.HU),G.LFG(At,8),G.LFG(kt,8),G.LFG(ve,8),G.LFG(jt,8),G.LFG(an,8),G.LFG(hr,8),G.LFG(Ie.Rf,8))};static \u0275prov=G.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),cn=(()=>{class lt{constructor(){ze.Z.registerVersion("angularfire",Ie.q4.full,"auth-compat")}static \u0275fac=function(ke){return new(ke||lt)};static \u0275mod=G.oAB({type:lt});static \u0275inj=G.cJS({providers:[qt]})}return lt})()},7104:(Jt,Ke,U)=>{U.d(Ke,{ST:()=>Jr,yb:()=>He});var g=U(6814),l=U(5879),G=U(1920),Ie=U(7217),_e=U(7213),Ae=U(6321),Me=U(5592),De=U(2459),$e=U(2096),te=U(7921),se=U(9360),ye=U(8251);function st(){return(0,se.e)((vt,ae)=>{let be,yt=!1;vt.subscribe((0,ye.x)(ae,zt=>{const Nn=be;be=zt,yt&&ae.next([Nn,zt]),yt=!0}))})}var rt=U(7398),mt=U(6699),ft=U(3997),wt=U(2181),nn=(U(6365),U(3106)),qe=U(5588),Fe=U(9058),it=U(4537);function At(vt,ae){if(void 0===ae)return{merge:!1};if(void 0!==ae.mergeFields&&void 0!==ae.merge)throw new qe.WA("invalid-argument",`Invalid options passed to function ${vt}(): You cannot specify both "merge" and "mergeFields".`);return ae}function kt(){if(typeof Uint8Array>"u")throw new qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ve(){if(!(0,qe.Me)())throw new qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jt{constructor(ae){this._delegate=ae}static fromBase64String(ae){return ve(),new jt(qe.Jj.fromBase64String(ae))}static fromUint8Array(ae){return kt(),new jt(qe.Jj.fromUint8Array(ae))}toBase64(){return ve(),this._delegate.toBase64()}toUint8Array(){return kt(),this._delegate.toUint8Array()}isEqual(ae){return this._delegate.isEqual(ae._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function an(vt){return function hr(vt,ae){if("object"!=typeof vt||null===vt)return!1;const be=vt;for(const yt of ae)if(yt in be&&"function"==typeof be[yt])return!0;return!1}(vt,["next","error","complete"])}class Rt{enableIndexedDbPersistence(ae,be){return(0,qe.ST)(ae._delegate,{forceOwnership:be})}enableMultiTabIndexedDbPersistence(ae){return(0,qe.fH)(ae._delegate)}clearIndexedDbPersistence(ae){return(0,qe.Fc)(ae._delegate)}}class qt{constructor(ae,be,yt){this._delegate=be,this._persistenceProvider=yt,this.INTERNAL={delete:()=>this.terminate()},ae instanceof qe.l7||(this._appCompat=ae)}get _databaseId(){return this._delegate._databaseId}settings(ae){const be=this._delegate._getSettings();!ae.merge&&be.host!==ae.host&&(0,qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ae.merge&&delete(ae=Object.assign(Object.assign({},be),ae)).merge,this._delegate._setSettings(ae)}useEmulator(ae,be,yt={}){(0,qe.at)(this._delegate,ae,be,yt)}enableNetwork(){return(0,qe.Ix)(this._delegate)}disableNetwork(){return(0,qe.TF)(this._delegate)}enablePersistence(ae){let be=!1,yt=!1;return ae&&(be=!!ae.synchronizeTabs,yt=!!ae.experimentalForceOwningTab,(0,qe.Wi)("synchronizeTabs",be,"experimentalForceOwningTab",yt)),be?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,yt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,qe.Mx)(this._delegate)}onSnapshotsInSync(ae){return(0,qe.sc)(this._delegate,ae)}get app(){if(!this._appCompat)throw new qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ae){try{return new Cn(this,(0,qe.hJ)(this._delegate,ae))}catch(be){throw Xe(be,"collection()","Firestore.collection()")}}doc(ae){try{return new Je(this,(0,qe.JU)(this._delegate,ae))}catch(be){throw Xe(be,"doc()","Firestore.doc()")}}collectionGroup(ae){try{return new Zt(this,(0,qe.B$)(this._delegate,ae))}catch(be){throw Xe(be,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ae){return(0,qe.i3)(this._delegate,be=>ae(new Re(this,be)))}batch(){return(0,qe.qY)(this._delegate),new fe(new qe.PU(this._delegate,ae=>(0,qe.GL)(this._delegate,ae)))}loadBundle(ae){return(0,qe.Pb)(this._delegate,ae)}namedQuery(ae){return(0,qe.L$)(this._delegate,ae).then(be=>be?new Zt(this,be):null)}}class cn extends qe.u7{constructor(ae){super(),this.firestore=ae}convertBytes(ae){return new jt(new qe.Jj(ae))}convertReference(ae){const be=this.convertDocumentKey(ae,this.firestore._databaseId);return Je.forKey(be,this.firestore,null)}}class Re{constructor(ae,be){this._firestore=ae,this._delegate=be,this._userDataWriter=new cn(ae)}get(ae){const be=Mn(ae);return this._delegate.get(be).then(yt=>new Gt(this._firestore,new qe.xU(this._firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,be.converter)))}set(ae,be,yt){const zt=Mn(ae);return yt?(At("Transaction.set",yt),this._delegate.set(zt,be,yt)):this._delegate.set(zt,be),this}update(ae,be,yt,...zt){const Nn=Mn(ae);return 2===arguments.length?this._delegate.update(Nn,be):this._delegate.update(Nn,be,yt,...zt),this}delete(ae){const be=Mn(ae);return this._delegate.delete(be),this}}class fe{constructor(ae){this._delegate=ae}set(ae,be,yt){const zt=Mn(ae);return yt?(At("WriteBatch.set",yt),this._delegate.set(zt,be,yt)):this._delegate.set(zt,be),this}update(ae,be,yt,...zt){const Nn=Mn(ae);return 2===arguments.length?this._delegate.update(Nn,be):this._delegate.update(Nn,be,yt,...zt),this}delete(ae){const be=Mn(ae);return this._delegate.delete(be),this}commit(){return this._delegate.commit()}}class ke{constructor(ae,be,yt){this._firestore=ae,this._userDataWriter=be,this._delegate=yt}fromFirestore(ae,be){const yt=new qe.$q(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,null);return this._delegate.fromFirestore(new $t(this._firestore,yt),be??{})}toFirestore(ae,be){return be?this._delegate.toFirestore(ae,be):this._delegate.toFirestore(ae)}static getInstance(ae,be){const yt=ke.INSTANCES;let zt=yt.get(ae);zt||(zt=new WeakMap,yt.set(ae,zt));let Nn=zt.get(be);return Nn||(Nn=new ke(ae,new cn(ae),be),zt.set(be,Nn)),Nn}}ke.INSTANCES=new WeakMap;class Je{constructor(ae,be){this.firestore=ae,this._delegate=be,this._userDataWriter=new cn(ae)}static forPath(ae,be,yt){if(ae.length%2!=0)throw new qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ae.canonicalString()} has ${ae.length}`);return new Je(be,new qe.my(be._delegate,yt,new qe.Ky(ae)))}static forKey(ae,be,yt){return new Je(be,new qe.my(be._delegate,yt,ae))}get id(){return this._delegate.id}get parent(){return new Cn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ae){try{return new Cn(this.firestore,(0,qe.hJ)(this._delegate,ae))}catch(be){throw Xe(be,"collection()","DocumentReference.collection()")}}isEqual(ae){return(ae=(0,Fe.m9)(ae))instanceof qe.my&&(0,qe.Eo)(this._delegate,ae)}set(ae,be){be=At("DocumentReference.set",be);try{return be?(0,qe.pl)(this._delegate,ae,be):(0,qe.pl)(this._delegate,ae)}catch(yt){throw Xe(yt,"setDoc()","DocumentReference.set()")}}update(ae,be,...yt){try{return 1===arguments.length?(0,qe.r7)(this._delegate,ae):(0,qe.r7)(this._delegate,ae,be,...yt)}catch(zt){throw Xe(zt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,qe.oe)(this._delegate)}onSnapshot(...ae){const be=ut(ae),yt=It(ae,zt=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,zt._key,zt._document,zt.metadata,this._delegate.converter)));return(0,qe.cf)(this._delegate,be,yt)}get(ae){let be;return be="cache"===ae?.source?(0,qe.kl)(this._delegate):"server"===ae?.source?(0,qe.Xk)(this._delegate):(0,qe.QT)(this._delegate),be.then(yt=>new Gt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,this._delegate.converter)))}withConverter(ae){return new Je(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}function Xe(vt,ae,be){return vt.message=vt.message.replace(ae,be),vt}function ut(vt){for(const ae of vt)if("object"==typeof ae&&!an(ae))return ae;return{}}function It(vt,ae){var be,yt;let zt;return zt=an(vt[0])?vt[0]:an(vt[1])?vt[1]:"function"==typeof vt[0]?{next:vt[0],error:vt[1],complete:vt[2]}:{next:vt[1],error:vt[2],complete:vt[3]},{next:Nn=>{zt.next&&zt.next(ae(Nn))},error:null===(be=zt.error)||void 0===be?void 0:be.bind(zt),complete:null===(yt=zt.complete)||void 0===yt?void 0:yt.bind(zt)}}class Gt{constructor(ae,be){this._firestore=ae,this._delegate=be}get ref(){return new Je(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ae){return this._delegate.data(ae)}get(ae,be){return this._delegate.get(ae,be)}isEqual(ae){return(0,qe.qK)(this._delegate,ae._delegate)}}class $t extends Gt{data(ae){const be=this._delegate.data(ae);return this._delegate._converter||(0,qe.K9)(void 0!==be,"Document in a QueryDocumentSnapshot should exist"),be}}class Zt{constructor(ae,be){this.firestore=ae,this._delegate=be,this._userDataWriter=new cn(ae)}where(ae,be,yt){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.ar)(ae,be,yt)))}catch(zt){throw Xe(zt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ae,be){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Xo)(ae,be)))}catch(yt){throw Xe(yt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.b9)(ae)))}catch(be){throw Xe(be,"limit()","Query.limit()")}}limitToLast(ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.vh)(ae)))}catch(be){throw Xe(be,"limitToLast()","Query.limitToLast()")}}startAt(...ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.e0)(...ae)))}catch(be){throw Xe(be,"startAt()","Query.startAt()")}}startAfter(...ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.TQ)(...ae)))}catch(be){throw Xe(be,"startAfter()","Query.startAfter()")}}endBefore(...ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Lx)(...ae)))}catch(be){throw Xe(be,"endBefore()","Query.endBefore()")}}endAt(...ae){try{return new Zt(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Wu)(...ae)))}catch(be){throw Xe(be,"endAt()","Query.endAt()")}}isEqual(ae){return(0,qe.iE)(this._delegate,ae._delegate)}get(ae){let be;return be="cache"===ae?.source?(0,qe.UQ)(this._delegate):"server"===ae?.source?(0,qe.zN)(this._delegate):(0,qe.PL)(this._delegate),be.then(yt=>new tr(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,yt._snapshot)))}onSnapshot(...ae){const be=ut(ae),yt=It(ae,zt=>new tr(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,zt._snapshot)));return(0,qe.cf)(this._delegate,be,yt)}withConverter(ae){return new Zt(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}class gn{constructor(ae,be){this._firestore=ae,this._delegate=be}get type(){return this._delegate.type}get doc(){return new $t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tr{constructor(ae,be){this._firestore=ae,this._delegate=be}get query(){return new Zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ae=>new $t(this._firestore,ae))}docChanges(ae){return this._delegate.docChanges(ae).map(be=>new gn(this._firestore,be))}forEach(ae,be){this._delegate.forEach(yt=>{ae.call(be,new $t(this._firestore,yt))})}isEqual(ae){return(0,qe.qK)(this._delegate,ae._delegate)}}class Cn extends Zt{constructor(ae,be){super(ae,be),this.firestore=ae,this._delegate=be}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ae=this._delegate.parent;return ae?new Je(this.firestore,ae):null}doc(ae){try{return new Je(this.firestore,void 0===ae?(0,qe.JU)(this._delegate):(0,qe.JU)(this._delegate,ae))}catch(be){throw Xe(be,"doc()","CollectionReference.doc()")}}add(ae){return(0,qe.ET)(this._delegate,ae).then(be=>new Je(this.firestore,be))}isEqual(ae){return(0,qe.Eo)(this._delegate,ae._delegate)}withConverter(ae){return new Cn(this.firestore,this._delegate.withConverter(ae?ke.getInstance(this.firestore,ae):null))}}function Mn(vt){return(0,qe.Cf)(vt,qe.my)}class Wt{constructor(...ae){this._delegate=new qe.Lz(...ae)}static documentId(){return new Wt(qe.Xb.keyField().canonicalString())}isEqual(ae){return(ae=(0,Fe.m9)(ae))instanceof qe.Lz&&this._delegate._internalPath.isEqual(ae._internalPath)}}class Dn{constructor(ae){this._delegate=ae}static serverTimestamp(){const ae=(0,qe.Bt)();return ae._methodName="FieldValue.serverTimestamp",new Dn(ae)}static delete(){const ae=(0,qe.AK)();return ae._methodName="FieldValue.delete",new Dn(ae)}static arrayUnion(...ae){const be=(0,qe.vr)(...ae);return be._methodName="FieldValue.arrayUnion",new Dn(be)}static arrayRemove(...ae){const be=(0,qe.Ab)(...ae);return be._methodName="FieldValue.arrayRemove",new Dn(be)}static increment(ae){const be=(0,qe.nP)(ae);return be._methodName="FieldValue.increment",new Dn(be)}isEqual(ae){return this._delegate.isEqual(ae._delegate)}}const ar={Firestore:qt,GeoPoint:qe.F8,Timestamp:qe.EK,Blob:jt,Transaction:Re,WriteBatch:fe,DocumentReference:Je,DocumentSnapshot:Gt,Query:Zt,QueryDocumentSnapshot:$t,QuerySnapshot:tr,CollectionReference:Cn,FieldPath:Wt,FieldValue:Dn,setLogLevel:function lt(vt){(0,qe.Ub)(vt)},CACHE_SIZE_UNLIMITED:qe.IX};!function Lt(vt){(function Gn(vt,ae){vt.INTERNAL.registerComponent(new it.wA("firestore-compat",be=>{const yt=be.getProvider("app-compat").getImmediate(),zt=be.getProvider("firestore").getImmediate();return ae(yt,zt)},"PUBLIC").setServiceProps(Object.assign({},ar)))})(vt,(ae,be)=>new qt(ae,be,new Rt)),vt.registerVersion("@firebase/firestore-compat","0.3.32")}(nn.Z);var Lr=U(7142);function Dr(vt,ae){return function In(vt,ae=Ae.z){return new Me.y(be=>{let yt;return null!=ae?ae.schedule(()=>{yt=vt.onSnapshot({includeMetadataChanges:!0},be)}):yt=vt.onSnapshot({includeMetadataChanges:!0},be),()=>{yt?.()}})}(vt,ae)}function Vt(vt,ae){return Dr(vt,ae).pipe((0,rt.U)(be=>({payload:be,type:"query"})))}class Tn{ref;afs;constructor(ae,be){this.ref=ae,this.afs=be}set(ae,be){return this.ref.set(ae,be)}update(ae){return this.ref.update(ae)}delete(){return this.ref.delete()}collection(ae,be){const yt=this.ref.collection(ae),{ref:zt,query:Nn}=Cr(yt,be);return new Hr(zt,Nn,this.afs)}snapshotChanges(){return function Qn(vt,ae){return Dr(vt,ae).pipe((0,te.O)(void 0),st(),(0,rt.U)(be=>{const[yt,zt]=be;return zt.exists?yt?.exists?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:be})=>ae.idField?{...be.data(),[ae.idField]:be.id}:be.data()))}get(ae){return(0,De.D)(this.ref.get(ae)).pipe(G.iC)}}function xn(vt,ae){return Vt(vt,ae).pipe((0,te.O)(void 0),st(),(0,rt.U)(be=>{const[yt,zt]=be,Nn=zt.payload.docChanges(),ci=Nn.map(Ir=>({type:Ir.type,payload:Ir}));return yt&&JSON.stringify(yt.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((Ir,xe)=>{const re=Nn.find(H=>H.doc.ref.isEqual(Ir.ref)),q=yt?.payload.docs.find(H=>H.ref.isEqual(Ir.ref));re&&JSON.stringify(re.doc.metadata)===JSON.stringify(Ir.metadata)||!re&&q&&JSON.stringify(q.metadata)===JSON.stringify(Ir.metadata)||ci.push({type:"modified",payload:{oldIndex:xe,newIndex:xe,type:"modified",doc:Ir}})}),ci}))}function On(vt,ae,be){return xn(vt,be).pipe((0,mt.R)((yt,zt)=>function vr(vt,ae,be){return ae.forEach(yt=>{be.indexOf(yt.type)>-1&&(vt=function Fn(vt,ae){switch(ae.type){case"added":if(!vt[ae.newIndex]||!vt[ae.newIndex].doc.ref.isEqual(ae.doc.ref))return Er(vt,ae.newIndex,0,ae);break;case"modified":if(null==vt[ae.oldIndex]||vt[ae.oldIndex].doc.ref.isEqual(ae.doc.ref)){if(ae.oldIndex!==ae.newIndex){const be=vt.slice();return be.splice(ae.oldIndex,1),be.splice(ae.newIndex,0,ae),be}return Er(vt,ae.newIndex,1,ae)}break;case"removed":if(vt[ae.oldIndex]&&vt[ae.oldIndex].doc.ref.isEqual(ae.doc.ref))return Er(vt,ae.oldIndex,1)}return vt}(vt,yt))}),vt}(yt,zt.map(Nn=>Nn.payload),ae),[]),(0,ft.x)(),(0,rt.U)(yt=>yt.map(zt=>({type:zt.type,payload:zt}))))}function Er(vt,ae,be,...yt){const zt=vt.slice();return zt.splice(ae,be,...yt),zt}function $n(vt){return(!vt||0===vt.length)&&(vt=["added","removed","modified"]),vt}class Hr{ref;query;afs;constructor(ae,be,yt){this.ref=ae,this.query=be,this.afs=yt}stateChanges(ae){let be=xn(this.query,this.afs.schedulers.outsideAngular);return ae&&ae.length>0&&(be=be.pipe((0,rt.U)(yt=>yt.filter(zt=>ae.indexOf(zt.type)>-1)))),be.pipe((0,te.O)(void 0),st(),(0,wt.h)(([yt,zt])=>zt.length>0||!yt),(0,rt.U)(([,yt])=>yt),G.iC)}auditTrail(ae){return this.stateChanges(ae).pipe((0,mt.R)((be,yt)=>[...be,...yt],[]))}snapshotChanges(ae){const be=$n(ae);return On(this.query,be,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(be=>be.payload.docs.map(yt=>ae.idField?{...yt.data(),[ae.idField]:yt.id}:yt.data())),G.iC)}get(ae){return(0,De.D)(this.query.get(ae)).pipe(G.iC)}add(ae){return this.ref.add(ae)}doc(ae){return new Tn(this.ref.doc(ae),this.afs)}}class fi{query;afs;constructor(ae,be){this.query=ae,this.afs=be}stateChanges(ae){return ae&&0!==ae.length?xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(be=>be.filter(yt=>ae.indexOf(yt.type)>-1)),(0,wt.h)(be=>be.length>0),G.iC):xn(this.query,this.afs.schedulers.outsideAngular).pipe(G.iC)}auditTrail(ae){return this.stateChanges(ae).pipe((0,mt.R)((be,yt)=>[...be,...yt],[]))}snapshotChanges(ae){const be=$n(ae);return On(this.query,be,this.afs.schedulers.outsideAngular).pipe(G.iC)}valueChanges(ae={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(yt=>yt.payload.docs.map(zt=>ae.idField?{[ae.idField]:zt.id,...zt.data()}:zt.data())),G.iC)}get(ae){return(0,De.D)(this.query.get(ae)).pipe(G.iC)}}const rn=new l.OlP("angularfire2.enableFirestorePersistence"),pi=new l.OlP("angularfire2.firestore.persistenceSettings"),nr=new l.OlP("angularfire2.firestore.settings"),Sr=new l.OlP("angularfire2.firestore.use-emulator");function Cr(vt,ae=(be=>be)){return{query:ae(vt),ref:vt}}let Jr=(()=>{class vt{schedulers;firestore;persistenceEnabled$;constructor(be,yt,zt,Nn,ci,Ir,xe,re,q,H,B,pe,Be,bt,Ot,sn,Xt){this.schedulers=xe;const ln=(0,Ie.on)(be,Ir,yt),Zn=q;H&&(0,_e.nw)(ln,Ir,B,Be,bt,Ot,pe,sn),[this.firestore,this.persistenceEnabled$]=(0,Ie.cc)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const Oe=Ir.runOutsideAngular(()=>ln.firestore());if(Nn&&Oe.settings(Nn),Zn&&Oe.useEmulator(...Zn),zt&&!(0,g.PM)(ci)){const we=()=>{try{return(0,De.D)(Oe.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(Ve){return typeof console<"u"&&console.warn(Ve),(0,$e.of)(!1)}};return[Oe,Ir.runOutsideAngular(we)]}return[Oe,(0,$e.of)(!1)]},[Nn,Zn,zt])}collection(be,yt){let zt;zt="string"==typeof be?this.firestore.collection(be):be;const{ref:Nn,query:ci}=Cr(zt,yt),Ir=this.schedulers.ngZone.run(()=>Nn);return new Hr(Ir,ci,this)}collectionGroup(be,yt){const zt=yt||(ci=>ci),Nn=this.firestore.collectionGroup(be);return new fi(zt(Nn),this)}doc(be){let yt;yt="string"==typeof be?this.firestore.doc(be):be;const zt=this.schedulers.ngZone.run(()=>yt);return new Tn(zt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(yt){return new(yt||vt)(l.LFG(Ie.Dh),l.LFG(Ie.xv,8),l.LFG(rn,8),l.LFG(nr,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(G.HU),l.LFG(pi,8),l.LFG(Sr,8),l.LFG(_e.zQ,8),l.LFG(_e.Qv,8),l.LFG(_e.L6,8),l.LFG(_e._Q,8),l.LFG(_e.rT,8),l.LFG(_e.lh,8),l.LFG(_e.f7,8),l.LFG(G.Rf,8))};static \u0275prov=l.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"any"})}return vt})(),He=(()=>{class vt{constructor(){Lr.Z.registerVersion("angularfire",G.q4.full,"fst-compat")}static enablePersistence(be){return{ngModule:vt,providers:[{provide:rn,useValue:!0},{provide:pi,useValue:be}]}}static \u0275fac=function(yt){return new(yt||vt)};static \u0275mod=l.oAB({type:vt});static \u0275inj=l.cJS({providers:[Jr]})}return vt})()},7217:(Jt,Ke,U)=>{U.d(Ke,{Dh:()=>De,GT:()=>Ae,cc:()=>rt,hO:()=>st,on:()=>te,pX:()=>_e,xv:()=>$e});var g=U(5879),l=U(1920),G=U(7142);const Ie=["ngOnDestroy"],_e=(Et,nn,qe,Fe={})=>new Proxy(Et,{get:(it,ze)=>qe.runOutsideAngular(()=>{if(Et[ze])return Fe?.spy?.get&&Fe.spy.get(ze,Et[ze]),Et[ze];if(Ie.indexOf(ze)>-1)return()=>{};const ct=nn.toPromise().then(At=>{const kt=At?.[ze];return"function"==typeof kt?kt.bind(At):kt?.then?kt.then(ve=>qe.run(()=>ve)):qe.run(()=>kt)});return new Proxy(()=>{},{get:(At,kt)=>ct[kt],apply:(At,kt,ve)=>ct.then(jt=>{const an=jt?.(...ve);return Fe?.spy?.apply&&Fe.spy.apply(ze,ve,an),an})})})}),Ae=(Et,nn)=>{nn.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Fe=>{Object.defineProperty(Et.prototype,Fe,Object.getOwnPropertyDescriptor(qe.prototype||qe,Fe))})})};class Me{constructor(nn){return nn}}const De=new g.OlP("angularfire2.app.options"),$e=new g.OlP("angularfire2.app.name");function te(Et,nn,qe){const it="object"==typeof qe&&qe||{};it.name=it.name||"string"==typeof qe&&qe||"[DEFAULT]";const ct=G.Z.apps.filter(At=>At&&At.name===it.name)[0]||nn.runOutsideAngular(()=>G.Z.initializeApp(Et,it));try{if(JSON.stringify(Et)!==JSON.stringify(ct.options)){const At=!!module.hot;se("error",`${ct.name} Firebase App already initialized with different options${At?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Me(ct)}const se=(Et,...nn)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...nn)},ye={provide:Me,useFactory:te,deps:[De,g.R0b,[new g.FiY,$e]]};let st=(()=>{class Et{static initializeApp(qe,Fe){return{ngModule:Et,providers:[{provide:De,useValue:qe},{provide:$e,useValue:Fe}]}}constructor(qe){G.Z.registerVersion("angularfire",l.q4.full,"core"),G.Z.registerVersion("angularfire",l.q4.full,"app-compat"),G.Z.registerVersion("angular",g.q4F.full,qe.toString())}static \u0275fac=function(Fe){return new(Fe||Et)(g.LFG(g.Lbi))};static \u0275mod=g.oAB({type:Et});static \u0275inj=g.cJS({providers:[ye]})}return Et})();function rt(Et,nn,qe,Fe,it){const[,ze,ct]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Et)||[];if(ze)return function mt(Et,nn){try{return Et.toString()===nn.toString()}catch{return Et===nn}}(it,ct)||(wt("error",`${nn} was already initialized on the ${qe} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),wt("warn",{is:it,was:ct})),ze;{const At=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Et,At,it]),At}}const ft=typeof module<"u"&&!!module.hot,wt=(Et,...nn)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Et](...nn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Jt,Ke,U)=>{U.d(Ke,{q4:()=>rt,iC:()=>an,fc:()=>ve,HU:()=>ze,Rf:()=>Et,vb:()=>wt,JM:()=>ft,u3:()=>qt});var g=U(5879),l=U(3182),G=U(1954),_e=U(2631);const Me=new class Ae extends _e.v{}(class Ie extends G.o{constructor(lt,Re){super(lt,Re),this.scheduler=lt,this.work=Re}schedule(lt,Re=0){return Re>0?super.schedule(lt,Re):(this.delay=Re,this.state=lt,this.scheduler.flush(this),this)}execute(lt,Re){return Re>0||this.closed?super.execute(lt,Re):this._execute(lt,Re)}requestAsyncId(lt,Re,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(lt,Re,fe):(lt.flush(this),0)}});var $e=U(6321),te=U(5592),se=U(9397),ye=U(3093),st=U(5137);const rt=new g.GfV("ANGULARFIRE2_VERSION");function ft(cn,lt,Re){if(lt){if(1===lt.length)return lt[0];const Je=lt.filter(Xe=>Xe.app===Re);if(1===Je.length)return Je[0]}return Re.container.getProvider(cn).getImmediate({optional:!0})}const wt=(cn,lt)=>{const Re=lt?[lt]:(0,l.C6)(),fe=[];return Re.forEach(ke=>{ke.container.getProvider(cn).instances.forEach(Xe=>{fe.includes(Xe)||fe.push(Xe)})}),fe};class Et{constructor(){return wt(nn)}}const nn="app-check";function qe(){}class Fe{zone;delegate;constructor(lt,Re=Me){this.zone=lt,this.delegate=Re}now(){return this.delegate.now()}schedule(lt,Re,fe){const ke=this.zone;return this.delegate.schedule(function(Xe){ke.runGuarded(()=>{lt.apply(this,[Xe])})},Re,fe)}}class it{zone;task=null;constructor(lt){this.zone=lt}call(lt,Re){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),Re.pipe((0,se.b)({next:fe,complete:fe,error:fe})).subscribe(lt).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{class cn{ngZone;outsideAngular;insideAngular;constructor(Re){this.ngZone=Re,this.outsideAngular=Re.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=Re.run(()=>new Fe(Zone.current,$e.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(fe){return new(fe||cn)(g.LFG(g.R0b))};static \u0275prov=g.Yz7({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function ct(){const cn=globalThis.\u0275AngularFireScheduler;if(!cn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return cn}function kt(cn){return ct().ngZone.run(()=>cn())}function ve(cn){return cn.pipe((0,ye.Q)(ct().outsideAngular))}function an(cn){return function hr(cn){return function(Re){return(Re=Re.lift(new it(cn.ngZone))).pipe((0,st.R)(cn.outsideAngular),(0,ye.Q)(cn.insideAngular))}}(ct())(cn)}const Rt=(cn,lt)=>function(){const fe=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),kt(()=>cn.apply(void 0,fe))},qt=(cn,lt)=>function(){let Re;const fe=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof fe[Je]&&(lt&&(Re||=kt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe))),fe[Je]=Rt(fe[Je],Re));const ke=function At(cn){return ct().ngZone.runOutsideAngular(()=>cn())}(()=>cn.apply(this,fe));if(!lt){if(ke instanceof te.y){const Je=ct();return ke.pipe((0,st.R)(Je.outsideAngular),(0,ye.Q)(Je.insideAngular))}return kt(()=>ke)}return ke instanceof te.y?ke.pipe(an):ke instanceof Promise?kt(()=>new Promise((Je,Xe)=>ke.then(ut=>kt(()=>Je(ut)),ut=>kt(()=>Xe(ut))))):"function"==typeof ke&&Re?function(){return setTimeout(()=>{Re&&"scheduled"===Re.state&&Re.invoke()},10),ke.apply(this,arguments)}:kt(()=>ke)}},6223:(Jt,Ke,U)=>{U.d(Ke,{EJ:()=>Qs,F:()=>Ii,Fj:()=>rt,JJ:()=>Lt,JL:()=>Lr,Kr:()=>hs,On:()=>Xi,Q7:()=>Xn,UX:()=>Zo,YN:()=>Xr,_Y:()=>Aa,kI:()=>qe,qu:()=>Fi,sg:()=>zr,u:()=>on,u5:()=>Qa,x0:()=>Hi});var g=U(5879),l=U(6814),G=U(2459),Ie=U(9315),_e=U(7398);let Ae=(()=>{class W{constructor(F,le){this._renderer=F,this._elementRef=le,this.onChange=Ce=>{},this.onTouched=()=>{}}setProperty(F,le){this._renderer.setProperty(this._elementRef.nativeElement,F,le)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:W})}return W})(),Me=(()=>{class W extends Ae{static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(W)))(Ce||W)}}();static#t=this.\u0275dir=g.lG2({type:W,features:[g.qOj]})}return W})();const De=new g.OlP("NgValueAccessor"),se={provide:De,useExisting:(0,g.Gpc)(()=>rt),multi:!0},st=new g.OlP("CompositionEventMode");let rt=(()=>{class W extends Ae{constructor(F,le,Ce){super(F,le),this._compositionMode=Ce,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const W=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(st,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("input",function(ur){return Ce._handleInput(ur.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(ur){return Ce._compositionEnd(ur.target.value)})},features:[g._Bn([se]),g.qOj]})}return W})();function mt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ft(W){return null!=W&&"number"==typeof W.length}const wt=new g.OlP("NgValidators"),Et=new g.OlP("NgAsyncValidators"),nn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qe{static min(X){return function Fe(W){return X=>{if(mt(X.value)||mt(W))return null;const F=parseFloat(X.value);return!isNaN(F)&&F<W?{min:{min:W,actual:X.value}}:null}}(X)}static max(X){return function it(W){return X=>{if(mt(X.value)||mt(W))return null;const F=parseFloat(X.value);return!isNaN(F)&&F>W?{max:{max:W,actual:X.value}}:null}}(X)}static required(X){return ze(X)}static requiredTrue(X){return function ct(W){return!0===W.value?null:{required:!0}}(X)}static email(X){return function At(W){return mt(W.value)||nn.test(W.value)?null:{email:!0}}(X)}static minLength(X){return function kt(W){return X=>mt(X.value)||!ft(X.value)?null:X.value.length<W?{minlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function ve(W){return X=>ft(X.value)&&X.value.length>W?{maxlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static pattern(X){return function jt(W){if(!W)return an;let X,F;return"string"==typeof W?(F="","^"!==W.charAt(0)&&(F+="^"),F+=W,"$"!==W.charAt(W.length-1)&&(F+="$"),X=new RegExp(F)):(F=W.toString(),X=W),le=>{if(mt(le.value))return null;const Ce=le.value;return X.test(Ce)?null:{pattern:{requiredPattern:F,actualValue:Ce}}}}(X)}static nullValidator(X){return null}static compose(X){return fe(X)}static composeAsync(X){return Je(X)}}function ze(W){return mt(W.value)?{required:!0}:null}function an(W){return null}function hr(W){return null!=W}function Rt(W){return(0,g.QGY)(W)?(0,G.D)(W):W}function qt(W){let X={};return W.forEach(F=>{X=null!=F?{...X,...F}:X}),0===Object.keys(X).length?null:X}function cn(W,X){return X.map(F=>F(W))}function Re(W){return W.map(X=>function lt(W){return!W.validate}(X)?X:F=>X.validate(F))}function fe(W){if(!W)return null;const X=W.filter(hr);return 0==X.length?null:function(F){return qt(cn(F,X))}}function ke(W){return null!=W?fe(Re(W)):null}function Je(W){if(!W)return null;const X=W.filter(hr);return 0==X.length?null:function(F){const le=cn(F,X).map(Rt);return(0,Ie.D)(le).pipe((0,_e.U)(qt))}}function Xe(W){return null!=W?Je(Re(W)):null}function ut(W,X){return null===W?[X]:Array.isArray(W)?[...W,X]:[W,X]}function It(W){return W._rawValidators}function Gt(W){return W._rawAsyncValidators}function $t(W){return W?Array.isArray(W)?W:[W]:[]}function Zt(W,X){return Array.isArray(W)?W.includes(X):W===X}function gn(W,X){const F=$t(X);return $t(W).forEach(Ce=>{Zt(F,Ce)||F.push(Ce)}),F}function tr(W,X){return $t(X).filter(F=>!Zt(W,F))}class Cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=ke(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,F){return!!this.control&&this.control.hasError(X,F)}getError(X,F){return this.control?this.control.getError(X,F):null}}class Mn extends Cn{get formDirective(){return null}get path(){return null}}class Wt extends Cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lt=(()=>{class W extends Dn{constructor(F){super(F)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Wt,2))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Ce){2&le&&g.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)},features:[g.qOj]})}return W})(),Lr=(()=>{class W extends Dn{constructor(F){super(F)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Mn,10))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Ce){2&le&&g.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)("ng-submitted",Ce.isSubmitted)},features:[g.qOj]})}return W})();const Cr="VALID",Jr="INVALID",He="PENDING",vt="DISABLED";function ae(W){return(Nn(W)?W.validators:W)||null}function yt(W,X){return(Nn(X)?X.asyncValidators:W)||null}function Nn(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ci(W,X,F){const le=W.controls;if(!(X?Object.keys(le):le).length)throw new g.vHH(1e3,"");if(!le[F])throw new g.vHH(1001,"")}function Ir(W,X,F){W._forEachChild((le,Ce)=>{if(void 0===F[Ce])throw new g.vHH(1002,"")})}class xe{constructor(X,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===Cr}get invalid(){return this.status===Jr}get pending(){return this.status==He}get disabled(){return this.status===vt}get enabled(){return this.status!==vt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(gn(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(gn(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(tr(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(tr(X,this._rawAsyncValidators))}hasValidator(X){return Zt(this._rawValidators,X)}hasAsyncValidator(X){return Zt(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=He,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const F=this._parentMarkedDirty(X.onlySelf);this.status=vt,this.errors=null,this._forEachChild(le=>{le.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:F}),this._onDisabledChange.forEach(le=>le(!0))}enable(X={}){const F=this._parentMarkedDirty(X.onlySelf);this.status=Cr,this._forEachChild(le=>{le.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:F}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cr||this.status===He)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vt:Cr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=He,this._hasOwnPendingAsyncValidator=!0;const F=Rt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,F={}){this.errors=X,this._updateControlsErrors(!1!==F.emitEvent)}get(X){let F=X;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((le,Ce)=>le&&le._find(Ce),this)}getError(X,F){const le=F?this.get(F):this;return le&&le.errors?le.errors[X]:null}hasError(X,F){return!!this.getError(X,F)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?vt:this.errors?Jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(He)?He:this._anyControlsHaveStatus(Jr)?Jr:Cr}_anyControlsHaveStatus(X){return this._anyControls(F=>F.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){Nn(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function be(W){return Array.isArray(W)?ke(W):W||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function zt(W){return Array.isArray(W)?Xe(W):W||null}(this._rawAsyncValidators)}}class re extends xe{constructor(X,F,le){super(ae(F),yt(le,F)),this.controls=X,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,F){return this.controls[X]?this.controls[X]:(this.controls[X]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(X,F,le={}){this.registerControl(X,F),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(X,F={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(X,F,le={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],F&&this.registerControl(X,F),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,F={}){Ir(this,0,X),Object.keys(X).forEach(le=>{ci(this,!0,le),this.controls[le].setValue(X[le],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(X,F={}){null!=X&&(Object.keys(X).forEach(le=>{const Ce=this.controls[le];Ce&&Ce.patchValue(X[le],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(X={},F={}){this._forEachChild((le,Ce)=>{le.reset(X?X[Ce]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(X,F,le)=>(X[le]=F.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(F,le)=>!!le._syncPendingControls()||F);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(F=>{const le=this.controls[F];le&&X(le,F)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[F,le]of Object.entries(this.controls))if(this.contains(F)&&X(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,le,Ce)=>((le.enabled||this.disabled)&&(F[Ce]=le.value),F))}_reduceChildren(X,F){let le=X;return this._forEachChild((Ce,bn)=>{le=F(le,Ce,bn)}),le}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class B extends re{}const Be=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bt}),bt="always";function Ot(W,X){return[...X.path,W]}function sn(W,X,F=bt){Oe(W,X),X.valueAccessor.writeValue(W.value),(W.disabled||"always"===F)&&X.valueAccessor.setDisabledState?.(W.disabled),function Ve(W,X){X.valueAccessor.registerOnChange(F=>{W._pendingValue=F,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Ut(W,X)})}(W,X),function un(W,X){const F=(le,Ce)=>{X.valueAccessor.writeValue(le),Ce&&X.viewToModelUpdate(le)};W.registerOnChange(F),X._registerOnDestroy(()=>{W._unregisterOnChange(F)})}(W,X),function St(W,X){X.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Ut(W,X),"submit"!==W.updateOn&&W.markAsTouched()})}(W,X),function Zn(W,X){if(X.valueAccessor.setDisabledState){const F=le=>{X.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(F),X._registerOnDestroy(()=>{W._unregisterOnDisabledChange(F)})}}(W,X)}function Xt(W,X,F=!0){const le=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(le),X.valueAccessor.registerOnTouched(le)),we(W,X),W&&(X._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function ln(W,X){W.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(X)})}function Oe(W,X){const F=It(W);null!==X.validator?W.setValidators(ut(F,X.validator)):"function"==typeof F&&W.setValidators([F]);const le=Gt(W);null!==X.asyncValidator?W.setAsyncValidators(ut(le,X.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const Ce=()=>W.updateValueAndValidity();ln(X._rawValidators,Ce),ln(X._rawAsyncValidators,Ce)}function we(W,X){let F=!1;if(null!==W){if(null!==X.validator){const Ce=It(W);if(Array.isArray(Ce)&&Ce.length>0){const bn=Ce.filter(ur=>ur!==X.validator);bn.length!==Ce.length&&(F=!0,W.setValidators(bn))}}if(null!==X.asyncValidator){const Ce=Gt(W);if(Array.isArray(Ce)&&Ce.length>0){const bn=Ce.filter(ur=>ur!==X.asyncValidator);bn.length!==Ce.length&&(F=!0,W.setAsyncValidators(bn))}}}const le=()=>{};return ln(X._rawValidators,le),ln(X._rawAsyncValidators,le),F}function Ut(W,X){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Qt(W,X){Oe(W,X)}function wn(W,X){if(!W.hasOwnProperty("model"))return!1;const F=W.model;return!!F.isFirstChange()||!Object.is(X,F.currentValue)}function yn(W,X){W._syncPendingControls(),X.forEach(F=>{const le=F.control;"submit"===le.updateOn&&le._pendingChange&&(F.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function Ln(W,X){if(!X)return null;let F,le,Ce;return Array.isArray(X),X.forEach(bn=>{bn.constructor===rt?F=bn:function Sn(W){return Object.getPrototypeOf(W.constructor)===Me}(bn)?le=bn:Ce=bn}),Ce||le||F||null}const Wr={provide:Mn,useExisting:(0,g.Gpc)(()=>Ii)},rr=(()=>Promise.resolve())();let Ii=(()=>{class W extends Mn{constructor(F,le,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new re({},ke(F),Xe(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){rr.then(()=>{const le=this._findContainer(F.path);F.control=le.registerControl(F.name,F.control),sn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){rr.then(()=>{const le=this._findContainer(F.path);le&&le.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){rr.then(()=>{const le=this._findContainer(F.path),Ce=new re({});Qt(Ce,F),le.registerControl(F.name,Ce),Ce.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){rr.then(()=>{const le=this._findContainer(F.path);le&&le.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,le){rr.then(()=>{this.form.get(F.path).setValue(le)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,yn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(wt,10),g.Y36(Et,10),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("submit",function(ur){return Ce.onSubmit(ur)})("reset",function(){return Ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Wr]),g.qOj]})}return W})();function cs(W,X){const F=W.indexOf(X);F>-1&&W.splice(F,1)}function Ji(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Vr=class extends xe{constructor(X=null,F,le){super(ae(F),yt(le,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Ji(X)?X.value:X)}setValue(X,F={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(X,F={}){this.setValue(X,F)}reset(X=this.defaultValue,F={}){this._applyFormState(X),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){cs(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){cs(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){Ji(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let Ui=(()=>{class W extends Mn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(W)))(Ce||W)}}();static#t=this.\u0275dir=g.lG2({type:W,features:[g.qOj]})}return W})();const Us={provide:Wt,useExisting:(0,g.Gpc)(()=>Xi)},Bi=(()=>Promise.resolve())();let Xi=(()=>{class W extends Wt{constructor(F,le,Ce,bn,ur,Zi){super(),this._changeDetectorRef=ur,this.callSetDisabledState=Zi,this.control=new Vr,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce),this.valueAccessor=Ln(0,bn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const le=F.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),wn(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Bi.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const le=F.isDisabled.currentValue,Ce=0!==le&&(0,g.VuI)(le);Bi.then(()=>{Ce&&!this.control.disabled?this.control.disable():!Ce&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?Ot(F,this._parent):[F]}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Mn,9),g.Y36(wt,10),g.Y36(Et,10),g.Y36(De,10),g.Y36(g.sBO,8),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Us]),g.qOj,g.TTD]})}return W})(),Aa=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})(),Ts=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({})}return W})();const Un=new g.OlP("NgModelWithFormControlWarning"),ji={provide:Mn,useExisting:(0,g.Gpc)(()=>zr)};let zr=(()=>{class W extends Mn{constructor(F,le,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(F),this._setAsyncValidators(le)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(we(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const le=this.form.get(F.path);return sn(le,F,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),le}getControl(F){return this.form.get(F.path)}removeControl(F){Xt(F.control||null,F,!1),function wr(W,X){const F=W.indexOf(X);F>-1&&W.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,le){this.form.get(F.path).setValue(le)}onSubmit(F){return this.submitted=!0,yn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const le=F.control,Ce=this.form.get(F.path);le!==Ce&&(Xt(le||null,F),(W=>W instanceof Vr)(Ce)&&(sn(Ce,F,this.callSetDisabledState),F.control=Ce))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const le=this.form.get(F.path);Qt(le,F),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const le=this.form.get(F.path);le&&function cr(W,X){return we(W,X)}(le,F)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oe(this.form,this),this._oldForm&&we(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(wt,10),g.Y36(Et,10),g.Y36(Be,8))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("submit",function(ur){return Ce.onSubmit(ur)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ji]),g.qOj,g.TTD]})}return W})();const ts={provide:Mn,useExisting:(0,g.Gpc)(()=>Hi)};let Hi=(()=>{class W extends Ui{constructor(F,le,Ce){super(),this.name=null,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce)}_checkParentType(){Bs(this._parent)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Mn,13),g.Y36(wt,10),g.Y36(Et,10))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[g._Bn([ts]),g.qOj]})}return W})();const zo={provide:Mn,useExisting:(0,g.Gpc)(()=>ns)};let ns=(()=>{class W extends Mn{constructor(F,le,Ce){super(),this.name=null,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bs(this._parent)}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(Mn,13),g.Y36(wt,10),g.Y36(Et,10))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[g._Bn([zo]),g.qOj]})}return W})();function Bs(W){return!(W instanceof Hi||W instanceof zr||W instanceof ns)}const Or={provide:Wt,useExisting:(0,g.Gpc)(()=>on)};let on=(()=>{class W extends Wt{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,le,Ce,bn,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(le),this._setAsyncValidators(Ce),this.valueAccessor=Ln(0,bn)}ngOnChanges(F){this._added||this._setUpControl(),wn(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(le){return new(le||W)(g.Y36(Mn,13),g.Y36(wt,10),g.Y36(Et,10),g.Y36(De,10),g.Y36(Un,8))};static#n=this.\u0275dir=g.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Or]),g.qOj,g.TTD]})}return W})();const qn={provide:De,useExisting:(0,g.Gpc)(()=>Qs),multi:!0};function Mr(W,X){return null==W?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let Qs=(()=>{class W extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const Ce=Mr(this._getOptionId(F),F);this.setProperty("value",Ce)}registerOnChange(F){this.onChange=le=>{this.value=this._getOptionValue(le),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),F))return le;return null}_getOptionValue(F){const le=function Di(W){return W.split(":")[0]}(F);return this._optionMap.has(le)?this._optionMap.get(le):F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(W)))(Ce||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("change",function(ur){return Ce.onChange(ur.target.value)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([qn]),g.qOj]})}return W})(),Xr=(()=>{class W{constructor(F,le,Ce){this._element=F,this._renderer=le,this._select=Ce,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Mr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Qs,9))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const us={provide:De,useExisting:(0,g.Gpc)(()=>Wn),multi:!0};function Ar(W,X){return null==W?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let Wn=(()=>{class W extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let le;if(this.value=F,Array.isArray(F)){const Ce=F.map(bn=>this._getOptionId(bn));le=(bn,ur)=>{bn._setSelected(Ce.indexOf(ur.toString())>-1)}}else le=(Ce,bn)=>{Ce._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(F){this.onChange=le=>{const Ce=[],bn=le.selectedOptions;if(void 0!==bn){const ur=bn;for(let Zi=0;Zi<ur.length;Zi++){const Pa=this._getOptionValue(ur[Zi].value);Ce.push(Pa)}}else{const ur=le.options;for(let Zi=0;Zi<ur.length;Zi++){const ri=ur[Zi];if(ri.selected){const Pa=this._getOptionValue(ri.value);Ce.push(Pa)}}}this.value=Ce,F(Ce)}}_registerOption(F){const le=(this._idCounter++).toString();return this._optionMap.set(le,F),le}_getOptionId(F){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,F))return le;return null}_getOptionValue(F){const le=function ds(W){return W.split(":")[0]}(F);return this._optionMap.has(le)?this._optionMap.get(le)._value:F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(W)))(Ce||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,Ce){1&le&&g.NdJ("change",function(ur){return Ce.onChange(ur.target)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([us]),g.qOj]})}return W})(),hs=(()=>{class W{constructor(F,le,Ce){this._element=F,this._renderer=le,this._select=Ce,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Ar(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Ar(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(le){return new(le||W)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Wn,9))};static#t=this.\u0275dir=g.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})(),Bn=(()=>{class W{constructor(){this._validator=an}ngOnChanges(F){if(this.inputName in F){const le=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):an,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275dir=g.lG2({type:W,features:[g.TTD]})}return W})();const Nc={provide:wt,useExisting:(0,g.Gpc)(()=>Xn),multi:!0};let Xn=(()=>{class W extends Bn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=F=>ze}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(Ce){return(F||(F=g.n5z(W)))(Ce||W)}}();static#t=this.\u0275dir=g.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Ce){2&le&&g.uIk("required",Ce._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Nc]),g.qOj]})}return W})(),ui=(()=>{class W{static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[Ts]})}return W})();class $i extends xe{constructor(X,F,le){super(ae(F),yt(le,F)),this.controls=X,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,F={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(X,F,le={}){this.controls.splice(X,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(X,F={}){let le=this._adjustIndex(X);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(X,F,le={}){let Ce=this._adjustIndex(X);Ce<0&&(Ce=0),this.controls[Ce]&&this.controls[Ce]._registerOnCollectionChange(()=>{}),this.controls.splice(Ce,1),F&&(this.controls.splice(Ce,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,F={}){Ir(this,0,X),X.forEach((le,Ce)=>{ci(this,!1,Ce),this.at(Ce).setValue(le,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(X,F={}){null!=X&&(X.forEach((le,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(le,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(X=[],F={}){this._forEachChild((le,Ce)=>{le.reset(X[Ce],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((F,le)=>!!le._syncPendingControls()||F,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((F,le)=>{X(F,le)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(F=>F.enabled&&X(F))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Js(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Fi=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new W;return F.useNonNullable=!0,F}group(F,le=null){const Ce=this._reduceControls(F);let bn={};return Js(le)?bn=le:null!==le&&(bn.validators=le.validator,bn.asyncValidators=le.asyncValidator),new re(Ce,bn)}record(F,le=null){const Ce=this._reduceControls(F);return new B(Ce,le)}control(F,le,Ce){let bn={};return this.useNonNullable?(Js(le)?bn=le:(bn.validators=le,bn.asyncValidators=Ce),new Vr(F,{...bn,nonNullable:!0})):new Vr(F,le,Ce)}array(F,le,Ce){const bn=F.map(ur=>this._createControl(ur));return new $i(bn,le,Ce)}_reduceControls(F){const le={};return Object.keys(F).forEach(Ce=>{le[Ce]=this._createControl(F[Ce])}),le}_createControl(F){return F instanceof Vr||F instanceof xe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275prov=g.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Qa=(()=>{class W{static withConfig(F){return{ngModule:W,providers:[{provide:Be,useValue:F.callSetDisabledState??bt}]}}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[ui]})}return W})(),Zo=(()=>{class W{static withConfig(F){return{ngModule:W,providers:[{provide:Un,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Be,useValue:F.callSetDisabledState??bt}]}}static#e=this.\u0275fac=function(le){return new(le||W)};static#t=this.\u0275mod=g.oAB({type:W});static#n=this.\u0275inj=g.cJS({imports:[ui]})}return W})()},6593:(Jt,Ke,U)=>{U.d(Ke,{Dx:()=>Dr,H7:()=>Jr,b2:()=>ar,q6:()=>Cn,se:()=>kt});var g=U(5879),l=U(6814);class G extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends G{static makeCurrent(){(0,l.HT)(new Ie)}onAndCancel(q,H,B){return q.addEventListener(H,B),()=>{q.removeEventListener(H,B)}}dispatchEvent(q,H){q.dispatchEvent(H)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,H){return(H=H||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,H){return"window"===H?window:"document"===H?q:"body"===H?q.body:null}getBaseHref(q){const H=function Ae(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==H?null:function De(re){Me=Me||document.createElement("a"),Me.setAttribute("href",re);const q=Me.pathname;return"/"===q.charAt(0)?q:`/${q}`}(H)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,l.Mx)(document.cookie,q)}}let Me,_e=null,te=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const se=new g.OlP("EventManagerPlugins");let ye=(()=>{class re{constructor(H,B){this._zone=B,this._eventNameToPlugin=new Map,H.forEach(pe=>{pe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,B,pe){return this._findPluginFor(B).addEventListener(H,B,pe)}getZone(){return this._zone}_findPluginFor(H){let B=this._eventNameToPlugin.get(H);if(B)return B;if(B=this._plugins.find(Be=>Be.supports(H)),!B)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(H,B),B}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(se),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();class st{constructor(q){this._doc=q}}const rt="ng-app-id";let mt=(()=>{class re{constructor(H,B,pe,Be={}){this.doc=H,this.appId=B,this.nonce=pe,this.platformId=Be,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(Be),this.resetHostNodes()}addStyles(H){for(const B of H)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(H){for(const B of H)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(B=>B.remove()),H.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const B of this.getAllStyles())this.addStyleToHost(H,B)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const B of this.hostNodes)this.addStyleToHost(B,H)}onStyleRemoved(H){const B=this.styleRef;B.get(H)?.elements?.forEach(pe=>pe.remove()),B.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${rt}="${this.appId}"]`);if(H?.length){const B=new Map;return H.forEach(pe=>{null!=pe.textContent&&B.set(pe.textContent,pe)}),B}return null}changeUsageCount(H,B){const pe=this.styleRef;if(pe.has(H)){const Be=pe.get(H);return Be.usage+=B,Be.usage}return pe.set(H,{usage:B,elements:[]}),B}getStyleElement(H,B){const pe=this.styleNodesInDOM,Be=pe?.get(B);if(Be?.parentNode===H)return pe.delete(B),Be.removeAttribute(rt),Be;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=B,this.platformIsServer&&bt.setAttribute(rt,this.appId),bt}}addStyleToHost(H,B){const pe=this.getStyleElement(H,B);H.appendChild(pe);const Be=this.styleRef,bt=Be.get(B)?.elements;bt?bt.push(pe):Be.set(B,{elements:[pe],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(l.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,it=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function At(re,q){return q.map(H=>H.replace(wt,re))}let kt=(()=>{class re{constructor(H,B,pe,Be,bt,Ot,sn,Xt=null){this.eventManager=H,this.sharedStylesHost=B,this.appId=pe,this.removeStylesOnCompDestroy=Be,this.doc=bt,this.platformId=Ot,this.ngZone=sn,this.nonce=Xt,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(Ot),this.defaultRenderer=new ve(H,bt,sn,this.platformIsServer)}createRenderer(H,B){if(!H||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===g.ifc.ShadowDom&&(B={...B,encapsulation:g.ifc.Emulated});const pe=this.getOrCreateRenderer(H,B);return pe instanceof cn?pe.applyToHost(H):pe instanceof qt&&pe.applyStyles(),pe}getOrCreateRenderer(H,B){const pe=this.rendererByCompId;let Be=pe.get(B.id);if(!Be){const bt=this.doc,Ot=this.ngZone,sn=this.eventManager,Xt=this.sharedStylesHost,ln=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(B.encapsulation){case g.ifc.Emulated:Be=new cn(sn,Xt,B,this.appId,ln,bt,Ot,Zn);break;case g.ifc.ShadowDom:return new Rt(sn,Xt,H,B,bt,Ot,this.nonce,Zn);default:Be=new qt(sn,Xt,B,ln,bt,Ot,Zn)}pe.set(B.id,Be)}return Be}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(ye),g.LFG(mt),g.LFG(g.AFp),g.LFG(it),g.LFG(l.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();class ve{constructor(q,H,B,pe){this.eventManager=q,this.doc=H,this.ngZone=B,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,H){return H?this.doc.createElementNS(ft[H]||H,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,H){(hr(q)?q.content:q).appendChild(H)}insertBefore(q,H,B){q&&(hr(q)?q.content:q).insertBefore(H,B)}removeChild(q,H){q&&q.removeChild(H)}selectRootElement(q,H){let B="string"==typeof q?this.doc.querySelector(q):q;if(!B)throw new g.vHH(-5104,!1);return H||(B.textContent=""),B}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,H,B,pe){if(pe){H=pe+":"+H;const Be=ft[pe];Be?q.setAttributeNS(Be,H,B):q.setAttribute(H,B)}else q.setAttribute(H,B)}removeAttribute(q,H,B){if(B){const pe=ft[B];pe?q.removeAttributeNS(pe,H):q.removeAttribute(`${B}:${H}`)}else q.removeAttribute(H)}addClass(q,H){q.classList.add(H)}removeClass(q,H){q.classList.remove(H)}setStyle(q,H,B,pe){pe&(g.JOm.DashCase|g.JOm.Important)?q.style.setProperty(H,B,pe&g.JOm.Important?"important":""):q.style[H]=B}removeStyle(q,H,B){B&g.JOm.DashCase?q.style.removeProperty(H):q.style[H]=""}setProperty(q,H,B){q[H]=B}setValue(q,H){q.nodeValue=H}listen(q,H,B){if("string"==typeof q&&!(q=(0,l.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${H}`);return this.eventManager.addEventListener(q,H,this.decoratePreventDefault(B))}decoratePreventDefault(q){return H=>{if("__ngUnwrap__"===H)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(H)):q(H))&&H.preventDefault()}}}function hr(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Rt extends ve{constructor(q,H,B,pe,Be,bt,Ot,sn){super(q,Be,bt,sn),this.sharedStylesHost=H,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=At(pe.id,pe.styles);for(const ln of Xt){const Zn=document.createElement("style");Ot&&Zn.setAttribute("nonce",Ot),Zn.textContent=ln,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,H){return super.appendChild(this.nodeOrShadowRoot(q),H)}insertBefore(q,H,B){return super.insertBefore(this.nodeOrShadowRoot(q),H,B)}removeChild(q,H){return super.removeChild(this.nodeOrShadowRoot(q),H)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qt extends ve{constructor(q,H,B,pe,Be,bt,Ot,sn){super(q,Be,bt,Ot),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=pe,this.styles=sn?At(sn,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends qt{constructor(q,H,B,pe,Be,bt,Ot,sn){const Xt=pe+"-"+B.id;super(q,H,B,Be,bt,Ot,sn,Xt),this.contentAttr=function ze(re){return"_ngcontent-%COMP%".replace(wt,re)}(Xt),this.hostAttr=function ct(re){return"_nghost-%COMP%".replace(wt,re)}(Xt)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,H){const B=super.createElement(q,H);return super.setAttribute(B,this.contentAttr,""),B}}let lt=(()=>{class re extends st{constructor(H){super(H)}supports(H){return!0}addEventListener(H,B,pe){return H.addEventListener(B,pe,!1),()=>this.removeEventListener(H,B,pe)}removeEventListener(H,B,pe){return H.removeEventListener(B,pe)}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(l.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const Re=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Je=(()=>{class re extends st{constructor(H){super(H)}supports(H){return null!=re.parseEventName(H)}addEventListener(H,B,pe){const Be=re.parseEventName(B),bt=re.eventCallback(Be.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(H,Be.domEventName,bt))}static parseEventName(H){const B=H.toLowerCase().split("."),pe=B.shift();if(0===B.length||"keydown"!==pe&&"keyup"!==pe)return null;const Be=re._normalizeKey(B.pop());let bt="",Ot=B.indexOf("code");if(Ot>-1&&(B.splice(Ot,1),bt="code."),Re.forEach(Xt=>{const ln=B.indexOf(Xt);ln>-1&&(B.splice(ln,1),bt+=Xt+".")}),bt+=Be,0!=B.length||0===Be.length)return null;const sn={};return sn.domEventName=pe,sn.fullKey=bt,sn}static matchEventFullKeyCode(H,B){let pe=fe[H.key]||H.key,Be="";return B.indexOf("code.")>-1&&(pe=H.code,Be="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Re.forEach(bt=>{bt!==pe&&(0,ke[bt])(H)&&(Be+=bt+".")}),Be+=pe,Be===B)}static eventCallback(H,B,pe){return Be=>{re.matchEventFullKeyCode(Be,H)&&pe.runGuarded(()=>B(Be))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(l.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac})}return re})();const Cn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:l.bD},{provide:g.g9A,useValue:function $t(){Ie.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function gn(){return(0,g.RDi)(document),document},deps:[]}]),Mn=new g.OlP(""),Wt=[{provide:g.rWj,useClass:class $e{addToWindow(q){g.dqk.getAngularTestability=(B,pe=!0)=>{const Be=q.findTestabilityInTree(B,pe);if(null==Be)throw new g.vHH(5103,!1);return Be},g.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(B=>{const pe=g.dqk.getAllAngularTestabilities();let Be=pe.length,bt=!1;const Ot=function(sn){bt=bt||sn,Be--,0==Be&&B(bt)};pe.forEach(sn=>{sn.whenStable(Ot)})})}findTestabilityInTree(q,H,B){return null==H?null:q.getTestability(H)??(B?(0,l.q)().isShadowRoot(H)?this.findTestabilityInTree(q,H.host,!0):this.findTestabilityInTree(q,H.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Dn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Zt(){return new g.qLn},deps:[]},{provide:se,useClass:lt,multi:!0,deps:[l.K0,g.R0b,g.Lbi]},{provide:se,useClass:Je,multi:!0,deps:[l.K0]},kt,mt,ye,{provide:g.FYo,useExisting:kt},{provide:l.JF,useClass:te,deps:[]},[]];let ar=(()=>{class re{constructor(H){}static withServerTransition(H){return{ngModule:re,providers:[{provide:g.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(Mn,12))};static#t=this.\u0275mod=g.oAB({type:re});static#n=this.\u0275inj=g.cJS({providers:[...Dn,...Wt],imports:[l.ez,g.hGG]})}return re})(),Dr=(()=>{class re{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(l.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(B){let pe=null;return pe=B?new B:function In(){return new Dr((0,g.LFG)(l.K0))}(),pe},providedIn:"root"})}return re})();typeof window<"u"&&window;let Jr=(()=>{class re{static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(B){let pe=null;return pe=B?new(B||re):g.LFG(vt),pe},providedIn:"root"})}return re})(),vt=(()=>{class re extends Jr{constructor(H){super(),this._doc=H}sanitize(H,B){if(null==B)return null;switch(H){case g.q3G.NONE:return B;case g.q3G.HTML:return(0,g.qzn)(B,"HTML")?(0,g.z3N)(B):(0,g.EiD)(this._doc,String(B)).toString();case g.q3G.STYLE:return(0,g.qzn)(B,"Style")?(0,g.z3N)(B):B;case g.q3G.SCRIPT:if((0,g.qzn)(B,"Script"))return(0,g.z3N)(B);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(B,"URL")?(0,g.z3N)(B):(0,g.mCW)(String(B));case g.q3G.RESOURCE_URL:if((0,g.qzn)(B,"ResourceURL"))return(0,g.z3N)(B);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,g.JVY)(H)}bypassSecurityTrustStyle(H){return(0,g.L6k)(H)}bypassSecurityTrustScript(H){return(0,g.eBb)(H)}bypassSecurityTrustUrl(H){return(0,g.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,g.pB0)(H)}static#e=this.\u0275fac=function(B){return new(B||re)(g.LFG(l.K0))};static#t=this.\u0275prov=g.Yz7({token:re,factory:function(B){let pe=null;return pe=B?new B:function He(re){return new vt(re.get(l.K0))}(g.LFG(g.zs3)),pe},providedIn:"root"})}return re})()},3914:(Jt,Ke,U)=>{U.d(Ke,{gz:()=>ts,m2:()=>Ji,F0:()=>zs,rH:()=>xo,Bz:()=>oc,lC:()=>Di});var g=U(5879),l=U(5592),G=U(4674),_e=U(2459),Ae=U(2096),Me=U(5619),De=U(2572),$e=U(6973),te=U(5211),se=U(4829);function ye(S){return new l.y(O=>{(0,se.Xf)(S()).subscribe(O)})}var st=U(8407),rt=U(8504),mt=U(6232),ft=U(7394),wt=U(9360),Et=U(8251);function nn(){return(0,wt.e)((S,O)=>{let w=null;S._refCount++;const N=(0,Et.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const z=S._connection,ce=w;w=null,z&&(!ce||z===ce)&&z.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class qe extends l.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,wt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ft.w0;const w=this.getSubject();O.add(this.source.subscribe((0,Et.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ft.w0.EMPTY)}return O}refCount(){return nn()(this)}}var Fe=U(8645),it=U(6814),ze=U(7398),ct=U(4664),At=U(8180),kt=U(7921),ve=U(2181),jt=U(1631),an=U(1374),hr=U(6328),Rt=U(9397),qt=U(6306),cn=U(6699),lt=U(3572);function Re(S){return S<=0?()=>mt.E:(0,wt.e)((O,w)=>{let N=[];O.subscribe((0,Et.x)(w,z=>{N.push(z),S<N.length&&N.shift()},()=>{for(const z of N)w.next(z);w.complete()},void 0,()=>{N=null}))})}var fe=U(3026),ke=U(2737),ut=U(4716),It=U(9773),Gt=U(7537),$t=U(6593);const Zt="primary",gn=Symbol("RouteTitle");class tr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Cn(S){return new tr(S)}function Mn(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const z={};for(let ce=0;ce<N.length;ce++){const Ee=N[ce],ht=S[ce];if(Ee.startsWith(":"))z[Ee.substring(1)]=ht;else if(Ee!==ht.path)return null}return{consumed:S.slice(0,N.length),posParams:z}}function Dn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let z;for(let ce=0;ce<w.length;ce++)if(z=w[ce],!ar(S[z],O[z]))return!1;return!0}function ar(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((z,ce)=>N[ce]===z)}return S===O}function Gn(S){return S.length>0?S[S.length-1]:null}function Lt(S){return function Ie(S){return!!S&&(S instanceof l.y||(0,G.m)(S.lift)&&(0,G.m)(S.subscribe))}(S)?S:(0,g.QGY)(S)?(0,_e.D)(Promise.resolve(S)):(0,Ae.of)(S)}const Lr={exact:function Vt(S,O,w){if(!fi(S.segments,O.segments)||!vr(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Vt(S.children[N],O.children[N],w))return!1;return!0},subset:xn},In={exact:function Qn(S,O){return Dn(S,O)},subset:function Tn(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>ar(S[w],O[w]))},ignored:()=>!0};function Dr(S,O,w){return Lr[w.paths](S.root,O.root,w.matrixParams)&&In[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function xn(S,O,w){return On(S,O,O.segments,w)}function On(S,O,w,N){if(S.segments.length>w.length){const z=S.segments.slice(0,w.length);return!(!fi(z,w)||O.hasChildren()||!vr(z,w,N))}if(S.segments.length===w.length){if(!fi(S.segments,w)||!vr(S.segments,w,N))return!1;for(const z in O.children)if(!S.children[z]||!xn(S.children[z],O.children[z],N))return!1;return!0}{const z=w.slice(0,S.segments.length),ce=w.slice(S.segments.length);return!!(fi(S.segments,z)&&vr(S.segments,z,N)&&S.children[Zt])&&On(S.children[Zt],O,ce,N)}}function vr(S,O,w){return O.every((N,z)=>In[w](S[z].parameters,N.parameters))}class Er{constructor(O=new Fn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class Fn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cr(this)}}class $n{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function fi(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let pi=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return new nr},providedIn:"root"})}return S})();class nr{parse(O){const w=new Ot(O);return new Er(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Jr(O.root,!0)}`,N=function Ir(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(z=>`${vt(w)}=${vt(z)}`).join("&"):`${vt(w)}=${vt(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function ae(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Sr=new nr;function Cr(S){return S.segments.map(O=>Nn(O)).join("/")}function Jr(S,O){if(!S.hasChildren())return Cr(S);if(O){const w=S.children[Zt]?Jr(S.children[Zt],!1):"",N=[];return Object.entries(S.children).forEach(([z,ce])=>{z!==Zt&&N.push(`${z}:${Jr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function rn(S,O){let w=[];return Object.entries(S.children).forEach(([N,z])=>{N===Zt&&(w=w.concat(O(z,N)))}),Object.entries(S.children).forEach(([N,z])=>{N!==Zt&&(w=w.concat(O(z,N)))}),w}(S,(N,z)=>z===Zt?[Jr(S.children[Zt],!1)]:[`${z}:${Jr(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Zt]?`${Cr(S)}/${w[0]}`:`${Cr(S)}/(${w.join("//")})`}}function He(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(S){return He(S).replace(/%3B/gi,";")}function be(S){return He(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yt(S){return decodeURIComponent(S)}function zt(S){return yt(S.replace(/\+/g,"%20"))}function Nn(S){return`${be(S.path)}${function ci(S){return Object.keys(S).map(O=>`;${be(O)}=${be(S[O])}`).join("")}(S.parameters)}`}const xe=/^[^\/()?;#]+/;function re(S){const O=S.match(xe);return O?O[0]:""}const q=/^[^\/()?;=#]+/,B=/^[^=?&#]+/,Be=/^[^&#]+/;class Ot{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Zt]=new Fn(O,w)),N}parseSegment(){const O=re(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(O),new $n(yt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function H(S){const O=S.match(q);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const z=re(this.remaining);z&&(N=z,this.capture(N))}O[yt(w)]=yt(N)}parseQueryParam(O){const w=function pe(S){const O=S.match(B);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ee=function bt(S){const O=S.match(Be);return O?O[0]:""}(this.remaining);Ee&&(N=Ee,this.capture(N))}const z=zt(w),ce=zt(N);if(O.hasOwnProperty(z)){let Ee=O[z];Array.isArray(Ee)||(Ee=[Ee],O[z]=Ee),Ee.push(ce)}else O[z]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=re(this.remaining),z=this.remaining[N.length];if("/"!==z&&")"!==z&&";"!==z)throw new g.vHH(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=Zt);const Ee=this.parseChildren();w[ce]=1===Object.keys(Ee).length?Ee[Zt]:new Fn([],Ee),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new g.vHH(4011,!1)}}function sn(S){return S.segments.length>0?new Fn([],{[Zt]:S}):S}function Xt(S){const O={};for(const N of Object.keys(S.children)){const ce=Xt(S.children[N]);if(N===Zt&&0===ce.segments.length&&ce.hasChildren())for(const[Ee,ht]of Object.entries(ce.children))O[Ee]=ht;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function ln(S){if(1===S.numberOfChildren&&S.children[Zt]){const O=S.children[Zt];return new Fn(S.segments.concat(O.segments),O.children)}return S}(new Fn(S.segments,O))}function Zn(S){return S instanceof Er}function we(S){let O;const z=sn(function w(ce){const Ee={};for(const pt of ce.children){const mn=w(pt);Ee[pt.outlet]=mn}const ht=new Fn(ce.url,Ee);return ce===S&&(O=ht),ht}(S.root));return O??z}function Ve(S,O,w,N){let z=S;for(;z.parent;)z=z.parent;if(0===O.length)return un(z,z,z,w,N);const ce=function dn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new cr(!0,0,S);let O=0,w=!1;const N=S.reduce((z,ce,Ee)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const ht={};return Object.entries(ce.outlets).forEach(([pt,mn])=>{ht[pt]="string"==typeof mn?mn.split("/"):mn}),[...z,{outlets:ht}]}if(ce.segmentPath)return[...z,ce.segmentPath]}return"string"!=typeof ce?[...z,ce]:0===Ee?(ce.split("/").forEach((ht,pt)=>{0==pt&&"."===ht||(0==pt&&""===ht?w=!0:".."===ht?O++:""!=ht&&z.push(ht))}),z):[...z,ce]},[]);return new cr(w,O,N)}(O);if(ce.toRoot())return un(z,z,new Fn([],{}),w,N);const Ee=function We(S,O,w){if(S.isAbsolute)return new nt(O,!0,0);if(!w)return new nt(O,!1,NaN);if(null===w.parent)return new nt(w,!0,0);const N=St(S.commands[0])?0:1;return function Tt(S,O,w){let N=S,z=O,ce=w;for(;ce>z;){if(ce-=z,N=N.parent,!N)throw new g.vHH(4005,!1);z=N.segments.length}return new nt(N,!1,z-ce)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(ce,z,S),ht=Ee.processChildren?Sn(Ee.segmentGroup,Ee.index,ce.commands):wn(Ee.segmentGroup,Ee.index,ce.commands);return un(z,Ee.segmentGroup,ht,w,N)}function St(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ut(S){return"object"==typeof S&&null!=S&&S.outlets}function un(S,O,w,N,z){let Ee,ce={};N&&Object.entries(N).forEach(([pt,mn])=>{ce[pt]=Array.isArray(mn)?mn.map(_r=>`${_r}`):`${mn}`}),Ee=S===O?w:Qt(S,O,w);const ht=sn(Xt(Ee));return new Er(ht,ce,z)}function Qt(S,O,w){const N={};return Object.entries(S.children).forEach(([z,ce])=>{N[z]=ce===O?w:Qt(ce,O,w)}),new Fn(S.segments,N)}class cr{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&St(N[0]))throw new g.vHH(4003,!1);const z=N.find(Ut);if(z&&z!==Gn(N))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nt{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function wn(S,O,w){if(S||(S=new Fn([],{})),0===S.segments.length&&S.hasChildren())return Sn(S,O,w);const N=function yn(S,O,w){let N=0,z=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(N>=w.length)return ce;const Ee=S.segments[z],ht=w[N];if(Ut(ht))break;const pt=`${ht}`,mn=N<w.length-1?w[N+1]:null;if(z>0&&void 0===pt)break;if(pt&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!Wr(pt,mn,Ee))return ce;N+=2}else{if(!Wr(pt,{},Ee))return ce;N++}z++}return{match:!0,pathIndex:z,commandIndex:N}}(S,O,w),z=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const ce=new Fn(S.segments.slice(0,N.pathIndex),{});return ce.children[Zt]=new Fn(S.segments.slice(N.pathIndex),S.children),Sn(ce,0,z)}return N.match&&0===z.length?new Fn(S.segments,{}):N.match&&!S.hasChildren()?Ln(S,O,w):N.match?Sn(S,0,z):Ln(S,O,w)}function Sn(S,O,w){if(0===w.length)return new Fn(S.segments,{});{const N=function en(S){return Ut(S[0])?S[0].outlets:{[Zt]:S}}(w),z={};if(Object.keys(N).some(ce=>ce!==Zt)&&S.children[Zt]&&1===S.numberOfChildren&&0===S.children[Zt].segments.length){const ce=Sn(S.children[Zt],O,w);return new Fn(S.segments,ce.children)}return Object.entries(N).forEach(([ce,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(z[ce]=wn(S.children[ce],O,Ee))}),Object.entries(S.children).forEach(([ce,Ee])=>{void 0===N[ce]&&(z[ce]=Ee)}),new Fn(S.segments,z)}}function Ln(S,O,w){const N=S.segments.slice(0,O);let z=0;for(;z<w.length;){const ce=w[z];if(Ut(ce)){const pt=wr(ce.outlets);return new Fn(N,pt)}if(0===z&&St(w[0])){N.push(new $n(S.segments[O].path,Ai(w[0]))),z++;continue}const Ee=Ut(ce)?ce.outlets[Zt]:`${ce}`,ht=z<w.length-1?w[z+1]:null;Ee&&ht&&St(ht)?(N.push(new $n(Ee,Ai(ht))),z+=2):(N.push(new $n(Ee,{})),z++)}return new Fn(N,{})}function wr(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Ln(new Fn([],{}),0,N))}),O}function Ai(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function Wr(S,O,w){return S==w.path&&Dn(O,w.parameters)}const rr="imperative";class Ii{constructor(O,w){this.id=O,this.url=w}}class cs extends Ii{constructor(O,w,N="imperative",z=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends Ii{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends Ii{constructor(O,w,N,z){super(O,w),this.reason=N,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends Ii{constructor(O,w,N,z){super(O,w),this.reason=N,this.code=z,this.type=16}}class ls extends Ii{constructor(O,w,N,z){super(O,w),this.error=N,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ui extends Ii{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xc extends Ii{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends Ii{constructor(O,w,N,z,ce){super(O,w),this.urlAfterRedirects=N,this.state=z,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oc extends Ii{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends Ii{constructor(O,w,N,z){super(O,w),this.urlAfterRedirects=N,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wa{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aa{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Da{}class Is{constructor(O){this.url=O}}class Ts{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ys,this.attachRef=null}}let Ys=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const z=this.getOrCreateContext(w);z.outlet=N,this.contexts.set(w,z)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Ts,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class So{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=es(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=es(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=$o(O,this._root);return w.length<2?[]:w[w.length-2].children.map(z=>z.value).filter(z=>z!==O)}pathFromRoot(O){return $o(O,this._root).map(w=>w.value)}}function es(S,O){if(S===O.value)return O;for(const w of O.children){const N=es(S,w);if(N)return N}return null}function $o(S,O){if(S===O.value)return[O];for(const w of O.children){const N=$o(S,w);if(N.length)return N.unshift(O),N}return[]}class Un{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ur(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class ni extends So{constructor(O,w){super(O),this.snapshot=w,Or(this,O)}toString(){return this.snapshot.toString()}}function ji(S,O){const w=function zr(S,O){const Ee=new ns([],{},{},"",{},Zt,O,null,{});return new Bs("",new Un(Ee,[]))}(0,O),N=new Me.X([new $n("",{})]),z=new Me.X({}),ce=new Me.X({}),Ee=new Me.X({}),ht=new Me.X(""),pt=new ts(N,z,Ee,ht,ce,Zt,O,w.root);return pt.snapshot=w.root,new ni(new Un(pt,[]),w)}class ts{constructor(O,w,N,z,ce,Ee,ht,pt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=z,this.dataSubject=ce,this.outlet=Ee,this.component=ht,this._futureSnapshot=pt,this.title=this.dataSubject?.pipe((0,ze.U)(mn=>mn[gn]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=z,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(O=>Cn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(O=>Cn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hi(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const z=w[N],ce=w[N-1];if(z.routeConfig&&""===z.routeConfig.path)N--;else{if(ce.component)break;N--}}return function zo(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class ns{get title(){return this.data?.[gn]}constructor(O,w,N,z,ce,Ee,ht,pt,mn){this.url=O,this.params=w,this.queryParams=N,this.fragment=z,this.data=ce,this.outlet=Ee,this.component=ht,this.routeConfig=pt,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends So{constructor(O,w){super(w),this.url=O,Or(this,w)}toString(){return on(this._root)}}function Or(S,O){O.value._routerState=S,O.children.forEach(w=>Or(S,w))}function on(S){const O=S.children.length>0?` { ${S.children.map(on).join(", ")} } `:"";return`${S.value}${O}`}function qn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Dn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Dn(O.params,w.params)||S.paramsSubject.next(w.params),function Wt(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!Dn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),Dn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Mr(S,O){const w=Dn(S.params,O.params)&&function Hr(S,O){return fi(S,O)&&S.every((w,N)=>Dn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Mr(S.parent,O.parent))}let Di=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ys),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Xr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:z}=w.name;if(N)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=w;const z=this.location,Ee=w.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,pt=new Qs(w,ht,z.injector);this.activated=z.createComponent(Ee,{index:z.length,injector:pt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return S})();class Qs{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===ts?this.route:O===Ys?this.childContexts:this.parent.get(O,w)}}const Xr=new g.OlP("");let us=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,z=(0,De.a)([N.queryParams,N.params,N.data]).pipe((0,ct.w)(([ce,Ee,ht],pt)=>(ht={...ce,...Ee,...ht},0===pt?(0,Ae.of)(ht):Promise.resolve(ht)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ee=(0,g.qFp)(N.component);if(Ee)for(const{templateName:ht}of Ee.inputs)w.activatedComponentRef.setInput(ht,ce[ht]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,z)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function ds(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const z=function mo(S,O,w){return O.children.map(N=>{for(const z of w.children)if(S.shouldReuseRoute(N.value,z.value.snapshot))return ds(S,N,z);return ds(S,N)})}(S,O,w);return new Un(N,z)}{if(S.shouldAttach(O.value)){const ce=S.retrieve(O.value);if(null!==ce){const Ee=ce.route;return Ee.value._futureSnapshot=O.value,Ee.children=O.children.map(ht=>ds(S,ht)),Ee}}const N=function Wn(S){return new ts(new Me.X(S.url),new Me.X(S.params),new Me.X(S.queryParams),new Me.X(S.fragment),new Me.X(S.data),S.outlet,S.component,S)}(O.value),z=O.children.map(ce=>ds(S,ce));return new Un(N,z)}}const hs="ngNavigationCancelingError";function kr(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=Zn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,z=Ni(!1,0,O);return z.url=w,z.navigationBehaviorOptions=N,z}function Ni(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[hs]=!0,N.cancellationCode=O,w&&(N.url=w),N}function fs(S){return S&&S[hs]}let Si=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(N,z){1&N&&g._UZ(0,"router-outlet")},dependencies:[Di],encapsulation:2})}return S})();function rs(S){const O=S.children&&S.children.map(rs),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Zt&&(w.component=Si),w}function ki(S){return S.outlet||Zt}function Cs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class li{constructor(O,w,N,z,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=z,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),qn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const z=Ur(w);O.children.forEach(ce=>{const Ee=ce.value.outlet;this.deactivateRoutes(ce,z[Ee],N),delete z[Ee]}),Object.values(z).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const z=O.value,ce=w?w.value:null;if(z===ce)if(z.component){const Ee=N.getContext(z.outlet);Ee&&this.deactivateChildRoutes(O,w,Ee.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),z=N&&O.value.component?N.children:w,ce=Ur(O);for(const Ee of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ee],z);if(N&&N.outlet){const Ee=N.outlet.detach(),ht=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ee,route:O,contexts:ht})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),z=N&&O.value.component?N.children:w,ce=Ur(O);for(const Ee of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ee],z);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const z=Ur(w);O.children.forEach(ce=>{this.activateRoutes(ce,z[ce.value.outlet],N),this.forwardEvent(new Aa(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new Bi(O.value.snapshot))}activateRoutes(O,w,N){const z=O.value,ce=w?w.value:null;if(qn(z),z===ce)if(z.component){const Ee=N.getOrCreateContext(z.outlet);this.activateChildRoutes(O,w,Ee.children)}else this.activateChildRoutes(O,w,N);else if(z.component){const Ee=N.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const ht=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ee.children.onOutletReAttached(ht.contexts),Ee.attachRef=ht.componentRef,Ee.route=ht.route.value,Ee.outlet&&Ee.outlet.attach(ht.componentRef,ht.route.value),qn(ht.route.value),this.activateChildRoutes(O,null,Ee.children)}else{const ht=Cs(z.snapshot);Ee.attachRef=null,Ee.route=z,Ee.injector=ht,Ee.outlet&&Ee.outlet.activateWith(z,Ee.injector),this.activateChildRoutes(O,null,Ee.children)}}else this.activateChildRoutes(O,null,N)}}class Ma{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ui{constructor(O,w){this.component=O,this.route=w}}function $i(S,O,w){const N=S._root;return Js(N,O?O._root:null,w,[N.value])}function Ps(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,g.Z0I)(S)?O.get(S):S:N}function Js(S,O,w,N,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Ur(O);return S.children.forEach(Ee=>{(function Fi(S,O,w,N,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=S.value,Ee=O?O.value:null,ht=w?w.getContext(S.value.outlet):null;if(Ee&&ce.routeConfig===Ee.routeConfig){const pt=function aa(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!fi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!fi(S.url,O.url)||!Dn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(S,O)||!Dn(S.queryParams,O.queryParams);default:return!Mr(S,O)}}(Ee,ce,ce.routeConfig.runGuardsAndResolvers);pt?z.canActivateChecks.push(new Ma(N)):(ce.data=Ee.data,ce._resolvedData=Ee._resolvedData),Js(S,O,ce.component?ht?ht.children:null:w,N,z),pt&&ht&&ht.outlet&&ht.outlet.isActivated&&z.canDeactivateChecks.push(new ui(ht.outlet.component,Ee))}else Ee&&is(O,ht,z),z.canActivateChecks.push(new Ma(N)),Js(S,null,ce.component?ht?ht.children:null:w,N,z)})(Ee,ce[Ee.value.outlet],w,N.concat([Ee.value]),z),delete ce[Ee.value.outlet]}),Object.entries(ce).forEach(([Ee,ht])=>is(ht,w.getContext(Ee),z)),z}function is(S,O,w){const N=Ur(S),z=S.value;Object.entries(N).forEach(([ce,Ee])=>{is(Ee,z.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new ui(z.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,z))}function Xs(S){return"function"==typeof S}function ur(S){return S instanceof $e.K||"EmptyError"===S?.name}const Zi=Symbol("INITIAL_VALUE");function ri(){return(0,ct.w)(S=>(0,De.a)(S.map(O=>O.pipe((0,At.q)(1),(0,kt.O)(Zi)))).pipe((0,ze.U)(O=>{for(const w of O)if(!0!==w){if(w===Zi)return Zi;if(!1===w||w instanceof Er)return w}return!0}),(0,ve.h)(O=>O!==Zi),(0,At.q)(1)))}function Hs(S){return(0,st.z)((0,Rt.b)(O=>{if(Zn(O))throw kr(0,O)}),(0,ze.U)(O=>!0===O))}class Wi{constructor(O){this.segmentGroup=O||null}}class dd{constructor(O){this.urlTree=O}}function Pr(S){return(0,rt._)(new Wi(S))}function la(S){return(0,rt._)(new dd(S))}class $s{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new g.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],z=w.root;for(;;){if(N=N.concat(z.segments),0===z.numberOfChildren)return(0,Ae.of)(N);if(z.numberOfChildren>1||!z.children[Zt])return(0,rt._)(new g.vHH(4e3,!1));z=z.children[Zt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,z){const ce=this.createSegmentGroup(O,w.root,N,z);return new Er(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([z,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const ht=ce.substring(1);N[z]=w[ht]}else N[z]=ce}),N}createSegmentGroup(O,w,N,z){const ce=this.createSegments(O,w.segments,N,z);let Ee={};return Object.entries(w.children).forEach(([ht,pt])=>{Ee[ht]=this.createSegmentGroup(O,pt,N,z)}),new Fn(ce,Ee)}createSegments(O,w,N,z){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,z):this.findOrReturn(ce,N))}findPosParam(O,w,N){const z=N[w.path.substring(1)];if(!z)throw new g.vHH(4001,!1);return z}findOrReturn(O,w){let N=0;for(const z of w){if(z.path===O.path)return w.splice(N),z;N++}return O}}const to={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function no(S,O,w,N,z){const ce=Mo(S,O,w);return ce.matched?(N=function ps(S,O){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function eo(S,O,w,N){const z=O.canMatch;if(!z||0===z.length)return(0,Ae.of)(!0);const ce=z.map(Ee=>{const ht=Ps(Ee,S);return Lt(function le(S){return S&&Xs(S.canMatch)}(ht)?ht.canMatch(O,w):S.runInContext(()=>ht(O,w)))});return(0,Ae.of)(ce).pipe(ri(),Hs())}(N,O,w).pipe((0,ze.U)(Ee=>!0===Ee?ce:{...to}))):(0,Ae.of)(ce)}function Mo(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...to}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const z=(O.matcher||Mn)(w,S,O);if(!z)return{...to};const ce={};Object.entries(z.posParams??{}).forEach(([ht,pt])=>{ce[ht]=pt.path});const Ee=z.consumed.length>0?{...ce,...z.consumed[z.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:z.consumed,remainingSegments:w.slice(z.consumed.length),parameters:Ee,positionalParamSegments:z.posParams??{}}}function xa(S,O,w,N){return w.length>0&&function Vc(S,O,w){return w.some(N=>nc(S,O,N)&&ki(N)!==Zt)}(S,w,N)?{segmentGroup:new Fn(O,Lc(N,new Fn(w,S.children))),slicedSegments:[]}:0===w.length&&function tc(S,O,w){return w.some(N=>nc(S,O,N))}(S,w,N)?{segmentGroup:new Fn(S.segments,sr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Fn(S.segments,S.children),slicedSegments:w}}function sr(S,O,w,N,z){const ce={};for(const Ee of N)if(nc(S,w,Ee)&&!z[ki(Ee)]){const ht=new Fn([],{});ce[ki(Ee)]=ht}return{...z,...ce}}function Lc(S,O){const w={};w[Zt]=O;for(const N of S)if(""===N.path&&ki(N)!==Zt){const z=new Fn([],{});w[ki(N)]=z}return w}function nc(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class rc{constructor(O,w,N,z,ce,Ee,ht){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=z,this.urlTree=ce,this.paramsInheritanceStrategy=Ee,this.urlSerializer=ht,this.allowRedirects=!0,this.applyRedirects=new $s(this.urlSerializer,this.urlTree)}noMatchError(O){return new g.vHH(4002,!1)}recognize(){const O=xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Zt).pipe((0,qt.K)(w=>{if(w instanceof dd)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Wi?this.noMatchError(w):w}),(0,ze.U)(w=>{const N=new ns([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,{}),z=new Un(N,w),ce=new Bs("",z),Ee=function Oe(S,O,w=null,N=null){return Ve(we(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ce._root),{state:ce,tree:Ee}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Zt).pipe((0,qt.K)(N=>{throw N instanceof Wi?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Hi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(O,w,N,z){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,z,!0)}processChildren(O,w,N){const z=[];for(const ce of Object.keys(N.children))"primary"===ce?z.unshift(ce):z.push(ce);return(0,_e.D)(z).pipe((0,hr.b)(ce=>{const Ee=N.children[ce],ht=function bs(S,O){const w=S.filter(N=>ki(N)===O);return w.push(...S.filter(N=>ki(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,ht,Ee,ce)}),(0,cn.R)((ce,Ee)=>(ce.push(...Ee),ce)),(0,lt.d)(null),function Je(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,ve.h)((z,ce)=>S(z,ce,N)):ke.y,Re(1),w?(0,lt.d)(O):(0,fe.T)(()=>new $e.K))}(),(0,jt.z)(ce=>{if(null===ce)return Pr(N);const Ee=Ko(ce);return function Tl(S){S.sort((O,w)=>O.value.outlet===Zt?-1:w.value.outlet===Zt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ee),(0,Ae.of)(Ee)}))}processSegment(O,w,N,z,ce,Ee){return(0,_e.D)(w).pipe((0,hr.b)(ht=>this.processSegmentAgainstRoute(ht._injector??O,w,ht,N,z,ce,Ee).pipe((0,qt.K)(pt=>{if(pt instanceof Wi)return(0,Ae.of)(null);throw pt}))),(0,an.P)(ht=>!!ht),(0,qt.K)(ht=>{if(ur(ht))return function Wo(S,O,w){return 0===O.length&&!S.children[w]}(N,z,ce)?(0,Ae.of)([]):Pr(N);throw ht}))}processSegmentAgainstRoute(O,w,N,z,ce,Ee,ht){return function Oa(S,O,w,N){return!!(ki(S)===N||N!==Zt&&nc(O,w,S))&&("**"===S.path||Mo(O,S,w).matched)}(N,z,ce,Ee)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,z,N,ce,Ee,ht):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,z,w,N,ce,Ee):Pr(z):Pr(z)}expandSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,z,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,z){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?la(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,jt.z)(Ee=>{const ht=new Fn(Ee,{});return this.processSegment(O,w,ht,Ee,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,z,ce,Ee){const{matched:ht,consumedSegments:pt,remainingSegments:mn,positionalParamSegments:_r}=Mo(w,z,ce);if(!ht)return Pr(w);const qr=this.applyRedirects.applyRedirectCommands(pt,z.redirectTo,_r);return z.redirectTo.startsWith("/")?la(qr):this.applyRedirects.lineralizeSegments(z,qr).pipe((0,jt.z)(or=>this.processSegment(O,N,w,or.concat(mn),Ee,!1)))}matchSegmentAgainstRoute(O,w,N,z,ce,Ee){let ht;if("**"===N.path){const pt=z.length>0?Gn(z).parameters:{},mn=new ns(z,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ro(N),ki(N),N.component??N._loadedComponent??null,N,hd(N));ht=(0,Ae.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]}),w.children={}}else ht=no(w,N,z,O).pipe((0,ze.U)(({matched:pt,consumedSegments:mn,remainingSegments:_r,parameters:qr})=>pt?{snapshot:new ns(mn,qr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ro(N),ki(N),N.component??N._loadedComponent??null,N,hd(N)),consumedSegments:mn,remainingSegments:_r}:null));return ht.pipe((0,ct.w)(pt=>null===pt?Pr(w):this.getChildConfig(O=N._injector??O,N,z).pipe((0,ct.w)(({routes:mn})=>{const _r=N._loadedInjector??O,{snapshot:qr,consumedSegments:or,remainingSegments:ms}=pt,{segmentGroup:Gs,slicedSegments:io}=xa(w,or,ms,mn);if(0===io.length&&Gs.hasChildren())return this.processChildren(_r,mn,Gs).pipe((0,ze.U)(so=>null===so?null:[new Un(qr,so)]));if(0===mn.length&&0===io.length)return(0,Ae.of)([new Un(qr,[])]);const cc=ki(N)===ce;return this.processSegment(_r,mn,Gs,io,cc?Zt:ce,!0).pipe((0,ze.U)(so=>[new Un(qr,so)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Fc(S,O,w,N){const z=O.canLoad;if(void 0===z||0===z.length)return(0,Ae.of)(!0);const ce=z.map(Ee=>{const ht=Ps(Ee,S);return Lt(function Zo(S){return S&&Xs(S.canLoad)}(ht)?ht.canLoad(O,w):S.runInContext(()=>ht(O,w)))});return(0,Ae.of)(ce).pipe(ri(),Hs())}(O,w,N).pipe((0,jt.z)(z=>z?this.configLoader.loadChildren(O,w).pipe((0,Rt.b)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function hu(S){return(0,rt._)(Ni(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function Uc(S){const O=S.value.routeConfig;return O&&""===O.path}function Ko(S){const O=[],w=new Set;for(const N of S){if(!Uc(N)){O.push(N);continue}const z=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==z?(z.children.push(...N.children),w.add(z)):O.push(N)}for(const N of w){const z=Ko(N.children);O.push(new Un(N.value,z))}return O.filter(N=>!w.has(N))}function Ro(S){return S.data||{}}function hd(S){return S.resolve||{}}function ei(S){return"string"==typeof S.title||null===S.title}function P(S){return(0,ct.w)(O=>{const w=S(O);return w?(0,_e.D)(w).pipe((0,ze.U)(()=>O)):(0,Ae.of)(O)})}const ne=new g.OlP("ROUTES");let j=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Lt(w.loadComponent()).pipe((0,ze.U)(_t),(0,Rt.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,ut.x)(()=>{this.componentLoaders.delete(w)})),z=new qe(N,()=>new Fe.x).pipe(nn());return this.componentLoaders.set(w,z),z}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function J(S,O,w,N){return Lt(S.loadChildren()).pipe((0,ze.U)(_t),(0,jt.z)(z=>z instanceof g.YKP||Array.isArray(z)?(0,Ae.of)(z):(0,_e.D)(O.compileModuleAsync(z))),(0,ze.U)(z=>{N&&N(S);let ce,Ee,ht=!1;return Array.isArray(z)?(Ee=z,!0):(ce=z.create(w).injector,Ee=ce.get(ne,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(rs),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,ut.x)(()=>{this.childrenLoaders.delete(N)})),Ee=new qe(ce,()=>new Fe.x).pipe(nn());return this.childrenLoaders.set(N,Ee),Ee}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function _t(S){return function Te(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Mt=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.transitionAbortSubject=new Fe.x,this.configLoader=(0,g.f3M)(j),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(pi),this.rootContexts=(0,g.f3M)(Ys),this.inputBindingEnabled=null!==(0,g.f3M)(Xr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new wa(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new $r(z))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,z){return this.transitions=new Me.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rr,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.h)(ce=>0!==ce.id),(0,ze.U)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,ct.w)(ce=>{this.currentTransition=ce;let Ee=!1,ht=!1;return(0,Ae.of)(ce).pipe((0,Rt.b)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(pt=>{const mn=pt.currentBrowserUrl.toString(),_r=!w.navigated||pt.extractedUrl.toString()!==mn||mn!==pt.currentUrlTree.toString();if(!_r&&"reload"!==(pt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const or="";return this.events.next(new Do(pt.id,this.urlSerializer.serialize(pt.rawUrl),or,0)),pt.resolve(null),mt.E}if(w.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return(0,Ae.of)(pt).pipe((0,ct.w)(or=>{const ms=this.transitions?.getValue();return this.events.next(new cs(or.id,this.urlSerializer.serialize(or.extractedUrl),or.source,or.restoredState)),ms!==this.transitions?.getValue()?mt.E:Promise.resolve(or)}),function Na(S,O,w,N,z,ce){return(0,jt.z)(Ee=>function Po(S,O,w,N,z,ce,Ee="emptyOnly"){return new rc(S,O,w,N,z,Ee,ce).recognize()}(S,O,w,N,Ee.extractedUrl,z,ce).pipe((0,ze.U)(({state:ht,tree:pt})=>({...Ee,targetSnapshot:ht,urlAfterRedirects:pt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Rt.b)(or=>{ce.targetSnapshot=or.targetSnapshot,ce.urlAfterRedirects=or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:or.urlAfterRedirects};const ms=new Ui(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(ms)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(pt.currentRawUrl)){const{id:or,extractedUrl:ms,source:Gs,restoredState:io,extras:cc}=pt,so=new cs(or,this.urlSerializer.serialize(ms),Gs,io);this.events.next(so);const mu=ji(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...pt,targetSnapshot:mu,urlAfterRedirects:ms,extras:{...cc,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(ce)}{const or="";return this.events.next(new Do(pt.id,this.urlSerializer.serialize(pt.extractedUrl),or,1)),pt.resolve(null),mt.E}}),(0,Rt.b)(pt=>{const mn=new xc(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(mn)}),(0,ze.U)(pt=>(this.currentTransition=ce={...pt,guards:$i(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)},ce)),function Pa(S,O){return(0,jt.z)(w=>{const{targetSnapshot:N,currentSnapshot:z,guards:{canActivateChecks:ce,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===ce.length?(0,Ae.of)({...w,guardsResult:!0}):function Il(S,O,w,N){return(0,_e.D)(S).pipe((0,jt.z)(z=>function ca(S,O,w,N,z){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Ae.of)(!0);const Ee=ce.map(ht=>{const pt=Cs(O)??z,mn=Ps(ht,pt);return Lt(function F(S){return S&&Xs(S.canDeactivate)}(mn)?mn.canDeactivate(S,O,w,N):pt.runInContext(()=>mn(S,O,w,N))).pipe((0,an.P)())});return(0,Ae.of)(Ee).pipe(ri())}(z.component,z.route,w,O,N)),(0,an.P)(z=>!0!==z,!0))}(Ee,N,z,S).pipe((0,jt.z)(ht=>ht&&function Qa(S){return"boolean"==typeof S}(ht)?function Ja(S,O,w,N){return(0,_e.D)(O).pipe((0,hr.b)(z=>(0,te.z)(function Ra(S,O){return null!==S&&O&&O(new Us(S)),(0,Ae.of)(!0)}(z.route.parent,N),function Xa(S,O){return null!==S&&O&&O(new Xi(S)),(0,Ae.of)(!0)}(z.route,N),function ec(S,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Ee=>function Ya(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>ye(()=>{const ht=Ee.guards.map(pt=>{const mn=Cs(Ee.node)??w,_r=Ps(pt,mn);return Lt(function X(S){return S&&Xs(S.canActivateChild)}(_r)?_r.canActivateChild(N,S):mn.runInContext(()=>_r(N,S))).pipe((0,an.P)())});return(0,Ae.of)(ht).pipe(ri())}));return(0,Ae.of)(ce).pipe(ri())}(S,z.path,w),function kc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const z=N.map(ce=>ye(()=>{const Ee=Cs(O)??w,ht=Ps(ce,Ee);return Lt(function W(S){return S&&Xs(S.canActivate)}(ht)?ht.canActivate(O,S):Ee.runInContext(()=>ht(O,S))).pipe((0,an.P)())}));return(0,Ae.of)(z).pipe(ri())}(S,z.route,w))),(0,an.P)(z=>!0!==z,!0))}(N,ce,S,O):(0,Ae.of)(ht)),(0,ze.U)(ht=>({...w,guardsResult:ht})))})}(this.environmentInjector,pt=>this.events.next(pt)),(0,Rt.b)(pt=>{if(ce.guardsResult=pt.guardsResult,Zn(pt.guardsResult))throw kr(0,pt.guardsResult);const mn=new Kr(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.events.next(mn)}),(0,ve.h)(pt=>!!pt.guardsResult||(this.cancelNavigationTransition(pt,"",3),!1)),P(pt=>{if(pt.guards.canActivateChecks.length)return(0,Ae.of)(pt).pipe((0,Rt.b)(mn=>{const _r=new Oc(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(_r)}),(0,ct.w)(mn=>{let _r=!1;return(0,Ae.of)(mn).pipe(function ic(S,O){return(0,jt.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:z}}=w;if(!z.length)return(0,Ae.of)(w);let ce=0;return(0,_e.D)(z).pipe((0,hr.b)(Ee=>function bl(S,O,w,N){const z=S.routeConfig,ce=S._resolve;return void 0!==z?.title&&!ei(z)&&(ce[gn]=z.title),function ka(S,O,w,N){const z=function fd(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,Ae.of)({});const ce={};return(0,_e.D)(z).pipe((0,jt.z)(Ee=>function Bc(S,O,w,N){const z=Cs(O)??N,ce=Ps(S,z);return Lt(ce.resolve?ce.resolve(O,w):z.runInContext(()=>ce(O,w)))}(S[Ee],O,w,N).pipe((0,an.P)(),(0,Rt.b)(ht=>{ce[Ee]=ht}))),Re(1),function Xe(S){return(0,ze.U)(()=>S)}(ce),(0,qt.K)(Ee=>ur(Ee)?mt.E:(0,rt._)(Ee)))}(ce,S,O,N).pipe((0,ze.U)(Ee=>(S._resolvedData=Ee,S.data=Hi(S,w).resolve,z&&ei(z)&&(S.data[gn]=z.title),null)))}(Ee.route,N,S,O)),(0,Rt.b)(()=>ce++),Re(1),(0,jt.z)(Ee=>ce===z.length?(0,Ae.of)(w):mt.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(mn,"",2)}}))}),(0,Rt.b)(mn=>{const _r=new Pi(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(_r)}))}),P(pt=>{const mn=_r=>{const qr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&qr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,Rt.b)(or=>{_r.component=or}),(0,ze.U)(()=>{})));for(const or of _r.children)qr.push(...mn(or));return qr};return(0,De.a)(mn(pt.targetSnapshot.root)).pipe((0,lt.d)(),(0,At.q)(1))}),P(()=>this.afterPreactivation()),(0,ze.U)(pt=>{const mn=function Ar(S,O,w){const N=ds(S,O._root,w?w._root:void 0);return new ni(N,O)}(w.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return this.currentTransition=ce={...pt,targetRouterState:mn},ce}),(0,Rt.b)(()=>{this.events.next(new Da)}),((S,O,w,N)=>(0,ze.U)(z=>(new li(O,z.targetRouterState,z.currentRouterState,w,N).activate(S),z)))(this.rootContexts,w.routeReuseStrategy,pt=>this.events.next(pt),this.inputBindingEnabled),(0,At.q)(1),(0,Rt.b)({next:pt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ji(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects))),w.titleStrategy?.updateTitle(pt.targetRouterState.snapshot),pt.resolve(!0)},complete:()=>{Ee=!0}}),(0,It.R)(this.transitionAbortSubject.pipe((0,Rt.b)(pt=>{throw pt}))),(0,ut.x)(()=>{Ee||ht||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,qt.K)(pt=>{if(ht=!0,fs(pt))this.events.next(new Vr(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt.message,pt.cancellationCode)),function Bn(S){return fs(S)&&Zn(S.url)}(pt)?this.events.next(new Is(pt.url)):ce.resolve(!1);else{this.events.next(new ls(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(pt))}catch(mn){ce.reject(mn)}}return mt.E}))}))}cancelNavigationTransition(w,N,z){const ce=new Vr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,z);this.events.next(ce),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function _n(S){return S!==rr}let Rr=(()=>{class S{buildTitle(w){let N,z=w.root;for(;void 0!==z;)N=this.getResolvedTitleForRoute(z)??N,z=z.children.find(ce=>ce.outlet===Zt);return N}getResolvedTitleForRoute(w){return w.data[gn]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Gr)},providedIn:"root"})}return S})(),Gr=(()=>{class S extends Rr{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG($t.Dx))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Br=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Yr)},providedIn:"root"})}return S})();class pr{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Yr=(()=>{class S extends pr{static#e=this.\u0275fac=function(){let w;return function(z){return(w||(w=g.n5z(S)))(z||S)}}();static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Fr=new g.OlP("",{providedIn:"root",factory:()=>({})});let Ri=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(ss)},providedIn:"root"})}return S})(),ss=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Ki=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Ki||{});function Yo(S,O){S.events.pipe((0,ve.h)(w=>w instanceof Ji||w instanceof Vr||w instanceof ls||w instanceof Do),(0,ze.U)(w=>w instanceof Ji||w instanceof Do?Ki.COMPLETE:w instanceof Vr&&(0===w.code||1===w.code)?Ki.REDIRECTING:Ki.FAILED),(0,ve.h)(w=>w!==Ki.REDIRECTING),(0,At.q)(1)).subscribe(()=>{O()})}function Rs(S){throw S}function ii(S,O,w){return O.parse("/")}const Jn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zs=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new Fe.x,this.options=(0,g.f3M)(Fr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Rs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ii,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Ri),this.routeReuseStrategy=(0,g.f3M)(Br),this.titleStrategy=(0,g.f3M)(Rr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(ne,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Mt),this.urlSerializer=(0,g.f3M)(pi),this.location=(0,g.f3M)(it.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(Xr,{optional:!0}),this.eventsSubscription=new ft.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(ua(N)&&this._events.next(N));if(N instanceof cs)_n(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(N instanceof Do)this.rawUrlTree=z.rawUrl;else if(N instanceof Ui){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(ce,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(N instanceof Da)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(N instanceof Vr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(z);else if(N instanceof Is){const ce=this.urlHandlingStrategy.merge(N.url,z.currentRawUrl),Ee={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_n(z.source)};this.scheduleNavigation(ce,rr,null,Ee,{resolve:z.resolve,reject:z.reject,promise:z.promise})}N instanceof ls&&this.restoreHistory(z,!0),N instanceof Ji&&(this.navigated=!0),ua(N)&&this._events.next(N)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,z){const ce={replaceUrl:!0},Ee=z?.navigationId?z:null;if(z){const pt={...z};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(ce.state=pt)}const ht=this.parseUrl(w);this.scheduleNavigation(ht,N,Ee,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:z,queryParams:ce,fragment:Ee,queryParamsHandling:ht,preserveFragment:pt}=N,mn=pt?this.currentUrlTree.fragment:Ee;let qr,_r=null;switch(ht){case"merge":_r={...this.currentUrlTree.queryParams,...ce};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ce||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{qr=we(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),qr=this.currentUrlTree.root}return Ve(qr,w,_r,mn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const z=Zn(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ce,rr,null,N)}navigate(w,N={skipLocationChange:!1}){return function si(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new g.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(z){N=this.malformedUriErrorHandler(z,this.urlSerializer,w)}return N}isActive(w,N){let z;if(z=!0===N?{...Jn}:!1===N?{...Qo}:N,Zn(w))return Dr(this.currentUrlTree,w,z);const ce=this.parseUrl(w);return Dr(this.currentUrlTree,ce,z)}removeEmptyProps(w){return Object.keys(w).reduce((N,z)=>{const ce=w[z];return null!=ce&&(N[z]=ce),N},{})}scheduleNavigation(w,N,z,ce,Ee){if(this.disposed)return Promise.resolve(!1);let ht,pt,mn;Ee?(ht=Ee.resolve,pt=Ee.reject,mn=Ee.promise):mn=new Promise((qr,or)=>{ht=qr,pt=or});const _r=this.pendingTasks.add();return Yo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:ht,reject:pt,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch(qr=>Promise.reject(qr))}setBrowserUrl(w,N){const z=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(z)||N.extras.replaceUrl){const Ee={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(z,"",Ee)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(z,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function ua(S){return!(S instanceof Da||S instanceof Is)}let xo=(()=>{class S{constructor(w,N,z,ce,Ee,ht){this.router=w,this.route=N,this.tabIndexAttribute=z,this.renderer=ce,this.el=Ee,this.locationStrategy=ht,this.href=null,this.commands=null,this.onChanges=new Fe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=w.events.subscribe(mn=>{mn instanceof Ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,z,ce,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||z||ce||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const z=this.renderer,ce=this.el.nativeElement;null!==N?z.setAttribute(ce,w,N):z.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(g.Y36(zs),g.Y36(ts),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(it.S$))};static#t=this.\u0275dir=g.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,z){1&N&&g.NdJ("click",function(Ee){return z.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&N&&g.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return S})();class Cl{}let jc=(()=>{class S{constructor(w,N,z,ce,Ee){this.router=w,this.injector=z,this.preloadingStrategy=ce,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.h)(w=>w instanceof Ji),(0,hr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const z=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,g.MMx)(ce.providers,w,`Route: ${ce.path}`));const Ee=ce._injector??w,ht=ce._loadedInjector??Ee;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&z.push(this.preloadConfig(Ee,ce)),(ce.children||ce._loadedRoutes)&&z.push(this.processRoutes(ht,ce.children??ce._loadedRoutes))}return(0,_e.D)(z).pipe((0,Gt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let z;z=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const ce=z.pipe((0,jt.z)(Ee=>null===Ee?(0,Ae.of)(void 0):(N._loadedRoutes=Ee.routes,N._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(N.loadComponent&&!N._loadedComponent){const Ee=this.loader.loadComponent(N);return(0,_e.D)([ce,Ee]).pipe((0,Gt.J)())}return ce})}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(zs),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Cl),g.LFG(j))};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const sc=new g.OlP("");let pu=(()=>{class S{constructor(w,N,z,ce,Ee={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=z,this.zone=ce,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ji?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Do&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ei&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ei(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac})}return S})();function No(S,O){return{\u0275kind:S,\u0275providers:O}}function er(){const S=(0,g.f3M)(g.zs3);return O=>{const w=S.get(g.z2F);if(O!==w.components[0])return;const N=S.get(zs),z=S.get(gd);1===S.get(Hc)&&N.initialNavigation(),S.get(Ti,null,g.XFs.Optional)?.setUpPreloading(),S.get(sc,null,g.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const gd=new g.OlP("",{factory:()=>new Fe.x}),Hc=new g.OlP("",{providedIn:"root",factory:()=>1}),Ti=new g.OlP("");function La(S){return No(0,[{provide:Ti,useExisting:jc},{provide:Cl,useExisting:S}])}const Nt=new g.OlP("ROUTER_FORROOT_GUARD"),Nr=[it.Ye,{provide:pi,useClass:nr},zs,Ys,{provide:ts,useFactory:function Oo(S){return S.routerState.root},deps:[zs]},j,[]];function yd(){return new g.PXZ("Router",zs)}let oc=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[Nr,[],{provide:ne,multi:!0,useValue:w},{provide:Nt,useFactory:gs,deps:[[zs,new g.FiY,new g.tp0]]},{provide:Fr,useValue:N||{}},N?.useHash?{provide:it.S$,useClass:it.Do}:{provide:it.S$,useClass:it.b0},{provide:sc,useFactory:()=>{const S=(0,g.f3M)(it.EM),O=(0,g.f3M)(g.R0b),w=(0,g.f3M)(Fr),N=(0,g.f3M)(Mt),z=(0,g.f3M)(pi);return w.scrollOffset&&S.setOffset(w.scrollOffset),new pu(z,N,S,O,w)}},N?.preloadingStrategy?La(N.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:yd},N?.initialNavigation?$c(N):[],N?.bindToComponentInputs?No(8,[us,{provide:Xr,useExisting:us}]).\u0275providers:[],[{provide:ac,useFactory:er},{provide:g.tb,multi:!0,useExisting:ac}]]}}static forChild(w){return{ngModule:S,providers:[{provide:ne,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(g.LFG(Nt,8))};static#t=this.\u0275mod=g.oAB({type:S});static#n=this.\u0275inj=g.cJS({})}return S})();function gs(S){return"guarded"}function $c(S){return["disabled"===S.initialNavigation?No(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const O=(0,g.f3M)(zs);return()=>{O.setUpLocationChangeListener()}}},{provide:Hc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?No(2,[{provide:Hc,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:O=>{const w=O.get(it.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const z=O.get(zs),ce=O.get(gd);Yo(z,()=>{N(!0)}),O.get(Mt).afterPreactivation=()=>(N(!0),ce.closed?(0,Ae.of)(void 0):ce),z.initialNavigation()}))}}]).\u0275providers:[]]}const ac=new g.OlP("")},3106:(Jt,Ke,U)=>{U.d(Ke,{Z:()=>mt});var g=U(9058),l=U(4537),G=U(534),Ie=U(7879);class _e{constructor(wt,Et){this._delegate=wt,this.firebase=Et,(0,G._addComponent)(wt,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=wt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this._delegate.automaticDataCollectionEnabled=wt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(wt=>{this._delegate.checkDestroyed(),wt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(wt,Et=G._DEFAULT_ENTRY_NAME){var nn;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(wt);return!qe.isInitialized()&&"EXPLICIT"===(null===(nn=qe.getComponent())||void 0===nn?void 0:nn.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Et})}_removeServiceInstance(wt,Et=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(wt).clearInstance(Et)}_addComponent(wt){(0,G._addComponent)(this._delegate,wt)}_addOrOverwriteComponent(wt){(0,G._addOrOverwriteComponent)(this._delegate,wt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function $e(){const ft=function De(ft){const wt={},Et={__esModule:!0,initializeApp:function Fe(At,kt={}){const ve=G.initializeApp(At,kt);if((0,g.r3)(wt,ve.name))return wt[ve.name];const jt=new ft(ve,Et);return wt[ve.name]=jt,jt},app:qe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function ze(At){const kt=At.name,ve=kt.replace("-compat","");if(G._registerComponent(At)&&"PUBLIC"===At.type){const jt=(an=qe())=>{if("function"!=typeof an[ve])throw Me.create("invalid-app-argument",{appName:kt});return an[ve]()};void 0!==At.serviceProps&&(0,g.ZB)(jt,At.serviceProps),Et[ve]=jt,ft.prototype[ve]=function(...an){return this._getService.bind(this,kt).apply(this,At.multipleInstances?an:[])}}return"PUBLIC"===At.type?Et[ve]:null},removeApp:function nn(At){delete wt[At]},useAsService:function ct(At,kt){return"serverAuth"===kt?null:kt},modularAPIs:G}};function qe(At){if(!(0,g.r3)(wt,At=At||G._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:At});return wt[At]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function it(){return Object.keys(wt).map(At=>wt[At])}}),qe.App=ft,Et}(_e);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function wt(Et){(0,g.ZB)(ft,Et)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ft}(),se=new Ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const mt=te;!function rt(ft){(0,G.registerVersion)("@firebase/app-compat","0.2.35",ft)}()},534:(Jt,Ke,U)=>{U.r(Ke),U.d(Ke,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>be,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>$n,_addOrOverwriteComponent:()=>Hr,_apps:()=>vr,_clearComponents:()=>Cr,_components:()=>Fn,_getProvider:()=>rn,_isFirebaseApp:()=>nr,_isFirebaseServerApp:()=>Sr,_registerComponent:()=>fi,_removeServiceInstance:()=>pi,_serverApps:()=>Er,deleteApp:()=>Ir,getApp:()=>Nn,getApps:()=>ci,initializeApp:()=>yt,initializeServerApp:()=>zt,onLog:()=>q,registerVersion:()=>re,setLogLevel:()=>H});var g=U(5861),l=U(4537),G=U(7879),Ie=U(9058);const _e=(nt,We)=>We.some(Tt=>nt instanceof Tt);let Ae,Me;const te=new WeakMap,se=new WeakMap,ye=new WeakMap,st=new WeakMap,rt=new WeakMap;let wt={get(nt,We,Tt){if(nt instanceof IDBTransaction){if("done"===We)return se.get(nt);if("objectStoreNames"===We)return nt.objectStoreNames||ye.get(nt);if("store"===We)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return Fe(nt[We])},set:(nt,We,Tt)=>(nt[We]=Tt,!0),has:(nt,We)=>nt instanceof IDBTransaction&&("done"===We||"store"===We)||We in nt};function qe(nt){return"function"==typeof nt?function nn(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...We){return nt.apply(it(this),We),Fe(te.get(this))}:function(...We){return Fe(nt.apply(it(this),We))}:function(We,...Tt){const en=nt.call(it(this),We,...Tt);return ye.set(en,We.sort?We.sort():[We]),Fe(en)}}(nt):(nt instanceof IDBTransaction&&function ft(nt){if(se.has(nt))return;const We=new Promise((Tt,en)=>{const wn=()=>{nt.removeEventListener("complete",Sn),nt.removeEventListener("error",yn),nt.removeEventListener("abort",yn)},Sn=()=>{Tt(),wn()},yn=()=>{en(nt.error||new DOMException("AbortError","AbortError")),wn()};nt.addEventListener("complete",Sn),nt.addEventListener("error",yn),nt.addEventListener("abort",yn)});se.set(nt,We)}(nt),_e(nt,function De(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,wt):nt)}function Fe(nt){if(nt instanceof IDBRequest)return function mt(nt){const We=new Promise((Tt,en)=>{const wn=()=>{nt.removeEventListener("success",Sn),nt.removeEventListener("error",yn)},Sn=()=>{Tt(Fe(nt.result)),wn()},yn=()=>{en(nt.error),wn()};nt.addEventListener("success",Sn),nt.addEventListener("error",yn)});return We.then(Tt=>{Tt instanceof IDBCursor&&te.set(Tt,nt)}).catch(()=>{}),rt.set(We,nt),We}(nt);if(st.has(nt))return st.get(nt);const We=qe(nt);return We!==nt&&(st.set(nt,We),rt.set(We,nt)),We}const it=nt=>rt.get(nt),At=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],ve=new Map;function jt(nt,We){if(!(nt instanceof IDBDatabase)||We in nt||"string"!=typeof We)return;if(ve.get(We))return ve.get(We);const Tt=We.replace(/FromIndex$/,""),en=We!==Tt,wn=kt.includes(Tt);if(!(Tt in(en?IDBIndex:IDBObjectStore).prototype)||!wn&&!At.includes(Tt))return;const Sn=function(){var yn=(0,g.Z)(function*(Ln,...wr){const Ai=this.transaction(Ln,wn?"readwrite":"readonly");let Wr=Ai.store;return en&&(Wr=Wr.index(wr.shift())),(yield Promise.all([Wr[Tt](...wr),wn&&Ai.done]))[0]});return function(wr){return yn.apply(this,arguments)}}();return ve.set(We,Sn),Sn}!function Et(nt){wt=nt(wt)}(nt=>({...nt,get:(We,Tt,en)=>jt(We,Tt)||nt.get(We,Tt,en),has:(We,Tt)=>!!jt(We,Tt)||nt.has(We,Tt)}));class an{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function hr(nt){const We=nt.getComponent();return"VERSION"===We?.type}(Tt)){const en=Tt.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Rt="@firebase/app",qt="0.10.5",cn=new G.Yd("@firebase/app"),xn="[DEFAULT]",On={[Rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},vr=new Map,Er=new Map,Fn=new Map;function $n(nt,We){try{nt.container.addComponent(We)}catch(Tt){cn.debug(`Component ${We.name} failed to register with FirebaseApp ${nt.name}`,Tt)}}function Hr(nt,We){nt.container.addOrOverwriteComponent(We)}function fi(nt){const We=nt.name;if(Fn.has(We))return cn.debug(`There were multiple attempts to register component ${We}.`),!1;Fn.set(We,nt);for(const Tt of vr.values())$n(Tt,nt);for(const Tt of Er.values())$n(Tt,nt);return!0}function rn(nt,We){const Tt=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),nt.container.getProvider(We)}function pi(nt,We,Tt=xn){rn(nt,We).clearInstance(Tt)}function nr(nt){return void 0!==nt.options}function Sr(nt){return void 0!==nt.settings}function Cr(){Fn.clear()}const He=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class vt{constructor(We,Tt,en){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw He.create("app-deleted",{appName:this._name})}}class ae extends vt{constructor(We,Tt,en,wn){const Sn=void 0!==Tt.automaticDataCollectionEnabled&&Tt.automaticDataCollectionEnabled,yn={name:en,automaticDataCollectionEnabled:Sn};super(void 0!==We.apiKey?We:We.options,yn,wn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Sn},Tt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Tt.releaseOnDeref=void 0,re(Rt,qt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(We){this.isDeleted||(this._refCount++,void 0!==We&&this._finalizationRegistry.register(We,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ir(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw He.create("server-app-deleted")}}const be="10.12.2";function yt(nt,We={}){let Tt=nt;"object"!=typeof We&&(We={name:We});const en=Object.assign({name:xn,automaticDataCollectionEnabled:!1},We),wn=en.name;if("string"!=typeof wn||!wn)throw He.create("bad-app-name",{appName:String(wn)});if(Tt||(Tt=(0,Ie.aH)()),!Tt)throw He.create("no-options");const Sn=vr.get(wn);if(Sn){if((0,Ie.vZ)(Tt,Sn.options)&&(0,Ie.vZ)(en,Sn.config))return Sn;throw He.create("duplicate-app",{appName:wn})}const yn=new l.H0(wn);for(const wr of Fn.values())yn.addComponent(wr);const Ln=new vt(Tt,en,yn);return vr.set(wn,Ln),Ln}function zt(nt,We){if((0,Ie.jU)())throw He.create("invalid-server-app-environment");let Tt;void 0===We.automaticDataCollectionEnabled&&(We.automaticDataCollectionEnabled=!1),Tt=nr(nt)?nt.options:nt;const en=Object.assign(Object.assign({},We),Tt);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==We.releaseOnDeref&&typeof FinalizationRegistry>"u")throw He.create("finalization-registry-not-supported",{});const Sn=""+(Ai=JSON.stringify(en),[...Ai].reduce((Wr,rr)=>Math.imul(31,Wr)+rr.charCodeAt(0)|0,0)),yn=Er.get(Sn);var Ai;if(yn)return yn.incRefCount(We.releaseOnDeref),yn;const Ln=new l.H0(Sn);for(const Ai of Fn.values())Ln.addComponent(Ai);const wr=new ae(Tt,We,Sn,Ln);return Er.set(Sn,wr),wr}function Nn(nt=xn){const We=vr.get(nt);if(!We&&nt===xn&&(0,Ie.aH)())return yt();if(!We)throw He.create("no-app",{appName:nt});return We}function ci(){return Array.from(vr.values())}function Ir(nt){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.Z)(function*(nt){let We=!1;const Tt=nt.name;vr.has(Tt)?(We=!0,vr.delete(Tt)):Er.has(Tt)&&nt.decRefCount()<=0&&(Er.delete(Tt),We=!0),We&&(yield Promise.all(nt.container.getProviders().map(en=>en.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function re(nt,We,Tt){var en;let wn=null!==(en=On[nt])&&void 0!==en?en:nt;Tt&&(wn+=`-${Tt}`);const Sn=wn.match(/\s|\//),yn=We.match(/\s|\//);if(Sn||yn){const Ln=[`Unable to register library "${wn}" with version "${We}":`];return Sn&&Ln.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Sn&&yn&&Ln.push("and"),yn&&Ln.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void cn.warn(Ln.join(" "))}fi(new l.wA(`${wn}-version`,()=>({library:wn,version:We}),"VERSION"))}function q(nt,We){if(null!==nt&&"function"!=typeof nt)throw He.create("invalid-log-argument");(0,G.Am)(nt,We)}function H(nt){(0,G.Ub)(nt)}const B="firebase-heartbeat-database",pe=1,Be="firebase-heartbeat-store";let bt=null;function Ot(){return bt||(bt=function ze(nt,We,{blocked:Tt,upgrade:en,blocking:wn,terminated:Sn}={}){const yn=indexedDB.open(nt,We),Ln=Fe(yn);return en&&yn.addEventListener("upgradeneeded",wr=>{en(Fe(yn.result),wr.oldVersion,wr.newVersion,Fe(yn.transaction),wr)}),Tt&&yn.addEventListener("blocked",wr=>Tt(wr.oldVersion,wr.newVersion,wr)),Ln.then(wr=>{Sn&&wr.addEventListener("close",()=>Sn()),wn&&wr.addEventListener("versionchange",Ai=>wn(Ai.oldVersion,Ai.newVersion,Ai))}).catch(()=>{}),Ln}(B,pe,{upgrade:(nt,We)=>{if(0===We)try{nt.createObjectStore(Be)}catch(Tt){console.warn(Tt)}}}).catch(nt=>{throw He.create("idb-open",{originalErrorMessage:nt.message})})),bt}function Xt(){return(Xt=(0,g.Z)(function*(nt){try{const Tt=(yield Ot()).transaction(Be),en=yield Tt.objectStore(Be).get(Oe(nt));return yield Tt.done,en}catch(We){if(We instanceof Ie.ZR)cn.warn(We.message);else{const Tt=He.create("idb-get",{originalErrorMessage:We?.message});cn.warn(Tt.message)}}})).apply(this,arguments)}function ln(nt,We){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(nt,We){try{const en=(yield Ot()).transaction(Be,"readwrite");yield en.objectStore(Be).put(We,Oe(nt)),yield en.done}catch(Tt){if(Tt instanceof Ie.ZR)cn.warn(Tt.message);else{const en=He.create("idb-set",{originalErrorMessage:Tt?.message});cn.warn(en.message)}}})).apply(this,arguments)}function Oe(nt){return`${nt.name}!${nt.options.appId}`}class St{constructor(We){this.container=We,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Qt(Tt),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var We=this;return(0,g.Z)(function*(){var Tt,en;const Sn=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yn=Ut();if((null!=(null===(Tt=We._heartbeatsCache)||void 0===Tt?void 0:Tt.heartbeats)||(We._heartbeatsCache=yield We._heartbeatsCachePromise,null!=(null===(en=We._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&We._heartbeatsCache.lastSentHeartbeatDate!==yn&&!We._heartbeatsCache.heartbeats.some(Ln=>Ln.date===yn))return We._heartbeatsCache.heartbeats.push({date:yn,agent:Sn}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(Ln=>{const wr=new Date(Ln.date).valueOf();return Date.now()-wr<=2592e6}),We._storage.overwrite(We._heartbeatsCache)})()}getHeartbeatsHeader(){var We=this;return(0,g.Z)(function*(){var Tt;if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null==(null===(Tt=We._heartbeatsCache)||void 0===Tt?void 0:Tt.heartbeats)||0===We._heartbeatsCache.heartbeats.length)return"";const en=Ut(),{heartbeatsToSend:wn,unsentEntries:Sn}=function un(nt,We=1024){const Tt=[];let en=nt.slice();for(const wn of nt){const Sn=Tt.find(yn=>yn.agent===wn.agent);if(Sn){if(Sn.dates.push(wn.date),cr(Tt)>We){Sn.dates.pop();break}}else if(Tt.push({agent:wn.agent,dates:[wn.date]}),cr(Tt)>We){Tt.pop();break}en=en.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:en}}(We._heartbeatsCache.heartbeats),yn=(0,Ie.L)(JSON.stringify({version:2,heartbeats:wn}));return We._heartbeatsCache.lastSentHeartbeatDate=en,Sn.length>0?(We._heartbeatsCache.heartbeats=Sn,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),yn})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,g.Z)(function*(){if(yield We._canUseIndexedDBPromise){const en=yield function sn(nt){return Xt.apply(this,arguments)}(We.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(We){var Tt=this;return(0,g.Z)(function*(){var en;if(yield Tt._canUseIndexedDBPromise){const Sn=yield Tt.read();return ln(Tt.app,{lastSentHeartbeatDate:null!==(en=We.lastSentHeartbeatDate)&&void 0!==en?en:Sn.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var Tt=this;return(0,g.Z)(function*(){var en;if(yield Tt._canUseIndexedDBPromise){const Sn=yield Tt.read();return ln(Tt.app,{lastSentHeartbeatDate:null!==(en=We.lastSentHeartbeatDate)&&void 0!==en?en:Sn.lastSentHeartbeatDate,heartbeats:[...Sn.heartbeats,...We.heartbeats]})}})()}}function cr(nt){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function dn(nt){fi(new l.wA("platform-logger",We=>new an(We),"PRIVATE")),fi(new l.wA("heartbeat",We=>new St(We),"PRIVATE")),re(Rt,qt,nt),re(Rt,qt,"esm2017"),re("fire-js","")}("")},4537:(Jt,Ke,U)=>{U.d(Ke,{H0:()=>De,wA:()=>G});var g=U(5861),l=U(9058);class G{constructor(te,se,ye){this.name=te,this.instanceFactory=se,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ie="[DEFAULT]";class _e{constructor(te,se){this.name=te,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const se=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(se)){const ye=new l.BH;if(this.instancesDeferred.set(se,ye),this.isInitialized(se)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:se});st&&ye.resolve(st)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(te){var se;const ye=this.normalizeInstanceIdentifier(te?.identifier),st=null!==(se=te?.optional)&&void 0!==se&&se;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(rt){if(st)return null;throw rt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Me($e){return"EAGER"===$e.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[se,ye]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(se);try{const rt=this.getOrInitializeService({instanceIdentifier:st});ye.resolve(rt)}catch{}}}}clearInstance(te=Ie){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,g.Z)(function*(){const se=Array.from(te.instances.values());yield Promise.all([...se.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...se.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ie){return this.instances.has(te)}getOptions(te=Ie){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:se={}}=te,ye=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ye,options:se});for(const[rt,mt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(rt)&&mt.resolve(st);return st}onInit(te,se){var ye;const st=this.normalizeInstanceIdentifier(se),rt=null!==(ye=this.onInitCallbacks.get(st))&&void 0!==ye?ye:new Set;rt.add(te),this.onInitCallbacks.set(st,rt);const mt=this.instances.get(st);return mt&&te(mt,st),()=>{rt.delete(te)}}invokeOnInitCallbacks(te,se){const ye=this.onInitCallbacks.get(se);if(ye)for(const st of ye)try{st(te,se)}catch{}}getOrInitializeService({instanceIdentifier:te,options:se={}}){let ye=this.instances.get(te);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:($e=te,$e===Ie?void 0:$e),options:se}),this.instances.set(te,ye),this.instancesOptions.set(te,se),this.invokeOnInitCallbacks(ye,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ye)}catch{}var $e;return ye||null}normalizeInstanceIdentifier(te=Ie){return this.component?this.component.multipleInstances?te:Ie:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const se=this.getProvider(te.name);if(se.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);se.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const se=new _e(te,this);return this.providers.set(te,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(Jt,Ke,U)=>{U.d(Ke,{Am:()=>$e,Ub:()=>De,Yd:()=>Me,in:()=>l});const g=[];var l=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(l||{});const G={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},Ie=l.INFO,_e={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},Ae=(te,se,...ye)=>{if(se<te.logLevel)return;const st=(new Date).toISOString(),rt=_e[se];if(!rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[rt](`[${st}]  ${te.name}:`,...ye)};class Me{constructor(se){this.name=se,this._logLevel=Ie,this._logHandler=Ae,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in l))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?G[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...se),this._logHandler(this,l.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...se),this._logHandler(this,l.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,l.INFO,...se),this._logHandler(this,l.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,l.WARN,...se),this._logHandler(this,l.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...se),this._logHandler(this,l.ERROR,...se)}}function De(te){g.forEach(se=>{se.setLogLevel(te)})}function $e(te,se){for(const ye of g){let st=null;se&&se.level&&(st=G[se.level]),ye.userLogHandler=null===te?null:(rt,mt,...ft)=>{const wt=ft.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");mt>=(st??rt.logLevel)&&te({level:l[mt].toLowerCase(),message:wt,args:ft,type:rt.name})}}}},3182:(Jt,Ke,U)=>{U.d(Ke,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=U(534);(0,g.registerVersion)("firebase","10.12.2","app")},7142:(Jt,Ke,U)=>{U.d(Ke,{Z:()=>g.Z});var g=U(3106);g.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(Jt,Ke,U)=>{U.r(Ke);var g=U(5861),l=U(3106),G=U(35),Ie=U(9058),Me=(U(534),U(7879),U(4537));function De(){return window}function se(){return se=(0,g.Z)(function*(q,H,B){var pe;const{BuildInfo:Be}=De();(0,G.au)(H.sessionId,"AuthEvent did not contain a session ID");const bt=yield function Et(q){return nn.apply(this,arguments)}(H.sessionId),Ot={};return(0,G.av)()?Ot.ibi=Be.packageName:(0,G.aw)()?Ot.apn=Be.packageName:(0,G.ax)(q,"operation-not-supported-in-this-environment"),Be.displayName&&(Ot.appDisplayName=Be.displayName),Ot.sessionId=bt,(0,G.ay)(q,B,H.type,void 0,null!==(pe=H.eventId)&&void 0!==pe?pe:void 0,Ot)}),se.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(q){const{BuildInfo:H}=De(),B={};(0,G.av)()?B.iosBundleId=H.packageName:(0,G.aw)()?B.androidPackageName=H.packageName:(0,G.ax)(q,"operation-not-supported-in-this-environment"),yield(0,G.az)(q,B)})).apply(this,arguments)}function ft(){return(ft=(0,g.Z)(function*(q,H,B){const{cordova:pe}=De();let Be=()=>{};try{yield new Promise((bt,Ot)=>{let sn=null;function Xt(){var Oe;bt();const we=null===(Oe=pe.plugins.browsertab)||void 0===Oe?void 0:Oe.close;"function"==typeof we&&we(),"function"==typeof B?.close&&B.close()}function ln(){sn||(sn=window.setTimeout(()=>{Ot((0,G.aB)(q,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===document?.visibilityState&&ln()}H.addPassiveListener(Xt),document.addEventListener("resume",ln,!1),(0,G.aw)()&&document.addEventListener("visibilitychange",Zn,!1),Be=()=>{H.removePassiveListener(Xt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",Zn,!1),sn&&window.clearTimeout(sn)}})}finally{Be()}})).apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(q){const H=function qe(q){if((0,G.au)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(q);const H=new ArrayBuffer(q.length),B=new Uint8Array(H);for(let pe=0;pe<q.length;pe++)B[pe]=q.charCodeAt(pe);return B}(q),B=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(B)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends G.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(H)),super.onEvent(H)}initialized(){var H=this;return(0,g.Z)(function*(){yield H.initPromise})()}}function At(q){return kt.apply(this,arguments)}function kt(){return(kt=(0,g.Z)(function*(q){const H=yield an()._get(hr(q));return H&&(yield an()._remove(hr(q))),H})).apply(this,arguments)}function jt(){const q=[];for(let B=0;B<20;B++){const pe=Math.floor(62*Math.random());q.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return q.join("")}function an(){return(0,G.aE)(G.b)}function hr(q){return(0,G.aF)("authEvent",q.config.apiKey,q.name)}function cn(q){if(!q?.includes("?"))return{};const[H,...B]=q.split("?");return(0,Ie.zd)(B.join("?"))}const fe=class Re{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize(H){var B=this;return(0,g.Z)(function*(){const pe=H._key();let Be=B.eventManagers.get(pe);return Be||(Be=new it(H),B.eventManagers.set(pe,Be),B.attachCallbackListeners(H,Be)),Be})()}_openPopup(H){(0,G.ax)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,B,pe,Be){var bt=this;return(0,g.Z)(function*(){!function wt(q){var H,B,pe,Be,bt,Ot,sn,Xt,ln,Zn;const Oe=De();(0,G.aC)("function"==typeof(null===(H=Oe?.universalLinks)||void 0===H?void 0:H.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aC)(typeof(null===(B=Oe?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aC)("function"==typeof(null===(bt=null===(Be=null===(pe=Oe?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===bt?void 0:bt.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(Xt=null===(sn=null===(Ot=Oe?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===Xt?void 0:Xt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aC)("function"==typeof(null===(Zn=null===(ln=Oe?.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===Zn?void 0:Zn.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const Ot=yield bt._initialize(H);yield Ot.initialized(),Ot.resetRedirect(),(0,G.aI)(),yield bt._originValidation(H);const sn=function ze(q,H,B=null){return{type:H,eventId:B,urlResponse:null,sessionId:jt(),postBody:null,tenantId:q.tenantId,error:(0,G.aB)(q,"no-auth-event")}}(H,pe,Be);yield function ct(q,H){return an()._set(hr(q),H)}(H,sn);const Xt=yield function te(q,H,B){return se.apply(this,arguments)}(H,sn,B),ln=yield function rt(q){const{cordova:H}=De();return new Promise(B=>{H.plugins.browsertab.isAvailable(pe=>{let Be=null;pe?H.plugins.browsertab.openUrl(q):Be=H.InAppBrowser.open(q,(0,G.aA)()?"_blank":"_system","location=yes"),B(Be)})})}(Xt);return function mt(q,H,B){return ft.apply(this,arguments)}(H,Ot,ln)})()}_isIframeWebStorageSupported(H,B){throw new Error("Method not implemented.")}_originValidation(H){const B=H._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ye(q){return st.apply(this,arguments)}(H)),this.originValidationPromises[B]}attachCallbackListeners(H,B){const{universalLinks:pe,handleOpenURL:Be,BuildInfo:bt}=De(),Ot=setTimeout((0,g.Z)(function*(){yield At(H),B.onEvent(ke())}),500),sn=function(){var Zn=(0,g.Z)(function*(Oe){clearTimeout(Ot);const we=yield At(H);let Ve=null;we&&Oe?.url&&(Ve=function ve(q,H){var B,pe;const Be=function qt(q){const H=cn(q),B=H.link?decodeURIComponent(H.link):void 0,pe=cn(B).link,Be=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return cn(Be).link||Be||pe||B||q}(H);if(Be.includes("/__/auth/callback")){const bt=cn(Be),Ot=bt.firebaseError?function Rt(q){try{return JSON.parse(q)}catch{return null}}(decodeURIComponent(bt.firebaseError)):null,sn=null===(pe=null===(B=Ot?.code)||void 0===B?void 0:B.split("auth/"))||void 0===pe?void 0:pe[1],Xt=sn?(0,G.aB)(sn):null;return Xt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Be,postBody:null}}return null}(we,Oe.url)),B.onEvent(Ve||ke())});return function(we){return Zn.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,sn);const Xt=Be,ln=`${bt.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var Zn=(0,g.Z)(function*(Oe){if(Oe.toLowerCase().startsWith(ln)&&sn({url:Oe}),"function"==typeof Xt)try{Xt(Oe)}catch(we){console.error(we)}});return function(Oe){return Zn.apply(this,arguments)}}()}};function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aB)("no-auth-event")}}function Gt(){var q;return(null===(q=self?.location)||void 0===q?void 0:q.protocol)||null}function Zt(q=(0,Ie.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()&&"capacitor:"!==Gt()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wt(){try{const q=self.localStorage,H=G.aN();if(q)return q.setItem(H,"1"),q.removeItem(H),!function Mn(q=(0,Ie.z$)()){return function tr(){return(0,Ie.w1)()&&11===document?.documentMode}()||function Cn(q=(0,Ie.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,Ie.hl)()}catch{return Dn()&&(0,Ie.hl)()}return!1}function Dn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ar(){return(function $t(){return"http:"===Gt()||"https:"===Gt()}()||(0,Ie.ru)()||Zt())&&!function gn(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&Wt()&&!Dn()}function Gn(){return Zt()&&typeof document<"u"}function Lr(){return(Lr=(0,g.Z)(function*(){return!!Gn()&&new Promise(q=>{const H=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),q(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},Qn=G.aC,Vt="persistence";function xn(q){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(q){yield q._initializationPromise;const H=Er(),B=G.aF(Vt,q.config.apiKey,q.name);H&&H.setItem(B,q._getPersistence())})).apply(this,arguments)}function Er(){var q;try{return(null===(q=function In(){return typeof window<"u"?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch{return null}}const Fn=G.aC;class $n{constructor(){this.browserResolver=G.aE(G.k),this.cordovaResolver=G.aE(fe),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aG,this._overrideRedirectResult=G.aH}_initialize(H){var B=this;return(0,g.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,B,pe,Be){var bt=this;return(0,g.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(H,B,pe,Be)})()}_openRedirect(H,B,pe,Be){var bt=this;return(0,g.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(H,B,pe,Be)})()}_isIframeWebStorageSupported(H,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,B)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,g.Z)(function*(){if(H.underlyingResolver)return;const B=yield function Lt(){return Lr.apply(this,arguments)}();H.underlyingResolver=B?H.cordovaResolver:H.browserResolver})()}}function Hr(q){return q.unwrap()}function rn(q){return nr(q)}function nr(q){const{_tokenResponse:H}=q instanceof Ie.ZR?q.customData:q;if(!H)return null;if(!(q instanceof Ie.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return G.P.credentialFromResult(q);const B=H.providerId;if(!B||B===G.p.PASSWORD)return null;let pe;switch(B){case G.p.GOOGLE:pe=G.X;break;case G.p.FACEBOOK:pe=G.W;break;case G.p.GITHUB:pe=G.Y;break;case G.p.TWITTER:pe=G.$;break;default:const{oauthIdToken:Be,oauthAccessToken:bt,oauthTokenSecret:Ot,pendingToken:sn,nonce:Xt}=H;return bt||Ot||Be||sn?sn?B.startsWith("saml.")?G.aQ._create(B,sn):G.N._fromParams({providerId:B,signInMethod:B,pendingToken:sn,idToken:Be,accessToken:bt}):new G.Z(B).credential({idToken:Be,accessToken:bt,rawNonce:Xt}):null}return q instanceof Ie.ZR?pe.credentialFromError(q):pe.credentialFromResult(q)}function Sr(q,H){return H.catch(B=>{throw B instanceof Ie.ZR&&function pi(q,H){var B;const pe=null===(B=H.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===H?.code)H.resolver=new He(q,G.as(q,H));else if(pe){const Be=nr(H),bt=H;Be&&(bt.credential=Be,bt.tenantId=pe.tenantId||void 0,bt.email=pe.email||void 0,bt.phoneNumber=pe.phoneNumber||void 0)}}(q,B),B}).then(B=>{const Be=B.user;return{operationType:B.operationType,credential:rn(B),additionalUserInfo:G.aq(B),user:vt.getOrCreate(Be)}})}function Cr(q,H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(q,H){const B=yield H;return{verificationId:B.verificationId,confirm:pe=>Sr(q,B.confirm(pe))}})).apply(this,arguments)}class He{constructor(H,B){this.resolver=B,this.auth=function fi(q){return q.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Sr(Hr(this.auth),this.resolver.resolveSignIn(H))}}class vt{constructor(H){this._delegate=H,this.multiFactor=G.at(H)}static getOrCreate(H){return vt.USER_MAP.has(H)||vt.USER_MAP.set(H,new vt(H)),vt.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var B=this;return(0,g.Z)(function*(){return Sr(B.auth,G.a2(B._delegate,H))})()}linkWithPhoneNumber(H,B){var pe=this;return(0,g.Z)(function*(){return Cr(pe.auth,G.l(pe._delegate,H,B))})()}linkWithPopup(H){var B=this;return(0,g.Z)(function*(){return Sr(B.auth,G.d(B._delegate,H,$n))})()}linkWithRedirect(H){var B=this;return(0,g.Z)(function*(){return yield xn(G.aJ(B.auth)),G.g(B._delegate,H,$n)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var B=this;return(0,g.Z)(function*(){return Sr(B.auth,G.a3(B._delegate,H))})()}reauthenticateWithPhoneNumber(H,B){return Cr(this.auth,G.r(this._delegate,H,B))}reauthenticateWithPopup(H){return Sr(this.auth,G.e(this._delegate,H,$n))}reauthenticateWithRedirect(H){var B=this;return(0,g.Z)(function*(){return yield xn(G.aJ(B.auth)),G.h(B._delegate,H,$n)})()}sendEmailVerification(H){return G.ag(this._delegate,H)}unlink(H){var B=this;return(0,g.Z)(function*(){return yield G.ap(B._delegate,H),B})()}updateEmail(H){return G.al(this._delegate,H)}updatePassword(H){return G.am(this._delegate,H)}updatePhoneNumber(H){return G.u(this._delegate,H)}updateProfile(H){return G.ak(this._delegate,H)}verifyBeforeUpdateEmail(H,B){return G.ah(this._delegate,H,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vt.USER_MAP=new WeakMap;const ae=G.aC;let be=(()=>{class q{constructor(B,pe){if(this.app=B,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=B.options;ae(Be,"invalid-api-key",{appName:B.name}),ae(Be,"invalid-api-key",{appName:B.name});const bt=typeof window<"u"?$n:void 0;this._delegate=pe.initialize({options:{persistence:zt(Be,B.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(G.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,pe){G.K(this._delegate,B,pe)}applyActionCode(B){return G.a7(this._delegate,B)}checkActionCode(B){return G.a8(this._delegate,B)}confirmPasswordReset(B,pe){return G.a6(this._delegate,B,pe)}createUserWithEmailAndPassword(B,pe){var Be=this;return(0,g.Z)(function*(){return Sr(Be._delegate,G.aa(Be._delegate,B,pe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return G.af(this._delegate,B)}isSignInWithEmailLink(B){return G.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,g.Z)(function*(){ae(ar(),B._delegate,"operation-not-supported-in-this-environment");const pe=yield G.j(B._delegate,$n);return pe?Sr(B._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Je(q,H){(0,G.aJ)(q)._logFramework(H)}(this._delegate,B)}onAuthStateChanged(B,pe,Be){const{next:bt,error:Ot,complete:sn}=yt(B,pe,Be);return this._delegate.onAuthStateChanged(bt,Ot,sn)}onIdTokenChanged(B,pe,Be){const{next:bt,error:Ot,complete:sn}=yt(B,pe,Be);return this._delegate.onIdTokenChanged(bt,Ot,sn)}sendSignInLinkToEmail(B,pe){return G.ac(this._delegate,B,pe)}sendPasswordResetEmail(B,pe){return G.a5(this._delegate,B,pe||void 0)}setPersistence(B){var pe=this;return(0,g.Z)(function*(){let Be;switch(function Tn(q,H){Qn(Object.values(Dr).includes(H),q,"invalid-persistence-type"),(0,Ie.b$)()?Qn(H!==Dr.SESSION,q,"unsupported-persistence-type"):(0,Ie.UG)()?Qn(H===Dr.NONE,q,"unsupported-persistence-type"):Dn()?Qn(H===Dr.NONE||H===Dr.LOCAL&&(0,Ie.hl)(),q,"unsupported-persistence-type"):Qn(H===Dr.NONE||Wt(),q,"unsupported-persistence-type")}(pe._delegate,B),B){case Dr.SESSION:Be=G.a;break;case Dr.LOCAL:Be=(yield G.aE(G.i)._isAvailable())?G.i:G.b;break;case Dr.NONE:Be=G.U;break;default:return G.ax("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Sr(this._delegate,G.a0(this._delegate))}signInWithCredential(B){return Sr(this._delegate,G.a1(this._delegate,B))}signInWithCustomToken(B){return Sr(this._delegate,G.a4(this._delegate,B))}signInWithEmailAndPassword(B,pe){return Sr(this._delegate,G.ab(this._delegate,B,pe))}signInWithEmailLink(B,pe){return Sr(this._delegate,G.ae(this._delegate,B,pe))}signInWithPhoneNumber(B,pe){return Cr(this._delegate,G.s(this._delegate,B,pe))}signInWithPopup(B){var pe=this;return(0,g.Z)(function*(){return ae(ar(),pe._delegate,"operation-not-supported-in-this-environment"),Sr(pe._delegate,G.c(pe._delegate,B,$n))})()}signInWithRedirect(B){var pe=this;return(0,g.Z)(function*(){return ae(ar(),pe._delegate,"operation-not-supported-in-this-environment"),yield xn(pe._delegate),G.f(pe._delegate,B,$n)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return G.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Dr,q})();function yt(q,H,B){let pe=q;"function"!=typeof q&&({next:pe,error:H,complete:B}=q);const Be=pe;return{next:Ot=>Be(Ot&&vt.getOrCreate(Ot)),error:H,complete:B}}function zt(q,H){const B=function vr(q,H){const B=Er();if(!B)return[];const pe=G.aF(Vt,q,H);switch(B.getItem(pe)){case Dr.NONE:return[G.U];case Dr.LOCAL:return[G.i,G.a];case Dr.SESSION:return[G.a];default:return[]}}(q,H);if(typeof self<"u"&&!B.includes(G.i)&&B.push(G.i),typeof window<"u")for(const pe of[G.b,G.a])B.includes(pe)||B.push(pe);return B.includes(G.U)||B.push(G.U),B}class Nn{constructor(){this.providerId="phone",this._delegate=new G.P(Hr(l.Z.auth()))}static credential(H,B){return G.P.credential(H,B)}verifyPhoneNumber(H,B){return this._delegate.verifyPhoneNumber(H,B)}unwrap(){return this._delegate}}Nn.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Nn.PROVIDER_ID=G.P.PROVIDER_ID;const ci=G.aC;class Ir{constructor(H,B,pe=l.Z.app()){var Be;ci(null===(Be=pe.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new G.R(pe.auth(),H,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(q){q.INTERNAL.registerComponent(new Me.wA("auth-compat",H=>{const B=H.getProvider("app-compat").getImmediate(),pe=H.getProvider("auth");return new be(B,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.V,FacebookAuthProvider:G.W,GithubAuthProvider:G.Y,GoogleAuthProvider:G.X,OAuthProvider:G.Z,SAMLAuthProvider:G._,PhoneAuthProvider:Nn,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:Ir,TwitterAuthProvider:G.$,Auth:be,AuthCredential:G.L,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.5.9")}(l.Z)},1043:(Jt,Ke,U)=>{U.d(Ke,{EK:()=>g.EK,ad:()=>g.ad});var g=U(5588)},5861:(Jt,Ke,U)=>{function g(G,Ie,_e,Ae,Me,De,$e){try{var te=G[De]($e),se=te.value}catch(ye){return void _e(ye)}te.done?Ie(se):Promise.resolve(se).then(Ae,Me)}function l(G){return function(){var Ie=this,_e=arguments;return new Promise(function(Ae,Me){var De=G.apply(Ie,_e);function $e(se){g(De,Ae,Me,$e,te,"next",se)}function te(se){g(De,Ae,Me,$e,te,"throw",se)}$e(void 0)})}}U.d(Ke,{Z:()=>l})},7582:(Jt,Ke,U)=>{function Ie(fe,ke){var Je={};for(var Xe in fe)Object.prototype.hasOwnProperty.call(fe,Xe)&&ke.indexOf(Xe)<0&&(Je[Xe]=fe[Xe]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Xe=Object.getOwnPropertySymbols(fe);ut<Xe.length;ut++)ke.indexOf(Xe[ut])<0&&Object.prototype.propertyIsEnumerable.call(fe,Xe[ut])&&(Je[Xe[ut]]=fe[Xe[ut]])}return Je}function ye(fe,ke,Je,Xe){return new(Je||(Je=Promise))(function(It,Gt){function $t(tr){try{gn(Xe.next(tr))}catch(Cn){Gt(Cn)}}function Zt(tr){try{gn(Xe.throw(tr))}catch(Cn){Gt(Cn)}}function gn(tr){tr.done?It(tr.value):function ut(It){return It instanceof Je?It:new Je(function(Gt){Gt(It)})}(tr.value).then($t,Zt)}gn((Xe=Xe.apply(fe,ke||[])).next())})}function Fe(fe){return this instanceof Fe?(this.v=fe,this):new Fe(fe)}function it(fe,ke,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Xe=Je.apply(fe,ke||[]),It=[];return ut={},Gt("next"),Gt("throw"),Gt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Gt(Mn){Xe[Mn]&&(ut[Mn]=function(Wt){return new Promise(function(Dn,ar){It.push([Mn,Wt,Dn,ar])>1||$t(Mn,Wt)})})}function $t(Mn,Wt){try{!function Zt(Mn){Mn.value instanceof Fe?Promise.resolve(Mn.value.v).then(gn,tr):Cn(It[0][2],Mn)}(Xe[Mn](Wt))}catch(Dn){Cn(It[0][3],Dn)}}function gn(Mn){$t("next",Mn)}function tr(Mn){$t("throw",Mn)}function Cn(Mn,Wt){Mn(Wt),It.shift(),It.length&&$t(It[0][0],It[0][1])}}function ct(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ke=fe[Symbol.asyncIterator];return ke?ke.call(fe):(fe=function ft(fe){var ke="function"==typeof Symbol&&Symbol.iterator,Je=ke&&fe[ke],Xe=0;if(Je)return Je.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Xe>=fe.length&&(fe=void 0),{value:fe&&fe[Xe++],done:!fe}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Je={},Xe("next"),Xe("throw"),Xe("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Xe(It){Je[It]=fe[It]&&function(Gt){return new Promise(function($t,Zt){!function ut(It,Gt,$t,Zt){Promise.resolve(Zt).then(function(gn){It({value:gn,done:$t})},Gt)}($t,Zt,(Gt=fe[It](Gt)).done,Gt.value)})}}}U.d(Ke,{FC:()=>it,KL:()=>ct,_T:()=>Ie,mG:()=>ye,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=5546)}]);