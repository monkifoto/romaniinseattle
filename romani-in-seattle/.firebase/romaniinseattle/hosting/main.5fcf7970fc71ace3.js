(self.webpackChunkromani_in_seattle=self.webpackChunkromani_in_seattle||[]).push([[179],{35:(an,lt,k)=>{"use strict";k.d(lt,{$:()=>Cr,A:()=>$,G:()=>pe,K:()=>Co,L:()=>Hi,N:()=>qe,P:()=>Em,R:()=>td,U:()=>hn,V:()=>io,W:()=>st,X:()=>Ut,Y:()=>Kt,Z:()=>je,_:()=>Jn,a:()=>qt,a0:()=>L,a1:()=>wc,a2:()=>gs,a3:()=>Gu,a4:()=>Dc,a5:()=>fl,a6:()=>fa,a7:()=>$s,a8:()=>pl,a9:()=>Pc,aA:()=>bn,aB:()=>tt,aC:()=>he,aD:()=>oa,aE:()=>kt,aF:()=>cn,aG:()=>ah,aH:()=>Al,aI:()=>Tr,aJ:()=>gr,aN:()=>Xa,aQ:()=>Rn,aa:()=>Kd,ab:()=>ml,ac:()=>Ra,ad:()=>Kl,ae:()=>ga,af:()=>x,ag:()=>z,ah:()=>ze,ak:()=>$r,al:()=>ui,am:()=>xr,ap:()=>wo,aq:()=>es,as:()=>Wu,at:()=>Jd,au:()=>Pt,av:()=>Ir,aw:()=>en,ax:()=>Be,ay:()=>rc,az:()=>tu,b:()=>Os,c:()=>Op,d:()=>Am,e:()=>El,f:()=>fi,g:()=>ff,h:()=>Xl,i:()=>vi,j:()=>kp,k:()=>dh,l:()=>Fa,m:()=>pd,p:()=>ae,r:()=>rh,s:()=>rd,u:()=>vl});var f=k(5861),o=k(4303),V=k(9058),Se=k(7879),ve=k(7582),be=k(4537);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pe=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Me=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new Se.Yd("@firebase/auth");function It(T,...m){Te.logLevel<=Se.in.ERROR&&Te.error(`Auth (${o.SDK_VERSION}): ${T}`,...m)}function Be(T,...m){throw Ye(T,...m)}function tt(T,...m){return Ye(T,...m)}function Ze(T,m,y){const M=Object.assign(Object.assign({},Me()),{[m]:y});return new V.LL("auth","Firebase",M).create(m,{appName:T.name})}function Ke(T){return Ze(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ft(T,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Be(T,"argument-error"),Ze(T,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(T,...m){if("string"!=typeof T){const y=m[0],M=[...m.slice(1)];return M[0]&&(M[0].appName=T.name),T._errorFactory.create(y,...M)}return Ne.create(T,...m)}function he(T,m,...y){if(!T)throw Ye(m,...y)}function yt(T){const m="INTERNAL ASSERTION FAILED: "+T;throw It(m),new Error(m)}function Pt(T,m){T||yt(m)}function yn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function mt(){return"http:"===Ge()||"https:"===Ge()}function Ge(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class xe{constructor(m,y){this.shortDelay=m,this.longDelay=y,Pt(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function re(T,m){Pt(T.emulator,"Emulator should always be set here");const{url:y}=T.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class De{static initialize(m,y,M){this.fetchImpl=m,y&&(this.headersImpl=y),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new xe(3e4,6e4);function ut(T,m){return T.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:T.tenantId}):m}function Et(T,m,y,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(T,m,y,M,ee={}){return Qt(T,ee,(0,f.Z)(function*(){let Ae={},at={};M&&("GET"===m?at=M:Ae={body:JSON.stringify(M)});const Rt=(0,V.xO)(Object.assign({key:T.config.apiKey},at)).slice(1),Yt=yield T._getAdditionalHeaders();return Yt["Content-Type"]="application/json",T.languageCode&&(Yt["X-Firebase-Locale"]=T.languageCode),De.fetch()(Sn(T,T.config.apiHost,y,Rt),Object.assign({method:m,headers:Yt,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function Qt(T,m,y){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(T,m,y){T._canInitEmulator=!1;const M=Object.assign(Object.assign({},Le),m);try{const ee=new Xt(T),Ae=yield Promise.race([y(),ee.promise]);ee.clearNetworkTimeout();const at=yield Ae.json();if("needConfirmation"in at)throw Mn(T,"account-exists-with-different-credential",at);if(Ae.ok&&!("errorMessage"in at))return at;{const Rt=Ae.ok?at.errorMessage:at.error.message,[Yt,Hn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yt)throw Mn(T,"credential-already-in-use",at);if("EMAIL_EXISTS"===Yt)throw Mn(T,"email-already-in-use",at);if("USER_DISABLED"===Yt)throw Mn(T,"user-disabled",at);const ar=M[Yt]||Yt.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw Ze(T,ar,Hn);Be(T,ar)}}catch(ee){if(ee instanceof V.ZR)throw ee;Be(T,"network-request-failed",{message:String(ee)})}})).apply(this,arguments)}function En(T,m,y,M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,f.Z)(function*(T,m,y,M,ee={}){const Ae=yield Et(T,m,y,M,ee);return"mfaPendingCredential"in Ae&&Be(T,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Sn(T,m,y,M){const ee=`${m}${y}?${M}`;return T.config.emulator?re(T.config,ee):`${T.config.apiScheme}://${ee}`}function kn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,M)=>{this.timer=setTimeout(()=>M(tt(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(T,m,y){const M={appName:T.name};y.email&&(M.email=y.email),y.phoneNumber&&(M.phoneNumber=y.phoneNumber);const ee=tt(T,m,M);return ee.customData._tokenResponse=y,ee}function Vn(T){return void 0!==T&&void 0!==T.getResponse}function Gn(T){return void 0!==T&&void 0!==T.enterprise}class un{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===m)return kn(y.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function zn(){return(zn=(0,f.Z)(function*(T){return(yield Et(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Er(T,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.Z)(function*(T,m){return Et(T,"GET","/v2/recaptchaConfig",ut(T,m))})).apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Zr(T,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xn(T){if(T)try{const m=new Date(Number(T));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function gi(){return(gi=(0,f.Z)(function*(T,m=!1){const y=(0,V.m9)(T),M=yield y.getIdToken(m),ee=Gr(M);he(ee&&ee.exp&&ee.auth_time&&ee.iat,y.auth,"internal-error");const Ae="object"==typeof ee.firebase?ee.firebase:void 0,at=Ae?.sign_in_provider;return{claims:ee,token:M,authTime:Xn(In(ee.auth_time)),issuedAtTime:Xn(In(ee.iat)),expirationTime:Xn(In(ee.exp)),signInProvider:at||null,signInSecondFactor:Ae?.sign_in_second_factor||null}})).apply(this,arguments)}function In(T){return 1e3*Number(T)}function Gr(T){const[m,y,M]=T.split(".");if(void 0===m||void 0===y||void 0===M)return It("JWT malformed, contained fewer than 3 sections"),null;try{const ee=(0,V.tV)(y);return ee?JSON.parse(ee):(It("Failed to decode base64 JWT payload"),null)}catch(ee){return It("Caught error parsing JWT payload as JSON",ee?.toString()),null}}function rr(T){const m=Gr(T);return he(m,"internal-error"),he(typeof m.exp<"u","internal-error"),he(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Sr(T,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(T,m,y=!1){if(y)return m;try{return yield m}catch(M){throw M instanceof V.ZR&&function Vt({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(M)&&T.auth.currentUser===T&&(yield T.auth.signOut()),M}})).apply(this,arguments)}class q{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const ee=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ee)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const M=this.getInterval(m);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),M)}iteration(){var m=this;return(0,f.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class ke{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xn(this.lastLoginAt),this.creationTime=Xn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bt(T){return on.apply(this,arguments)}function on(){return(on=(0,f.Z)(function*(T){var m;const y=T.auth,M=yield T.getIdToken(),ee=yield Sr(T,Zr(y,{idToken:M}));he(ee?.users.length,y,"internal-error");const Ae=ee.users[0];T._notifyReloadListener(Ae);const at=null!==(m=Ae.providerUserInfo)&&void 0!==m&&m.length?Pi(Ae.providerUserInfo):[],Rt=function ur(T,m){return[...T.filter(M=>!m.some(ee=>ee.providerId===M.providerId)),...m]}(T.providerData,at),ar=!!T.isAnonymous&&!(T.email&&Ae.passwordHash||Rt?.length),ti={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:Rt,metadata:new ke(Ae.createdAt,Ae.lastLoginAt),isAnonymous:ar};Object.assign(T,ti)})).apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(T){const m=(0,V.m9)(T);yield bt(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Pi(T){return T.map(m=>{var{providerId:y}=m,M=(0,ve._T)(m,["providerId"]);return{providerId:y,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function Ie(){return(Ie=(0,f.Z)(function*(T,m){const y=yield Qt(T,{},(0,f.Z)(function*(){const M=(0,V.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:ee,apiKey:Ae}=T.config,at=Sn(T,ee,"/v1/token",`key=${Ae}`),Rt=yield T._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(at,{method:"POST",headers:Rt,body:M})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(T,m){return Et(T,"POST","/v2/accounts:revokeToken",ut(T,m))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){he(m.idToken,"internal-error"),he(typeof m.idToken<"u","internal-error"),he(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):rr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}updateFromIdToken(m){he(0!==m.length,"internal-error");const y=rr(m);this.updateTokensAndExpiration(m,null,y)}getToken(m,y=!1){var M=this;return(0,f.Z)(function*(){return y||!M.accessToken||M.isExpired?(he(M.refreshToken,m,"user-token-expired"),M.refreshToken?(yield M.refresh(m,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var M=this;return(0,f.Z)(function*(){const{accessToken:ee,refreshToken:Ae,expiresIn:at}=yield function sn(T,m){return Ie.apply(this,arguments)}(m,y);M.updateTokensAndExpiration(ee,Ae,Number(at))})()}updateTokensAndExpiration(m,y,M){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(m,y){const{refreshToken:M,accessToken:ee,expirationTime:Ae}=y,at=new j;return M&&(he("string"==typeof M,"internal-error",{appName:m}),at.refreshToken=M),ee&&(he("string"==typeof ee,"internal-error",{appName:m}),at.accessToken=ee),Ae&&(he("number"==typeof Ae,"internal-error",{appName:m}),at.expirationTime=Ae),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return yt("not implemented")}}function F(T,m){he("string"==typeof T||typeof T>"u","internal-error",{appName:m})}class we{constructor(m){var{uid:y,auth:M,stsTokenManager:ee}=m,Ae=(0,ve._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=M,this.stsTokenManager=ee,this.accessToken=ee.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new ke(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,f.Z)(function*(){const M=yield Sr(y,y.stsTokenManager.getToken(y.auth,m));return he(M,y.auth,"internal-error"),y.accessToken!==M&&(y.accessToken=M,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),M})()}getIdTokenResult(m){return function Lr(T){return gi.apply(this,arguments)}(this,m)}reload(){return function er(T){return Jr.apply(this,arguments)}(this)}_assign(m){this!==m&&(he(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new we(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var M=this;return(0,f.Z)(function*(){let ee=!1;m.idToken&&m.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(m),ee=!0),y&&(yield bt(M)),yield M.auth._persistUserIfCurrent(M),ee&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var m=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(m.auth.app))return Promise.reject(Ke(m.auth));const y=yield m.getIdToken();return yield Sr(m,function Zt(T,m){return Cn.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var M,ee,Ae,at,Rt,Yt,Hn,ar;const ti=null!==(M=y.displayName)&&void 0!==M?M:void 0,ws=null!==(ee=y.email)&&void 0!==ee?ee:void 0,oc=null!==(Ae=y.phoneNumber)&&void 0!==Ae?Ae:void 0,sc=null!==(at=y.photoURL)&&void 0!==at?at:void 0,Sl=null!==(Rt=y.tenantId)&&void 0!==Rt?Rt:void 0,ac=null!==(Yt=y._redirectEventId)&&void 0!==Yt?Yt:void 0,Ml=null!==(Hn=y.createdAt)&&void 0!==Hn?Hn:void 0,Wc=null!==(ar=y.lastLoginAt)&&void 0!==ar?ar:void 0,{uid:so,emailVerified:hu,isAnonymous:yf,providerData:fu,stsTokenManager:fh}=y;he(so&&fh,m,"internal-error");const cc=j.fromJSON(this.name,fh);he("string"==typeof so,m,"internal-error"),F(ti,m.name),F(ws,m.name),he("boolean"==typeof hu,m,"internal-error"),he("boolean"==typeof yf,m,"internal-error"),F(oc,m.name),F(sc,m.name),F(Sl,m.name),F(ac,m.name),F(Ml,m.name),F(Wc,m.name);const Kc=new we({uid:so,auth:m,email:ws,emailVerified:hu,displayName:ti,isAnonymous:yf,photoURL:sc,phoneNumber:oc,tenantId:Sl,stsTokenManager:cc,createdAt:Ml,lastLoginAt:Wc});return fu&&Array.isArray(fu)&&(Kc.providerData=fu.map(_d=>Object.assign({},_d))),ac&&(Kc._redirectEventId=ac),Kc}static _fromIdTokenResponse(m,y,M=!1){return(0,f.Z)(function*(){const ee=new j;ee.updateFromServerResponse(y);const Ae=new we({uid:y.localId,auth:m,stsTokenManager:ee,isAnonymous:M});return yield bt(Ae),Ae})()}static _fromGetAccountInfoResponse(m,y,M){return(0,f.Z)(function*(){const ee=y.users[0];he(void 0!==ee.localId,"internal-error");const Ae=void 0!==ee.providerUserInfo?Pi(ee.providerUserInfo):[],at=!(ee.email&&ee.passwordHash||Ae?.length),Rt=new j;Rt.updateFromIdToken(M);const Yt=new we({uid:ee.localId,auth:m,stsTokenManager:Rt,isAnonymous:at}),Hn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:Ae,metadata:new ke(ee.createdAt,ee.lastLoginAt),isAnonymous:!(ee.email&&ee.passwordHash||Ae?.length)};return Object.assign(Yt,Hn),Yt})()}}const et=new Map;function kt(T){Pt(T instanceof Function,"Expected a class definition");let m=et.get(T);return m?(Pt(m instanceof T,"Instance stored in cache mismatched with class"),m):(m=new T,et.set(T,m),m)}const hn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,M){var ee=this;return(0,f.Z)(function*(){ee.storage[y]=M})()}_get(y){var M=this;return(0,f.Z)(function*(){const ee=M.storage[y];return void 0===ee?null:ee})()}_remove(y){var M=this;return(0,f.Z)(function*(){delete M.storage[y]})()}_addListener(y,M){}_removeListener(y,M){}}return T.type="NONE",T})();function cn(T,m,y){return`firebase:${T}:${m}:${y}`}class fn{constructor(m,y,M){this.persistence=m,this.auth=y,this.userKey=M;const{config:ee,name:Ae}=this.auth;this.fullUserKey=cn(this.userKey,ee.apiKey,Ae),this.fullPersistenceKey=cn("persistence",ee.apiKey,Ae),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,f.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?we._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,f.Z)(function*(){if(y.persistence===m)return;const M=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,M?y.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,M="authUser"){return(0,f.Z)(function*(){if(!y.length)return new fn(kt(hn),m,M);const ee=(yield Promise.all(y.map(function(){var Hn=(0,f.Z)(function*(ar){if(yield ar._isAvailable())return ar});return function(ar){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let Ae=ee[0]||kt(hn);const at=cn(M,m.config.apiKey,m.name);let Rt=null;for(const Hn of y)try{const ar=yield Hn._get(at);if(ar){const ti=we._fromJSON(m,ar);Hn!==Ae&&(Rt=ti),Ae=Hn;break}}catch{}const Yt=ee.filter(Hn=>Hn._shouldAllowMigration);return Ae._shouldAllowMigration&&Yt.length?(Ae=Yt[0],Rt&&(yield Ae._set(at,Rt.toJSON())),yield Promise.all(y.map(function(){var Hn=(0,f.Z)(function*(ar){if(ar!==Ae)try{yield ar._remove(at)}catch{}});return function(ar){return Hn.apply(this,arguments)}}())),new fn(Ae,m,M)):new fn(Ae,m,M)})()}}function dr(T){const m=T.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(jt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(rt(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Tn(m))return"Blackberry";if(dn(m))return"Webos";if(Qe(m))return"Safari";if((m.includes("chrome/")||it(m))&&!m.includes("edge/"))return"Chrome";if(en(m))return"Android";{const M=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function rt(T=(0,V.z$)()){return/firefox\//i.test(T)}function Qe(T=(0,V.z$)()){const m=T.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function it(T=(0,V.z$)()){return/crios\//i.test(T)}function jt(T=(0,V.z$)()){return/iemobile/i.test(T)}function en(T=(0,V.z$)()){return/android/i.test(T)}function Tn(T=(0,V.z$)()){return/blackberry/i.test(T)}function dn(T=(0,V.z$)()){return/webos/i.test(T)}function Ir(T=(0,V.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function bn(T=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Wi(T=(0,V.z$)()){return Ir(T)||en(T)||dn(T)||Tn(T)||/windows phone/i.test(T)||jt(T)}function ki(T,m=[]){let y;switch(T){case"Browser":y=dr((0,V.z$)());break;case"Worker":y=`${dr((0,V.z$)())}-${T}`;break;default:y=T}const M=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${o.SDK_VERSION}/${M}`}class Or{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const M=Ae=>new Promise((at,Rt)=>{try{at(m(Ae))}catch(Yt){Rt(Yt)}});M.onAbort=y,this.queue.push(M);const ee=this.queue.length-1;return()=>{this.queue[ee]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,f.Z)(function*(){if(y.auth.currentUser===m)return;const M=[];try{for(const ee of y.queue)yield ee(m),ee.onAbort&&M.push(ee.onAbort)}catch(ee){M.reverse();for(const Ae of M)try{Ae()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:ee?.message})}})()}}function sr(){return(sr=(0,f.Z)(function*(T,m={}){return Et(T,"GET","/v2/passwordPolicy",ut(T,m))})).apply(this,arguments)}class mo{constructor(m){var y,M,ee,Ae;const at=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=at.minPasswordLength)&&void 0!==y?y:6,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),void 0!==at.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),void 0!==at.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),void 0!==at.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),void 0!==at.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ee=null===(M=m.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==ee?ee:"",this.forceUpgradeOnSignin=null!==(Ae=m.forceUpgradeOnSignin)&&void 0!==Ae&&Ae,this.schemaVersion=m.schemaVersion}validatePassword(m){var y,M,ee,Ae,at,Rt;const Yt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Yt),this.validatePasswordCharacterOptions(m,Yt),Yt.isValid&&(Yt.isValid=null===(y=Yt.meetsMinPasswordLength)||void 0===y||y),Yt.isValid&&(Yt.isValid=null===(M=Yt.meetsMaxPasswordLength)||void 0===M||M),Yt.isValid&&(Yt.isValid=null===(ee=Yt.containsLowercaseLetter)||void 0===ee||ee),Yt.isValid&&(Yt.isValid=null===(Ae=Yt.containsUppercaseLetter)||void 0===Ae||Ae),Yt.isValid&&(Yt.isValid=null===(at=Yt.containsNumericCharacter)||void 0===at||at),Yt.isValid&&(Yt.isValid=null===(Rt=Yt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),Yt}validatePasswordLengthOptions(m,y){const M=this.customStrengthOptions.minPasswordLength,ee=this.customStrengthOptions.maxPasswordLength;M&&(y.meetsMinPasswordLength=m.length>=M),ee&&(y.meetsMaxPasswordLength=m.length<=ee)}validatePasswordCharacterOptions(m,y){let M;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let ee=0;ee<m.length;ee++)M=m.charAt(ee),this.updatePasswordCharacterOptionsStatuses(y,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(m,y,M,ee,Ae){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=ee)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=Ae))}}class Ci{constructor(m,y,M,ee){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=M,this.config=ee,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=ee.sdkClientVersion}_initializeWithPersistence(m,y){var M=this;return y&&(this._popupRedirectResolver=kt(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var ee,Ae;if(!M._deleted&&(M.persistenceManager=yield fn.create(M,m),!M._deleted)){if(null!==(ee=M._popupRedirectResolver)&&void 0!==ee&&ee._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(y),M.lastNotifiedUid=(null===(Ae=M.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,f.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(m){var y=this;return(0,f.Z)(function*(){try{const M=yield Zr(y,{idToken:m}),ee=yield we._fromGetAccountInfoResponse(y,M,m);yield y.directlySetCurrentUser(ee)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var y=this;return(0,f.Z)(function*(){var M;if((0,o._isFirebaseServerApp)(y.app)){const Rt=y.app.settings.authIdToken;return Rt?new Promise(Yt=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(Rt).then(Yt,Yt))}):y.directlySetCurrentUser(null)}const ee=yield y.assertedPersistence.getCurrentUser();let Ae=ee,at=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Rt=null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId,Yt=Ae?._redirectEventId,Hn=yield y.tryRedirectSignIn(m);(!Rt||Rt===Yt)&&Hn?.user&&(Ae=Hn.user,at=!0)}if(!Ae)return y.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(at)try{yield y.beforeStateQueue.runMiddleware(Ae)}catch(Rt){Ae=ee,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Rt))}return Ae?y.reloadAndSetCurrentUserOrClear(Ae):y.directlySetCurrentUser(null)}return he(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Ae._redirectEventId?y.directlySetCurrentUser(Ae):y.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(m){var y=this;return(0,f.Z)(function*(){let M=null;try{M=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,f.Z)(function*(){try{yield bt(m)}catch(M){if("auth/network-request-failed"!==M?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var m=this;return(0,f.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,f.Z)(function*(){if((0,o._isFirebaseServerApp)(y.app))return Promise.reject(Ke(y));const M=m?(0,V.m9)(m):null;return M&&he(M.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(M&&M._clone(y))})()}_updateCurrentUser(m,y=!1){var M=this;return(0,f.Z)(function*(){if(!M._deleted)return m&&he(M.tenantId===m.tenantId,M,"tenant-id-mismatch"),y||(yield M.beforeStateQueue.runMiddleware(m)),M.queue((0,f.Z)(function*(){yield M.directlySetCurrentUser(m),M.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,f.Z)(function*(){return(0,o._isFirebaseServerApp)(m.app)?Promise.reject(Ke(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var y=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(Ke(this)):this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(kt(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var y=this;return(0,f.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const M=y._getPasswordPolicyInternal();return M.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,f.Z)(function*(){const y=yield function pr(T){return sr.apply(this,arguments)}(m),M=new mo(y);null===m.tenantId?m._projectPasswordPolicy=M:m._tenantPasswordPolicies[m.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new V.LL("auth","Firebase",m())}onAuthStateChanged(m,y,M){return this.registerStateListener(this.authStateSubscription,m,y,M)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,M){return this.registerStateListener(this.idTokenSubscription,m,y,M)}authStateReady(){return new Promise((m,y)=>{if(this.currentUser)m();else{const M=this.onAuthStateChanged(()=>{M(),m()},y)}})}revokeAccessToken(m){var y=this;return(0,f.Z)(function*(){if(y.currentUser){const M=yield y.currentUser.getIdToken(),ee={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:M};null!=y.tenantId&&(ee.tenantId=y.tenantId),yield function ne(T,m){return G.apply(this,arguments)}(y,ee)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var M=this;return(0,f.Z)(function*(){const ee=yield M.getOrInitRedirectPersistenceManager(y);return null===m?ee.removeCurrentUser():ee.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const M=m&&kt(m)||y._popupRedirectResolver;he(M,y,"argument-error"),y.redirectPersistenceManager=yield fn.create(y,[kt(M._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,f.Z)(function*(){var M,ee;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(M=y._currentUser)||void 0===M?void 0:M._redirectEventId)===m?y._currentUser:(null===(ee=y.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,f.Z)(function*(){if(m===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,M,ee){if(this._deleted)return()=>{};const Ae="function"==typeof y?y:y.next.bind(y);let at=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(Rt,this,"internal-error"),Rt.then(()=>{at||Ae(this.currentUser)}),"function"==typeof y){const Yt=m.addObserver(y,M,ee);return()=>{at=!0,Yt()}}{const Yt=m.addObserver(y);return()=>{at=!0,Yt()}}}directlySetCurrentUser(m){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,f.Z)(function*(){var y;const M={"X-Client-Version":m.clientVersion};m.app.options.appId&&(M["X-Firebase-gmpid"]=m.app.options.appId);const ee=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();ee&&(M["X-Firebase-Client"]=ee);const Ae=yield m._getAppCheckToken();return Ae&&(M["X-Firebase-AppCheck"]=Ae),M})()}_getAppCheckToken(){var m=this;return(0,f.Z)(function*(){var y;const M=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return M?.error&&function _t(T,...m){Te.logLevel<=Se.in.WARN&&Te.warn(`Auth (${o.SDK_VERSION}): ${T}`,...m)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function gr(T){return(0,V.m9)(T)}class xi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mi={loadJS:()=>(0,f.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qr(T){return mi.loadJS(T)}function Go(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Fi{constructor(m){this.type="recaptcha-enterprise",this.auth=gr(m)}verify(m="verify",y=!1){var M=this;return(0,f.Z)(function*(){function Ae(){return Ae=(0,f.Z)(function*(Rt){if(!y){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var Yt=(0,f.Z)(function*(Hn,ar){Er(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ti=>{if(void 0!==ti.recaptchaKey){const ws=new un(ti);return null==Rt.tenantId?Rt._agentRecaptchaConfig=ws:Rt._tenantRecaptchaConfigs[Rt.tenantId]=ws,Hn(ws.siteKey)}ar(new Error("recaptcha Enterprise site key undefined"))}).catch(ti=>{ar(ti)})});return function(Hn,ar){return Yt.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function at(Rt,Yt,Hn){const ar=window.grecaptcha;Gn(ar)?ar.enterprise.ready(()=>{ar.enterprise.execute(Rt,{action:m}).then(ti=>{Yt(ti)}).catch(()=>{Yt("NO_RECAPTCHA")})}):Hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,Yt)=>{(function ee(Rt){return Ae.apply(this,arguments)})(M.auth).then(Hn=>{if(!y&&Gn(window.grecaptcha))at(Hn,Rt,Yt);else{if(typeof window>"u")return void Yt(new Error("RecaptchaVerifier is only supported in browser"));let ar=function _o(){return mi.recaptchaEnterpriseScript}();0!==ar.length&&(ar+=Hn),qr(ar).then(()=>{at(Hn,Rt,Yt)}).catch(ti=>{Yt(ti)})}}).catch(Hn=>{Yt(Hn)})})})()}}function Xr(T,m,y){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(T,m,y,M=!1){const ee=new Fi(T);let Ae;try{Ae=yield ee.verify(y)}catch{Ae=yield ee.verify(y,!0)}const at=Object.assign({},m);return Object.assign(at,M?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at})).apply(this,arguments)}function ko(T,m,y,M){return Li.apply(this,arguments)}function Li(){return Li=(0,f.Z)(function*(T,m,y,M){var ee;if(null!==(ee=T._getRecaptchaConfig())&&void 0!==ee&&ee.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ae=yield Xr(T,m,y,"getOobCode"===y);return M(T,Ae)}return M(T,m).catch(function(){var Ae=(0,f.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Xr(T,m,y,"getOobCode"===y);return M(T,Rt)}return Promise.reject(at)});return function(at){return Ae.apply(this,arguments)}}())}),Li.apply(this,arguments)}function Co(T,m,y){const M=gr(T);he(M._canInitEmulator,M,"emulator-config-failed"),he(/^https?:\/\//.test(m),M,"invalid-emulator-scheme");const ee=!!y?.disableWarnings,Ae=Ei(m),{host:at,port:Rt}=function vo(T){const m=Ei(T),y=/(\/\/)?([^?#/]+)/.exec(T.substr(m.length));if(!y)return{host:"",port:null};const M=y[2].split("@").pop()||"",ee=/^(\[[^\]]+\])(:|$)/.exec(M);if(ee){const Ae=ee[1];return{host:Ae,port:Mo(M.substr(Ae.length+1))}}{const[Ae,at]=M.split(":");return{host:Ae,port:Mo(at)}}}(m);M.config.emulator={url:`${Ae}//${at}${null===Rt?"":`:${Rt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:at,port:Rt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:ee})}),ee||function Jo(){function T(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Ei(T){const m=T.indexOf(":");return m<0?"":T.substr(0,m+1)}function Mo(T){if(!T)return null;const m=Number(T);return isNaN(m)?null:m}class Hi{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return yt("not implemented")}_getIdTokenResponse(m){return yt("not implemented")}_linkToIdToken(m,y){return yt("not implemented")}_getReauthenticationResolver(m){return yt("not implemented")}}function ss(T,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:resetPassword",ut(T,m))})).apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function zi(T,m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:update",ut(T,m))})).apply(this,arguments)}function as(T,m){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithPassword",ut(T,m))})).apply(this,arguments)}function To(T,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:sendOobCode",ut(T,m))})).apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(T,m){return To(T,m)})).apply(this,arguments)}function Mr(T,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(T,m){return To(T,m)})).apply(this,arguments)}function Ii(T,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(T,m){return To(T,m)})).apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(T,m){return To(T,m)})).apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithEmailLink",ut(T,m))})).apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithEmailLink",ut(T,m))})).apply(this,arguments)}class Nr extends Hi{constructor(m,y,M,ee=null){super("password",M),this._email=m,this._password=y,this._tenantId=ee}static _fromEmailAndPassword(m,y){return new Nr(m,y,"password")}static _fromEmailAndCode(m,y,M=null){return new Nr(m,y,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return ko(m,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",as);case"emailLink":return function Yi(T,m){return Ji.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,y){var M=this;return(0,f.Z)(function*(){switch(M.signInMethod){case"password":return ko(m,{idToken:y,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zi);case"emailLink":return function ir(T,m){return yo.apply(this,arguments)}(m,{idToken:y,email:M._email,oobCode:M._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function oe(T,m){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithIdp",ut(T,m))})).apply(this,arguments)}class qe extends Hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new qe(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:ee}=y,Ae=(0,ve._T)(y,["providerId","signInMethod"]);if(!M||!ee)return null;const at=new qe(M,ee);return at.idToken=Ae.idToken||void 0,at.accessToken=Ae.accessToken||void 0,at.secret=Ae.secret,at.nonce=Ae.nonce,at.pendingToken=Ae.pendingToken||null,at}_getIdTokenResponse(m){return oe(m,this.buildRequest())}_linkToIdToken(m,y){const M=this.buildRequest();return M.idToken=y,oe(m,M)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,oe(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,V.xO)(y)}return m}}function Ft(){return(Ft=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:sendVerificationCode",ut(T,m))})).apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithPhoneNumber",ut(T,m))})).apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(T,m){const y=yield En(T,"POST","/v1/accounts:signInWithPhoneNumber",ut(T,m));if(y.temporaryProof)throw Mn(T,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const mr={USER_NOT_FOUND:"user-not-found"};function Ai(){return(Ai=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithPhoneNumber",ut(T,Object.assign(Object.assign({},m),{operation:"REAUTH"})),mr)})).apply(this,arguments)}class Kr extends Hi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new Kr({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new Kr({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function pn(T,m){return Pn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Gt(T,m){return wn.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function $n(T,m){return Ai.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:M,verificationCode:ee}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:M,code:ee}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:M,phoneNumber:ee,temporaryProof:Ae}=m;return M||y||ee||Ae?new Kr({verificationId:y,verificationCode:M,phoneNumber:ee,temporaryProof:Ae}):null}}class Qr{constructor(m){var y,M,ee,Ae,at,Rt;const Yt=(0,V.zd)((0,V.pd)(m)),Hn=null!==(y=Yt.apiKey)&&void 0!==y?y:null,ar=null!==(M=Yt.oobCode)&&void 0!==M?M:null,ti=function Vr(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ee=Yt.mode)&&void 0!==ee?ee:null);he(Hn&&ar&&ti,"argument-error"),this.apiKey=Hn,this.operation=ti,this.code=ar,this.continueUrl=null!==(Ae=Yt.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(at=Yt.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(Rt=Yt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(m){const y=function hi(T){const m=(0,V.zd)((0,V.pd)(T)).link,y=m?(0,V.zd)((0,V.pd)(m)).deep_link_id:null,M=(0,V.zd)((0,V.pd)(T)).deep_link_id;return(M?(0,V.zd)((0,V.pd)(M)).link:null)||M||y||m||T}(m);try{return new Qr(y)}catch{return null}}}let io=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(y,M){return Nr._fromEmailAndPassword(y,M)}static credentialWithLink(y,M){const ee=Qr.parseLink(M);return he(ee,"argument-error"),Nr._fromEmailAndCode(y,ee.code,ee.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class br{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ce extends br{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class je extends Ce{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return he("providerId"in y&&"signInMethod"in y,"argument-error"),qe._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return he(m.idToken||m.accessToken,"argument-error"),qe._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return je.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return je.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:M,oauthTokenSecret:ee,pendingToken:Ae,nonce:at,providerId:Rt}=m;if(!M&&!ee&&!y&&!Ae||!Rt)return null;try{return new je(Rt)._credential({idToken:y,accessToken:M,nonce:at,pendingToken:Ae})}catch{return null}}}let st=(()=>{class T extends Ce{constructor(){super("facebook.com")}static credential(y){return qe._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return T.credential(y.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Ut=(()=>{class T extends Ce{constructor(){super("google.com"),this.addScope("profile")}static credential(y,M){return qe._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:M})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:M,oauthAccessToken:ee}=y;if(!M&&!ee)return null;try{return T.credential(M,ee)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Kt=(()=>{class T extends Ce{constructor(){super("github.com")}static credential(y){return qe._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return T.credential(y.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Rn extends Hi{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return oe(m,this.buildRequest())}_linkToIdToken(m,y){const M=this.buildRequest();return M.idToken=y,oe(m,M)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,oe(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:ee,pendingToken:Ae}=y;return M&&ee&&Ae&&M===ee?new Rn(M,Ae):null}static _create(m,y){return new Rn(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jn extends br{constructor(m){he(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Jn.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Jn.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Rn.fromJSON(m);return he(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:M}=m;if(!y||!M)return null;try{return Rn._create(M,y)}catch{return null}}}let Cr=(()=>{class T extends Ce{constructor(){super("twitter.com")}static credential(y,M){return qe._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:M})}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:M,oauthTokenSecret:ee}=y;if(!M||!ee)return null;try{return T.credential(M,ee)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Eo(T,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signUp",ut(T,m))})).apply(this,arguments)}class Y{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,M,ee=!1){return(0,f.Z)(function*(){const Ae=yield we._fromIdTokenResponse(m,M,ee),at=ie(M);return new Y({user:Ae,providerId:at,_tokenResponse:M,operationType:y})})()}static _forOperation(m,y,M){return(0,f.Z)(function*(){yield m._updateTokensIfNecessary(M,!0);const ee=ie(M);return new Y({user:m,providerId:ee,_tokenResponse:M,operationType:y})})()}}function ie(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function L(T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(T){var m;if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const y=gr(T);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Y({user:y.currentUser,providerId:null,operationType:"signIn"});const M=yield Eo(y,{returnSecureToken:!0}),ee=yield Y._fromIdTokenResponse(y,"signIn",M,!0);return yield y._updateCurrentUser(ee.user),ee})).apply(this,arguments)}class We extends V.ZR{constructor(m,y,M,ee){var Ae;super(y.code,y.message),this.operationType=M,this.user=ee,Object.setPrototypeOf(this,We.prototype),this.customData={appName:m.name,tenantId:null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:y.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(m,y,M,ee){return new We(m,y,M,ee)}}function jn(T,m,y,M){return("reauthenticate"===m?y._getReauthenticationResolver(T):y._getIdTokenResponse(T)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?We._fromErrorAndOperation(T,Ae,m,M):Ae})}function Dr(T){return new Set(T.map(({providerId:m})=>m).filter(m=>!!m))}function wo(T,m){return wi.apply(this,arguments)}function wi(){return wi=(0,f.Z)(function*(T,m){const y=(0,V.m9)(T);yield Cc(!0,y,m);const{providerUserInfo:M}=yield function Kn(T,m){return Fn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),ee=Dr(M||[]);return y.providerData=y.providerData.filter(Ae=>ee.has(Ae.providerId)),ee.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),wi.apply(this,arguments)}function Da(T,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,f.Z)(function*(T,m,y=!1){const M=yield Sr(T,m._linkToIdToken(T.auth,yield T.getIdToken()),y);return Y._forOperation(T,"link",M)})).apply(this,arguments)}function Cc(T,m,y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(T,m,y){yield bt(m);const ee=!1===T?"provider-already-linked":"no-such-provider";he(Dr(m.providerData).has(y)===T,m.auth,ee)})).apply(this,arguments)}function Sa(T,m){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,f.Z)(function*(T,m,y=!1){const{auth:M}=T;if((0,o._isFirebaseServerApp)(M.app))return Promise.reject(Ke(M));const ee="reauthenticate";try{const Ae=yield Sr(T,jn(M,ee,m,T),y);he(Ae.idToken,M,"internal-error");const at=Gr(Ae.idToken);he(at,M,"internal-error");const{sub:Rt}=at;return he(T.uid===Rt,M,"user-mismatch"),Y._forOperation(T,ee,Ae)}catch(Ae){throw"auth/user-not-found"===Ae?.code&&Be(M,"user-mismatch"),Ae}})).apply(this,arguments)}function Ma(T,m){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(T,m,y=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M="signIn",ee=yield jn(T,M,m),Ae=yield Y._fromIdTokenResponse(T,M,ee);return y||(yield T._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function wc(T,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(T,m){return Ma(gr(T),m)})).apply(this,arguments)}function gs(T,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(T,m){const y=(0,V.m9)(T);return yield Cc(!1,y,m.providerId),Da(y,m)})).apply(this,arguments)}function Gu(T,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(T,m){return Sa((0,V.m9)(T),m)})).apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(T,m){return En(T,"POST","/v1/accounts:signInWithCustomToken",ut(T,m))})).apply(this,arguments)}function Dc(T,m){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,f.Z)(function*(T,m){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const y=gr(T),M=yield function ha(T,m){return oo.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),ee=yield Y._fromIdTokenResponse(y,"signIn",M);return yield y._updateCurrentUser(ee.user),ee}),Bo.apply(this,arguments)}class bs{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?Ms._fromServerResponse(m,y):"totpInfo"in y?Pa._fromServerResponse(m,y):Be(m,"internal-error")}}class Ms extends bs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new Ms(y)}}class Pa extends bs{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new Pa(y)}}function xa(T,m,y){var M;he((null===(M=y.url)||void 0===M?void 0:M.length)>0,T,"invalid-continue-uri"),he(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(he(y.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(he(y.android.packageName.length>0,T,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function yr(T){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(T){const m=gr(T);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function fl(T,m,y){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,f.Z)(function*(T,m,y){const M=gr(T),ee={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};y&&xa(M,ee,y),yield ko(M,ee,"getOobCode",Mr)})).apply(this,arguments)}function fa(T,m,y){return zs.apply(this,arguments)}function zs(){return zs=(0,f.Z)(function*(T,m,y){yield ss((0,V.m9)(T),{oobCode:m,newPassword:y}).catch(function(){var M=(0,f.Z)(function*(ee){throw"auth/password-does-not-meet-requirements"===ee.code&&yr(T),ee});return function(ee){return M.apply(this,arguments)}}())}),zs.apply(this,arguments)}function $s(T,m){return pa.apply(this,arguments)}function pa(){return pa=(0,f.Z)(function*(T,m){yield function to(T,m){return $i.apply(this,arguments)}((0,V.m9)(T),{oobCode:m})}),pa.apply(this,arguments)}function pl(T,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(T,m){const y=(0,V.m9)(T),M=yield ss(y,{oobCode:m}),ee=M.requestType;switch(he(ee,y,"internal-error"),ee){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(M.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(M.mfaInfo,y,"internal-error");default:he(M.email,y,"internal-error")}let Ae=null;return M.mfaInfo&&(Ae=bs._fromServerResponse(gr(y),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:Ae},operation:ee}})).apply(this,arguments)}function Pc(T,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(T,m){const{data:y}=yield pl((0,V.m9)(T),m);return y.email})).apply(this,arguments)}function Kd(T,m,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(T,m,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M=gr(T),at=yield ko(M,{returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eo).catch(Yt=>{throw"auth/password-does-not-meet-requirements"===Yt.code&&yr(T),Yt}),Rt=yield Y._fromIdTokenResponse(M,"signIn",at);return yield M._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function ml(T,m,y){return(0,o._isFirebaseServerApp)(T.app)?Promise.reject(Ke(T)):wc((0,V.m9)(T),io.credential(m,y)).catch(function(){var M=(0,f.Z)(function*(ee){throw"auth/password-does-not-meet-requirements"===ee.code&&yr(T),ee});return function(ee){return M.apply(this,arguments)}}())}function Ra(T,m,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(T,m,y){const M=gr(T),ee={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function Ae(at,Rt){he(Rt.handleCodeInApp,M,"argument-error"),Rt&&xa(M,at,Rt)})(ee,y),yield ko(M,ee,"getOobCode",Ii)})).apply(this,arguments)}function Kl(T,m){const y=Qr.parseLink(m);return"EMAIL_SIGNIN"===y?.operation}function ga(T,m,y){return xs.apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(T,m,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M=(0,V.m9)(T),ee=io.credentialWithLink(m,y||yn());return he(ee._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),wc(M,ee)})).apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:createAuthUri",ut(T,m))})).apply(this,arguments)}function x(T,m){return ce.apply(this,arguments)}function ce(){return ce=(0,f.Z)(function*(T,m){const M={identifier:m,continueUri:mt()?yn():"http://localhost"},{signinMethods:ee}=yield function _l(T,m){return Ri.apply(this,arguments)}((0,V.m9)(T),M);return ee||[]}),ce.apply(this,arguments)}function z(T,m){return se.apply(this,arguments)}function se(){return se=(0,f.Z)(function*(T,m){const y=(0,V.m9)(T),ee={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};m&&xa(y.auth,ee,m);const{email:Ae}=yield function mn(T,m){return Yn.apply(this,arguments)}(y.auth,ee);Ae!==T.email&&(yield T.reload())}),se.apply(this,arguments)}function ze(T,m,y){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:m};y&&xa(M.auth,Ae,y);const{email:at}=yield function Ti(T,m){return oi.apply(this,arguments)}(M.auth,Ae);at!==T.email&&(yield T.reload())}),Nt.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(T,m){return Et(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function $r(T,m){return _i.apply(this,arguments)}function _i(){return _i=(0,f.Z)(function*(T,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const M=(0,V.m9)(T),Ae={idToken:yield M.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},at=yield Sr(M,function Ht(T,m){return Nn.apply(this,arguments)}(M.auth,Ae));M.displayName=at.displayName||null,M.photoURL=at.photoUrl||null;const Rt=M.providerData.find(({providerId:Yt})=>"password"===Yt);Rt&&(Rt.displayName=M.displayName,Rt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(at)}),_i.apply(this,arguments)}function ui(T,m){const y=(0,V.m9)(T);return(0,o._isFirebaseServerApp)(y.auth.app)?Promise.reject(Ke(y.auth)):bi(y,m,null)}function xr(T,m){return bi((0,V.m9)(T),null,m)}function bi(T,m,y){return si.apply(this,arguments)}function si(){return si=(0,f.Z)(function*(T,m,y){const{auth:M}=T,Ae={idToken:yield T.getIdToken(),returnSecureToken:!0};m&&(Ae.email=m),y&&(Ae.password=y);const at=yield Sr(T,function ei(T,m){return ni.apply(this,arguments)}(M,Ae));yield T._updateTokensIfNecessary(at,!0)}),si.apply(this,arguments)}class Lo{constructor(m,y,M={}){this.isNewUser=m,this.providerId=y,this.profile=M}}class xo extends Lo{constructor(m,y,M,ee){super(m,y,M),this.username=ee}}class Gs extends Lo{constructor(m,y){super(m,"facebook.com",y)}}class Xo extends xo{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Oi extends Lo{constructor(m,y){super(m,"google.com",y)}}class fr extends xo{constructor(m,y,M){super(m,"twitter.com",y,M)}}function es(T){const{user:m,_tokenResponse:y}=T;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function lo(T){var m,y;if(!T)return null;const{providerId:M}=T,ee=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},Ae=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!M&&T?.idToken){const at=null===(y=null===(m=Gr(T.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(at)return new Lo(Ae,"anonymous"!==at&&"custom"!==at?at:null)}if(!M)return null;switch(M){case"facebook.com":return new Gs(Ae,ee);case"github.com":return new Xo(Ae,ee);case"google.com":return new Oi(Ae,ee);case"twitter.com":return new fr(Ae,ee,T.screenName||null);case"custom":case"anonymous":return new Lo(Ae,null);default:return new Lo(Ae,M,ee)}}(y)}class Qs{constructor(m,y,M){this.type=m,this.credential=y,this.user=M}static _fromIdtoken(m,y){return new Qs("enroll",m,y)}static _fromMfaPendingCredential(m){return new Qs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,M;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Qs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(M=m.multiFactorSession)&&void 0!==M&&M.idToken)return Qs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Rs{constructor(m,y,M){this.session=m,this.hints=y,this.signInResolver=M}static _fromError(m,y){const M=gr(m),ee=y.customData._serverResponse,Ae=(ee.mfaInfo||[]).map(Rt=>bs._fromServerResponse(M,Rt));he(ee.mfaPendingCredential,M,"internal-error");const at=Qs._fromMfaPendingCredential(ee.mfaPendingCredential);return new Rs(at,Ae,function(){var Rt=(0,f.Z)(function*(Yt){const Hn=yield Yt._process(M,at);delete ee.mfaInfo,delete ee.mfaPendingCredential;const ar=Object.assign(Object.assign({},ee),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(y.operationType){case"signIn":const ti=yield Y._fromIdTokenResponse(M,y.operationType,ar);return yield M._updateCurrentUser(ti.user),ti;case"reauthenticate":return he(y.user,M,"internal-error"),Y._forOperation(y.user,y.operationType,ar);default:Be(M,"internal-error")}});return function(Yt){return Rt.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,f.Z)(function*(){return y.signInResolver(m)})()}}function Wu(T,m){var y;const M=(0,V.m9)(T),ee=m;return he(m.customData.operationType,M,"argument-error"),he(null===(y=ee.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,M,"argument-error"),Rs._fromError(M,ee)}class Nc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(M=>bs._fromServerResponse(m.auth,M)))})}static _fromUser(m){return new Nc(m)}getSession(){var m=this;return(0,f.Z)(function*(){return Qs._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,y){var M=this;return(0,f.Z)(function*(){const ee=m,Ae=yield M.getSession(),at=yield Sr(M.user,ee._process(M.user.auth,Ae,y));return yield M.user._updateTokensIfNecessary(at),M.user.reload()})()}unenroll(m){var y=this;return(0,f.Z)(function*(){const M="string"==typeof m?m:m.uid,ee=yield y.user.getIdToken();try{const Ae=yield Sr(y.user,function Ku(T,m){return Et(T,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(T,m))}(y.user.auth,{idToken:ee,mfaEnrollmentId:M}));y.enrolledFactors=y.enrolledFactors.filter(({uid:at})=>at!==M),yield y.user._updateTokensIfNecessary(Ae),yield y.user.reload()}catch(Ae){throw Ae}})()}}const Oa=new WeakMap;function Jd(T){const m=(0,V.m9)(T);return Oa.has(m)||Oa.set(m,Nc._fromUser(m)),Oa.get(m)}const Qu="__sak";class Xi{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Os=(()=>{class T extends Xi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,M)=>this.onStorageEvent(y,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Na(){const T=(0,V.z$)();return Qe(T)||Ir(T)}()&&function co(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const M of Object.keys(this.listeners)){const ee=this.storage.getItem(M),Ae=this.localCache[M];ee!==Ae&&y(M,Ae,ee)}}onStorageEvent(y,M=!1){if(!y.key)return void this.forAllChangedKeys((Rt,Yt,Hn)=>{this.notifyListeners(Rt,Hn)});const ee=y.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Rt=this.storage.getItem(ee);if(y.newValue!==Rt)null!==y.newValue?this.storage.setItem(ee,y.newValue):this.storage.removeItem(ee);else if(this.localCache[ee]===y.newValue&&!M)return}const Ae=()=>{const Rt=this.storage.getItem(ee);!M&&this.localCache[ee]===Rt||this.notifyListeners(ee,Rt)},at=this.storage.getItem(ee);!function go(){return(0,V.w1)()&&10===document.documentMode}()||at===y.newValue||y.newValue===y.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(y,M){this.localCache[y]=M;const ee=this.listeners[y];if(ee)for(const Ae of Array.from(ee))Ae(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,M,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:M,newValue:ee}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,M){var ee=()=>super._set,Ae=this;return(0,f.Z)(function*(){yield ee().call(Ae,y,M),Ae.localCache[y]=JSON.stringify(M)})()}_get(y){var M=()=>super._get,ee=this;return(0,f.Z)(function*(){const Ae=yield M().call(ee,y);return ee.localCache[y]=JSON.stringify(Ae),Ae})()}_remove(y){var M=()=>super._remove,ee=this;return(0,f.Z)(function*(){yield M().call(ee,y),delete ee.localCache[y]})()}}return T.type="LOCAL",T})(),qt=(()=>{class T extends Xi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,M){}_removeListener(y,M){}}return T.type="SESSION",T})();let Ju=(()=>{class T{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const M=this.receivers.find(Ae=>Ae.isListeningto(y));if(M)return M;const ee=new T(y);return this.receivers.push(ee),ee}isListeningto(y){return this.eventTarget===y}handleEvent(y){var M=this;return(0,f.Z)(function*(){const ee=y,{eventId:Ae,eventType:at,data:Rt}=ee.data,Yt=M.handlersMap[at];if(!Yt?.size)return;ee.ports[0].postMessage({status:"ack",eventId:Ae,eventType:at});const Hn=Array.from(Yt).map(function(){var ti=(0,f.Z)(function*(ws){return ws(ee.origin,Rt)});return function(ws){return ti.apply(this,arguments)}}()),ar=yield function ri(T){return Promise.all(T.map(function(){var m=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(M){return{fulfilled:!1,reason:M}}});return function(y){return m.apply(this,arguments)}}()))}(Hn);ee.ports[0].postMessage({status:"done",eventId:Ae,eventType:at,response:ar})})()}_subscribe(y,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(M)}_unsubscribe(y,M){this.handlersMap[y]&&M&&this.handlersMap[y].delete(M),(!M||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Xa(T="",m=10){let y="";for(let M=0;M<m;M++)y+=Math.floor(10*Math.random());return T+y}class Ro{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,M=50){var ee=this;return(0,f.Z)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let at,Rt;return new Promise((Yt,Hn)=>{const ar=Xa("",20);Ae.port1.start();const ti=setTimeout(()=>{Hn(new Error("unsupported_event"))},M);Rt={messageChannel:Ae,onMessage(ws){const oc=ws;if(oc.data.eventId===ar)switch(oc.data.status){case"ack":clearTimeout(ti),at=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),Yt(oc.data.response);break;default:clearTimeout(ti),clearTimeout(at),Hn(new Error("invalid_response"))}}},ee.handlers.add(Rt),Ae.port1.addEventListener("message",Rt.onMessage),ee.target.postMessage({eventType:m,eventId:ar,data:y},[Ae.port2])}).finally(()=>{Rt&&ee.removeMessageHandler(Rt)})})()}}function uo(){return window}function zo(){return typeof uo().WorkerGlobalScope<"u"&&"function"==typeof uo().importScripts}function ec(){return(ec=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xu="firebaseLocalStorageDb",Ns="firebaseLocalStorage",ed="fbase_key";class ma{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function S(T,m){return T.transaction([Ns],m?"readwrite":"readonly").objectStore(Ns)}function w(){const T=indexedDB.open(Xu,1);return new Promise((m,y)=>{T.addEventListener("error",()=>{y(T.error)}),T.addEventListener("upgradeneeded",()=>{const M=T.result;try{M.createObjectStore(Ns,{keyPath:ed})}catch(ee){y(ee)}}),T.addEventListener("success",(0,f.Z)(function*(){const M=T.result;M.objectStoreNames.contains(Ns)?m(M):(M.close(),yield function O(){const T=indexedDB.deleteDatabase(Xu);return new ma(T).toPromise()}(),m(yield w()))}))})}function N(T,m,y){return Q.apply(this,arguments)}function Q(){return(Q=(0,f.Z)(function*(T,m,y){const M=S(T,!0).put({[ed]:m,value:y});return new ma(M).toPromise()})).apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(T,m){const y=S(T,!1).get(m),M=yield new ma(y).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Mt(T,m){const y=S(T,!0).delete(m);return new ma(y).toPromise()}const vi=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield w()),y.db})()}_withRetries(y){var M=this;return(0,f.Z)(function*(){let ee=0;for(;;)try{const Ae=yield M._openDb();return yield y(Ae)}catch(Ae){if(ee++>3)throw Ae;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return zo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=Ju._getInstance(function th(){return zo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var M=(0,f.Z)(function*(ee,Ae){return{keyProcessed:(yield y._poll()).includes(Ae.key)}});return function(ee,Ae){return M.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var M=(0,f.Z)(function*(ee,Ae){return["keyChanged"]});return function(ee,Ae){return M.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var M,ee;if(y.activeServiceWorker=yield function Fc(){return ec.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ro(y.activeServiceWorker);const Ae=yield y.sender._send("ping",{},800);Ae&&null!==(M=Ae[0])&&void 0!==M&&M.fulfilled&&null!==(ee=Ae[0])&&void 0!==ee&&ee.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var M=this;return(0,f.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function eh(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:y},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield w();return yield N(y,Qu,"1"),yield Mt(y,Qu),!0}catch{}return!1})()}_withPendingWrite(y){var M=this;return(0,f.Z)(function*(){M.pendingWrites++;try{yield y()}finally{M.pendingWrites--}})()}_set(y,M){var ee=this;return(0,f.Z)(function*(){return ee._withPendingWrite((0,f.Z)(function*(){return yield ee._withRetries(Ae=>N(Ae,y,M)),ee.localCache[y]=M,ee.notifyServiceWorker(y)}))})()}_get(y){var M=this;return(0,f.Z)(function*(){const ee=yield M._withRetries(Ae=>function ye(T,m){return He.apply(this,arguments)}(Ae,y));return M.localCache[y]=ee,ee})()}_remove(y){var M=this;return(0,f.Z)(function*(){return M._withPendingWrite((0,f.Z)(function*(){return yield M._withRetries(ee=>Mt(ee,y)),delete M.localCache[y],M.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const M=yield y._withRetries(at=>{const Rt=S(at,!1).getAll();return new ma(Rt).toPromise()});if(!M)return[];if(0!==y.pendingWrites)return[];const ee=[],Ae=new Set;if(0!==M.length)for(const{fbase_key:at,value:Rt}of M)Ae.add(at),JSON.stringify(y.localCache[at])!==JSON.stringify(Rt)&&(y.notifyListeners(at,Rt),ee.push(at));for(const at of Object.keys(y.localCache))y.localCache[at]&&!Ae.has(at)&&(y.notifyListeners(at,null),ee.push(at));return ee})()}notifyListeners(y,M){this.localCache[y]=M;const ee=this.listeners[y];if(ee)for(const Ae of Array.from(ee))Ae(M)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),Fs=1e12;class tc{constructor(m){this.auth=m,this.counter=Fs,this._widgets=new Map}render(m,y){const M=this.counter;return this._widgets.set(M,new ns(m,this.auth.name,y||{})),this.counter++,M}reset(m){var y;const M=m||Fs;null===(y=this._widgets.get(M))||void 0===y||y.delete(),this._widgets.delete(M)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Fs))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,f.Z)(function*(){var M;return null===(M=y._widgets.get(m||Fs))||void 0===M||M.execute(),""})()}}class ns{constructor(m,y,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ee="string"==typeof m?document.getElementById(m):m;he(ee,"argument-error",{appName:y}),this.container=ee,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ls(T){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<T;M++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zi=Go("rcb"),df=new xe(3e4,6e4);class nh{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=uo().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return he(function Ql(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&Vn(uo().grecaptcha)?Promise.resolve(uo().grecaptcha):new Promise((M,ee)=>{const Ae=uo().setTimeout(()=>{ee(tt(m,"network-request-failed"))},df.get());uo()[Zi]=()=>{uo().clearTimeout(Ae),delete uo()[Zi];const Rt=uo().grecaptcha;if(!Rt||!Vn(Rt))return void ee(tt(m,"internal-error"));const Yt=Rt.render;Rt.render=(Hn,ar)=>{const ti=Yt(Hn,ar);return this.counter++,ti},this.hostLanguage=y,M(Rt)},qr(`${function Uo(){return mi.recaptchaV2Script}()}?${(0,V.xO)({onload:Zi,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Ae),ee(tt(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=uo().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{load(m){return(0,f.Z)(function*(){return new tc(m)})()}clearedOneInstance(){}}const Js="recaptcha",hf={theme:"light",type:"image"};class td{constructor(m,y,M=Object.assign({},hf)){this.parameters=M,this.type=Js,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gr(m),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ee="string"==typeof y?document.getElementById(y):y;he(ee,this.auth,"argument-error"),this.container=ee,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new nh,this.validateStartingState()}verify(){var m=this;return(0,f.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),M=m.getAssertedRecaptcha();return M.getResponse(y)||new Promise(Ae=>{const at=Rt=>{Rt&&(m.tokenChangeListeners.delete(at),Ae(Rt))};m.tokenChangeListeners.add(at),m.isInvisible&&M.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(M=>M(y)),"function"==typeof m)m(y);else if("string"==typeof m){const M=uo()[m];"function"==typeof M&&M(y)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,f.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const M=document.createElement("div");y.appendChild(M),y=M}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,f.Z)(function*(){he(mt()&&!zo(),m.auth,"internal-error"),yield function Xs(){let T=null;return new Promise(m=>{"complete"!==document.readyState?(T=()=>m(),window.addEventListener("load",T)):m()}).catch(m=>{throw T&&window.removeEventListener("load",T),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function pi(T){return zn.apply(this,arguments)}(m.auth);he(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nd{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=Kr._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function rd(T,m,y){return ka.apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(T,m,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M=gr(T),ee=yield od(M,m,(0,V.m9)(y));return new nd(ee,Ae=>wc(M,Ae))})).apply(this,arguments)}function Fa(T,m,y){return ea.apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);yield Cc(!1,M,"phone");const ee=yield od(M.auth,m,(0,V.m9)(y));return new nd(ee,Ae=>gs(M,Ae))})).apply(this,arguments)}function rh(T,m,y){return id.apply(this,arguments)}function id(){return(id=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ke(M.auth));const ee=yield od(M.auth,m,(0,V.m9)(y));return new nd(ee,Ae=>Gu(M,Ae))})).apply(this,arguments)}function od(T,m,y){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,f.Z)(function*(T,m,y){var M;const ee=yield y.verify();try{let Ae;if(he("string"==typeof ee,T,"argument-error"),he(y.type===Js,T,"argument-error"),Ae="string"==typeof m?{phoneNumber:m}:m,"session"in Ae){const at=Ae.session;if("phoneNumber"in Ae)return he("enroll"===at.type,T,"internal-error"),(yield function Yd(T,m){return Et(T,"POST","/v2/accounts/mfaEnrollment:start",ut(T,m))}(T,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:ee}})).phoneSessionInfo.sessionInfo;{he("signin"===at.type,T,"internal-error");const Rt=(null===(M=Ae.multiFactorHint)||void 0===M?void 0:M.uid)||Ae.multiFactorUid;return he(Rt,T,"missing-multi-factor-info"),(yield function Rr(T,m){return Et(T,"POST","/v2/accounts/mfaSignIn:start",ut(T,m))}(T,{mfaPendingCredential:at.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:ee}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield function pt(T,m){return Ft.apply(this,arguments)}(T,{phoneNumber:Ae.phoneNumber,recaptchaToken:ee});return at}}finally{y._reset()}}),Lc.apply(this,arguments)}function vl(T,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,f.Z)(function*(T,m){const y=(0,V.m9)(T);if((0,o._isFirebaseServerApp)(y.auth.app))return Promise.reject(Ke(y.auth));yield Da(y,m)})).apply(this,arguments)}let Em=(()=>{class T{constructor(y){this.providerId=T.PROVIDER_ID,this.auth=gr(y)}verifyPhoneNumber(y,M){return od(this.auth,y,(0,V.m9)(M))}static credential(y,M){return Kr._fromVerification(y,M)}static credentialFromResult(y){return T.credentialFromTaggedObject(y)}static credentialFromError(y){return T.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:M,temporaryProof:ee}=y;return M&&ee?Kr._fromTokenResponse(M,ee):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function va(T,m){return m?kt(m):(he(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class ih extends Hi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return oe(m,this._buildIdpRequest())}_linkToIdToken(m,y){return oe(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return oe(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Rp(T){return Ma(T.auth,new ih(T),T.bypassAuthState)}function oh(T){const{auth:m,user:y}=T;return he(y,m,"internal-error"),Sa(y,new ih(T),T.bypassAuthState)}function Im(T){return sh.apply(this,arguments)}function sh(){return(sh=(0,f.Z)(function*(T){const{auth:m,user:y}=T;return he(y,m,"internal-error"),Da(y,new ih(T),T.bypassAuthState)})).apply(this,arguments)}class yl{constructor(m,y,M,ee,Ae=!1){this.auth=m,this.resolver=M,this.user=ee,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,f.Z)(function*(M,ee){m.pendingPromise={resolve:M,reject:ee};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Ae){m.reject(Ae)}});return function(M,ee){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,f.Z)(function*(){const{urlResponse:M,sessionId:ee,postBody:Ae,tenantId:at,error:Rt,type:Yt}=m;if(Rt)return void y.reject(Rt);const Hn={auth:y.auth,requestUri:M,sessionId:ee,tenantId:at||void 0,postBody:Ae||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Yt)(Hn))}catch(ar){y.reject(ar)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Rp;case"linkViaPopup":case"linkViaRedirect":return Im;case"reauthViaPopup":case"reauthViaRedirect":return oh;default:Be(this.auth,"internal-error")}}resolve(m){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sd=new xe(2e3,1e4);function Op(T,m,y){return ta.apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(T,m,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(tt(T,"operation-not-supported-in-this-environment"));const M=gr(T);ft(T,m,br);const ee=va(M,y);return new Zo(M,"signInViaPopup",m,ee).executeNotNull()})).apply(this,arguments)}function El(T,m,y){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(tt(M.auth,"operation-not-supported-in-this-environment"));ft(M.auth,m,br);const ee=va(M.auth,y);return new Zo(M.auth,"reauthViaPopup",m,ee,M).executeNotNull()})).apply(this,arguments)}function Am(T,m,y){return ad.apply(this,arguments)}function ad(){return(ad=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);ft(M.auth,m,br);const ee=va(M.auth,y);return new Zo(M.auth,"linkViaPopup",m,ee,M).executeNotNull()})).apply(this,arguments)}let Zo=(()=>{class T extends yl{constructor(y,M,ee,Ae,at){super(y,M,Ae,at),this.provider=ee,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const M=yield y.execute();return he(M,y.auth,"internal-error"),M})()}onExecution(){var y=this;return(0,f.Z)(function*(){Pt(1===y.filter.length,"Popup operations only handle one event");const M=Xa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],M),y.authWindow.associatedEvent=M,y.resolver._originValidation(y.auth).catch(ee=>{y.reject(ee)}),y.resolver._isIframeWebStorageSupported(y.auth,ee=>{ee||y.reject(tt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const y=()=>{var M,ee;this.pollId=null!==(ee=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==ee&&ee.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,sd.get())};y()}}return T.currentPopupAction=null,T})();const Np="pendingRedirect",ho=new Map;class Jl extends yl{constructor(m,y,M=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,M),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,f.Z)(function*(){let M=ho.get(y.auth._key());if(!M){try{const Ae=(yield function cd(T,m){return ra.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;M=()=>Promise.resolve(Ae)}catch(ee){M=()=>Promise.reject(ee)}ho.set(y.auth._key(),M)}return y.bypassAuthState||ho.set(y.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,M=this;return(0,f.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(M,m);if("unknown"!==m.type){if(m.eventId){const ee=yield M.auth._redirectUserForId(m.eventId);if(ee)return M.user=ee,y().call(M,m);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,f.Z)(function*(T,m){const y=ia(m),M=Cs(T);if(!(yield M._isAvailable()))return!1;const ee="true"===(yield M._get(y));return yield M._remove(y),ee})).apply(this,arguments)}function La(T,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(T,m){return Cs(T)._set(ia(m),"true")})).apply(this,arguments)}function Tr(){ho.clear()}function Al(T,m){ho.set(T._key(),m)}function Cs(T){return kt(T._redirectPersistence)}function ia(T){return cn(Np,T.config.apiKey,T.name)}function fi(T,m,y){return function Vc(T,m,y){return ld.apply(this,arguments)}(T,m,y)}function ld(){return(ld=(0,f.Z)(function*(T,m,y){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M=gr(T);ft(T,m,br),yield M._initializationPromise;const ee=va(M,y);return yield La(ee,M),ee._openRedirect(M,m,"signInViaRedirect")})).apply(this,arguments)}function Xl(T,m,y){return function Uc(T,m,y){return Bc.apply(this,arguments)}(T,m,y)}function Bc(){return(Bc=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);if(ft(M.auth,m,br),(0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ke(M.auth));yield M.auth._initializationPromise;const ee=va(M.auth,y);yield La(ee,M.auth);const Ae=yield ya(M);return ee._openRedirect(M.auth,m,"reauthViaRedirect",Ae)})).apply(this,arguments)}function ff(T,m,y){return function jc(T,m,y){return nc.apply(this,arguments)}(T,m,y)}function nc(){return(nc=(0,f.Z)(function*(T,m,y){const M=(0,V.m9)(T);ft(M.auth,m,br),yield M.auth._initializationPromise;const ee=va(M.auth,y);yield Cc(!1,M,m.providerId),yield La(ee,M.auth);const Ae=yield ya(M);return ee._openRedirect(M.auth,m,"linkViaRedirect",Ae)})).apply(this,arguments)}function kp(T,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,f.Z)(function*(T,m){return yield gr(T)._initializationPromise,ah(T,m,!1)})).apply(this,arguments)}function ah(T,m){return eu.apply(this,arguments)}function eu(){return(eu=(0,f.Z)(function*(T,m,y=!1){if((0,o._isFirebaseServerApp)(T.app))return Promise.reject(Ke(T));const M=gr(T),ee=va(M,m),at=yield new Jl(M,ee,y).execute();return at&&!y&&(delete at.user._redirectEventId,yield M._persistUserIfCurrent(at.user),yield M._setRedirectUser(null,m)),at})).apply(this,arguments)}function ya(T){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,f.Z)(function*(T){const m=Xa(`${T.uid}:::`);return T._redirectEventId=m,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),m})).apply(this,arguments)}class oa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(m,M)&&(y=!0,this.sendToConsumer(m,M),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function bl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zc(T);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var M;if(m.error&&!zc(m)){const ee=(null===(M=m.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";y.onError(tt(this.auth,ee))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const M=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&M}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Va(m))}saveEventToCache(m){this.cachedEventUids.add(Va(m)),this.lastProcessedEventTime=Date.now()}}function Va(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(m=>m).join("-")}function zc({type:T,error:m}){return"unknown"===T&&"auth/no-auth-event"===m?.code}function tu(T){return $c.apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(T,m={}){return Et(T,"GET","/v1/projects",m)})).apply(this,arguments)}const fo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bm=/^https?/;function pf(){return(pf=(0,f.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:m}=yield tu(T);for(const y of m)try{if(X_(y))return}catch{}Be(T,"unauthorized-domain")})).apply(this,arguments)}function X_(T){const m=yn(),{protocol:y,hostname:M}=new URL(m);if(T.startsWith("chrome-extension://")){const at=new URL(T);return""===at.hostname&&""===M?"chrome-extension:"===y&&T.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&at.hostname===M}if(!bm.test(y))return!1;if(fo.test(T))return M===T;const ee=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(M)}const Lp=new xe(3e4,6e4);function Cm(){const T=uo().___jsl;if(T?.H)for(const m of Object.keys(T.H))if(T.H[m].r=T.H[m].r||[],T.H[m].L=T.H[m].L||[],T.H[m].r=[...T.H[m].L],T.CP)for(let y=0;y<T.CP.length;y++)T.CP[y]=null}let nu=null;const Vp=new xe(5e3,15e3),iu="__/auth/iframe",Io="emulator/auth/iframe",ou={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function su(T){const m=T.config;he(m.authDomain,T,"auth-domain-config-required");const y=m.emulator?re(m,Io):`https://${T.config.authDomain}/${iu}`,M={apiKey:m.apiKey,appName:T.name,v:o.SDK_VERSION},ee=Zc.get(T.config.apiHost);ee&&(M.eid=ee);const Ae=T._getFrameworks();return Ae.length&&(M.fw=Ae.join(",")),`${y}?${(0,V.xO)(M).slice(1)}`}function Ia(){return Ia=(0,f.Z)(function*(T){const m=yield function ru(T){return nu=nu||function ch(T){return new Promise((m,y)=>{var M,ee,Ae;function at(){Cm(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Cm(),y(tt(T,"network-request-failed"))},timeout:Lp.get()})}if(null!==(ee=null===(M=uo().gapi)||void 0===M?void 0:M.iframes)&&void 0!==ee&&ee.Iframe)m(gapi.iframes.getContext());else{if(null===(Ae=uo().gapi)||void 0===Ae||!Ae.load){const Rt=Go("iframefcb");return uo()[Rt]=()=>{gapi.load?at():y(tt(T,"network-request-failed"))},qr(`${function ji(){return mi.gapiScript}()}?onload=${Rt}`).catch(Yt=>y(Yt))}at()}}).catch(m=>{throw nu=null,m})}(T),nu}(T),y=uo().gapi;return he(y,T,"internal-error"),m.open({where:document.body,url:su(T),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ou,dontclear:!0},M=>new Promise(function(){var ee=(0,f.Z)(function*(Ae,at){yield M.restyle({setHideOnLeave:!1});const Rt=tt(T,"network-request-failed"),Yt=uo().setTimeout(()=>{at(Rt)},Vp.get());function Hn(){uo().clearTimeout(Yt),Ae(M)}M.ping(Hn).then(Hn,()=>{at(Rt)})});return function(Ae,at){return ee.apply(this,arguments)}}()))}),Ia.apply(this,arguments)}const gf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jp{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uh="__/auth/handler",cu="emulator/auth/handler",ud=encodeURIComponent("fac");function rc(T,m,y,M,ee,Ae){return dd.apply(this,arguments)}function dd(){return(dd=(0,f.Z)(function*(T,m,y,M,ee,Ae){he(T.config.authDomain,T,"auth-domain-config-required"),he(T.config.apiKey,T,"invalid-api-key");const at={apiKey:T.config.apiKey,appName:T.name,authType:y,redirectUrl:M,v:o.SDK_VERSION,eventId:ee};if(m instanceof br){m.setDefaultLanguage(T.languageCode),at.providerId=m.providerId||"",(0,V.xb)(m.getCustomParameters())||(at.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ar,ti]of Object.entries(Ae||{}))at[ar]=ti}if(m instanceof Ce){const ar=m.getScopes().filter(ti=>""!==ti);ar.length>0&&(at.scopes=ar.join(","))}T.tenantId&&(at.tid=T.tenantId);const Rt=at;for(const ar of Object.keys(Rt))void 0===Rt[ar]&&delete Rt[ar];const Yt=yield T._getAppCheckToken(),Hn=Yt?`#${ud}=${encodeURIComponent(Yt)}`:"";return`${function hd({config:T}){return T.emulator?re(T,cu):`https://${T.authDomain}/${uh}`}(T)}?${(0,V.xO)(Rt).slice(1)}${Hn}`})).apply(this,arguments)}const fd="webStorageSupport",dh=class mf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qt,this._completeRedirectFn=ah,this._overrideRedirectResult=Al}_openPopup(m,y,M,ee){var Ae=this;return(0,f.Z)(function*(){var at;Pt(null===(at=Ae.eventManagers[m._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const Rt=yield rc(m,y,M,yn(),ee);return function Tm(T,m,y,M=500,ee=600){const Ae=Math.max((window.screen.availHeight-ee)/2,0).toString(),at=Math.max((window.screen.availWidth-M)/2,0).toString();let Rt="";const Yt=Object.assign(Object.assign({},gf),{width:M.toString(),height:ee.toString(),top:Ae,left:at}),Hn=(0,V.z$)().toLowerCase();y&&(Rt=it(Hn)?"_blank":y),rt(Hn)&&(m=m||"http://localhost",Yt.scrollbars="yes");const ar=Object.entries(Yt).reduce((ws,[oc,sc])=>`${ws}${oc}=${sc},`,"");if(function li(T=(0,V.z$)()){var m;return Ir(T)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Hn)&&"_self"!==Rt)return function Vs(T,m){const y=document.createElement("a");y.href=T,y.target=m;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(M)}(m||"",Rt),new jp(null);const ti=window.open(m||"",Rt,ar);he(ti,T,"popup-blocked");try{ti.focus()}catch{}return new jp(ti)}(m,Rt,Xa())})()}_openRedirect(m,y,M,ee){var Ae=this;return(0,f.Z)(function*(){return yield Ae._originValidation(m),function kc(T){uo().location.href=T}(yield rc(m,y,M,yn(),ee)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:ee,promise:Ae}=this.eventManagers[y];return ee?Promise.resolve(ee):(Pt(Ae,"If manager is not set, promise should be"),Ae)}const M=this.initAndGetManager(m);return this.eventManagers[y]={promise:M},M.catch(()=>{delete this.eventManagers[y]}),M}initAndGetManager(m){var y=this;return(0,f.Z)(function*(){const M=yield function cs(T){return Ia.apply(this,arguments)}(m),ee=new oa(m);return M.register("authEvent",Ae=>(he(Ae?.authEvent,m,"invalid-auth-event"),{status:ee.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:ee},y.iframes[m._key()]=M,ee})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(fd,{type:fd},ee=>{var Ae;const at=null===(Ae=ee?.[0])||void 0===Ae?void 0:Ae[fd];void 0!==at&&y(!!at),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Fp(T){return pf.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Wi()||Qe()||Ir()}};class Hp{constructor(m){this.factorId=m}_process(m,y,M){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,M);case"signin":return this._finalizeSignIn(m,y.credential);default:return yt("unexpected MultiFactorSessionType")}}}class ic extends Hp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new ic(m)}_finalizeEnroll(m,y,M){return function lf(T,m){return Et(T,"POST","/v2/accounts/mfaEnrollment:finalize",ut(T,m))}(m,{idToken:y,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function $o(T,m){return Et(T,"POST","/v2/accounts/mfaSignIn:finalize",ut(T,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pd=(()=>{class T{constructor(){}static assertion(y){return ic._fromCredential(y)}}return T.FACTOR_ID="phone",T})();var Cl="@firebase/auth";class wl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(M=>{m(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Ki(T){mi=T}({loadJS:T=>new Promise((m,y)=>{const M=document.createElement("script");M.setAttribute("src",T),M.onload=m,M.onerror=ee=>{const Ae=tt("internal-error");Ae.customData=ee,y(Ae)},M.type="text/javascript",M.charset="UTF-8",function vf(){var T,m;return null!==(m=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==m?m:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function md(T){(0,o._registerComponent)(new be.wA("auth",(m,{options:y})=>{const M=m.getProvider("app").getImmediate(),ee=m.getProvider("heartbeat"),Ae=m.getProvider("app-check-internal"),{apiKey:at,authDomain:Rt}=M.options;he(at&&!at.includes(":"),"invalid-api-key",{appName:M.name});const Yt={apiKey:at,authDomain:Rt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ki(T)},Hn=new Ci(M,ee,Ae,Yt);return function os(T,m){const y=m?.persistence||[],M=(Array.isArray(y)?y:[y]).map(kt);m?.errorMap&&T._updateErrorMap(m.errorMap),T._initializeWithPersistence(M,m?.popupRedirectResolver)}(Hn,y),Hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,M)=>{m.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new be.wA("auth-internal",m=>{const y=gr(m.getProvider("auth").getImmediate());return new wl(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(Cl,"1.7.4",function Dl(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,o.registerVersion)(Cl,"1.7.4","esm2017")}("Browser")},5588:(an,lt,k)=>{"use strict";k.d(lt,{u7:()=>o_,Jj:()=>ja,IX:()=>kl,my:()=>Oo,xU:()=>Nd,Lz:()=>ba,WA:()=>re,F8:()=>Ca,$q:()=>kd,W:()=>Pu,EK:()=>Gn,PU:()=>Ou,l7:()=>qn,Ky:()=>Zt,Xb:()=>nr,Cf:()=>Hr,K9:()=>dt,Me:()=>qo,yq:()=>Pt,Wi:()=>Qm,ET:()=>Hg,Ab:()=>cl,vr:()=>_s,Fc:()=>qf,hJ:()=>Ym,B$:()=>Hf,at:()=>jf,oe:()=>_c,AK:()=>Wg,TF:()=>Dg,JU:()=>Nl,ST:()=>Gf,fH:()=>el,Ix:()=>Ry,Wu:()=>kg,Lx:()=>Yf,qY:()=>Ui,GL:()=>Ao,QT:()=>Ug,kl:()=>Xf,Xk:()=>xu,PL:()=>Bg,UQ:()=>Dv,zN:()=>ky,ad:()=>Zf,nP:()=>h_,b9:()=>wv,vh:()=>Uh,Pb:()=>Ev,L$:()=>Xm,cf:()=>Mv,sc:()=>Fy,Xo:()=>Og,IO:()=>bv,iE:()=>Ph,Eo:()=>zf,i3:()=>qg,Bt:()=>rp,pl:()=>Sv,Ub:()=>Ye,qK:()=>Ha,TQ:()=>Bh,e0:()=>Od,r7:()=>jg,Mx:()=>Jm,ar:()=>Rd});var ae,ge,f=k(5861),o=k(4303),V=k(4537),Se=k(7879),ve=k(9058),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(vt,Je,ct){ct||(ct=0);var At=Array(16);if("string"==typeof Je)for(var Ct=0;16>Ct;++Ct)At[Ct]=Je.charCodeAt(ct++)|Je.charCodeAt(ct++)<<8|Je.charCodeAt(ct++)<<16|Je.charCodeAt(ct++)<<24;else for(Ct=0;16>Ct;++Ct)At[Ct]=Je[ct++]|Je[ct++]<<8|Je[ct++]<<16|Je[ct++]<<24;var Ot=vt.g[3],ot=(Je=vt.g[0])+(Ot^(ct=vt.g[1])&((Ct=vt.g[2])^Ot))+At[0]+3614090360&4294967295;ot=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=(ct=(Ct=(Ot=(Je=ct+(ot<<7&4294967295|ot>>>25))+((ot=Ot+(Ct^Je&(ct^Ct))+At[1]+3905402710&4294967295)<<12&4294967295|ot>>>20))+((ot=Ct+(ct^Ot&(Je^ct))+At[2]+606105819&4294967295)<<17&4294967295|ot>>>15))+((ot=ct+(Je^Ct&(Ot^Je))+At[3]+3250441966&4294967295)<<22&4294967295|ot>>>10))+((ot=Je+(Ot^ct&(Ct^Ot))+At[4]+4118548399&4294967295)<<7&4294967295|ot>>>25))+((ot=Ot+(Ct^Je&(ct^Ct))+At[5]+1200080426&4294967295)<<12&4294967295|ot>>>20))+((ot=Ct+(ct^Ot&(Je^ct))+At[6]+2821735955&4294967295)<<17&4294967295|ot>>>15))+((ot=ct+(Je^Ct&(Ot^Je))+At[7]+4249261313&4294967295)<<22&4294967295|ot>>>10))+((ot=Je+(Ot^ct&(Ct^Ot))+At[8]+1770035416&4294967295)<<7&4294967295|ot>>>25))+((ot=Ot+(Ct^Je&(ct^Ct))+At[9]+2336552879&4294967295)<<12&4294967295|ot>>>20))+((ot=Ct+(ct^Ot&(Je^ct))+At[10]+4294925233&4294967295)<<17&4294967295|ot>>>15))+((ot=ct+(Je^Ct&(Ot^Je))+At[11]+2304563134&4294967295)<<22&4294967295|ot>>>10))+((ot=Je+(Ot^ct&(Ct^Ot))+At[12]+1804603682&4294967295)<<7&4294967295|ot>>>25))+((ot=Ot+(Ct^Je&(ct^Ct))+At[13]+4254626195&4294967295)<<12&4294967295|ot>>>20))+((ot=Ct+(ct^Ot&(Je^ct))+At[14]+2792965006&4294967295)<<17&4294967295|ot>>>15))+((ot=ct+(Je^Ct&(Ot^Je))+At[15]+1236535329&4294967295)<<22&4294967295|ot>>>10))+((ot=Je+(Ct^Ot&(ct^Ct))+At[1]+4129170786&4294967295)<<5&4294967295|ot>>>27))+((ot=Ot+(ct^Ct&(Je^ct))+At[6]+3225465664&4294967295)<<9&4294967295|ot>>>23))+((ot=Ct+(Je^ct&(Ot^Je))+At[11]+643717713&4294967295)<<14&4294967295|ot>>>18))+((ot=ct+(Ot^Je&(Ct^Ot))+At[0]+3921069994&4294967295)<<20&4294967295|ot>>>12))+((ot=Je+(Ct^Ot&(ct^Ct))+At[5]+3593408605&4294967295)<<5&4294967295|ot>>>27))+((ot=Ot+(ct^Ct&(Je^ct))+At[10]+38016083&4294967295)<<9&4294967295|ot>>>23))+((ot=Ct+(Je^ct&(Ot^Je))+At[15]+3634488961&4294967295)<<14&4294967295|ot>>>18))+((ot=ct+(Ot^Je&(Ct^Ot))+At[4]+3889429448&4294967295)<<20&4294967295|ot>>>12))+((ot=Je+(Ct^Ot&(ct^Ct))+At[9]+568446438&4294967295)<<5&4294967295|ot>>>27))+((ot=Ot+(ct^Ct&(Je^ct))+At[14]+3275163606&4294967295)<<9&4294967295|ot>>>23))+((ot=Ct+(Je^ct&(Ot^Je))+At[3]+4107603335&4294967295)<<14&4294967295|ot>>>18))+((ot=ct+(Ot^Je&(Ct^Ot))+At[8]+1163531501&4294967295)<<20&4294967295|ot>>>12))+((ot=Je+(Ct^Ot&(ct^Ct))+At[13]+2850285829&4294967295)<<5&4294967295|ot>>>27))+((ot=Ot+(ct^Ct&(Je^ct))+At[2]+4243563512&4294967295)<<9&4294967295|ot>>>23))+((ot=Ct+(Je^ct&(Ot^Je))+At[7]+1735328473&4294967295)<<14&4294967295|ot>>>18))+((ot=ct+(Ot^Je&(Ct^Ot))+At[12]+2368359562&4294967295)<<20&4294967295|ot>>>12))+((ot=Je+(ct^Ct^Ot)+At[5]+4294588738&4294967295)<<4&4294967295|ot>>>28))+((ot=Ot+(Je^ct^Ct)+At[8]+2272392833&4294967295)<<11&4294967295|ot>>>21))+((ot=Ct+(Ot^Je^ct)+At[11]+1839030562&4294967295)<<16&4294967295|ot>>>16))+((ot=ct+(Ct^Ot^Je)+At[14]+4259657740&4294967295)<<23&4294967295|ot>>>9))+((ot=Je+(ct^Ct^Ot)+At[1]+2763975236&4294967295)<<4&4294967295|ot>>>28))+((ot=Ot+(Je^ct^Ct)+At[4]+1272893353&4294967295)<<11&4294967295|ot>>>21))+((ot=Ct+(Ot^Je^ct)+At[7]+4139469664&4294967295)<<16&4294967295|ot>>>16))+((ot=ct+(Ct^Ot^Je)+At[10]+3200236656&4294967295)<<23&4294967295|ot>>>9))+((ot=Je+(ct^Ct^Ot)+At[13]+681279174&4294967295)<<4&4294967295|ot>>>28))+((ot=Ot+(Je^ct^Ct)+At[0]+3936430074&4294967295)<<11&4294967295|ot>>>21))+((ot=Ct+(Ot^Je^ct)+At[3]+3572445317&4294967295)<<16&4294967295|ot>>>16))+((ot=ct+(Ct^Ot^Je)+At[6]+76029189&4294967295)<<23&4294967295|ot>>>9))+((ot=Je+(ct^Ct^Ot)+At[9]+3654602809&4294967295)<<4&4294967295|ot>>>28))+((ot=Ot+(Je^ct^Ct)+At[12]+3873151461&4294967295)<<11&4294967295|ot>>>21))+((ot=Ct+(Ot^Je^ct)+At[15]+530742520&4294967295)<<16&4294967295|ot>>>16))+((ot=ct+(Ct^Ot^Je)+At[2]+3299628645&4294967295)<<23&4294967295|ot>>>9))+((ot=Je+(Ct^(ct|~Ot))+At[0]+4096336452&4294967295)<<6&4294967295|ot>>>26))+((ot=Ot+(ct^(Je|~Ct))+At[7]+1126891415&4294967295)<<10&4294967295|ot>>>22))+((ot=Ct+(Je^(Ot|~ct))+At[14]+2878612391&4294967295)<<15&4294967295|ot>>>17))+((ot=ct+(Ot^(Ct|~Je))+At[5]+4237533241&4294967295)<<21&4294967295|ot>>>11))+((ot=Je+(Ct^(ct|~Ot))+At[12]+1700485571&4294967295)<<6&4294967295|ot>>>26))+((ot=Ot+(ct^(Je|~Ct))+At[3]+2399980690&4294967295)<<10&4294967295|ot>>>22))+((ot=Ct+(Je^(Ot|~ct))+At[10]+4293915773&4294967295)<<15&4294967295|ot>>>17))+((ot=ct+(Ot^(Ct|~Je))+At[1]+2240044497&4294967295)<<21&4294967295|ot>>>11))+((ot=Je+(Ct^(ct|~Ot))+At[8]+1873313359&4294967295)<<6&4294967295|ot>>>26))+((ot=Ot+(ct^(Je|~Ct))+At[15]+4264355552&4294967295)<<10&4294967295|ot>>>22))+((ot=Ct+(Je^(Ot|~ct))+At[6]+2734768916&4294967295)<<15&4294967295|ot>>>17))+((ot=ct+(Ot^(Ct|~Je))+At[13]+1309151649&4294967295)<<21&4294967295|ot>>>11))+((Ot=(Je=ct+((ot=Je+(Ct^(ct|~Ot))+At[4]+4149444226&4294967295)<<6&4294967295|ot>>>26))+((ot=Ot+(ct^(Je|~Ct))+At[11]+3174756917&4294967295)<<10&4294967295|ot>>>22))^((Ct=Ot+((ot=Ct+(Je^(Ot|~ct))+At[2]+718787259&4294967295)<<15&4294967295|ot>>>17))|~Je))+At[9]+3951481745&4294967295,vt.g[0]=vt.g[0]+Je&4294967295,vt.g[1]=vt.g[1]+(Ct+(ot<<21&4294967295|ot>>>11))&4294967295,vt.g[2]=vt.g[2]+Ct&4294967295,vt.g[3]=vt.g[3]+Ot&4294967295}function I(vt,Je){this.h=Je;for(var ct=[],At=!0,Ct=vt.length-1;0<=Ct;Ct--){var Ot=0|vt[Ct];At&&Ot==Je||(ct[Ct]=Ot,At=!1)}this.g=ct}(function e(vt,Je){function ct(){}ct.prototype=Je.prototype,vt.D=Je.prototype,vt.prototype=new ct,vt.prototype.constructor=vt,vt.C=function(At,Ct,Ot){for(var ot=Array(arguments.length-2),Hl=2;Hl<arguments.length;Hl++)ot[Hl-2]=arguments[Hl];return Je.prototype[Ct].apply(At,ot)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(vt,Je){void 0===Je&&(Je=vt.length);for(var ct=Je-this.blockSize,At=this.B,Ct=this.h,Ot=0;Ot<Je;){if(0==Ct)for(;Ot<=ct;)u(this,vt,Ot),Ot+=this.blockSize;if("string"==typeof vt){for(;Ot<Je;)if(At[Ct++]=vt.charCodeAt(Ot++),Ct==this.blockSize){u(this,At),Ct=0;break}}else for(;Ot<Je;)if(At[Ct++]=vt[Ot++],Ct==this.blockSize){u(this,At),Ct=0;break}}this.h=Ct,this.o+=Je},s.prototype.v=function(){var vt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);vt[0]=128;for(var Je=1;Je<vt.length-8;++Je)vt[Je]=0;var ct=8*this.o;for(Je=vt.length-8;Je<vt.length;++Je)vt[Je]=255&ct,ct/=256;for(this.u(vt),vt=Array(16),Je=ct=0;4>Je;++Je)for(var At=0;32>At;At+=8)vt[ct++]=this.g[Je]>>>At&255;return vt};var P={};function U(vt){return-128<=vt&&128>vt?function _(vt,Je){var ct=P;return Object.prototype.hasOwnProperty.call(ct,vt)?ct[vt]:ct[vt]=Je(vt)}(vt,function(Je){return new I([0|Je],0>Je?-1:0)}):new I([0|vt],0>vt?-1:0)}function X(vt){if(isNaN(vt)||!isFinite(vt))return Oe;if(0>vt)return tn(X(-vt));for(var Je=[],ct=1,At=0;vt>=ct;At++)Je[At]=vt/ct|0,ct*=4294967296;return new I(Je,0)}var Oe=U(0),nt=U(1),St=U(16777216);function Wt(vt){if(0!=vt.h)return!1;for(var Je=0;Je<vt.g.length;Je++)if(0!=vt.g[Je])return!1;return!0}function _n(vt){return-1==vt.h}function tn(vt){for(var Je=vt.g.length,ct=[],At=0;At<Je;At++)ct[At]=~vt.g[At];return new I(ct,~vt.h).add(nt)}function Wn(vt,Je){return vt.add(tn(Je))}function cr(vt,Je){for(;(65535&vt[Je])!=vt[Je];)vt[Je+1]+=vt[Je]>>>16,vt[Je]&=65535,Je++}function tr(vt,Je){this.g=vt,this.h=Je}function Ur(vt,Je){if(Wt(Je))throw Error("division by zero");if(Wt(vt))return new tr(Oe,Oe);if(_n(vt))return Je=Ur(tn(vt),Je),new tr(tn(Je.g),tn(Je.h));if(_n(Je))return Je=Ur(vt,tn(Je)),new tr(tn(Je.g),Je.h);if(30<vt.g.length){if(_n(vt)||_n(Je))throw Error("slowDivide_ only works with positive integers.");for(var ct=nt,At=Je;0>=At.l(vt);)ct=Ni(ct),At=Ni(At);var Ct=ii(ct,1),Ot=ii(At,1);for(At=ii(At,2),ct=ii(ct,2);!Wt(At);){var ot=Ot.add(At);0>=ot.l(vt)&&(Ct=Ct.add(ct),Ot=ot),At=ii(At,1),ct=ii(ct,1)}return Je=Wn(vt,Ct.j(Je)),new tr(Ct,Je)}for(Ct=Oe;0<=vt.l(Je);){for(ct=Math.max(1,Math.floor(vt.m()/Je.m())),At=48>=(At=Math.ceil(Math.log(ct)/Math.LN2))?1:Math.pow(2,At-48),ot=(Ot=X(ct)).j(Je);_n(ot)||0<ot.l(vt);)ot=(Ot=X(ct-=At)).j(Je);Wt(Ot)&&(Ot=nt),Ct=Ct.add(Ot),vt=Wn(vt,ot)}return new tr(Ct,vt)}function Ni(vt){for(var Je=vt.g.length+1,ct=[],At=0;At<Je;At++)ct[At]=vt.i(At)<<1|vt.i(At-1)>>>31;return new I(ct,vt.h)}function ii(vt,Je){var ct=Je>>5;Je%=32;for(var At=vt.g.length-ct,Ct=[],Ot=0;Ot<At;Ot++)Ct[Ot]=0<Je?vt.i(Ot+ct)>>>Je|vt.i(Ot+ct+1)<<32-Je:vt.i(Ot+ct);return new I(Ct,vt.h)}(l=I.prototype).m=function(){if(_n(this))return-tn(this).m();for(var vt=0,Je=1,ct=0;ct<this.g.length;ct++){var At=this.i(ct);vt+=(0<=At?At:4294967296+At)*Je,Je*=4294967296}return vt},l.toString=function(vt){if(2>(vt=vt||10)||36<vt)throw Error("radix out of range: "+vt);if(Wt(this))return"0";if(_n(this))return"-"+tn(this).toString(vt);for(var Je=X(Math.pow(vt,6)),ct=this,At="";;){var Ct=Ur(ct,Je).g,Ot=((0<(ct=Wn(ct,Ct.j(Je))).g.length?ct.g[0]:ct.h)>>>0).toString(vt);if(Wt(ct=Ct))return Ot+At;for(;6>Ot.length;)Ot="0"+Ot;At=Ot+At}},l.i=function(vt){return 0>vt?0:vt<this.g.length?this.g[vt]:this.h},l.l=function(vt){return _n(vt=Wn(this,vt))?-1:Wt(vt)?0:1},l.abs=function(){return _n(this)?tn(this):this},l.add=function(vt){for(var Je=Math.max(this.g.length,vt.g.length),ct=[],At=0,Ct=0;Ct<=Je;Ct++){var Ot=At+(65535&this.i(Ct))+(65535&vt.i(Ct)),ot=(Ot>>>16)+(this.i(Ct)>>>16)+(vt.i(Ct)>>>16);At=ot>>>16,ct[Ct]=(ot&=65535)<<16|(Ot&=65535)}return new I(ct,-2147483648&ct[ct.length-1]?-1:0)},l.j=function(vt){if(Wt(this)||Wt(vt))return Oe;if(_n(this))return _n(vt)?tn(this).j(tn(vt)):tn(tn(this).j(vt));if(_n(vt))return tn(this.j(tn(vt)));if(0>this.l(St)&&0>vt.l(St))return X(this.m()*vt.m());for(var Je=this.g.length+vt.g.length,ct=[],At=0;At<2*Je;At++)ct[At]=0;for(At=0;At<this.g.length;At++)for(var Ct=0;Ct<vt.g.length;Ct++){var Ot=this.i(At)>>>16,ot=65535&this.i(At),Hl=vt.i(Ct)>>>16,ip=65535&vt.i(Ct);ct[2*At+2*Ct]+=ot*ip,cr(ct,2*At+2*Ct),ct[2*At+2*Ct+1]+=Ot*ip,cr(ct,2*At+2*Ct+1),ct[2*At+2*Ct+1]+=ot*Hl,cr(ct,2*At+2*Ct+1),ct[2*At+2*Ct+2]+=Ot*Hl,cr(ct,2*At+2*Ct+2)}for(At=0;At<Je;At++)ct[At]=ct[2*At+1]<<16|ct[2*At];for(At=Je;At<2*Je;At++)ct[At]=0;return new I(ct,0)},l.A=function(vt){return Ur(this,vt).h},l.and=function(vt){for(var Je=Math.max(this.g.length,vt.g.length),ct=[],At=0;At<Je;At++)ct[At]=this.i(At)&vt.i(At);return new I(ct,this.h&vt.h)},l.or=function(vt){for(var Je=Math.max(this.g.length,vt.g.length),ct=[],At=0;At<Je;At++)ct[At]=this.i(At)|vt.i(At);return new I(ct,this.h|vt.h)},l.xor=function(vt){for(var Je=Math.max(this.g.length,vt.g.length),ct=[],At=0;At<Je;At++)ct[At]=this.i(At)^vt.i(At);return new I(ct,this.h^vt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ge=ue.Md5=s,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=X,I.fromString=function me(vt,Je){if(0==vt.length)throw Error("number format error: empty string");if(2>(Je=Je||10)||36<Je)throw Error("radix out of range: "+Je);if("-"==vt.charAt(0))return tn(me(vt.substring(1),Je));if(0<=vt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ct=X(Math.pow(Je,8)),At=Oe,Ct=0;Ct<vt.length;Ct+=8){var Ot=Math.min(8,vt.length-Ct),ot=parseInt(vt.substring(Ct,Ct+Ot),Je);8>Ot?(Ot=X(Math.pow(Je,Ot)),At=At.j(Ot).add(X(ot))):At=(At=At.j(ct)).add(X(ot))}return At},ae=ue.Integer=I}).apply(typeof be<"u"?be:typeof self<"u"?self:typeof window<"u"?window:{});var le,_e,pe,Me,Ne,$e,Te,_t,It,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,te){return E==Array.prototype||E==Object.prototype||(E[B]=te.value),E},s=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var B=0;B<E.length;++B){var te=E[B];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}(this);!function u(E,B){if(B)e:{var te=s;E=E.split(".");for(var Pe=0;Pe<E.length-1;Pe++){var wt=E[Pe];if(!(wt in te))break e;te=te[wt]}(B=B(Pe=te[E=E[E.length-1]]))!=Pe&&null!=B&&e(te,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function _(E,B){E instanceof String&&(E+="");var te=0,Pe=!1,wt={next:function(){if(!Pe&&te<E.length){var Lt=te++;return{value:B(Lt,E[Lt]),done:!1}}return Pe=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(B,te){return te})}});var I=I||{},P=this||self;function U(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function X(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function me(E,B,te){return E.call.apply(E.bind,arguments)}function Oe(E,B,te){if(!E)throw Error();if(2<arguments.length){var Pe=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,Pe),E.apply(B,wt)}}return function(){return E.apply(B,arguments)}}function nt(E,B,te){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:Oe).apply(null,arguments)}function St(E,B){var te=Array.prototype.slice.call(arguments,1);return function(){var Pe=te.slice();return Pe.push.apply(Pe,arguments),E.apply(this,Pe)}}function Wt(E,B){function te(){}te.prototype=B.prototype,E.aa=B.prototype,E.prototype=new te,E.prototype.constructor=E,E.Qb=function(Pe,wt,Lt){for(var xn=Array(arguments.length-2),eo=2;eo<arguments.length;eo++)xn[eo-2]=arguments[eo];return B.prototype[wt].apply(Pe,xn)}}function _n(E){const B=E.length;if(0<B){const te=Array(B);for(let Pe=0;Pe<B;Pe++)te[Pe]=E[Pe];return te}return[]}function tn(E,B){for(let te=1;te<arguments.length;te++){const Pe=arguments[te];if(U(Pe)){const wt=E.length||0,Lt=Pe.length||0;E.length=wt+Lt;for(let xn=0;xn<Lt;xn++)E[wt+xn]=Pe[xn]}else E.push(Pe)}}function cr(E){return/^[\s\xa0]*$/.test(E)}function tr(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Ur(E){return Ur[" "](E),E}Ur[" "]=function(){};var Ni=!(-1==tr().indexOf("Gecko")||-1!=tr().toLowerCase().indexOf("webkit")&&-1==tr().indexOf("Edge")||-1!=tr().indexOf("Trident")||-1!=tr().indexOf("MSIE")||-1!=tr().indexOf("Edge"));function ii(E,B,te){for(const Pe in E)B.call(te,E[Pe],Pe,E)}function Je(E){const B={};for(const te in E)B[te]=E[te];return B}const ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(E,B){let te,Pe;for(let wt=1;wt<arguments.length;wt++){for(te in Pe=arguments[wt],Pe)E[te]=Pe[te];for(let Lt=0;Lt<ct.length;Lt++)te=ct[Lt],Object.prototype.hasOwnProperty.call(Pe,te)&&(E[te]=Pe[te])}}function Ct(E){var B=1;E=E.split(":");const te=[];for(;0<B&&E.length;)te.push(E.shift()),B--;return E.length&&te.push(E.join(":")),te}function Ot(E){P.setTimeout(()=>{throw E},0)}function ot(){var E=Bv;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var ip=new class Wn{constructor(B,te){this.i=B,this.j=te,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new aa,E=>E.reset());class aa{constructor(){this.next=this.g=this.h=null}set(B,te){this.h=B,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let op,sp=!1,Bv=new class Hl{constructor(){this.h=this.g=null}add(B,te){const Pe=ip.get();Pe.set(B,te),this.h?this.h.next=Pe:this.g=Pe,this.h=Pe}},Qg=()=>{const E=P.Promise.resolve(void 0);op=()=>{E.then(jv)}};var jv=()=>{for(var E;E=ot();){try{E.h.call(E.g)}catch(te){Ot(te)}var B=ip;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}sp=!1};function Nu(){this.s=this.s,this.C=this.C}function Ds(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}Nu.prototype.s=!1,Nu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ds.prototype.h=function(){this.defaultPrevented=!0};var Vy=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const te=()=>{};P.addEventListener("test",te,B),P.removeEventListener("test",te,B)}catch{}return E}();function zh(E,B){if(Ds.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var te=this.type=E.type,Pe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Ni){e:{try{Ur(B.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(B=null)}}else"mouseover"==te?B=E.fromElement:"mouseout"==te&&(B=E.toElement);this.relatedTarget=B,Pe?(this.clientX=void 0!==Pe.clientX?Pe.clientX:Pe.pageX,this.clientY=void 0!==Pe.clientY?Pe.clientY:Pe.pageY,this.screenX=Pe.screenX||0,this.screenY=Pe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Uy[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&zh.aa.h.call(this)}}Wt(zh,Ds);var Uy={2:"touch",3:"pen",4:"mouse"};zh.prototype.h=function(){zh.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ap="closure_listenable_"+(1e6*Math.random()|0),__=0;function By(E,B,te,Pe,wt){this.listener=E,this.proxy=null,this.src=B,this.type=te,this.capture=!!Pe,this.ha=wt,this.key=++__,this.da=this.fa=!1}function Yg(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Jg(E){this.src=E,this.g={},this.h=0}function v_(E,B){var te=B.type;if(te in E.g){var Lt,Pe=E.g[te],wt=Array.prototype.indexOf.call(Pe,B,void 0);(Lt=0<=wt)&&Array.prototype.splice.call(Pe,wt,1),Lt&&(Yg(B),0==E.g[te].length&&(delete E.g[te],E.h--))}}function y_(E,B,te,Pe){for(var wt=0;wt<E.length;++wt){var Lt=E[wt];if(!Lt.da&&Lt.listener==B&&Lt.capture==!!te&&Lt.ha==Pe)return wt}return-1}Jg.prototype.add=function(E,B,te,Pe,wt){var Lt=E.toString();(E=this.g[Lt])||(E=this.g[Lt]=[],this.h++);var xn=y_(E,B,Pe,wt);return-1<xn?(B=E[xn],te||(B.fa=!1)):((B=new By(B,this.src,Lt,!!Pe,wt)).fa=te,E.push(B)),B};var Za="closure_lm_"+(1e6*Math.random()|0),cp={};function Hv(E,B,te,Pe,wt){if(Pe&&Pe.once)return I_(E,B,te,Pe,wt);if(Array.isArray(B)){for(var Lt=0;Lt<B.length;Lt++)Hv(E,B[Lt],te,Pe,wt);return null}return te=nm(te),E&&E[ap]?E.K(B,te,X(Pe)?!!Pe.capture:!!Pe,wt):E_(E,B,te,!1,Pe,wt)}function E_(E,B,te,Pe,wt,Lt){if(!B)throw Error("Invalid event type");var xn=X(wt)?!!wt.capture:!!wt,eo=em(E);if(eo||(E[Za]=eo=new Jg(E)),(te=eo.add(B,te,Pe,xn,Lt)).proxy)return te;if(Pe=function jy(){const B=_0;return function E(te){return B.call(E.src,E.listener,te)}}(),te.proxy=Pe,Pe.src=E,Pe.listener=te,E.addEventListener)Vy||(wt=xn),void 0===wt&&(wt=!1),E.addEventListener(B.toString(),Pe,wt);else if(E.attachEvent)E.attachEvent(Xg(B.toString()),Pe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(Pe)}return te}function I_(E,B,te,Pe,wt){if(Array.isArray(B)){for(var Lt=0;Lt<B.length;Lt++)I_(E,B[Lt],te,Pe,wt);return null}return te=nm(te),E&&E[ap]?E.L(B,te,X(Pe)?!!Pe.capture:!!Pe,wt):E_(E,B,te,!0,Pe,wt)}function A_(E,B,te,Pe,wt){if(Array.isArray(B))for(var Lt=0;Lt<B.length;Lt++)A_(E,B[Lt],te,Pe,wt);else Pe=X(Pe)?!!Pe.capture:!!Pe,te=nm(te),E&&E[ap]?(E=E.i,(B=String(B).toString())in E.g&&-1<(te=y_(Lt=E.g[B],te,Pe,wt))&&(Yg(Lt[te]),Array.prototype.splice.call(Lt,te,1),0==Lt.length&&(delete E.g[B],E.h--))):E&&(E=em(E))&&(B=E.g[B.toString()],E=-1,B&&(E=y_(B,te,Pe,wt)),(te=-1<E?B[E]:null)&&$h(te))}function $h(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[ap])v_(B.i,E);else{var te=E.type,Pe=E.proxy;B.removeEventListener?B.removeEventListener(te,Pe,E.capture):B.detachEvent?B.detachEvent(Xg(te),Pe):B.addListener&&B.removeListener&&B.removeListener(Pe),(te=em(B))?(v_(te,E),0==te.h&&(te.src=null,B[Za]=null)):Yg(E)}}}function Xg(E){return E in cp?cp[E]:cp[E]="on"+E}function _0(E,B){if(E.da)E=!0;else{B=new zh(B,this);var te=E.listener,Pe=E.ha||E.src;E.fa&&$h(E),E=te.call(Pe,B)}return E}function em(E){return(E=E[Za])instanceof Jg?E:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function nm(E){return"function"==typeof E?E:(E[tm]||(E[tm]=function(B){return E.handleEvent(B)}),E[tm])}function vs(){Nu.call(this),this.i=new Jg(this),this.M=this,this.F=null}function ys(E,B){var te,Pe=E.F;if(Pe)for(te=[];Pe;Pe=Pe.F)te.push(Pe);if(E=E.M,Pe=B.type||B,"string"==typeof B)B=new Ds(B,E);else if(B instanceof Ds)B.target=B.target||E;else{var wt=B;At(B=new Ds(Pe,E),wt)}if(wt=!0,te)for(var Lt=te.length-1;0<=Lt;Lt--){var xn=B.g=te[Lt];wt=Ga(xn,Pe,!0,B)&&wt}if(wt=Ga(xn=B.g=E,Pe,!0,B)&&wt,wt=Ga(xn,Pe,!1,B)&&wt,te)for(Lt=0;Lt<te.length;Lt++)wt=Ga(xn=B.g=te[Lt],Pe,!1,B)&&wt}function Ga(E,B,te,Pe){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var wt=!0,Lt=0;Lt<B.length;++Lt){var xn=B[Lt];if(xn&&!xn.da&&xn.capture==te){var eo=xn.listener,is=xn.ha||xn.src;xn.fa&&v_(E.i,xn),wt=!1!==eo.call(is,Pe)&&wt}}return wt&&!Pe.defaultPrevented}function zv(E,B,te){if("function"==typeof E)te&&(E=nt(E,te));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=nt(E.handleEvent,E)}return 2147483647<Number(B)?-1:P.setTimeout(E,B||0)}function $v(E){E.g=zv(()=>{E.g=null,E.i&&(E.i=!1,$v(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Wt(vs,Nu),vs.prototype[ap]=!0,vs.prototype.removeEventListener=function(E,B,te,Pe){A_(this,E,B,te,Pe)},vs.prototype.N=function(){if(vs.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var te=E.g[B],Pe=0;Pe<te.length;Pe++)Yg(te[Pe]);delete E.g[B],E.h--}}this.F=null},vs.prototype.K=function(E,B,te,Pe){return this.i.add(String(E),B,!1,te,Pe)},vs.prototype.L=function(E,B,te,Pe){return this.i.add(String(E),B,!0,te,Pe)};class b_ extends Nu{constructor(B,te){super(),this.m=B,this.l=te,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:$v(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lp(E){Nu.call(this),this.h=E,this.g={}}Wt(lp,Nu);var C_=[];function Zv(E){ii(E.g,function(B,te){this.g.hasOwnProperty(te)&&$h(B)},E),E.g={}}lp.prototype.N=function(){lp.aa.N.call(this),Zv(this)},lp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zh=P.JSON.stringify,up=P.JSON.parse,Gv=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Gh(){}function qv(){}Gh.prototype.h=null;var qh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rm(){Ds.call(this,"d")}function T_(){Ds.call(this,"c")}Wt(rm,Ds),Wt(T_,Ds);var Vd={},w_=null;function dp(){return w_=w_||new vs}function Wh(E){Ds.call(this,Vd.La,E)}function hp(E){const B=dp();ys(B,new Wh(B))}function D_(E,B){Ds.call(this,Vd.STAT_EVENT,E),this.stat=B}function Ss(E){const B=dp();ys(B,new D_(B,E))}function Wv(E,B){Ds.call(this,Vd.Ma,E),this.size=B}function fp(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},B)}function ll(){this.g=!0}function Ud(E,B,te,Pe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function om(E,B){if(!E.g)return B;if(!B)return null;try{var te=JSON.parse(B);if(te)for(E=0;E<te.length;E++)if(Array.isArray(te[E])){var Pe=te[E];if(!(2>Pe.length)){var wt=Pe[1];if(Array.isArray(wt)&&!(1>wt.length)){var Lt=wt[0];if("noop"!=Lt&&"stop"!=Lt&&"close"!=Lt)for(var xn=1;xn<wt.length;xn++)wt[xn]=""}}}return Zh(te)}catch{return B}}(E,te)+(Pe?" "+Pe:"")})}Vd.La="serverreachability",Wt(Wh,Ds),Vd.STAT_EVENT="statevent",Wt(D_,Ds),Vd.Ma="timingevent",Wt(Wv,Ds),ll.prototype.xa=function(){this.g=!1},ll.prototype.info=function(){};var sm,pp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},M_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Kh(){}function vc(E,B,te,Pe){this.j=E,this.i=B,this.l=te,this.R=Pe||1,this.U=new lp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P_}function P_(){this.i=null,this.g="",this.h=!1}Wt(Kh,Gh),Kh.prototype.g=function(){return new XMLHttpRequest},Kh.prototype.i=function(){return{}},sm=new Kh;var gp={},x_={};function R_(E,B,te){E.L=1,E.v=Zl(yc(B)),E.m=te,E.P=!0,Kv(E,null)}function Kv(E,B){E.F=Date.now(),am(E),E.A=yc(E.v);var te=E.A,Pe=E.R;Array.isArray(Pe)||(Pe=[String(Pe)]),dm(te.i,"t",Pe),E.C=0,te=E.j.J,E.h=new P_,E.g=$_(E.j,te?B:null,!E.m),0<E.O&&(E.M=new b_(nt(E.Y,E,E.g),E.O)),B=E.U,te=E.g,Pe=E.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(C_[0]=wt.toString()),wt=C_);for(var Lt=0;Lt<wt.length;Lt++){var xn=Hv(te,wt[Lt],Pe||B.handleEvent,!1,B.h||B);if(!xn)break;B.g[xn.key]=xn}B=E.H?Je(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),hp(),function im(E,B,te,Pe,wt,Lt){E.info(function(){if(E.g)if(Lt)for(var xn="",eo=Lt.split("&"),is=0;is<eo.length;is++){var Si=eo[is].split("=");if(1<Si.length){var ds=Si[0];Si=Si[1];var Is=ds.split("_");xn=2<=Is.length&&"type"==Is[1]?xn+(ds+"=")+Si+"&":xn+(ds+"=redacted&")}}else xn=null;else xn=Lt;return"XMLHTTP REQ ("+Pe+") [attempt "+wt+"]: "+B+"\n"+te+"\n"+xn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Qv(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function $y(E,B){var te=E.C,Pe=B.indexOf("\n",te);return-1==Pe?x_:(te=Number(B.substring(te,Pe)),isNaN(te)?gp:(Pe+=1)+te>B.length?x_:(B=B.slice(Pe,Pe+te),E.C=Pe+te,B))}function am(E){E.S=Date.now()+E.I,Yv(E,E.I)}function Yv(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=fp(nt(E.ba,E),B)}function cm(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function Qh(E){0==E.j.G||E.J||hy(E.j,E)}function Bd(E){cm(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,Zv(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function Jv(E,B){try{var te=E.j;if(0!=te.G&&(te.g==E||N_(te.h,E)))if(!E.K&&N_(te.h,E)&&3==te.G){try{var Pe=te.Da.g.parse(B)}catch{Pe=null}if(Array.isArray(Pe)&&3==Pe.length){var wt=Pe;if(0==wt[0]){e:if(!te.u){if(te.g){if(!(te.g.F+3e3<E.F))break e;Cp(te),B_(te)}Ap(te),Ss(18)}}else te.za=wt[1],0<te.za-te.T&&37500>wt[2]&&te.F&&0==te.v&&!te.C&&(te.C=fp(nt(te.Za,te),6e3));if(1>=mp(te.h)&&te.ca){try{te.ca()}catch{}te.ca=void 0}}else Uu(te,11)}else if((E.K||te.g==E)&&Cp(te),!cr(B))for(wt=te.Da.g.parse(B),B=0;B<wt.length;B++){let Si=wt[B];if(te.T=Si[0],Si=Si[1],2==te.G)if("c"==Si[0]){te.K=Si[1],te.ia=Si[2];const ds=Si[3];null!=ds&&(te.la=ds,te.j.info("VER="+te.la));const Is=Si[4];null!=Is&&(te.Aa=Is,te.j.info("SVER="+te.Aa));const sf=Si[5];null!=sf&&"number"==typeof sf&&0<sf&&(te.L=Pe=1.5*sf,te.j.info("backChannelRequestTimeoutMs_="+Pe)),Pe=te;const ca=E.g;if(ca){const af=ca.g?ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(af){var Lt=Pe.h;Lt.g||-1==af.indexOf("spdy")&&-1==af.indexOf("quic")&&-1==af.indexOf("h2")||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(k_(Lt,Lt.h),Lt.h=null))}if(Pe.D){const Sp=ca.g?ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Sp&&(Pe.ya=Sp,Bi(Pe.I,Pe.D,Sp))}}te.G=3,te.l&&te.l.ua(),te.ba&&(te.R=Date.now()-E.F,te.j.info("Handshake RTT: "+te.R+"ms"));var xn=E;if((Pe=te).qa=Dp(Pe,Pe.J?Pe.ia:null,Pe.W),xn.K){lm(Pe.h,xn);var eo=xn,is=Pe.L;is&&(eo.I=is),eo.B&&(cm(eo),am(eo)),Pe.g=xn}else z_(Pe);0<te.i.length&&pm(te)}else"stop"!=Si[0]&&"close"!=Si[0]||Uu(te,7);else 3==te.G&&("stop"==Si[0]||"close"==Si[0]?"stop"==Si[0]?Uu(te,7):ef(te):"noop"!=Si[0]&&te.l&&te.l.ta(Si),te.v=0)}hp()}catch{}}function O_(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zy(E){return!!E.h||!!E.g&&E.g.size>=E.j}function mp(E){return E.h?1:E.g?E.g.size:0}function N_(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function k_(E,B){E.g?E.g.add(B):E.h=B}function lm(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function ey(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const te of E.g.values())B=B.concat(te.D);return B}return _n(E.i)}function Es(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(U(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var te=function _p(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(U(E)||"string"==typeof E){var B=[];E=E.length;for(var te=0;te<E;te++)B.push(te);return B}B=[],te=0;for(const Pe in E)B[te++]=Pe;return B}}}(E),Pe=function ul(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(U(E)){for(var B=[],te=E.length,Pe=0;Pe<te;Pe++)B.push(E[Pe]);return B}for(Pe in B=[],te=0,E)B[te++]=E[Pe];return B}(E),wt=Pe.length,Lt=0;Lt<wt;Lt++)B.call(void 0,Pe[Lt],te&&te[Lt],E)}vc.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==ql(E)?B.j():this.Y(E)},vc.prototype.Y=function(E){try{if(E==this.g)e:{const Is=ql(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>Is)&&(3!=Is||this.g&&(this.h.h||this.g.oa()||ly(this.g)))){this.J||4!=Is||7==B||hp(),cm(this);var te=this.g.Z();this.X=te;t:if(Qv(this)){var Pe=ly(this.g);E="";var wt=Pe.length,Lt=4==ql(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bd(this),Qh(this);var xn="";break t}this.h.i=new P.TextDecoder}for(B=0;B<wt;B++)this.h.h=!0,E+=this.h.i.decode(Pe[B],{stream:!(Lt&&B==wt-1)});Pe.length=0,this.h.g+=E,this.C=0,xn=this.h.g}else xn=this.g.oa();if(this.o=200==te,function S_(E,B,te,Pe,wt,Lt,xn){E.info(function(){return"XMLHTTP RESP ("+Pe+") [ attempt "+wt+"]: "+B+"\n"+te+"\n"+Lt+" "+xn})}(this.i,this.u,this.A,this.l,this.R,Is,te),this.o){if(this.T&&!this.K){t:{if(this.g){var eo,is=this.g;if((eo=is.g?is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(eo)){var Si=eo;break t}}Si=null}if(!(te=Si)){this.o=!1,this.s=3,Ss(12),Bd(this),Qh(this);break e}Ud(this.i,this.l,te,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jv(this,te)}if(this.P){let ca;for(te=!0;!this.J&&this.C<xn.length;){if(ca=$y(this,xn),ca==x_){4==Is&&(this.s=4,Ss(14),te=!1),Ud(this.i,this.l,null,"[Incomplete Response]");break}if(ca==gp){this.s=4,Ss(15),Ud(this.i,this.l,xn,"[Invalid Chunk]"),te=!1;break}Ud(this.i,this.l,ca,null),Jv(this,ca)}if(Qv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Is||0!=xn.length||this.h.h||(this.s=1,Ss(16),te=!1),this.o=this.o&&te,te){if(0<xn.length&&!this.W){this.W=!0;var ds=this.j;ds.g==this&&ds.ba&&!ds.M&&(ds.j.info("Great, no buffering proxy detected. Bytes received: "+xn.length),Zd(ds),ds.M=!0,Ss(11))}}else Ud(this.i,this.l,xn,"[Invalid Chunked Response]"),Bd(this),Qh(this)}else Ud(this.i,this.l,xn,null),Jv(this,xn);4==Is&&Bd(this),this.o&&!this.J&&(4==Is?hy(this.j,this):(this.o=!1,am(this)))}else(function Wy(E){const B={};E=(E.g&&2<=ql(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let Pe=0;Pe<E.length;Pe++){if(cr(E[Pe]))continue;var te=Ct(E[Pe]);const wt=te[0];if("string"!=typeof(te=te[1]))continue;te=te.trim();const Lt=B[wt]||[];B[wt]=Lt,Lt.push(te)}!function vt(E,B){for(const te in E)B.call(void 0,E[te],te,E)}(B,function(Pe){return Pe.join(", ")})})(this.g),400==te&&0<xn.indexOf("Unknown SID")?(this.s=3,Ss(12)):(this.s=0,Ss(13)),Bd(this),Qh(this)}}}catch{}},vc.prototype.cancel=function(){this.J=!0,Bd(this)},vc.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function zy(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(hp(),Ss(17)),Bd(this),this.s=2,Qh(this)):Yv(this,this.S-E)},O_.prototype.cancel=function(){if(this.i=ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof us){this.h=E.h,zl(this,E.j),this.o=E.o,this.g=E.g,$l(this,E.s),this.l=E.l;var B=E.i,te=new Jh;te.i=B.i,B.g&&(te.g=new Map(B.g),te.h=B.h),jd(this,te),this.m=E.m}else E&&(B=String(E).match(ku))?(this.h=!1,zl(this,B[1]||"",!0),this.o=dl(B[2]||""),this.g=dl(B[3]||"",!0),$l(this,B[4]),this.l=dl(B[5]||"",!0),jd(this,B[6]||"",!0),this.m=dl(B[7]||"")):(this.h=!1,this.i=new Jh(null,this.h))}function yc(E){return new us(E)}function zl(E,B,te){E.j=te?dl(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function $l(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function jd(E,B,te){B instanceof Jh?(E.i=B,function Gy(E,B){B&&!E.j&&(Gl(E),E.i=null,E.g.forEach(function(te,Pe){var wt=Pe.toLowerCase();Pe!=wt&&(F_(this,Pe),dm(this,wt,te))},E)),E.j=B}(E.i,E.h)):(te||(B=hl(B,ry)),E.i=new Jh(B,E.h))}function Bi(E,B,te){E.i.set(B,te)}function Zl(E){return Bi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function dl(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function hl(E,B,te){return"string"==typeof E?(E=encodeURI(E).replace(B,Yh),te&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Yh(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}us.prototype.toString=function(){var E=[],B=this.j;B&&E.push(hl(B,Hd,!0),":");var te=this.g;return(te||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(hl(B,Hd,!0),"@"),E.push(encodeURIComponent(String(te)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(te=this.s)&&E.push(":",String(te))),(te=this.l)&&(this.g&&"/"!=te.charAt(0)&&E.push("/"),E.push(hl(te,"/"==te.charAt(0)?ny:ty,!0))),(te=this.i.toString())&&E.push("?",te),(te=this.m)&&E.push("#",hl(te,iy)),E.join("")};var E,Hd=/[#\/\?@]/g,ty=/[#\?:]/g,ny=/[#\?]/g,ry=/[#\?@]/g,iy=/#/g;function Jh(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function Gl(E){E.g||(E.g=new Map,E.h=0,E.i&&function um(E,B){if(E){E=E.split("&");for(var te=0;te<E.length;te++){var Pe=E[te].indexOf("="),wt=null;if(0<=Pe){var Lt=E[te].substring(0,Pe);wt=E[te].substring(Pe+1)}else Lt=E[te];B(Lt,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(E.i,function(B,te){E.add(decodeURIComponent(B.replace(/\+/g," ")),te)}))}function F_(E,B){Gl(E),B=Fu(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function L_(E,B){return Gl(E),B=Fu(E,B),E.g.has(B)}function dm(E,B,te){F_(E,B),0<te.length&&(E.i=null,E.g.set(Fu(E,B),_n(te)),E.h+=te.length)}function Fu(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Lu(E,B,te,Pe,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),Pe(te)}catch{}}function qy(){this.g=new Gv}function E0(E,B,te){const Pe=te||"";try{Es(E,function(wt,Lt){let xn=wt;X(wt)&&(xn=Zh(wt)),B.push(Pe+Lt+"="+encodeURIComponent(xn))})}catch(wt){throw B.push(Pe+"type="+encodeURIComponent("_badmap")),wt}}function vp(E){this.l=E.Ub||null,this.j=E.eb||!1}function V_(E,B){vs.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function oy(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function yp(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Ep(E)}function Ep(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function hm(E){let B="";return ii(E,function(te,Pe){B+=Pe,B+=":",B+=te,B+="\r\n"}),B}function zd(E,B,te){e:{for(Pe in te){var Pe=!1;break e}Pe=!0}Pe||(te=hm(te),"string"==typeof E?null!=te&&encodeURIComponent(String(te)):Bi(E,B,te))}function Do(E){vs.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Jh.prototype).add=function(E,B){Gl(this),this.i=null,E=Fu(this,E);var te=this.g.get(E);return te||this.g.set(E,te=[]),te.push(B),this.h+=1,this},l.forEach=function(E,B){Gl(this),this.g.forEach(function(te,Pe){te.forEach(function(wt){E.call(B,wt,Pe,this)},this)},this)},l.na=function(){Gl(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),te=[];for(let Pe=0;Pe<B.length;Pe++){const wt=E[Pe];for(let Lt=0;Lt<wt.length;Lt++)te.push(B[Pe])}return te},l.V=function(E){Gl(this);let B=[];if("string"==typeof E)L_(this,E)&&(B=B.concat(this.g.get(Fu(this,E))));else{E=Array.from(this.g.values());for(let te=0;te<E.length;te++)B=B.concat(E[te])}return B},l.set=function(E,B){return Gl(this),this.i=null,L_(this,E=Fu(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},l.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var te=0;te<B.length;te++){var Pe=B[te];const Lt=encodeURIComponent(String(Pe)),xn=this.V(Pe);for(Pe=0;Pe<xn.length;Pe++){var wt=Lt;""!==xn[Pe]&&(wt+="="+encodeURIComponent(String(xn[Pe]))),E.push(wt)}}return this.i=E.join("&")},Wt(vp,Gh),vp.prototype.g=function(){return new V_(this.l,this.j)},vp.prototype.i=(E={},function(){return E}),Wt(V_,vs),(l=V_.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Ep(this)},l.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||P).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yp(this)),this.readyState=0},l.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oy(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?yp(this):Ep(this),3==this.readyState&&oy(this)}},l.Ra=function(E){this.g&&(this.response=this.responseText=E,yp(this))},l.Qa=function(E){this.g&&(this.response=E,yp(this))},l.ga=function(){this.g&&yp(this)},l.setRequestHeader=function(E,B){this.u.append(E,B)},l.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var te=B.next();!te.done;)E.push((te=te.value)[0]+": "+te[1]),te=B.next();return E.join("\r\n")},Object.defineProperty(V_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Wt(Do,vs);var fm=/^https?$/i,sy=["POST","PUT"];function Xh(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,U_(E),Vu(E)}function U_(E){E.A||(E.A=!0,ys(E,"complete"),ys(E,"error"))}function ay(E){if(E.h&&typeof I<"u"&&(!E.v[1]||4!=ql(E)||2!=E.Z()))if(E.u&&4==ql(E))zv(E.Ea,0,E);else if(ys(E,"readystatechange"),4==ql(E)){E.h=!1;try{const xn=E.Z();e:switch(xn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var te;if(!(te=B)){var Pe;if(Pe=0===xn){var wt=String(E.D).match(ku)[1]||null;!wt&&P.self&&P.self.location&&(wt=P.self.location.protocol.slice(0,-1)),Pe=!fm.test(wt?wt.toLowerCase():"")}te=Pe}if(te)ys(E,"complete"),ys(E,"success");else{E.m=6;try{var Lt=2<ql(E)?E.g.statusText:""}catch{Lt=""}E.l=Lt+" ["+E.Z()+"]",U_(E)}}finally{Vu(E)}}}function Vu(E,B){if(E.g){cy(E);const te=E.g,Pe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||ys(E,"ready");try{te.onreadystatechange=Pe}catch{}}}function cy(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function ql(E){return E.g?E.g.readyState:0}function ly(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(E,B,te){return te&&te.internalChannelParams&&te.internalChannelParams[E]||B}function Ip(E){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$d("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$d("baseRetryDelayMs",5e3,E),this.cb=$d("retryDelaySeedMs",1e4,E),this.Wa=$d("forwardChannelMaxRetries",2,E),this.wa=$d("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new O_(E&&E.concurrentRequestLimit),this.Da=new qy,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ef(E){if(uy(E),3==E.G){var B=E.U++,te=yc(E.I);if(Bi(te,"SID",E.K),Bi(te,"RID",B),Bi(te,"TYPE","terminate"),tf(E,te),(B=new vc(E,E.j,B)).L=2,B.v=Zl(yc(te)),te=!1,P.navigator&&P.navigator.sendBeacon)try{te=P.navigator.sendBeacon(B.v.toString(),"")}catch{}!te&&P.Image&&((new Image).src=B.v,te=!0),te||(B.g=$_(B.j,null),B.g.ea(B.v)),B.F=Date.now(),am(B)}wp(E)}function B_(E){E.g&&(Zd(E),E.g.cancel(),E.g=null)}function uy(E){B_(E),E.u&&(P.clearTimeout(E.u),E.u=null),Cp(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function pm(E){if(!Zy(E.h)&&!E.s){E.s=!0;var B=E.Ga;op||Qg(),sp||(op(),sp=!0),Bv.add(B,E),E.B=0}}function dy(E,B){var te;te=B?B.l:E.U++;const Pe=yc(E.I);Bi(Pe,"SID",E.K),Bi(Pe,"RID",te),Bi(Pe,"AID",E.T),tf(E,Pe),E.m&&E.o&&zd(Pe,E.m,E.o),te=new vc(E,E.j,te,E.B+1),null===E.m&&(te.H=E.o),B&&(E.i=B.D.concat(E.i)),B=H_(E,te,1e3),te.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),k_(E.h,te),R_(te,Pe,B)}function tf(E,B){E.H&&ii(E.H,function(te,Pe){Bi(B,Pe,te)}),E.l&&Es({},function(te,Pe){Bi(B,Pe,te)})}function H_(E,B,te){te=Math.min(E.i.length,te);var Pe=E.l?nt(E.l.Na,E.l,E):null;e:{var wt=E.i;let Lt=-1;for(;;){const xn=["count="+te];-1==Lt?0<te?(Lt=wt[0].g,xn.push("ofs="+Lt)):Lt=0:xn.push("ofs="+Lt);let eo=!0;for(let is=0;is<te;is++){let Si=wt[is].g;const ds=wt[is].map;if(Si-=Lt,0>Si)Lt=Math.max(0,wt[is].g-100),eo=!1;else try{E0(ds,xn,"req"+Si+"_")}catch{Pe&&Pe(ds)}}if(eo){Pe=xn.join("&");break e}}}return E=E.i.splice(0,te),B.D=E,Pe}function z_(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;op||Qg(),sp||(op(),sp=!0),Bv.add(B,E),E.v=0}}function Ap(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=fp(nt(E.Fa,E),Tp(E,E.v)),E.v++,0))}function Zd(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function bp(E){E.g=new vc(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=yc(E.qa);Bi(B,"RID","rpc"),Bi(B,"SID",E.K),Bi(B,"AID",E.T),Bi(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&Bi(B,"TO",E.ja),Bi(B,"TYPE","xmlhttp"),tf(E,B),E.m&&E.o&&zd(B,E.m,E.o),E.L&&(E.g.I=E.L);var te=E.g;E=E.ia,te.L=1,te.v=Zl(yc(B)),te.m=null,te.P=!0,Kv(te,E)}function Cp(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function hy(E,B){var te=null;if(E.g==B){Cp(E),Zd(E),E.g=null;var Pe=2}else{if(!N_(E.h,B))return;te=B.D,lm(E.h,B),Pe=1}if(0!=E.G)if(B.o)if(1==Pe){te=B.m?B.m.length:0,B=Date.now()-B.F;var wt=E.B;ys(Pe=dp(),new Wv(Pe,te)),pm(E)}else z_(E);else if(3==(wt=B.s)||0==wt&&0<B.X||!(1==Pe&&function j_(E,B){return!(mp(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=fp(nt(E.Ga,E,B),Tp(E,E.B)),E.B++,0)))}(E,B)||2==Pe&&Ap(E)))switch(te&&0<te.length&&(B=E.h,B.i=B.i.concat(te)),wt){case 1:Uu(E,5);break;case 4:Uu(E,10);break;case 3:Uu(E,6);break;default:Uu(E,2)}}function Tp(E,B){let te=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(te*=2),te*B}function Uu(E,B){if(E.j.info("Error code "+B),2==B){var te=nt(E.fb,E),Pe=E.Xa;const wt=!Pe;Pe=new us(Pe||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||zl(Pe,"https"),Zl(Pe),wt?function v0(E,B){const te=new ll;if(P.Image){const Pe=new Image;Pe.onload=St(Lu,te,"TestLoadImage: loaded",!0,B,Pe),Pe.onerror=St(Lu,te,"TestLoadImage: error",!1,B,Pe),Pe.onabort=St(Lu,te,"TestLoadImage: abort",!1,B,Pe),Pe.ontimeout=St(Lu,te,"TestLoadImage: timeout",!1,B,Pe),P.setTimeout(function(){Pe.ontimeout&&Pe.ontimeout()},1e4),Pe.src=E}else B(!1)}(Pe.toString(),te):function y0(E,B){new ll;const Pe=new AbortController,wt=setTimeout(()=>{Pe.abort(),Lu(0,0,!1,B)},1e4);fetch(E,{signal:Pe.signal}).then(Lt=>{clearTimeout(wt),Lu(0,0,!!Lt.ok,B)}).catch(()=>{clearTimeout(wt),Lu(0,0,!1,B)})}(Pe.toString(),te)}else Ss(2);E.G=0,E.l&&E.l.sa(B),wp(E),uy(E)}function wp(E){if(E.G=0,E.ka=[],E.l){const B=ey(E.h);(0!=B.length||0!=E.i.length)&&(tn(E.ka,B),tn(E.ka,E.i),E.h.i.length=0,_n(E.i),E.i.length=0),E.l.ra()}}function Dp(E,B,te){var Pe=te instanceof us?yc(te):new us(te);if(""!=Pe.g)B&&(Pe.g=B+"."+Pe.g),$l(Pe,Pe.s);else{var wt=P.location;Pe=wt.protocol,B=B?B+"."+wt.hostname:wt.hostname,wt=+wt.port;var Lt=new us(null);Pe&&zl(Lt,Pe),B&&(Lt.g=B),wt&&$l(Lt,wt),te&&(Lt.l=te),Pe=Lt}return B=E.ya,(te=E.D)&&B&&Bi(Pe,te,B),Bi(Pe,"VER",E.la),tf(E,Pe),Pe}function $_(E,B,te){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Do(E.Ca&&!E.pa?new vp({eb:te}):E.pa)).Ha(E.J),B}function nf(){}function Bu(){}function js(E,B){vs.call(this),this.g=new Ip(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!cr(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!cr(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new rf(this)}function Z_(E){rm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const te in B){E=te;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function fy(){T_.call(this),this.status=1}function rf(E){this.g=E}(l=Do.prototype).Ha=function(E){this.J=E},l.ea=function(E,B,te,Pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sm.g(),this.v=function Hy(E){return E.h||(E.h=E.i())}(this.o?this.o:sm),this.g.onreadystatechange=nt(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Lt){return void Xh(this,Lt)}if(E=te||"",te=new Map(this.headers),Pe)if(Object.getPrototypeOf(Pe)===Object.prototype)for(var wt in Pe)te.set(wt,Pe[wt]);else{if("function"!=typeof Pe.keys||"function"!=typeof Pe.get)throw Error("Unknown input type for opt_headers: "+String(Pe));for(const Lt of Pe.keys())te.set(Lt,Pe.get(Lt))}Pe=Array.from(te.keys()).find(Lt=>"content-type"==Lt.toLowerCase()),wt=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(sy,B,void 0))||Pe||wt||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,xn]of te)this.g.setRequestHeader(Lt,xn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cy(this),this.u=!0,this.g.send(E),this.u=!1}catch(Lt){Xh(this,Lt)}},l.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,ys(this,"complete"),ys(this,"abort"),Vu(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),Do.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?ay(this):this.bb())},l.bb=function(){ay(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<ql(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),up(B)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Ip.prototype).la=8,l.G=1,l.connect=function(E,B,te,Pe){Ss(0),this.W=E,this.H=B||{},te&&void 0!==Pe&&(this.H.OSID=te,this.H.OAID=Pe),this.F=this.X,this.I=Dp(this,null,this.W),pm(this)},l.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const wt=new vc(this,this.j,E);let Lt=this.o;if(this.S&&(Lt?(Lt=Je(Lt),At(Lt,this.S)):Lt=this.S),null!==this.m||this.O||(wt.H=Lt,Lt=null),this.P)e:{for(var B=0,te=0;te<this.i.length;te++){var Pe=this.i[te];if(void 0===(Pe="__data__"in Pe.map&&"string"==typeof(Pe=Pe.map.__data__)?Pe.length:void 0))break;if(4096<(B+=Pe)){B=te;break e}if(4096===B||te===this.i.length-1){B=te+1;break e}}B=1e3}else B=1e3;B=H_(this,wt,B),Bi(te=yc(this.I),"RID",E),Bi(te,"CVER",22),this.D&&Bi(te,"X-HTTP-Session-Id",this.D),tf(this,te),Lt&&(this.O?B="headers="+encodeURIComponent(String(hm(Lt)))+"&"+B:this.m&&zd(te,this.m,Lt)),k_(this.h,wt),this.Ua&&Bi(te,"TYPE","init"),this.P?(Bi(te,"$req",B),Bi(te,"SID","null"),wt.T=!0,R_(wt,te,null)):R_(wt,te,B),this.G=2}}else 3==this.G&&(E?dy(this,E):0==this.i.length||Zy(this.h)||dy(this))},l.Fa=function(){if(this.u=null,bp(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=fp(nt(this.ab,this),E)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ss(10),B_(this),bp(this))},l.Za=function(){null!=this.C&&(this.C=null,B_(this),Ap(this),Ss(19))},l.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Ss(2)):(this.j.info("Failed to ping google.com"),Ss(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=nf.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Bu.prototype.g=function(E,B){return new js(E,B)},Wt(js,vs),js.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},js.prototype.close=function(){ef(this.g)},js.prototype.o=function(E){var B=this.g;if("string"==typeof E){var te={};te.__data__=E,E=te}else this.u&&((te={}).__data__=Zh(E),E=te);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&pm(B)},js.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,js.aa.N.call(this)},Wt(Z_,rm),Wt(fy,T_),Wt(rf,nf),rf.prototype.ua=function(){ys(this.g,"a")},rf.prototype.ta=function(E){ys(this.g,new Z_(E))},rf.prototype.sa=function(E){ys(this.g,new fy)},rf.prototype.ra=function(){ys(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,js.prototype.send=js.prototype.o,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,It=$.createWebChannelTransport=function(){return new Bu},_t=$.getStatEventTarget=function(){return dp()},Te=$.Event=Vd,$e=$.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pp.NO_ERROR=0,pp.TIMEOUT=8,pp.HTTP_ERROR=6,Ne=$.ErrorCode=pp,M_.COMPLETE="complete",Me=$.EventType=M_,qv.EventType=qh,qh.OPEN="a",qh.CLOSE="b",qh.ERROR="c",qh.MESSAGE="d",vs.prototype.listen=vs.prototype.K,pe=$.WebChannel=qv,_e=$.FetchXmlHttpFactory=vp,Do.prototype.listenOnce=Do.prototype.L,Do.prototype.getLastError=Do.prototype.Ka,Do.prototype.getLastErrorCode=Do.prototype.Ba,Do.prototype.getStatus=Do.prototype.Z,Do.prototype.getResponseJson=Do.prototype.Oa,Do.prototype.getResponseText=Do.prototype.oa,Do.prototype.send=Do.prototype.ea,Do.prototype.setWithCredentials=Do.prototype.Ha,le=$.XhrIo=Do}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const Be="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Ze="10.12.1";const Ke=new Se.Yd("@firebase/firestore");function ft(){return Ke.logLevel}function Ye(l){Ke.setLogLevel(l)}function he(l,...e){if(Ke.logLevel<=Se.in.DEBUG){const r=e.map(yn);Ke.debug(`Firestore (${Ze}): ${l}`,...r)}}function yt(l,...e){if(Ke.logLevel<=Se.in.ERROR){const r=e.map(yn);Ke.error(`Firestore (${Ze}): ${l}`,...r)}}function Pt(l,...e){if(Ke.logLevel<=Se.in.WARN){const r=e.map(yn);Ke.warn(`Firestore (${Ze}): ${l}`,...r)}}function yn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function mt(l="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+l;throw yt(e),new Error(e)}function Ge(l,e){l||mt()}function dt(l,e){l||mt()}function Ve(l,e){return l}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ve.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class De{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Le{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(tt.UNAUTHENTICATED))}shutdown(){}}class ut{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Et{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const _=X=>this.i!==u?(u=this.i,r(X)):Promise.resolve();let I=new De;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new De,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const X=I;e.enqueueRetryable((0,f.Z)(function*(){yield X.promise,yield _(s.currentUser)}))},U=X=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(X=>U(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?U(X):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new De)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge("string"==typeof s.accessToken),new Le(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(null===e||"string"==typeof e),new tt(e)}}class Bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class En{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=_=>{null!=_.error&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const I=_.token!==this.R;return this.R=_.token,he("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>s(_))};const u=_=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>u(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?u(_):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ge("string"==typeof r.token),this.R=r.token,new Jt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sn(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class kn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Sn(40);for(let _=0;_<u.length;++_)s.length<20&&u[_]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[_]%62))}return s}}function Xt(l,e){return l<e?-1:l>e?1:0}function Mn(l,e,r){return l.length===e.length&&l.every((s,u)=>r(s,e[u]))}function Vn(l){return l+"\0"}class Gn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Gn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new un(e)}static min(){return new un(new Gn(0,0))}static max(){return new un(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pi{constructor(e,r,s){void 0===r?r=0:r>e.length&&mt(),void 0===s?s=e.length-r:s>e.length-r&&mt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===pi.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const _=e.get(u),I=r.get(u);if(_<I)return-1;if(_>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class zn extends pi{construct(e,r,s){return new zn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new zn(r)}static emptyPath(){return new zn([])}}const Er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends pi{construct(e,r,s){return new nr(e,r,s)}static isValidIdentifier(e){return Er.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const _=()=>{if(0===s.length)throw new re(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let I=!1;for(;u<e.length;){const P=e[u];if("\\"===P){if(u+1===e.length)throw new re(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new re(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,u+=2}else"`"===P?(I=!I,u++):"."!==P||I?(s+=P,u++):(_(),u++)}if(_(),I)throw new re(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(r)}static emptyPath(){return new nr([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(zn.fromString(e))}static fromName(e){return new Zt(zn.fromString(e).popFirst(5))}static empty(){return new Zt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return zn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new zn(e.slice()))}}class Cn{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Kn(l){return l.fields.find(e=>2===e.kind)}function Fn(l){return l.fields.filter(e=>2!==e.kind)}Cn.UNKNOWN_ID=-1;class Br{constructor(e,r){this.fieldPath=e,this.kind=r}}class Qn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Qn(0,In.min())}}function Lr(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=un.fromTimestamp(1e9===s?new Gn(r+1,0):new Gn(r,s));return new In(u,Zt.empty(),e)}function gi(l){return new In(l.readTime,l.key,-1)}class In{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new In(un.min(),Zt.empty(),-1)}static max(){return new In(un.max(),Zt.empty(),-1)}}function Gr(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=Zt.comparator(l.documentKey,e.documentKey),0!==r?r:Xt(l.largestBatchId,e.largestBatchId))}const rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ar(l){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(l){if(l.code!==xe.FAILED_PRECONDITION||l.message!==rr)throw l;he("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new q((s,u)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(s,u)},this.catchCallback=_=>{this.wrapFailure(r,_).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):q.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):q.reject(r)}static resolve(e){return new q((r,s)=>{r(e)})}static reject(e){return new q((r,s)=>{s(e)})}static waitFor(e){return new q((r,s)=>{let u=0,_=0,I=!1;e.forEach(P=>{++u,P.next(()=>{++_,I&&_===u&&r()},U=>s(U))}),I=!0,_===u&&r()})}static or(e){let r=q.resolve(!1);for(const s of e)r=r.next(u=>u?q.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,_)=>{s.push(r.call(this,u,_))}),this.waitFor(s)}static mapArray(e,r){return new q((s,u)=>{const _=e.length,I=new Array(_);let P=0;for(let U=0;U<_;U++){const X=U;r(e[X]).next(me=>{I[X]=me,++P,P===_&&s(I)},me=>u(me))}})}static doWhile(e,r){return new q((s,u)=>{const _=()=>{!0===e()?r().next(()=>{_()},u):s()};_()})}}class ke{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new De,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Jr(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ne(s.target.error);this.V.reject(new Jr(e,u))}}static open(e,r,s,u){try{return new ke(r,e.transaction(u,s))}catch(_){throw new Jr(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Pi(r)}}class bt{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===bt.S((0,ve.z$)())&&yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return he("SimpleDb","Removing database:",e),sn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ve.hl)())return!1;if(bt.C())return!0;const e=(0,ve.z$)(),r=bt.S(e),s=0<r&&r<10,u=on(e),_=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||_)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,f.Z)(function*(){return r.db||(he("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=I=>{s(I.target.result)},_.onblocked=()=>{u(new Jr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=I=>{const P=I.target.error;u("VersionError"===P.name?new re(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new re(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Jr(e,P))},_.onupgradeneeded=I=>{he("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,_.transaction,I.oldVersion,r.version).next(()=>{he("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var _=this;return(0,f.Z)(function*(){const I="readonly"===r;let P=0;for(;;){++P;try{_.db=yield _.M(e);const U=ke.open(_.db,e,I?"readonly":"readwrite",s),X=u(U).next(me=>(U.g(),me)).catch(me=>(U.abort(me),q.reject(me))).toPromise();return X.catch(()=>{}),yield U.m,X}catch(U){const X=U,me="FirebaseError"!==X.name&&P<3;if(he("SimpleDb","Transaction failed with error:",X.message,"Retrying:",me),_.close(),!me)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function on(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class er{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return sn(this.B.delete())}}class Jr extends re{constructor(e,r){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ur(l){return"IndexedDbTransactionError"===l.name}class Pi{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(he("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),sn(s)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),sn(this.store.add(e))}get(e){return sn(this.store.get(e)).next(r=>(void 0===r&&(r=null),he("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),sn(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),sn(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const _=u.getAll(s.range);return new q((I,P)=>{_.onerror=U=>{P(U.target.error)},_.onsuccess=U=>{I(U.target.result)}})}{const _=this.cursor(s),I=[];return this.W(_,(P,U)=>{I.push(U)}).next(()=>I)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new q((u,_)=>{s.onerror=I=>{_(I.target.error)},s.onsuccess=I=>{u(I.target.result)}})}j(e,r){he("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(_,I,P)=>P.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new q((s,u)=>{r.onerror=_=>{const I=ne(_.target.error);u(I)},r.onsuccess=_=>{const I=_.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():s()}):s()}})}W(e,r){const s=[];return new q((u,_)=>{e.onerror=I=>{_(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void u();const U=new er(P),X=r(P.primaryKey,P.value,U);if(X instanceof q){const me=X.catch(Oe=>(U.done(),q.reject(Oe)));s.push(me)}U.isDone?u():null===U.K?P.continue():P.continue(U.K)}}).next(()=>q.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function sn(l){return new q((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const u=ne(s.target.error);r(u)}})}let Ie=!1;function ne(l){const e=bt.S((0,ve.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ie||(Ie=!0,setTimeout(()=>{throw s},0)),s}}return l}class G{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;he("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){r.task=null;try{he("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){ur(s)?he("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Ar(s)}yield r.X(6e4)}))}}class j{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,f.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,_=!0;return q.doWhile(()=>!0===_&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!s.has(I))return he("IndexBackfiller",`Processing collection: ${I}`),this.ne(e,I,u).next(P=>{u-=P,s.add(I)});_=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(_=>{const I=_.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.re(u,_)).next(P=>(he("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>I.size)}))}re(e,r){let s=e;return r.changes.forEach((u,_)=>{const I=gi(_);Gr(I,s)>0&&(s=I)}),new In(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function we(l){return null==l}function et(l){return 0===l&&1/l==-1/0}function kt(l){return"number"==typeof l&&Number.isInteger(l)&&!et(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function $t(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=cn(e)),e=hn(l.get(r),e);return cn(e)}function hn(l,e){let r=e;const s=l.length;for(let u=0;u<s;u++){const _=l.charAt(u);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function cn(l){return l+"\x01\x01"}function fn(l){const e=l.length;if(Ge(e>=2),2===e)return Ge("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),zn.emptyPath();const r=e-2,s=[];let u="";for(let _=0;_<e;){const I=l.indexOf("\x01",_);switch((I<0||I>r)&&mt(),l.charAt(I+1)){case"\x01":const P=l.substring(_,I);let U;0===u.length?U=P:(u+=P,U=u,u=""),s.push(U);break;case"\x10":u+=l.substring(_,I),u+="\0";break;case"\x11":u+=l.substring(_,I+1);break;default:mt()}_=I+2}return new zn(s)}const dr=["userId","batchId"];function rt(l,e){return[l,$t(e)]}function Qe(l,e,r){return[l,$t(e),r]}const it={},jt=["prefixPath","collectionGroup","readTime","documentId"],en=["prefixPath","collectionGroup","documentId"],Tn=["collectionGroup","readTime","prefixPath","documentId"],dn=["canonicalId","targetId"],Ir=["targetId","path"],bn=["path","targetId"],li=["collectionId","parent"],go=["indexId","uid"],Wi=["uid","sequenceNumber"],co=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ki=["indexId","uid","orderedDocumentKey"],Or=["userId","collectionPath","documentId"],pr=["userId","collectionPath","largestBatchId"],sr=["userId","collectionGroup","largestBatchId"],bo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mo=[...bo,"documentOverlays"],Ci=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gr=Ci,xi=[...gr,"indexConfiguration","indexState","indexEntries"],mi=xi;class Ki extends Sr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function qr(l,e){const r=Ve(l);return bt.F(r._e,e)}function Uo(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function _o(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Go(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class ai{constructor(e,r){this.comparator=e,this.root=r||Fi.EMPTY}insert(e,r){return new ai(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hs(this.root,e,this.comparator,!0)}}class Hs{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?s(e.key,r):1,r&&u&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,r,s,u,_){this.key=e,this.value=r,this.color=s??Fi.RED,this.left=u??Fi.EMPTY,this.right=_??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,_){return new Fi(e??this.key,r??this.value,s??this.color,u??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const _=s(e,u.key);return u=_<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===_?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Fi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,r,s,u,_){return this}insert(e,r,s){return new Fi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new ai(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new As(this.data.getIterator())}getIteratorFrom(e){return new As(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,_=s.getNext().key;if(0!==this.comparator(u,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Xr(this.comparator);return r.data=e,r}}class As{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ko(l){return l.hasNext()?l.getNext():void 0}class Li{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Li([])}unionWith(e){let r=new Xr(nr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Li(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Mn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Qi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function qo(){return typeof atob<"u"}class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Qi("Invalid base64 string: "+_):_}}(e);return new yi(r)}static fromUint8Array(e){const r=function(u){let _="";for(let I=0;I<u.length;++I)_+=String.fromCharCode(u[I]);return _}(e);return new yi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(l){if(Ge(!!l),"string"==typeof l){let e=0;const r=os.exec(l);if(Ge(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ei(l.seconds),nanos:Ei(l.nanos)}}function Ei(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function vo(l){return"string"==typeof l?yi.fromBase64String(l):yi.fromUint8Array(l)}function Mo(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Jo(l){const e=l.mapValue.fields.__previous_value__;return Mo(e)?Jo(e):e}function Hi(l){const e=Co(l.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class ss{constructor(e,r,s,u,_,I,P,U,X){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=_,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.longPollingOptions=U,this.useFetchStreams=X}}class qn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qn&&e.projectId===this.projectId&&e.database===this.database}}const ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ni={nullValue:"NULL_VALUE"};function zi(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Mo(l)?4:oi(l)?9007199254740991:10:mt()}function Wr(l,e){if(l===e)return!0;const r=zi(l);if(r!==zi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return Hi(l).isEqual(Hi(e));case 3:return function(u,_){if("string"==typeof u.timestampValue&&"string"==typeof _.timestampValue&&u.timestampValue.length===_.timestampValue.length)return u.timestampValue===_.timestampValue;const I=Co(u.timestampValue),P=Co(_.timestampValue);return I.seconds===P.seconds&&I.nanos===P.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return _=e,vo(l.bytesValue).isEqual(vo(_.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(u,_){return Ei(u.geoPointValue.latitude)===Ei(_.geoPointValue.latitude)&&Ei(u.geoPointValue.longitude)===Ei(_.geoPointValue.longitude)}(l,e);case 2:return function(u,_){if("integerValue"in u&&"integerValue"in _)return Ei(u.integerValue)===Ei(_.integerValue);if("doubleValue"in u&&"doubleValue"in _){const I=Ei(u.doubleValue),P=Ei(_.doubleValue);return I===P?et(I)===et(P):isNaN(I)&&isNaN(P)}return!1}(l,e);case 9:return Mn(l.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(u,_){const I=u.mapValue.fields||{},P=_.mapValue.fields||{};if(Uo(I)!==Uo(P))return!1;for(const U in I)if(I.hasOwnProperty(U)&&(void 0===P[U]||!Wr(I[U],P[U])))return!1;return!0}(l,e);default:return mt()}var _}function to(l,e){return void 0!==(l.values||[]).find(r=>Wr(r,e))}function $i(l,e){if(l===e)return 0;const r=zi(l),s=zi(e);if(r!==s)return Xt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xt(l.booleanValue,e.booleanValue);case 2:return function(_,I){const P=Ei(_.integerValue||_.doubleValue),U=Ei(I.integerValue||I.doubleValue);return P<U?-1:P>U?1:P===U?0:isNaN(P)?isNaN(U)?0:-1:1}(l,e);case 3:return as(l.timestampValue,e.timestampValue);case 4:return as(Hi(l),Hi(e));case 5:return Xt(l.stringValue,e.stringValue);case 6:return function(_,I){const P=vo(_),U=vo(I);return P.compareTo(U)}(l.bytesValue,e.bytesValue);case 7:return function(_,I){const P=_.split("/"),U=I.split("/");for(let X=0;X<P.length&&X<U.length;X++){const me=Xt(P[X],U[X]);if(0!==me)return me}return Xt(P.length,U.length)}(l.referenceValue,e.referenceValue);case 8:return function(_,I){const P=Xt(Ei(_.latitude),Ei(I.latitude));return 0!==P?P:Xt(Ei(_.longitude),Ei(I.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(_,I){const P=_.values||[],U=I.values||[];for(let X=0;X<P.length&&X<U.length;++X){const me=$i(P[X],U[X]);if(me)return me}return Xt(P.length,U.length)}(l.arrayValue,e.arrayValue);case 10:return function(_,I){if(_===ei.mapValue&&I===ei.mapValue)return 0;if(_===ei.mapValue)return 1;if(I===ei.mapValue)return-1;const P=_.fields||{},U=Object.keys(P),X=I.fields||{},me=Object.keys(X);U.sort(),me.sort();for(let Oe=0;Oe<U.length&&Oe<me.length;++Oe){const nt=Xt(U[Oe],me[Oe]);if(0!==nt)return nt;const St=$i(P[U[Oe]],X[me[Oe]]);if(0!==St)return St}return Xt(U.length,me.length)}(l.mapValue,e.mapValue);default:throw mt()}}function as(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Xt(l,e);const r=Co(l),s=Co(e),u=Xt(r.seconds,s.seconds);return 0!==u?u:Xt(r.nanos,s.nanos)}function no(l){return To(l)}function To(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=Co(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?vo(l.bytesValue).toBase64():"referenceValue"in l?Zt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",u=!0;for(const _ of r.values||[])u?u=!1:s+=",",s+=To(_);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",_=!0;for(const I of s)_?_=!1:u+=",",u+=`${I}:${To(r.fields[I])}`;return u+"}"}(l.mapValue):mt()}function mn(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Yn(l){return!!l&&"integerValue"in l}function Mr(l){return!!l&&"arrayValue"in l}function Vi(l){return!!l&&"nullValue"in l}function Ii(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function ci(l){return!!l&&"mapValue"in l}function Ti(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return _o(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Ti(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ti(l.arrayValue.values[r]);return e}return Object.assign({},l)}function oi(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yi(l){return"nullValue"in l?ni:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?mn(qn.empty(),Zt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:mt()}function Ji(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?mn(qn.empty(),Zt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?ei:mt()}function ir(l,e){const r=$i(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function yo(l,e){const r=$i(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ci(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ti(r)}setAll(e){let r=nr.emptyPath(),s={},u=[];e.forEach((I,P)=>{if(!r.isImmediateParentOf(P)){const U=this.getFieldsMap(r);this.applyChanges(U,s,u),s={},u=[],r=P.popLast()}I?s[P.lastSegment()]=Ti(I):u.push(P.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,s,u)}delete(e){const r=this.field(e.popLast());ci(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];ci(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){_o(r,(u,_)=>e[u]=_);for(const u of s)delete e[u]}clone(){return new Nr(Ti(this.value))}}function oe(l){const e=[];return _o(l.fields,(r,s)=>{const u=new nr([r]);if(ci(s)){const _=oe(s.mapValue).fields;if(0===_.length)e.push(u);else for(const I of _)e.push(u.child(I))}else e.push(u)}),new Li(e)}class J{constructor(e,r,s,u,_,I,P){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=_,this.data=I,this.documentState=P}static newInvalidDocument(e){return new J(e,0,un.min(),un.min(),un.min(),Nr.empty(),0)}static newFoundDocument(e,r,s,u){return new J(e,1,r,un.min(),s,u,0)}static newNoDocument(e,r){return new J(e,2,r,un.min(),un.min(),Nr.empty(),0)}static newUnknownDocument(e,r){return new J(e,3,r,un.min(),un.min(),Nr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof J&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new J(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ue{constructor(e,r){this.position=e,this.inclusive=r}}function qe(l,e,r){let s=0;for(let u=0;u<l.position.length;u++){const _=e[u],I=l.position[u];if(s=_.field.isKeyField()?Zt.comparator(Zt.fromName(I.referenceValue),r.key):$i(I,r.data.field(_.field)),"desc"===_.dir&&(s*=-1),0!==s)break}return s}function pt(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!Wr(l.position[r],e.position[r]))return!1;return!0}class Ft{constructor(e,r="asc"){this.field=e,this.dir=r}}function pn(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class Pn{}class Gt extends Pn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new io(e,r,s):"array-contains"===r?new st(e,s):"in"===r?new Ut(e,s):"not-in"===r?new Kt(e,s):"array-contains-any"===r?new An(e,s):new Gt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new br(e,s):new Ce(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison($i(r,this.value)):null!==r&&zi(this.value)===zi(r)&&this.matchesComparison($i(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends Pn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new wn(e,r)}matches(e){return mr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mr(l){return"and"===l.op}function $n(l){return"or"===l.op}function Ai(l){return Kr(l)&&mr(l)}function Kr(l){for(const e of l.filters)if(e instanceof wn)return!1;return!0}function Vr(l){if(l instanceof Gt)return l.field.canonicalString()+l.op.toString()+no(l.value);if(Ai(l))return l.filters.map(e=>Vr(e)).join(",");{const e=l.filters.map(r=>Vr(r)).join(",");return`${l.op}(${e})`}}function hi(l,e){return l instanceof Gt?(s=l,(u=e)instanceof Gt&&s.op===u.op&&s.field.isEqual(u.field)&&Wr(s.value,u.value)):l instanceof wn?function(s,u){return u instanceof wn&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((_,I,P)=>_&&hi(I,u.filters[P]),!0)}(l,e):void mt();var s,u}function Qr(l,e){const r=l.filters.concat(e);return wn.create(r,l.op)}function ro(l){return l instanceof Gt?`${(r=l).field.canonicalString()} ${r.op} ${no(r.value)}`:l instanceof wn?function(r){return r.op.toString()+" {"+r.getFilters().map(ro).join(" ,")+"}"}(l):"Filter";var r}class io extends Gt{constructor(e,r,s){super(e,r,s),this.key=Zt.fromName(s.referenceValue)}matches(e){const r=Zt.comparator(e.key,this.key);return this.matchesComparison(r)}}class br extends Gt{constructor(e,r){super(e,"in",r),this.keys=je(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ce extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=je(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function je(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Zt.fromName(s.referenceValue))}class st extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Mr(r)&&to(r.arrayValue,this.value)}}class Ut extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&to(this.value.arrayValue,r)}}class Kt extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!to(this.value.arrayValue,r)}}class An extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Mr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>to(this.value.arrayValue,s))}}class Rn{constructor(e,r=null,s=[],u=[],_=null,I=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=_,this.startAt=I,this.endAt=P,this.ue=null}}function hr(l,e=null,r=[],s=[],u=null,_=null,I=null){return new Rn(l,e,r,s,u,_,I)}function Jn(l){const e=Ve(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Vr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(_=s).field.canonicalString()+_.dir;var _}).join(","),we(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>no(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>no(s)).join(",")),e.ue=r}return e.ue}function Cr(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!pn(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!hi(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!pt(l.startAt,e.startAt)&&pt(l.endAt,e.endAt)}function Eo(l){return Zt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Fo(l,e){return l.filters.filter(r=>r instanceof Gt&&r.field.isEqual(e))}function Y(l,e,r){let s=ni,u=!0;for(const _ of Fo(l,e)){let I=ni,P=!0;switch(_.op){case"<":case"<=":I=Yi(_.value);break;case"==":case"in":case">=":I=_.value;break;case">":I=_.value,P=!1;break;case"!=":case"not-in":I=ni}ir({value:s,inclusive:u},{value:I,inclusive:P})<0&&(s=I,u=P)}if(null!==r)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(e)){const I=r.position[_];ir({value:s,inclusive:u},{value:I,inclusive:r.inclusive})<0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}function ie(l,e,r){let s=ei,u=!0;for(const _ of Fo(l,e)){let I=ei,P=!0;switch(_.op){case">=":case">":I=Ji(_.value),P=!1;break;case"==":case"in":case"<=":I=_.value;break;case"<":I=_.value,P=!1;break;case"!=":case"not-in":I=ei}yo({value:s,inclusive:u},{value:I,inclusive:P})>0&&(s=I,u=P)}if(null!==r)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(e)){const I=r.position[_];yo({value:s,inclusive:u},{value:I,inclusive:r.inclusive})>0&&(s=I,u=r.inclusive);break}return{value:s,inclusive:u}}class L{constructor(e,r=null,s=[],u=[],_=null,I="F",P=null,U=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=_,this.limitType=I,this.startAt=P,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function Ee(l,e,r,s,u,_,I,P){return new L(l,e,r,s,u,_,I,P)}function We(l){return new L(l)}function jn(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Dr(l){return null!==l.collectionGroup}function wo(l){const e=Ve(l);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(I){let P=new Xr(nr.comparator);return I.filters.forEach(U=>{U.getFlattenedFilters().forEach(X=>{X.isInequality()&&(P=P.add(X.field))})}),P})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Ft(_,s))}),r.has(nr.keyField().canonicalString())||e.ce.push(new Ft(nr.keyField(),s))}return e.ce}function wi(l){const e=Ve(l);return e.le||(e.le=function Wl(l,e){if("F"===l.limitType)return hr(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(u=>new Ft(u.field,"desc"===u.dir?"asc":"desc"));const r=l.endAt?new Ue(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Ue(l.startAt.position,l.startAt.inclusive):null;return hr(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,wo(l))),e.le}function Cc(l,e){const r=l.filters.concat([e]);return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function Qa(l,e,r){return new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function Sa(l,e){return Cr(wi(l),wi(e))&&l.limitType===e.limitType}function Tc(l){return`${Jn(wi(l))}|lt:${l.limitType}`}function Ma(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>ro(u)).join(", ")}]`),we(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(I=u).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>no(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>no(u)).join(",")),`Target(${s})`}(wi(l))}; limitType=${l.limitType})`}function da(l,e){return e.isFoundDocument()&&function(s,u){const _=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(_):Zt.isDocumentKey(s.path)?s.path.isEqual(_):s.path.isImmediateParentOf(_)}(l,e)&&function(s,u){for(const _ of wo(s))if(!_.field.isKeyField()&&null===u.data.field(_.field))return!1;return!0}(l,e)&&function(s,u){for(const _ of s.filters)if(!_.matches(u))return!1;return!0}(l,e)&&(u=e,!((s=l).startAt&&!function(I,P,U){const X=qe(I,P,U);return I.inclusive?X<=0:X<0}(s.startAt,wo(s),u)||s.endAt&&!function(I,P,U){const X=qe(I,P,U);return I.inclusive?X>=0:X>0}(s.endAt,wo(s),u)));var s,u}function wc(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function ps(l){return(e,r)=>{let s=!1;for(const u of wo(l)){const _=gs(u,e,r);if(0!==_)return _;s=s||u.field.isKeyField()}return 0}}function gs(l,e,r){const s=l.field.isKeyField()?Zt.comparator(e.key,r.key):function(_,I,P){const U=I.data.field(_),X=P.data.field(_);return null!==U&&null!==X?$i(U,X):mt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return mt()}}class Po{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,_]of s)if(this.equalsFn(u,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let _=0;_<u.length;_++)if(this.equalsFn(u[_][0],e))return void(u[_]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(r,s)=>{for(const[u,_]of s)e(u,_)})}isEmpty(){return Go(this.inner)}size(){return this.innerSize}}const Gu=new ai(Zt.comparator);function Yr(){return Gu}const ha=new ai(Zt.comparator);function oo(...l){let e=ha;for(const r of l)e=e.insert(r.key,r);return e}function Dc(l){let e=ha;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Bo(){return Ms()}function bs(){return Ms()}function Ms(){return new Po(l=>l.toString(),(l,e)=>l.isEqual(e))}const Pa=new ai(Zt.comparator),xa=new Xr(Zt.comparator);function yr(...l){let e=xa;for(const r of l)e=e.add(r);return e}const Sc=new Xr(Xt);function fl(){return Sc}function Mc(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:et(e)?"-0":e}}function fa(l){return{integerValue:""+l}}function zs(l,e){return kt(e)?fa(e):Mc(l,e)}class $s{constructor(){this._=void 0}}function pa(l,e,r){return l instanceof Pc?function(u,_){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return _&&Mo(_)&&(_=Jo(_)),_&&(I.fields.__previous_value__=_),{mapValue:I}}(r,e):l instanceof Zs?Kd(l,e):l instanceof Ps?ml(l,e):function(u,_){const I=gl(u,_),P=Ya(I)+Ya(u.Pe);return Yn(I)&&Yn(u.Pe)?fa(P):Mc(u.serializer,P)}(l,e)}function pl(l,e,r){return l instanceof Zs?Kd(l,e):l instanceof Ps?ml(l,e):r}function gl(l,e){return l instanceof Ra?Yn(s=e)||(_=s)&&"doubleValue"in _?e:{integerValue:0}:null;var s,_}class Pc extends $s{}class Zs extends $s{constructor(e){super(),this.elements=e}}function Kd(l,e){const r=Kl(e);for(const s of l.elements)r.some(u=>Wr(u,s))||r.push(s);return{arrayValue:{values:r}}}class Ps extends $s{constructor(e){super(),this.elements=e}}function ml(l,e){let r=Kl(e);for(const s of l.elements)r=r.filter(u=>!Wr(u,s));return{arrayValue:{values:r}}}class Ra extends $s{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ya(l){return Ei(l.integerValue||l.doubleValue)}function Kl(l){return Mr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ga{constructor(e,r){this.field=e,this.transform=r}}class _l{constructor(e,r){this.version=e,this.transformResults=r}}class Ri{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class ce{}function z(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new bi(l.key,Ri.none()):new Nn(l.key,l.data,Ri.none());{const r=l.data,s=Nr.empty();let u=new Xr(nr.comparator);for(let _ of e.fields)if(!u.has(_)){let I=r.field(_);null===I&&_.length>1&&(_=_.popLast(),I=r.field(_)),null===I?s.delete(_):s.set(_,I),u=u.add(_)}return new $r(l.key,s,new Li(u.toArray()),Ri.none())}}function se(l,e,r){l instanceof Nn?function(u,_,I){const P=u.value.clone(),U=ui(u.fieldTransforms,_,I.transformResults);P.setAll(U),_.convertToFoundDocument(I.version,P).setHasCommittedMutations()}(l,e,r):l instanceof $r?function(u,_,I){if(!x(u.precondition,_))return void _.convertToUnknownDocument(I.version);const P=ui(u.fieldTransforms,_,I.transformResults),U=_.data;U.setAll(_i(u)),U.setAll(P),_.convertToFoundDocument(I.version,U).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ze(l,e,r,s){return l instanceof Nn?function(_,I,P,U){if(!x(_.precondition,I))return P;const X=_.value.clone(),me=xr(_.fieldTransforms,U,I);return X.setAll(me),I.convertToFoundDocument(I.version,X).setHasLocalMutations(),null}(l,e,r,s):l instanceof $r?function(_,I,P,U){if(!x(_.precondition,I))return P;const X=xr(_.fieldTransforms,U,I),me=I.data;return me.setAll(_i(_)),me.setAll(X),I.convertToFoundDocument(I.version,me).setHasLocalMutations(),null===P?null:P.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(Oe=>Oe.field))}(l,e,r,s):(P=r,x(l.precondition,I=e)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):P);var I,P}function Nt(l,e){let r=null;for(const s of l.fieldTransforms){const u=e.data.field(s.field),_=gl(s.transform,u||null);null!=_&&(null===r&&(r=Nr.empty()),r.set(s.field,_))}return r||null}function Ht(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Mn(s,u,(_,I)=>function xs(l,e){return l.field.isEqual(e.field)&&(u=e.transform,(s=l.transform)instanceof Zs&&u instanceof Zs||s instanceof Ps&&u instanceof Ps?Mn(s.elements,u.elements,Wr):s instanceof Ra&&u instanceof Ra?Wr(s.Pe,u.Pe):s instanceof Pc&&u instanceof Pc);var s,u}(_,I))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,u}class Nn extends ce{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $r extends ce{constructor(e,r,s,u,_=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function _i(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function ui(l,e,r){const s=new Map;Ge(l.length===r.length);for(let u=0;u<r.length;u++){const _=l[u],I=_.transform,P=e.data.field(_.field);s.set(_.field,pl(I,P,r[u]))}return s}function xr(l,e,r){const s=new Map;for(const u of l){const _=u.transform,I=r.data.field(u.field);s.set(u.field,pa(_,I,e))}return s}class bi extends ce{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class si extends ce{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lo{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const _=this.mutations[u];_.key.isEqual(e.key)&&se(_,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=ze(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=ze(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=bs();return this.mutations.forEach(u=>{const _=e.get(u.key),I=_.overlayedDocument;let P=this.applyToLocalView(I,_.mutatedFields);P=r.has(u.key)?null:P;const U=z(I,P);null!==U&&s.set(u.key,U),I.isValidDocument()||I.convertToNoDocument(un.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),yr())}isEqual(e){return this.batchId===e.batchId&&Mn(this.mutations,e.mutations,(r,s)=>Ht(r,s))&&Mn(this.baseMutations,e.baseMutations,(r,s)=>Ht(r,s))}}class Lo{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Ge(e.mutations.length===s.length);let u=Pa;const _=e.mutations;for(let I=0;I<_.length;I++)u=u.insert(_[I].key,s[I].version);return new Lo(e,r,s,u)}}class xo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xo{constructor(e,r){this.count=e,this.unchangedNames=r}}var Oi,fr;function es(l){switch(l){default:return mt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function Wo(l){if(void 0===l)return yt("GRPC error has no .code"),xe.UNKNOWN;switch(l){case Oi.OK:return xe.OK;case Oi.CANCELLED:return xe.CANCELLED;case Oi.UNKNOWN:return xe.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return xe.INTERNAL;case Oi.UNAVAILABLE:return xe.UNAVAILABLE;case Oi.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Oi.NOT_FOUND:return xe.NOT_FOUND;case Oi.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Oi.ABORTED:return xe.ABORTED;case Oi.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Oi.DATA_LOSS:return xe.DATA_LOSS;default:return mt()}}(fr=Oi||(Oi={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";function xc(){return new TextEncoder}const qs=new ae([4294967295,4294967295],0);function jo(l){const e=xc().encode(l),r=new ge;return r.update(e),new Uint8Array(r.digest())}function qu(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new ae([r,s],0),new ae([u,_],0)]}class Rc{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ws(`Invalid padding: ${r}`);if(s<0)throw new Ws(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ws(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ws(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ae.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(ae.fromNumber(s)));return 1===u.compare(qs)&&(u=new ae([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=jo(e),[s,u]=qu(r);for(let _=0;_<this.hashCount;_++){const I=this.Ee(s,u,_);if(!this.de(I))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),I=new Rc(_,u,r);return s.forEach(P=>I.insert(P)),I}insert(e){if(0===this.Ie)return;const r=jo(e),[s,u]=qu(r);for(let _=0;_<this.hashCount;_++){const I=this.Ee(s,u,_);this.Ae(I)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ho{constructor(e,r,s,u,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ho(un.min(),u,new ai(Xt),Yr(),yr())}}class Ja{constructor(e,r,s,u,_){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ja(s,r,yr(),yr(),yr())}}class Oc{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Qd{constructor(e,r){this.targetId=e,this.me=r}}class Ks{constructor(e,r,s=yi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Qs{constructor(){this.fe=0,this.ge=Yd(),this.pe=yi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=yr(),r=yr(),s=yr();return this.ge.forEach((u,_)=>{switch(_){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:mt()}}),new Ja(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Yd()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rs{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=Wu(),this.Qe=new ai(Xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:mt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const _=u.target;if(Eo(_))if(0===s){const I=new Zt(_.path);this.Ue(r,I,J.newNoDocument(I,un.min()))}else Ge(1===s);else{const I=this.Ye(r);if(I!==s){const P=this.Ze(e),U=P?this.Xe(P,e,I):1;0!==U&&(this.je(r),this.Qe=this.Qe.insert(r,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:_=0}=r;let I,P;try{I=vo(s).toUint8Array()}catch(U){if(U instanceof Qi)return Pt("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{P=new Rc(I,u,_)}catch(U){return Pt(U instanceof Ws?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===P.Ie?null:P}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(_=>{const I=this.Le.tt(),P=`projects/${I.projectId}/databases/${I.database}/documents/${_.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,_,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((_,I)=>{const P=this.Je(I);if(P){if(_.current&&Eo(P.target)){const U=new Zt(P.target.path);null!==this.ke.get(U)||this.it(I,U)||this.Ue(I,U,J.newNoDocument(U,e))}_.be&&(r.set(I,_.Ce()),_.ve())}});let s=yr();this.qe.forEach((_,I)=>{let P=!0;I.forEachWhile(U=>{const X=this.Je(U);return!X||"TargetPurposeLimboResolution"===X.purpose||(P=!1,!1)}),P&&(s=s.add(_))}),this.ke.forEach((_,I)=>I.setReadTime(e));const u=new Ho(e,r,this.Qe,this.ke,s);return this.ke=Yr(),this.qe=Wu(),this.Qe=new ai(Xt),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Qs,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Xr(Xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||he("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qs),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Wu(){return new ai(Zt.comparator)}function Yd(){return new ai(Zt.comparator)}const lf={asc:"ASCENDING",desc:"DESCENDING"},ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_r={and:"AND",or:"OR"};class Ku{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Nc(l,e){return l.useProto3Json||we(e)?e:{value:e}}function Oa(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jd(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Qu(l,e){return Oa(l,e.toTimestamp())}function Xi(l){return Ge(!!l),un.fromTimestamp(function(r){const s=Co(r);return new Gn(s.seconds,s.nanos)}(l))}function Na(l,e){return Xd(l,e).canonicalString()}function Xd(l,e){const r=(u=l,new zn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function uf(l){const e=zn.fromString(l);return Ge(He(e)),e}function Yu(l,e){return Na(l.databaseId,e.path)}function Os(l,e){const r=uf(e);if(r.get(1)!==l.databaseId.projectId)throw new re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new Zt(Ju(r))}function xp(l,e){return Na(l.databaseId,e)}function qt(l){const e=uf(l);return 4===e.length?zn.emptyPath():Ju(e)}function ri(l){return new zn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Ju(l){return Ge(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Xa(l,e,r){return{name:Yu(l,e),fields:r.value.mapValue.fields}}function Ro(l,e,r){const s=Os(l,e.name),u=Xi(e.updateTime),_=e.createTime?Xi(e.createTime):un.min(),I=new Nr({mapValue:{fields:e.fields}}),P=J.newFoundDocument(s,u,_,I);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function zo(l,e){let r;if(e instanceof Nn)r={update:Xa(l,e.key,e.value)};else if(e instanceof bi)r={delete:Yu(l,e.key)};else if(e instanceof $r)r={update:Xa(l,e.key,e.data),updateMask:ye(e.fieldMask)};else{if(!(e instanceof si))return mt();r={verify:Yu(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(_,I){const P=I.transform;if(P instanceof Pc)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Zs)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ps)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Ra)return{fieldPath:I.field.canonicalString(),increment:P.Pe};throw mt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Qu(l,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:mt()),r;var _}function Fc(l,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Ri.updateTime(Xi(_.updateTime)):void 0!==_.exists?Ri.exists(_.exists):Ri.none():Ri.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(I,P){let U=null;"setToServerValue"in P?(Ge("REQUEST_TIME"===P.setToServerValue),U=new Pc):"appendMissingElements"in P?U=new Zs(P.appendMissingElements.values||[]):"removeAllFromArray"in P?U=new Ps(P.removeAllFromArray.values||[]):"increment"in P?U=new Ra(I,P.increment):mt();const X=nr.fromServerFormat(P.fieldPath);return new ga(X,U)}(l,u)):[];var _;if(e.update){const u=Os(l,e.update.name),_=new Nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Li((e.updateMask.fieldPaths||[]).map(me=>nr.fromServerFormat(me)));return new $r(u,_,I,r,s)}return new Nn(u,_,r,s)}if(e.delete){const u=Os(l,e.delete);return new bi(u,r)}if(e.verify){const u=Os(l,e.verify);return new si(u,r)}return mt()}function eh(l,e){return{documents:[xp(l,e.path)]}}function th(l,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=xp(l,u);const _=function(X){if(0!==X.length)return Q(wn.create(X,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const I=function(X){if(0!==X.length)return X.map(me=>{return{field:w((nt=me).field),direction:ma(nt.dir)};var nt})}(e.orderBy);I&&(r.structuredQuery.orderBy=I);const P=Nc(l,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(X=e.startAt).inclusive,values:X.position}),e.endAt&&(r.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(e.endAt)),{_t:r,parent:u};var X}function ts(l){let e=qt(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Ge(1===s);const me=r.from[0];me.allDescendants?u=me.collectionId:e=e.child(me.collectionId)}let _=[];r.where&&(_=function(Oe){const nt=ed(Oe);return nt instanceof wn&&Ai(nt)?nt.getFilters():[nt]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(nt=>{return new Ft(N((Wt=nt).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let P=null;r.limit&&(P=function(Oe){let nt;return nt="object"==typeof Oe?Oe.value:Oe,we(nt)?null:nt}(r.limit));let U=null;var Oe;r.startAt&&(U=new Ue((Oe=r.startAt).values||[],!!Oe.before));let X=null;return r.endAt&&(X=function(Oe){return new Ue(Oe.values||[],!Oe.before)}(r.endAt)),Ee(e,u,I,_,P,"F",U,X)}function ed(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=N(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=N(r.unaryFilter.field);return Gt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=N(r.unaryFilter.field);return Gt.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=N(r.unaryFilter.field);return Gt.create(I,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(l):void 0!==l.fieldFilter?Gt.create(N((r=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return wn.create(r.compositeFilter.filters.map(s=>ed(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(r.compositeFilter.op))}(l):mt();var r}function ma(l){return lf[l]}function S(l){return ym[l]}function O(l){return _r[l]}function w(l){return{fieldPath:l.canonicalString()}}function N(l){return nr.fromServerFormat(l.fieldPath)}function Q(l){return l instanceof Gt?function(r){if("=="===r.op){if(Ii(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NAN"}};if(Vi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ii(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NAN"}};if(Vi(r.value))return{unaryFilter:{field:w(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w(r.field),op:S(r.op),value:r.value}}}(l):l instanceof wn?function(r){const s=r.getFilters().map(u=>Q(u));return 1===s.length?s[0]:{compositeFilter:{op:O(r.op),filters:s}}}(l):mt()}function ye(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function He(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Mt{constructor(e,r,s,u,_=un.min(),I=un.min(),P=yi.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P,this.expectedCount=U}withSequenceNumber(e){return new Mt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xt{constructor(e){this.ct=e}}function kr(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:vi(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Yu(_=l.ct,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Oa(_,I.version.toTimestamp()),createTime:Oa(_,I.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Rr(e.version)};else{if(!e.isUnknownDocument())return mt();s.unknownDocument={path:r.path.toArray(),version:Rr(e.version)}}var _,I;return s}function vi(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function Rr(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $o(l){const e=new Gn(l.seconds,l.nanoseconds);return un.fromTimestamp(e)}function ms(l,e){const r=(e.baseMutations||[]).map(_=>Fc(l.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const s=e.mutations.map(_=>Fc(l.ct,_)),u=Gn.fromMillis(e.localWriteTimeMs);return new lo(e.batchId,u,r,s)}function ks(l){const e=$o(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?$o(l.lastLimboFreeSnapshotVersion):un.min();let s;return s=void 0!==l.query.documents?(Ge(1===(_=l.query).documents.length),wi(We(qt(_.documents[0])))):function(_){return wi(ts(_))}(l.query),new Mt(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,yi.fromBase64String(l.resumeToken));var _}function _a(l,e){const r=Rr(e.snapshotVersion),s=Rr(e.lastLimboFreeSnapshotVersion);let u;u=Eo(e.target)?eh(l.ct,e.target):th(l.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jn(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Fs(l){const e=ts({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Qa(e,e.limit,"L"):e}function tc(l,e){return new xo(e.largestBatchId,Fc(l.ct,e.overlayMutation))}function ns(l,e){const r=e.path.lastSegment();return[l,$t(e.path.popLast()),r]}function Ls(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:Rr(s.readTime),documentKey:$t(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zi{getBundleMetadata(e,r){return df(e).get(r).next(s=>{if(s)return{id:(_=s).bundleId,createTime:$o(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return df(e).put({bundleId:(u=r).id,createTime:Rr(Xi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return nh(e).get(r).next(s=>{if(s)return{name:(_=s).name,query:Fs(_.bundledQuery),readTime:$o(_.readTime)};var _})}saveNamedQuery(e,r){return nh(e).put({name:(u=r).name,readTime:Rr(Xi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function df(l){return qr(l,"bundles")}function nh(l){return qr(l,"namedQueries")}class Ql{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Ql(e,r.uid||"")}getOverlay(e,r){return Ys(e).get(ns(this.userId,r)).next(s=>s?tc(this.serializer,s):null)}getOverlays(e,r){const s=Bo();return q.forEach(r,u=>this.getOverlay(e,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((_,I)=>{const P=new xo(r,I);u.push(this.ht(e,P))}),q.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(I=>u.add($t(I.getCollectionPath())));const _=[];return u.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,s],[this.userId,I,s+1],!1,!0);_.push(Ys(e).j("collectionPathOverlayIndex",P))}),q.waitFor(_)}getOverlaysForCollection(e,r,s){const u=Bo(),_=$t(r),I=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Ys(e).U("collectionPathOverlayIndex",I).next(P=>{for(const U of P){const X=tc(this.serializer,U);u.set(X.getKey(),X)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const _=Bo();let I;const P=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ys(e).J({index:"collectionGroupOverlayIndex",range:P},(U,X,me)=>{const Oe=tc(this.serializer,X);_.size()<u||Oe.largestBatchId===I?(_.set(Oe.getKey(),Oe),I=Oe.largestBatchId):me.done()}).next(()=>_)}ht(e,r){return Ys(e).put(function(u,_,I){const[P,U,X]=ns(_,I.mutation.key);return{userId:_,collectionPath:U,documentId:X,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:zo(u.ct,I.mutation)}}(this.serializer,this.userId,r))}}function Ys(l){return qr(l,"documentOverlays")}class Js{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ei(e.integerValue));else if("doubleValue"in e){const s=Ei(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),et(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Co(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(vo(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?oi(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):mt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Zt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function hf(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function td(l){const e=64-function(s){let u=0;for(let _=0;_<8;++_){const I=hf(255&s[_]);if(u+=I,8!==I)break}return u}(l);return Math.ceil(e/8)}Js.bt=new Js;class Xs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=td(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=td(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(_){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,_,!1),new Uint8Array(I.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class nd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class rd{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ka{constructor(){this.Gt=new Xs,this.zt=new nd(this.Gt),this.jt=new rd(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Fa{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Fa(this.indexId,this.documentKey,this.arrayValue,s)}}function ea(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=rh(l.arrayValue,e.arrayValue),0!==r?r:(r=rh(l.directionalValue,e.directionalValue),0!==r?r:Zt.comparator(l.documentKey,e.documentKey)))}function rh(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class id{constructor(e){this.Yt=new Xr((r,s)=>nr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ge(e.collectionGroup===this.collectionId),this.en)return!1;const r=Kn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Fn(e);let u=new Set,_=0,I=0;for(;_<s.length&&this.nn(s[_]);++_)u=u.add(s[_].fieldPath.canonicalString());if(_===s.length)return!0;if(this.Yt.size>0){const P=this.Yt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const U=s[_];if(!this.rn(P,U)||!this.sn(this.Zt[I++],U))return!1}++_}for(;_<s.length;++_)if(I>=this.Zt.length||!this.sn(this.Zt[I++],s[_]))return!1;return!0}on(){if(this.en)return null;let e=new Xr(nr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Br(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Br(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Br(s.field,"asc"===s.dir?0:1)));return new Cn(Cn.UNKNOWN_ID,this.collectionId,r,Qn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function od(l){var e,r;if(Ge(l instanceof Gt||l instanceof wn),l instanceof Gt){if(l instanceof Ut){const u=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>Gt.create(l.field,"==",_)))||[];return wn.create(u,"or")}return l}const s=l.filters.map(u=>od(u));return wn.create(s,l.op)}function Lc(l){if(0===l.getFilters().length)return[];const e=va(od(l));return Ge(Em(e)),vl(e)||Yl(e)?[e]:e.getFilters()}function vl(l){return l instanceof Gt}function Yl(l){return l instanceof wn&&Ai(l)}function Em(l){return vl(l)||Yl(l)||function(r){if(r instanceof wn&&$n(r)){for(const s of r.getFilters())if(!vl(s)&&!Yl(s))return!1;return!0}return!1}(l)}function va(l){if(Ge(l instanceof Gt||l instanceof wn),l instanceof Gt)return l;if(1===l.filters.length)return va(l.filters[0]);const e=l.filters.map(s=>va(s));let r=wn.create(e,l.op);return r=oh(r),Em(r)?r:(Ge(r instanceof wn),Ge(mr(r)),Ge(r.filters.length>1),r.filters.reduce((s,u)=>ih(s,u)))}function ih(l,e){let r;return Ge(l instanceof Gt||l instanceof wn),Ge(e instanceof Gt||e instanceof wn),r=l instanceof Gt?e instanceof Gt?wn.create([l,e],"and"):Rp(l,e):e instanceof Gt?Rp(e,l):function(u,_){if(Ge(u.filters.length>0&&_.filters.length>0),mr(u)&&mr(_))return Qr(u,_.getFilters());const I=$n(u)?u:_,P=$n(u)?_:u,U=I.filters.map(X=>ih(X,P));return wn.create(U,"or")}(l,e),oh(r)}function Rp(l,e){if(mr(e))return Qr(e,l.getFilters());{const r=e.filters.map(s=>ih(l,s));return wn.create(r,"or")}}function oh(l){if(Ge(l instanceof Gt||l instanceof wn),l instanceof Gt)return l;const e=l.getFilters();if(1===e.length)return oh(e[0]);if(Kr(l))return l;const r=e.map(u=>oh(u)),s=[];return r.forEach(u=>{u instanceof Gt?s.push(u):u instanceof wn&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:wn.create(s,l.op)}class Im{constructor(){this._n=new sh}addToCollectionParentIndex(e,r){return this._n.add(r),q.resolve()}getCollectionParents(e,r){return q.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return q.resolve()}deleteFieldIndex(e,r){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,r){return q.resolve()}getDocumentsMatchingTarget(e,r){return q.resolve(null)}getIndexType(e,r){return q.resolve(0)}getFieldIndexes(e,r){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,r){return q.resolve(In.min())}getMinOffsetFromCollectionGroup(e,r){return q.resolve(In.min())}updateCollectionGroup(e,r,s){return q.resolve()}updateIndexEntries(e,r){return q.resolve()}}class sh{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Xr(zn.comparator),_=!u.has(s);return this.index[r]=u.add(s),_}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Xr(zn.comparator)).toArray()}}const yl=new Uint8Array(0);class sd{constructor(e,r){this.databaseId=r,this.an=new sh,this.un=new Po(s=>Jn(s),(s,u)=>Cr(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const _={collectionId:s,parent:$t(u)};return Op(e).put(_)}return q.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[Vn(r),""],!1,!0);return Op(e).U(u).next(_=>{for(const I of _){if(I.collectionId!==r)break;s.push(fn(I.parent))}return s})}addFieldIndex(e,r){const s=El(e),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var P;delete u.indexId;const _=s.add(u);if(r.indexState){const I=na(e);return _.next(P=>{I.put(Ls(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const s=El(e),u=na(e),_=ta(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=El(e),s=ta(e),u=na(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return q.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const _=new id(s).on();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const s=ta(e);let u=!0;const _=new Map;return q.forEach(this.cn(r),I=>this.ln(e,I).next(P=>{u&&(u=!!P),_.set(I,P)})).next(()=>{if(u){let I=yr();const P=[];return q.forEach(_,(U,X)=>{var tr;he("IndexedDbIndexManager",`Using index ${tr=U,`id=${tr.indexId}|cg=${tr.collectionGroup}|f=${tr.fields.map(Ur=>`${Ur.fieldPath}:${Ur.kind}`).join(",")}`} to execute ${Jn(r)}`);const me=function(tr,Ur){const Ni=Kn(Ur);if(void 0===Ni)return null;for(const ii of Fo(tr,Ni.fieldPath))switch(ii.op){case"array-contains-any":return ii.value.arrayValue.values||[];case"array-contains":return[ii.value]}return null}(X,U),Oe=function(tr,Ur){const Ni=new Map;for(const ii of Fn(Ur))for(const vt of Fo(tr,ii.fieldPath))switch(vt.op){case"==":case"in":Ni.set(ii.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return Ni.set(ii.fieldPath.canonicalString(),vt.value),Array.from(Ni.values())}return null}(X,U),nt=function(tr,Ur){const Ni=[];let ii=!0;for(const vt of Fn(Ur)){const Je=0===vt.kind?Y(tr,vt.fieldPath,tr.startAt):ie(tr,vt.fieldPath,tr.startAt);Ni.push(Je.value),ii&&(ii=Je.inclusive)}return new Ue(Ni,ii)}(X,U),St=function(tr,Ur){const Ni=[];let ii=!0;for(const vt of Fn(Ur)){const Je=0===vt.kind?ie(tr,vt.fieldPath,tr.endAt):Y(tr,vt.fieldPath,tr.endAt);Ni.push(Je.value),ii&&(ii=Je.inclusive)}return new Ue(Ni,ii)}(X,U),Wt=this.hn(U,X,nt),_n=this.hn(U,X,St),tn=this.Pn(U,X,Oe),Wn=this.In(U.indexId,me,Wt,nt.inclusive,_n,St.inclusive,tn);return q.forEach(Wn,cr=>s.G(cr,r.limit).next(tr=>{tr.forEach(Ur=>{const Ni=Zt.fromSegments(Ur.documentKey);I.has(Ni)||(I=I.add(Ni),P.push(Ni))})}))}).next(()=>P)}return q.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Lc(wn.create(e.filters,"and")).map(s=>hr(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,_,I,P){const U=(null!=r?r.length:1)*Math.max(s.length,_.length),X=U/(null!=r?r.length:1),me=[];for(let Oe=0;Oe<U;++Oe){const nt=r?this.Tn(r[Oe/X]):yl,St=this.En(e,nt,s[Oe%X],u),Wt=this.dn(e,nt,_[Oe%X],I),_n=P.map(tn=>this.En(e,nt,tn,!0));me.push(...this.createRange(St,Wt,_n))}return me}En(e,r,s,u){const _=new Fa(e,Zt.empty(),r,s);return u?_:_.Jt()}dn(e,r,s,u){const _=new Fa(e,Zt.empty(),r,s);return u?_.Jt():_}ln(e,r){const s=new id(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(_=>{let I=null;for(const P of _)s.tn(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,r){let s=2;const u=this.cn(r);return q.forEach(u,_=>this.ln(e,_).next(I=>{I?0!==s&&I.fields.length<function(U){let X=new Xr(nr.comparator),me=!1;for(const Oe of U.filters)for(const nt of Oe.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?me=!0:X=X.add(nt.field));for(const Oe of U.orderBy)Oe.field.isKeyField()||(X=X.add(Oe.field));return X.size+(me?1:0)}(_)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new ka;for(const u of Fn(e)){const _=r.data.field(u.fieldPath);if(null==_)return null;const I=s.Ht(u.kind);Js.bt.Pt(_,I)}return s.Wt()}Tn(e){const r=new ka;return Js.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new ka;return Js.bt.Pt(mn(this.databaseId,r),s.Ht(function(_){const I=Fn(_);return 0===I.length?0:I[I.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new ka);let _=0;for(const I of Fn(e)){const P=s[_++];for(const U of u)if(this.Vn(r,I.fieldPath)&&Mr(P))u=this.mn(u,I,P);else{const X=U.Ht(I.kind);Js.bt.Pt(P,X)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],_=[];for(const I of s.arrayValue.values||[])for(const P of u){const U=new ka;U.seed(P.Wt()),Js.bt.Pt(I,U.Ht(r.kind)),_.push(U)}return _}Vn(e,r){return!!e.filters.find(s=>s instanceof Gt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=El(e),u=na(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(_=>{const I=[];return q.forEach(_,P=>u.get([P.indexId,this.uid]).next(U=>{I.push(function(me,Oe){const nt=Oe?new Qn(Oe.sequenceNumber,new In($o(Oe.readTime),new Zt(fn(Oe.documentKey)),Oe.largestBatchId)):Qn.empty(),St=me.fields.map(([Wt,_n])=>new Br(nr.fromServerFormat(Wt),_n));return new Cn(me.indexId,me.collectionGroup,St,nt)}(P,U))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const _=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==_?_:Xt(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=El(e),_=na(e);return this.gn(e).next(I=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>q.forEach(P,U=>_.put(Ls(U.indexId,this.uid,I,s)))))}updateIndexEntries(e,r){const s=new Map;return q.forEach(r,(u,_)=>{const I=s.get(u.collectionGroup);return(I?q.resolve(I):this.getFieldIndexes(e,u.collectionGroup)).next(P=>(s.set(u.collectionGroup,P),q.forEach(P,U=>this.pn(e,u,U).next(X=>{const me=this.yn(_,U);return X.isEqual(me)?q.resolve():this.wn(e,_,U,X,me)}))))})}Sn(e,r,s,u){return ta(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return ta(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=ta(e);let _=new Xr(ea);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(I,P)=>{_=_.add(new Fa(s.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>_)}yn(e,r){let s=new Xr(ea);const u=this.An(r,e);if(null==u)return s;const _=Kn(r);if(null!=_){const I=e.data.field(_.fieldPath);if(Mr(I))for(const P of I.arrayValue.values||[])s=s.add(new Fa(r.indexId,e.key,this.Tn(P),u))}else s=s.add(new Fa(r.indexId,e.key,yl,u));return s}wn(e,r,s,u,_){he("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(U,X,me,Oe,nt){const St=U.getIterator(),Wt=X.getIterator();let _n=ko(St),tn=ko(Wt);for(;_n||tn;){let Wn=!1,cr=!1;if(_n&&tn){const tr=me(_n,tn);tr<0?cr=!0:tr>0&&(Wn=!0)}else null!=_n?cr=!0:Wn=!0;Wn?(Oe(tn),tn=ko(Wt)):cr?(nt(_n),_n=ko(St)):(_n=ko(St),tn=ko(Wt))}}(u,_,ea,P=>{I.push(this.Sn(e,r,s,P))},P=>{I.push(this.bn(e,r,s,P))}),q.waitFor(I)}gn(e){let r=1;return na(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,_)=>{_.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((I,P)=>ea(I,P)).filter((I,P,U)=>!P||0!==ea(I,U[P-1]));const u=[];u.push(e);for(const I of s){const P=ea(I,e),U=ea(I,r);if(0===P)u[0]=e.Jt();else if(P>0&&U<0)u.push(I),u.push(I.Jt());else if(U>0)break}u.push(r);const _=[];for(let I=0;I<u.length;I+=2){if(this.Dn(u[I],u[I+1]))return[];_.push(IDBKeyRange.bound([u[I].indexId,this.uid,u[I].arrayValue,u[I].directionalValue,yl,[]],[u[I+1].indexId,this.uid,u[I+1].arrayValue,u[I+1].directionalValue,yl,[]]))}return _}Dn(e,r){return ea(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Am)}getMinOffset(e,r){return q.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||mt())).next(Am)}}function Op(l){return qr(l,"collectionParents")}function ta(l){return qr(l,"indexEntries")}function El(l){return qr(l,"indexConfiguration")}function na(l){return qr(l,"indexState")}function Am(l){Ge(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;Gr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new In(e.readTime,e.documentKey,r)}const ad={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Np(l,e,r){const s=l.store("mutations"),u=l.store("documentMutations"),_=[],I=IDBKeyRange.only(r.batchId);let P=0;const U=s.J({range:I},(me,Oe,nt)=>(P++,nt.delete()));_.push(U.next(()=>{Ge(1===P)}));const X=[];for(const me of r.mutations){const Oe=Qe(e,me.key.path,r.batchId);_.push(u.delete(Oe)),X.push(me.key)}return q.waitFor(_).next(()=>X)}function ho(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw mt();e=l.noDocument}return JSON.stringify(e).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Jl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Ge(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Jl(_,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).J({index:"userMutationsIndex",range:s},(u,_,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const _=La(e),I=ra(e);return I.add({}).next(P=>{Ge("number"==typeof P);const U=new lo(P,r,s,u),X=function(St,Wt,_n){const tn=_n.baseMutations.map(cr=>zo(St.ct,cr)),Wn=_n.mutations.map(cr=>zo(St.ct,cr));return{userId:Wt,batchId:_n.batchId,localWriteTimeMs:_n.localWriteTime.toMillis(),baseMutations:tn,mutations:Wn}}(this.serializer,this.userId,U),me=[];let Oe=new Xr((nt,St)=>Xt(nt.canonicalString(),St.canonicalString()));for(const nt of u){const St=Qe(this.userId,nt.key.path,P);Oe=Oe.add(nt.key.path.popLast()),me.push(I.put(X)),me.push(_.put(St,it))}return Oe.forEach(nt=>{me.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.Cn[P]=U.keys()}),q.waitFor(me).next(()=>U)})}lookupMutationBatch(e,r){return ra(e).get(r).next(s=>s?(Ge(s.userId===this.userId),ms(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?q.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let _=null;return ra(e).J({index:"userMutationsIndex",range:u},(I,P,U)=>{P.userId===this.userId&&(Ge(P.batchId>=s),_=ms(this.serializer,P)),U.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ra(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,_,I)=>{s=_.batchId,I.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).U("userMutationsIndex",r).next(s=>s.map(u=>ms(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=rt(this.userId,r.path),u=IDBKeyRange.lowerBound(s),_=[];return La(e).J({range:u},(I,P,U)=>{const[X,me,Oe]=I,nt=fn(me);if(X===this.userId&&r.path.isEqual(nt))return ra(e).get(Oe).next(St=>{if(!St)throw mt();Ge(St.userId===this.userId),_.push(ms(this.serializer,St))});U.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Xr(Xt);const u=[];return r.forEach(_=>{const I=rt(this.userId,_.path),P=IDBKeyRange.lowerBound(I),U=La(e).J({range:P},(X,me,Oe)=>{const[nt,St,Wt]=X,_n=fn(St);nt===this.userId&&_.path.isEqual(_n)?s=s.add(Wt):Oe.done()});u.push(U)}),q.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,_=rt(this.userId,s),I=IDBKeyRange.lowerBound(_);let P=new Xr(Xt);return La(e).J({range:I},(U,X,me)=>{const[Oe,nt,St]=U,Wt=fn(nt);Oe===this.userId&&s.isPrefixOf(Wt)?Wt.length===u&&(P=P.add(St)):me.done()}).next(()=>this.Fn(e,P))}Fn(e,r){const s=[],u=[];return r.forEach(_=>{u.push(ra(e).get(_).next(I=>{if(null===I)throw mt();Ge(I.userId===this.userId),s.push(ms(this.serializer,I))}))}),q.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Np(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),q.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return q.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return La(e).J({range:s},(_,I,P)=>{if(_[0]===this.userId){const U=fn(_[1]);u.push(U)}else P.done()}).next(()=>{Ge(0===u.length)})})}containsKey(e,r){return cd(e,this.userId,r)}xn(e){return Il(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cd(l,e,r){const s=rt(e,r.path),u=s[1],_=IDBKeyRange.lowerBound(s);let I=!1;return La(l).J({range:_,H:!0},(P,U,X)=>{const[me,Oe,nt]=P;me===e&&Oe===u&&(I=!0),X.done()}).next(()=>I)}function ra(l){return qr(l,"mutations")}function La(l){return qr(l,"documentMutations")}function Il(l){return qr(l,"mutationQueues")}class Tr{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Tr(0)}static Ln(){return new Tr(-1)}}class Al{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Tr(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>un.fromTimestamp(new Gn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Cs(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Ge(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const _=[];return Cs(e).J((I,P)=>{const U=ks(P);U.sequenceNumber<=r&&null===s.get(U.targetId)&&(u++,_.push(this.removeTargetData(e,U)))}).next(()=>q.waitFor(_)).next(()=>u)}forEachTarget(e,r){return Cs(e).J((s,u)=>{const _=ks(u);r(_)})}Bn(e){return ia(e).get("targetGlobalKey").next(r=>(Ge(null!==r),r))}kn(e,r){return ia(e).put("targetGlobalKey",r)}qn(e,r){return Cs(e).put(_a(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Jn(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let _=null;return Cs(e).J({range:u,index:"queryTargetsIndex"},(I,P,U)=>{const X=ks(P);Cr(r,X.target)&&(_=X,U.done())}).next(()=>_)}addMatchingKeys(e,r,s){const u=[],_=fi(e);return r.forEach(I=>{const P=$t(I.path);u.push(_.put({targetId:s,path:P})),u.push(this.referenceDelegate.addReference(e,s,I))}),q.waitFor(u)}removeMatchingKeys(e,r,s){const u=fi(e);return q.forEach(r,_=>{const I=$t(_.path);return q.waitFor([u.delete([s,I]),this.referenceDelegate.removeReference(e,s,_)])})}removeMatchingKeysForTargetId(e,r){const s=fi(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=fi(e);let _=yr();return u.J({range:s,H:!0},(I,P,U)=>{const X=fn(I[1]),me=new Zt(X);_=_.add(me)}).next(()=>_)}containsKey(e,r){const s=$t(r.path),u=IDBKeyRange.bound([s],[Vn(s)],!1,!0);let _=0;return fi(e).J({index:"documentTargetsIndex",H:!0,range:u},([I,P],U,X)=>{0!==I&&(_++,X.done())}).next(()=>_>0)}ot(e,r){return Cs(e).get(r).next(s=>s?ks(s):null)}}function Cs(l){return qr(l,"targets")}function ia(l){return qr(l,"targetGlobal")}function fi(l){return qr(l,"targetDocuments")}function Vc([l,e],[r,s]){const u=Xt(l,r);return 0===u?Xt(e,s):u}class ld{constructor(e){this.Kn=e,this.buffer=new Xr(Vc),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Vc(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Xl{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){ur(s)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ar(s)}yield r.zn(3e5)}))}}class Uc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return q.resolve(F.oe);const s=new ld(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ad)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ad):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,_,I,P,U,X;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Oe=>(Oe>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Oe}`),u=this.params.maximumSequenceNumbersToCollect):u=Oe,I=Date.now(),this.nthSequenceNumber(e,u))).next(Oe=>(s=Oe,P=Date.now(),this.removeTargets(e,s,r))).next(Oe=>(_=Oe,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Oe=>(X=Date.now(),ft()<=Se.in.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-me}ms\n\tDetermined least recently used ${u} in `+(P-I)+`ms\n\tRemoved ${_} targets in `+(U-P)+`ms\n\tRemoved ${Oe} documents in `+(X-U)+`ms\nTotal Duration: ${X-me}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:_,documentsRemoved:Oe})))}}class ff{constructor(e,r){this.db=e,this.garbageCollector=function Bc(l,e){return new Uc(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return jc(e,s)}removeReference(e,r,s){return jc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return jc(e,r)}er(e,r){return function(u,_){let I=!1;return Il(u).Y(P=>cd(u,P,_).next(U=>(U&&(I=!0),q.resolve(!U)))).next(()=>I)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let _=0;return this.Xn(e,(I,P)=>{if(P<=r){const U=this.er(e,I).next(X=>{if(!X)return _++,s.getEntry(e,I).next(()=>(s.removeEntry(I,un.min()),fi(e).delete([0,$t(I.path)])))});u.push(U)}}).next(()=>q.waitFor(u)).next(()=>s.apply(e)).next(()=>_)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return jc(e,r)}Xn(e,r){const s=fi(e);let u,_=F.oe;return s.J({index:"documentTargetsIndex"},([I,P],{path:U,sequenceNumber:X})=>{0===I?(_!==F.oe&&r(new Zt(fn(u)),_),_=X,u=U):_=F.oe}).next(()=>{_!==F.oe&&r(new Zt(fn(u)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(l,e){return fi(l).put((u=l.currentSequenceNumber,{targetId:0,path:$t(e.path),sequenceNumber:u}));var u}class nc{constructor(){this.changes=new Po(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,J.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?q.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return ya(e).put(s)}removeEntry(e,r,s){return ya(e).delete(function(_,I){const P=_.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],vi(I),P[P.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=J.newInvalidDocument(r);return ya(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(r))},(u,_)=>{s=this.nr(r,_)}).next(()=>s)}rr(e,r){let s={size:0,document:J.newInvalidDocument(r)};return ya(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(r))},(u,_)=>{s={document:this.nr(r,_),size:ho(_)}}).next(()=>s)}getEntries(e,r){let s=Yr();return this.ir(e,r,(u,_)=>{const I=this.nr(u,_);s=s.insert(u,I)}).next(()=>s)}sr(e,r){let s=Yr(),u=new ai(Zt.comparator);return this.ir(e,r,(_,I)=>{const P=this.nr(_,I);s=s.insert(_,P),u=u.insert(_,ho(I))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return q.resolve();let u=new Xr(oa);r.forEach(U=>u=u.add(U));const _=IDBKeyRange.bound(Hc(u.first()),Hc(u.last())),I=u.getIterator();let P=I.getNext();return ya(e).J({index:"documentKeyIndex",range:_},(U,X,me)=>{const Oe=Zt.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;P&&oa(P,Oe)<0;)s(P,null),P=I.getNext();P&&P.isEqual(Oe)&&(s(P,X),P=I.hasNext()?I.getNext():null),P?me.$(Hc(P)):me.done()}).next(()=>{for(;P;)s(P,null),P=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,_){const I=r.path,P=[I.popLast().toArray(),I.lastSegment(),vi(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],U=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ya(e).U(IDBKeyRange.bound(P,U,!0)).next(X=>{_?.incrementDocumentReadCount(X.length);let me=Yr();for(const Oe of X){const nt=this.nr(Zt.fromSegments(Oe.prefixPath.concat(Oe.collectionGroup,Oe.documentId)),Oe);nt.isFoundDocument()&&(da(r,nt)||u.has(nt.key))&&(me=me.insert(nt.key,nt))}return me})}getAllFromCollectionGroup(e,r,s,u){let _=Yr();const I=Ea(r,s),P=Ea(r,In.max());return ya(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(U,X,me)=>{const Oe=this.nr(Zt.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);_=_.insert(Oe.key,Oe),_.size===u&&me.done()}).next(()=>_)}newChangeBuffer(e){return new ah(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return eu(e).get("remoteDocumentGlobalKey").next(r=>(Ge(!!r),r))}tr(e,r){return eu(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Dn(l,e){let r;if(e.document)r=Ro(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Zt.fromSegments(e.noDocument.path),u=$o(e.noDocument.readTime);r=J.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const s=Zt.fromSegments(e.unknownDocument.path),u=$o(e.unknownDocument.version);r=J.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const _=new Gn(u[0],u[1]);return un.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(un.min()))return s}return J.newInvalidDocument(e)}}function Vo(l){return new kp(l)}class ah extends nc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Po(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Xr((_,I)=>Xt(_.canonicalString(),I.canonicalString()));return this.changes.forEach((_,I)=>{const P=this.ur.get(_);if(r.push(this.ar.removeEntry(e,_,P.readTime)),I.isValidDocument()){const U=kr(this.ar.serializer,I);u=u.add(_.path.popLast());const X=ho(U);s+=X-P.size,r.push(this.ar.addEntry(e,_,U))}else if(s-=P.size,this.trackRemovals){const U=kr(this.ar.serializer,I.convertToNoDocument(un.min()));r.push(this.ar.addEntry(e,_,U))}}),u.forEach(_=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.ar.updateMetadata(e,s)),q.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((_,I)=>{this.ur.set(_,{size:I,readTime:s.get(_).readTime})}),s))}}function eu(l){return qr(l,"remoteDocumentGlobal")}function ya(l){return qr(l,"remoteDocumentsV14")}function Hc(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ea(l,e){const r=e.documentKey.path.toArray();return[l,vi(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function oa(l,e){const r=l.path.toArray(),s=e.path.toArray();let u=0;for(let _=0;_<r.length-2&&_<s.length-2;++_)if(u=Xt(r[_],s[_]),u)return u;return u=Xt(r.length,s.length),u||(u=Xt(r[r.length-2],s[s.length-2]),u||Xt(r[r.length-1],s[s.length-1]))}class Va{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class zc{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&ze(s.mutation,u,Li.empty(),Gn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,yr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=yr()){const u=Bo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(_=>{let I=oo();return _.forEach((P,U)=>{I=I.insert(P,U.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const s=Bo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,yr()))}populateOverlays(e,r,s){const u=[];return s.forEach(_=>{r.has(_)||u.push(_)}),this.documentOverlayCache.getOverlays(e,u).next(_=>{_.forEach((I,P)=>{r.set(I,P)})})}computeViews(e,r,s,u){let _=Yr();const I=Ms(),P=Ms();return r.forEach((U,X)=>{const me=s.get(X.key);u.has(X.key)&&(void 0===me||me.mutation instanceof $r)?_=_.insert(X.key,X):void 0!==me?(I.set(X.key,me.mutation.getFieldMask()),ze(me.mutation,X,me.mutation.getFieldMask(),Gn.now())):I.set(X.key,Li.empty())}),this.recalculateAndSaveOverlays(e,_).next(U=>(U.forEach((X,me)=>I.set(X,me)),r.forEach((X,me)=>{var Oe;return P.set(X,new Va(me,null!==(Oe=I.get(X))&&void 0!==Oe?Oe:null))}),P))}recalculateAndSaveOverlays(e,r){const s=Ms();let u=new ai((I,P)=>I-P),_=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const P of I)P.keys().forEach(U=>{const X=r.get(U);if(null===X)return;let me=s.get(U)||Li.empty();me=P.applyToLocalView(X,me),s.set(U,me);const Oe=(u.get(P.batchId)||yr()).add(U);u=u.insert(P.batchId,Oe)})}).next(()=>{const I=[],P=u.getReverseIterator();for(;P.hasNext();){const U=P.getNext(),X=U.key,me=U.value,Oe=bs();me.forEach(nt=>{if(!_.has(nt)){const St=z(r.get(nt),s.get(nt));null!==St&&Oe.set(nt,St),_=_.add(nt)}}),I.push(this.documentOverlayCache.saveOverlays(e,X,Oe))}return q.waitFor(I)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Zt.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Dr(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var I}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(_=>{const I=u-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-_.size):q.resolve(Bo());let P=-1,U=_;return I.next(X=>q.forEach(X,(me,Oe)=>(P<Oe.largestBatchId&&(P=Oe.largestBatchId),_.get(me)?q.resolve():this.remoteDocumentCache.getEntry(e,me).next(nt=>{U=U.insert(me,nt)}))).next(()=>this.populateOverlays(e,X,_)).next(()=>this.computeViews(e,U,X,yr())).next(me=>({batchId:P,changes:Dc(me)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Zt(r)).next(s=>{let u=oo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const _=r.collectionGroup;let I=oo();return this.indexManager.getCollectionParents(e,_).next(P=>q.forEach(P,U=>{const X=(Oe=r,nt=U.child(_),new L(nt,null,Oe.explicitOrderBy.slice(),Oe.filters.slice(),Oe.limit,Oe.limitType,Oe.startAt,Oe.endAt));var Oe,nt;return this.getDocumentsMatchingCollectionQuery(e,X,s,u).next(me=>{me.forEach((Oe,nt)=>{I=I.insert(Oe,nt)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(e,r,s,u){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(I=>(_=I,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,_,u))).next(I=>{_.forEach((U,X)=>{const me=X.getKey();null===I.get(me)&&(I=I.insert(me,J.newInvalidDocument(me)))});let P=oo();return I.forEach((U,X)=>{const me=_.get(U);void 0!==me&&ze(me.mutation,X,Li.empty(),Gn.now()),da(r,X)&&(P=P.insert(U,X))}),P})}}class bl{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return q.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Xi(u.createTime)}),q.resolve();var u}getNamedQuery(e,r){return q.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:Fs(u.bundledQuery),readTime:Xi(u.readTime)}),q.resolve();var u}}class tu{constructor(){this.overlays=new ai(Zt.comparator),this.hr=new Map}getOverlay(e,r){return q.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Bo();return q.forEach(r,u=>this.getOverlay(e,u).next(_=>{null!==_&&s.set(u,_)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,_)=>{this.ht(e,r,_)}),q.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(_=>this.overlays=this.overlays.remove(_)),this.hr.delete(s)),q.resolve()}getOverlaysForCollection(e,r,s){const u=Bo(),_=r.length+1,I=new Zt(r.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const U=P.getNext().value,X=U.getKey();if(!r.isPrefixOf(X.path))break;X.path.length===_&&U.largestBatchId>s&&u.set(U.getKey(),U)}return q.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let _=new ai((X,me)=>X-me);const I=this.overlays.getIterator();for(;I.hasNext();){const X=I.getNext().value;if(X.getKey().getCollectionGroup()===r&&X.largestBatchId>s){let me=_.get(X.largestBatchId);null===me&&(me=Bo(),_=_.insert(X.largestBatchId,me)),me.set(X.getKey(),X)}}const P=Bo(),U=_.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((X,me)=>P.set(X,me)),!(P.size()>=u)););return q.resolve(P)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const I=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,I)}this.overlays=this.overlays.insert(s.key,new xo(r,s));let _=this.hr.get(r);void 0===_&&(_=yr(),this.hr.set(r,_)),this.hr.set(r,_.add(s.key))}}class $c{constructor(){this.Pr=new Xr(fo.Ir),this.Tr=new Xr(fo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new fo(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new fo(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Zt(new zn([])),s=new fo(r,e),u=new fo(r,e+1),_=[];return this.Tr.forEachInRange([s,u],I=>{this.Ar(I),_.push(I.key)}),_}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Zt(new zn([])),s=new fo(r,e),u=new fo(r,e+1);let _=yr();return this.Tr.forEachInRange([s,u],I=>{_=_.add(I.key)}),_}containsKey(e){const r=new fo(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class fo{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Zt.comparator(e.key,r.key)||Xt(e.pr,r.pr)}static Er(e,r){return Xt(e.pr,r.pr)||Zt.comparator(e.key,r.key)}}class bm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Xr(fo.Ir)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const _=this.yr;this.yr++;const I=new lo(_,r,s,u);this.mutationQueue.push(I);for(const P of u)this.wr=this.wr.add(new fo(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return q.resolve(I)}lookupMutationBatch(e,r){return q.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),_=u<0?0:u;return q.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new fo(r,0),u=new fo(r,Number.POSITIVE_INFINITY),_=[];return this.wr.forEachInRange([s,u],I=>{const P=this.Sr(I.pr);_.push(P)}),q.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Xr(Xt);return r.forEach(u=>{const _=new fo(u,0),I=new fo(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([_,I],P=>{s=s.add(P.pr)})}),q.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let _=s;Zt.isDocumentKey(_)||(_=_.child(""));const I=new fo(new Zt(_),0);let P=new Xr(Xt);return this.wr.forEachWhile(U=>{const X=U.key.path;return!!s.isPrefixOf(X)&&(X.length===u&&(P=P.add(U.pr)),!0)},I),q.resolve(this.Dr(P))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Ge(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return q.forEach(r.mutations,u=>{const _=new fo(u.key,r.batchId);return s=s.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new fo(r,0),u=this.wr.firstAfterOrEqual(s);return q.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return q.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Fp{constructor(e){this.vr=e,this.docs=new ai(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),_=u?u.size:0,I=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:I}),this.size+=I-_,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return q.resolve(s?s.document.mutableCopy():J.newInvalidDocument(r))}getEntries(e,r){let s=Yr();return r.forEach(u=>{const _=this.docs.get(u);s=s.insert(u,_?_.document.mutableCopy():J.newInvalidDocument(u))}),q.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let _=Yr();const I=r.path,P=new Zt(I.child("")),U=this.docs.getIteratorFrom(P);for(;U.hasNext();){const{key:X,value:{document:me}}=U.getNext();if(!I.isPrefixOf(X.path))break;X.path.length>I.length+1||Gr(gi(me),s)<=0||(u.has(me.key)||da(r,me))&&(_=_.insert(me.key,me.mutableCopy()))}return q.resolve(_)}getAllFromCollectionGroup(e,r,s,u){mt()}Fr(e,r){return q.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new pf(this)}getSize(e){return q.resolve(this.size)}}class pf extends nc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),q.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class X_{constructor(e){this.persistence=e,this.Mr=new Po(r=>Jn(r),Cr),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.Or=0,this.Nr=new $c,this.targetCount=0,this.Lr=Tr.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),q.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Tr(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,q.resolve()}updateTargetData(e,r){return this.qn(r),q.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,r,s){let u=0;const _=[];return this.Mr.forEach((I,P)=>{P.sequenceNumber<=r&&null===s.get(P.targetId)&&(this.Mr.delete(I),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),u++)}),q.waitFor(_).next(()=>u)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return q.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),q.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,_=[];return u&&r.forEach(I=>{_.push(u.markPotentiallyOrphaned(e,I))}),q.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),q.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return q.resolve(s)}containsKey(e,r){return q.resolve(this.Nr.containsKey(r))}}class Lp{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new X_(this),this.indexManager=new Im,this.remoteDocumentCache=new Fp(s=>this.referenceDelegate.Kr(s)),this.serializer=new xt(r),this.$r=new bl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new tu,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new bm(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){he("MemoryPersistence","Starting transaction:",e);const u=new Cm(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(_=>this.referenceDelegate.Wr(u).next(()=>_)).toPromise().then(_=>(u.raiseOnCommittedEvent(),_))}Gr(e,r){return q.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Cm extends Sr{constructor(e){super(),this.currentSequenceNumber=e}}class ch{constructor(e){this.persistence=e,this.zr=new $c,this.jr=null}static Hr(e){return new ch(e)}get Jr(){if(this.jr)return this.jr;throw mt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),q.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),q.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(_=>this.Jr.add(_.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,s=>{const u=Zt.fromPath(s);return this.Yr(e,u).next(_=>{_||r.removeEntry(u,un.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return q.or([()=>q.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class ru{constructor(e){this.serializer=e}O(e,r,s,u){const _=new ke("createOrUpgrade",r);var U;s<1&&u>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0}),U.createObjectStore("documentMutations"),Vp(e),function(U){U.createObjectStore("remoteDocuments")}(e));let I=q.resolve();return s<3&&u>=3&&(0!==s&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Vp(e)),I=I.next(()=>function(U){const X=U.store("targetGlobal"),me={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:un.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",me)}(_))),s<4&&u>=4&&(0!==s&&(I=I.next(()=>function(U,X){return X.store("mutations").U().next(me=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0});const Oe=X.store("mutations"),nt=me.map(St=>Oe.put(St));return q.waitFor(nt)})}(e,_))),I=I.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(I=I.next(()=>this.Xr(_))),s<6&&u>=6&&(I=I.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.ei(_)))),s<7&&u>=7&&(I=I.next(()=>this.ti(_))),s<8&&u>=8&&(I=I.next(()=>this.ni(e,_))),s<9&&u>=9&&(I=I.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(I=I.next(()=>this.ri(_))),s<11&&u>=11&&(I=I.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(I=I.next(()=>{!function(U){const X=U.createObjectStore("documentOverlays",{keyPath:Or});X.createIndex("collectionPathOverlayIndex",pr,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",sr,{unique:!1})}(e)})),s<13&&u>=13&&(I=I.next(()=>function(U){const X=U.createObjectStore("remoteDocumentsV14",{keyPath:jt});X.createIndex("documentKeyIndex",en),X.createIndex("collectionGroupIndex",Tn)}(e)).next(()=>this.ii(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(I=I.next(()=>this.si(e,_))),s<15&&u>=15&&(I=I.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:go}).createIndex("sequenceNumberIndex",Wi,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:co}).createIndex("documentKeyIndex",ki,{unique:!1})}(e))),s<16&&u>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),I}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=ho(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>q.forEach(u,_=>{const I=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",I).next(P=>q.forEach(P,U=>{Ge(U.userId===_.userId);const X=ms(this.serializer,U);return Np(e,_.userId,X).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const _=[];return s.J((I,P)=>{const U=new zn(I),X=[0,$t(U)];_.push(r.get(X).next(me=>me?q.resolve():r.put({targetId:0,path:$t(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>q.waitFor(_))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:li});const s=r.store("collectionParents"),u=new sh,_=I=>{if(u.add(I)){const P=I.lastSegment(),U=I.popLast();return s.put({collectionId:P,parent:$t(U)})}};return r.store("remoteDocuments").J({H:!0},(I,P)=>{const U=new zn(I);return _(U.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,P,U],X)=>{const me=fn(P);return _(me.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const _=ks(u),I=_a(this.serializer,_);return r.put(I)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((_,I)=>{const P=r.store("remoteDocumentsV14"),U=(Oe=I,Oe.document?new Zt(zn.fromString(Oe.document.name).popFirst(5)):Oe.noDocument?Zt.fromSegments(Oe.noDocument.path):Oe.unknownDocument?Zt.fromSegments(Oe.unknownDocument.path):mt()).path.toArray(),X={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var Oe;u.push(P.put(X))}).next(()=>q.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Vo(this.serializer),_=new Lp(ch.Hr,this.serializer.ct);return s.U().next(I=>{const P=new Map;return I.forEach(U=>{var X;let me=null!==(X=P.get(U.userId))&&void 0!==X?X:yr();ms(this.serializer,U).keys().forEach(Oe=>me=me.add(Oe)),P.set(U.userId,me)}),q.forEach(P,(U,X)=>{const me=new tt(X),Oe=Ql.lt(this.serializer,me),nt=_.getIndexManager(me),St=Jl.lt(me,this.serializer,nt,_.referenceDelegate);return new zc(u,St,Oe,nt).recalculateAndSaveOverlaysForDocumentKeys(new Ki(r,F.oe),U).next()})})}}function Vp(l){l.createObjectStore("targetDocuments",{keyPath:Ir}).createIndex("documentTargetsIndex",bn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dn,{unique:!0}),l.createObjectStore("targetGlobal")}const iu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Io{constructor(e,r,s,u,_,I,P,U,X,me,Oe=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=_,this.window=I,this.document=P,this._i=X,this.ai=me,this.ui=Oe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=nt=>Promise.resolve(),!Io.D())throw new re(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ff(this,u),this.Ti=r+"main",this.serializer=new xt(U),this.Ei=new bt(this.Ti,this.ui,new ru(this.serializer)),this.Qr=new Al(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vo(this.serializer),this.$r=new Zi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===me&&yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(xe.FAILED_PRECONDITION,iu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,f.Z)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,f.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(ur(e))return he("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return ou(e).get("owner").next(r=>q.resolve(this.Si(r)))}bi(e){return Zc(e).delete(this.clientId)}Di(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=qr(s,"clientMetadata");return u.U().next(_=>{const I=e.vi(_,18e5),P=_.filter(U=>-1===I.indexOf(U));return q.forEach(P,U=>u.delete(U.clientId)).next(()=>P)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?q.resolve(!0):ou(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new re(xe.FAILED_PRECONDITION,iu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zc(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&he("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,f.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ki(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Zc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Jl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ql.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){he("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",_=16===(U=this.ui)?mi:15===U?xi:14===U?gr:13===U?Ci:12===U?mo:11===U?bo:void mt();var U;let I;return this.Ei.runTransaction(e,u,_,P=>(I=new Ki(P,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(I).next(U=>!!U||this.pi(I)).next(U=>{if(!U)throw yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new re(xe.FAILED_PRECONDITION,rr);return s(I)}).next(U=>this.wi(I).next(()=>U)):this.ki(I).next(()=>s(I)))).then(P=>(I.raiseOnCommittedEvent(),P))}ki(e){return ou(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new re(xe.FAILED_PRECONDITION,iu)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ou(e).put("owner",r)}static D(){return bt.D()}yi(e){const r=ou(e);return r.get("owner").next(s=>this.Si(s)?(he("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):q.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(yt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,ve.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return he("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return yt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){yt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ou(l){return qr(l,"owner")}function Zc(l){return qr(l,"clientMetadata")}function su(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class cs{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=yr(),u=yr();for(const _ of r.docChanges)switch(_.type){case 0:s=s.add(_.doc.key);break;case 1:u=u.add(_.doc.key)}return new cs(e,r.fromCache,s,u)}}class Ia{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ve.G6)()?8:on((0,ve.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const _={result:null};return this.ji(e,r).next(I=>{_.result=I}).next(()=>{if(!_.result)return this.Hi(e,r,u,s).next(I=>{_.result=I})}).next(()=>{if(_.result)return;const I=new Ia;return this.Ji(e,r,I).next(P=>{if(_.result=P,this.Ui)return this.Yi(e,r,I,P.size)})}).next(()=>_.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(ft()<=Se.in.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ma(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(ft()<=Se.in.DEBUG&&he("QueryEngine","Query:",Ma(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(ft()<=Se.in.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ma(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(r))):q.resolve())}ji(e,r){if(jn(r))return q.resolve(null);let s=wi(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Qa(r,null,"F"),s=wi(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(_=>{const I=yr(..._);return this.zi.getDocuments(e,I).next(P=>this.indexManager.getMinOffset(e,s).next(U=>{const X=this.Zi(r,P);return this.Xi(r,X,I,U.readTime)?this.ji(e,Qa(r,null,"F")):this.es(e,X,r,U)}))})))}Hi(e,r,s,u){return jn(r)||u.isEqual(un.min())?q.resolve(null):this.zi.getDocuments(e,s).next(_=>{const I=this.Zi(r,_);return this.Xi(r,I,s,u)?q.resolve(null):(ft()<=Se.in.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ma(r)),this.es(e,I,r,Lr(u,-1)).next(P=>P))})}Zi(e,r){let s=new Xr(ps(e));return r.forEach((u,_)=>{da(e,_)&&(s=s.add(_))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(u)>0)}Ji(e,r,s){return ft()<=Se.in.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ma(r)),this.zi.getDocumentsMatchingQuery(e,r,In.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(_=>(r.forEach(I=>{_=_.insert(I.key,I)}),_))}}class lh{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new ai(Xt),this.rs=new Po(_=>Jn(_),Cr),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function au(l,e,r,s){return new lh(l,e,r,s)}function Up(l,e){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,f.Z)(function*(l,e){const r=Ve(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(_=>(u=_,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(_=>{const I=[],P=[];let U=yr();for(const X of u){I.push(X.batchId);for(const me of X.mutations)U=U.add(me.key)}for(const X of _){P.push(X.batchId);for(const me of X.mutations)U=U.add(me.key)}return r.localDocuments.getDocuments(s,U).next(X=>({us:X,removedBatchIds:I,addedBatchIds:P}))})})})).apply(this,arguments)}function Tm(l){const e=Ve(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function uh(l,e,r){let s=yr(),u=yr();return r.forEach(_=>s=s.add(_)),e.getEntries(l,s).next(_=>{let I=Yr();return r.forEach((P,U)=>{const X=_.get(P);U.isFoundDocument()!==X.isFoundDocument()&&(u=u.add(P)),U.isNoDocument()&&U.version.isEqual(un.min())?(e.removeEntry(P,U.readTime),I=I.insert(P,U)):!X.isValidDocument()||U.version.compareTo(X.version)>0||0===U.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(U),I=I.insert(P,U)):he("LocalStore","Ignoring outdated watch update for ",P,". Current version:",X.version," Watch version:",U.version)}),{cs:I,ls:u}})}function cu(l,e){const r=Ve(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ud(l,e){const r=Ve(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(_=>_?(u=_,q.resolve(u)):r.Qr.allocateTargetId(s).next(I=>(u=new Mt(e,I,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function rc(l,e,r){return dd.apply(this,arguments)}function dd(){return(dd=(0,f.Z)(function*(l,e,r){const s=Ve(l),u=s.ns.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",_,I=>s.persistence.referenceDelegate.removeTarget(I,u)))}catch(I){if(!ur(I))throw I;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function hd(l,e,r){const s=Ve(l);let u=un.min(),_=yr();return s.persistence.runTransaction("Execute query","readwrite",I=>function(U,X,me){const Oe=Ve(U),nt=Oe.rs.get(me);return void 0!==nt?q.resolve(Oe.ns.get(nt)):Oe.Qr.getTargetData(X,me)}(s,I,wi(e)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(I,P.targetId).next(U=>{_=U})}).next(()=>s.ts.getDocumentsMatchingQuery(I,e,r?u:un.min(),r?_:yr())).next(P=>(dh(s,wc(e),P),{documents:P,hs:_})))}function fd(l,e){const r=Ve(l),s=Ve(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",_=>s.ot(_,e).next(I=>I?I.target:null))}function mf(l,e){const r=Ve(l),s=r.ss.get(e)||un.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Lr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(dh(r,e,u),u))}function dh(l,e,r){let s=l.ss.get(e)||un.min();r.forEach((u,_)=>{_.readTime.compareTo(s)>0&&(s=_.readTime)}),l.ss.set(e,s)}function ic(){return(ic=(0,f.Z)(function*(l,e,r,s){const u=Ve(l);let _=yr(),I=Yr();for(const X of r){const me=e.Ps(X.metadata.name);X.document&&(_=_.add(me));const Oe=e.Is(X);Oe.setReadTime(e.Ts(X.metadata.readTime)),I=I.insert(me,Oe)}const P=u.os.newChangeBuffer({trackRemovals:!0}),U=yield ud(u,(me=s,wi(We(zn.fromString(`__bundle__/docs/${me}`)))));var me;return u.persistence.runTransaction("Apply bundle documents","readwrite",X=>uh(X,P,I).next(me=>(P.apply(X),me)).next(me=>u.Qr.removeMatchingKeysForTargetId(X,U.targetId).next(()=>u.Qr.addMatchingKeys(X,_,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(X,me.cs,me.ls)).next(()=>me.cs)))})).apply(this,arguments)}function pd(l,e){return gd.apply(this,arguments)}function gd(){return(gd=(0,f.Z)(function*(l,e,r=yr()){const s=yield ud(l,wi(Fs(e.bundledQuery))),u=Ve(l);return u.persistence.runTransaction("Save named query","readwrite",_=>{const I=Xi(e.readTime);if(s.snapshotVersion.compareTo(I)>=0)return u.$r.saveNamedQuery(_,e);const P=s.withResumeToken(yi.EMPTY_BYTE_STRING,I);return u.ns=u.ns.insert(P.targetId,P),u.Qr.updateTargetData(_,P).next(()=>u.Qr.removeMatchingKeysForTargetId(_,s.targetId)).next(()=>u.Qr.addMatchingKeys(_,r,s.targetId)).next(()=>u.$r.saveNamedQuery(_,e))})})).apply(this,arguments)}function Gc(l,e){return`firestore_clients_${l}_${e}`}function hh(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ts(l,e){return`firestore_targets_${l}_${e}`}class Cl{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let _,I="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return I&&u.error&&(I="string"==typeof u.error.message&&"string"==typeof u.error.code,I&&(_=new re(u.error.code,u.error.message))),I?new Cl(e,r,u.state,_):(yt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tl{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,_="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return _&&s.error&&(_="string"==typeof s.error.message&&"string"==typeof s.error.code,_&&(u=new re(s.error.code,s.error.message))),_?new Tl(e,s.state,u):(yt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,_=fl();for(let I=0;u&&I<s.activeTargetIds.length;++I)u=kt(s.activeTargetIds[I]),_=_.add(s.activeTargetIds[I]);return u?new wl(e,_):(yt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Dl{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Dl(r.clientId,r.onlineState):(yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class md{constructor(){this.activeTargetIds=fl()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lu{constructor(e,r,s,u,_){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ai(Xt),this.started=!1,this.ys=[];const I=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.ws=Gc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new md),this.bs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const _=e.getItem(Gc(e.persistenceKey,u));if(_){const I=wl.Es(u,_);I&&(e.ps=e.ps.insert(I.clientId,I))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ts(this.persistenceKey,e));if(s){const u=Tl.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ts(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return he("SharedClientState","READ",e,r),r}setItem(e,r){he("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){he("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(he("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,f.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(I){let P=F.oe;if(null!=I)try{const U=JSON.parse(I);Ge("number"==typeof U),P=U}catch(U){yt("SharedClientState","Failed to read sequence number from WebStorage",U)}return P}(s.newValue);u!==F.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(_=>r.syncEngine.Ys(_)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new Cl(this.currentUser,e,r,s),_=hh(this.persistenceKey,this.currentUser,e);this.setItem(_,u.ds())}Bs(e){const r=hh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Ts(this.persistenceKey,e),_=new Tl(e,r,s);this.setItem(u,_.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return wl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return Cl.Es(new tt(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return Tl.Es(u,r)}xs(e){return Dl.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,f.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);he("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),_=this.Ns(s),I=[],P=[];return _.forEach(U=>{u.has(U)||I.push(U)}),u.forEach(U=>{_.has(U)||P.push(U)}),this.syncEngine.eo(I,P).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=fl();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class _f{constructor(){this.no=new md,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new md,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qc{io(e){}shutdown(){}}class uu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let du=null;function vf(){return null===du?du=268435456+Math.round(2147483648*Math.random()):du++,"0x"+du.toString(16)}const T={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const y="WebChannelConnection";class M extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${_}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${_}`}get Do(){return!1}Co(r,s,u,_,I){const P=vf(),U=this.vo(r,s.toUriEncodedString());he("RestConnection",`Sending RPC '${r}' ${P}:`,U,u);const X={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(X,_,I),this.Mo(r,U,X,u).then(me=>(he("RestConnection",`Received RPC '${r}' ${P}: `,me),me),me=>{throw Pt("RestConnection",`RPC '${r}' ${P} failed with error: `,me,"url: ",U,"request:",u),me})}xo(r,s,u,_,I,P){return this.Co(r,s,u,_,I)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((_,I)=>r[I]=_),u&&u.headers.forEach((_,I)=>r[I]=_)}vo(r,s){return`${this.wo}/v1/${s}:${T[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const _=vf();return new Promise((I,P)=>{const U=new le;U.setWithCredentials(!0),U.listenOnce(Me.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Ne.NO_ERROR:const me=U.getResponseJson();he(y,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(me)),I(me);break;case Ne.TIMEOUT:he(y,`RPC '${e}' ${_} timed out`),P(new re(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Ne.HTTP_ERROR:const Oe=U.getStatus();if(he(y,`RPC '${e}' ${_} failed with status:`,Oe,"response text:",U.getResponseText()),Oe>0){let nt=U.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const St=nt?.error;if(St&&St.status&&St.message){const Wt=function(tn){const Wn=tn.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(Wn)>=0?Wn:xe.UNKNOWN}(St.status);P(new re(Wt,St.message))}else P(new re(xe.UNKNOWN,"Server responded with status "+U.getStatus()))}else P(new re(xe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{he(y,`RPC '${e}' ${_} completed.`)}});const X=JSON.stringify(u);he(y,`RPC '${e}' ${_} sending request:`,u),U.send(r,"POST",X,s,15)})}Oo(e,r,s){const u=vf(),_=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=It(),P=_t(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(U.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(U.xmlHttpFactory=new _e({})),this.Fo(U.initMessageHeaders,r,s),U.encodeInitMessageHeaders=!0;const me=_.join("");he(y,`Creating RPC '${e}' stream ${u}: ${me}`,U);const Oe=I.createWebChannel(me,U);let nt=!1,St=!1;const Wt=new m({lo:tn=>{St?he(y,`Not sending because RPC '${e}' stream ${u} is closed:`,tn):(nt||(he(y,`Opening RPC '${e}' stream ${u} transport.`),Oe.open(),nt=!0),he(y,`RPC '${e}' stream ${u} sending:`,tn),Oe.send(tn))},ho:()=>Oe.close()}),_n=(tn,Wn,cr)=>{tn.listen(Wn,tr=>{try{cr(tr)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return _n(Oe,pe.EventType.OPEN,()=>{St||(he(y,`RPC '${e}' stream ${u} transport opened.`),Wt.mo())}),_n(Oe,pe.EventType.CLOSE,()=>{St||(St=!0,he(y,`RPC '${e}' stream ${u} transport closed`),Wt.po())}),_n(Oe,pe.EventType.ERROR,tn=>{St||(St=!0,Pt(y,`RPC '${e}' stream ${u} transport errored:`,tn),Wt.po(new re(xe.UNAVAILABLE,"The operation could not be completed")))}),_n(Oe,pe.EventType.MESSAGE,tn=>{var Wn;if(!St){const cr=tn.data[0];Ge(!!cr);const Ur=cr.error||(null===(Wn=cr[0])||void 0===Wn?void 0:Wn.error);if(Ur){he(y,`RPC '${e}' stream ${u} received error:`,Ur);const Ni=Ur.status;let ii=function(ct){const At=Oi[ct];if(void 0!==At)return Wo(At)}(Ni),vt=Ur.message;void 0===ii&&(ii=xe.INTERNAL,vt="Unknown error status: "+Ni+" with message "+Ur.message),St=!0,Wt.po(new re(ii,vt)),Oe.close()}else he(y,`RPC '${e}' stream ${u} received:`,cr),Wt.yo(cr)}}),_n(P,Te.STAT_EVENT,tn=>{tn.stat===$e.PROXY?he(y,`RPC '${e}' stream ${u} detected buffering proxy`):tn.stat===$e.NOPROXY&&he(y,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Wt.fo()},0),Wt}}function ee(){return typeof window<"u"?window:null}function Ae(){return typeof document<"u"?document:null}function at(l){return new Ku(l,!0)}class Rt{constructor(e,r,s=1e3,u=1.5,_=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=_,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&he("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Yt{constructor(e,r,s,u,_,I,P,U){this.oi=e,this.Go=s,this.zo=u,this.connection=_,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=U,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Rt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,f.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,f.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,f.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===xe.RESOURCE_EXHAUSTED?(yt(r.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===xe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new re(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,f.Z)(function*(){e.state=0,e.start()}))}c_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hn extends Yt{constructor(e,r,s,u,_,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,I),this.serializer=_}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function kc(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(X=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:mt(),u=e.targetChange.targetIds||[],_=function(X,me){return X.useProto3Json?(Ge(void 0===me||"string"==typeof me),yi.fromBase64String(me||"")):(Ge(void 0===me||me instanceof Buffer||me instanceof Uint8Array),yi.fromUint8Array(me||new Uint8Array))}(l,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(X){const me=void 0===X.code?xe.UNKNOWN:Wo(X.code);return new re(me,X.message||"")}(I);r=new Ks(s,u,_,P||null)}else if("documentChange"in e){const s=e.documentChange,u=Os(l,s.document.name),_=Xi(s.document.updateTime),I=s.document.createTime?Xi(s.document.createTime):un.min(),P=new Nr({mapValue:{fields:s.document.fields}}),U=J.newFoundDocument(u,_,I,P);r=new Oc(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,u=Os(l,s.document),_=s.readTime?Xi(s.readTime):un.min(),I=J.newNoDocument(u,_);r=new Oc([],s.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const s=e.documentRemove,u=Os(l,s.document);r=new Oc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return mt();{const s=e.filter,{count:u=0,unchangedNames:_}=s,I=new Xo(u,_);r=new Qd(s.targetId,I)}}var X;return r}(this.serializer,e),s=function(_){if(!("targetChange"in _))return un.min();const I=_.targetChange;return I.targetIds&&I.targetIds.length?un.min():I.readTime?Xi(I.readTime):un.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=ri(this.serializer),r.addTarget=function(_,I){let P;const U=I.target;if(P=Eo(U)?{documents:eh(_,U)}:{query:th(_,U)._t},P.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){P.resumeToken=Jd(_,I.resumeToken);const X=Nc(_,I.expectedCount);null!==X&&(P.expectedCount=X)}else if(I.snapshotVersion.compareTo(un.min())>0){P.readTime=Oa(_,I.snapshotVersion.toTimestamp());const X=Nc(_,I.expectedCount);null!==X&&(P.expectedCount=X)}return P}(this.serializer,e);const s=function Ns(l,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=ri(this.serializer),r.removeTarget=e,this.i_(r)}}class ar extends Yt{constructor(e,r,s,u,_,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,I),this.serializer=_,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function ec(l,e){return l&&l.length>0?(Ge(void 0!==e),l.map(r=>function(u,_){let I=Xi(u.updateTime?u.updateTime:_);return I.isEqual(un.min())&&(I=Xi(_)),new _l(I,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.A_(s,r)}return Ge(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ri(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>zo(this.serializer,s))};this.i_(r)}}class ti extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new re(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,I])=>this.connection.Co(e,Xd(r,s),u,_,I)).catch(_=>{throw"FirebaseError"===_.name?(_.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new re(xe.UNKNOWN,_.toString())})}xo(e,r,s,u,_){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,P])=>this.connection.xo(e,Xd(r,s),u,I,P,_)).catch(I=>{throw"FirebaseError"===I.name?(I.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new re(xe.UNKNOWN,I.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ws{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yt(r),this.y_=!1):he("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class oc{constructor(e,r,s,u,_){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=_,this.O_.io(P=>{s.enqueueAndForget((0,f.Z)(function*(){var U;cc(I)&&(he("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,f.Z)(function*(me){const Oe=Ve(me);Oe.M_.add(4),yield ac(Oe),Oe.N_.set("Unknown"),Oe.M_.delete(4),yield sc(Oe)}),function X(me){return U.apply(this,arguments)})(I))}))}),this.N_=new ws(s,u)}}function sc(l){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,f.Z)(function*(l){if(cc(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function ac(l){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function Wc(l,e){const r=Ve(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),fh(r)?fu(r):Ed(r).Xo()&&hu(r,e))}function so(l,e){const r=Ve(l),s=Ed(r);r.F_.delete(e),s.Xo()&&yf(r,e),0===r.F_.size&&(s.Xo()?s.n_():cc(r)&&r.N_.set("Unknown"))}function hu(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(un.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ed(l).P_(e)}function yf(l,e){l.L_.xe(e),Ed(l).I_(e)}function fu(l){l.L_=new Rs({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),Ed(l).start(),l.N_.w_()}function fh(l){return cc(l)&&!Ed(l).Zo()&&l.F_.size>0}function cc(l){return 0===Ve(l).M_.size}function Kc(l){l.L_=void 0}function _d(l){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,f.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function wm(l){return If.apply(this,arguments)}function If(){return(If=(0,f.Z)(function*(l){l.F_.forEach((e,r)=>{hu(l,e)})})).apply(this,arguments)}function vd(l,e){return pu.apply(this,arguments)}function pu(){return(pu=(0,f.Z)(function*(l,e){Kc(l),fh(l)?(l.N_.D_(e),fu(l)):l.N_.set("Unknown")})).apply(this,arguments)}function ln(l,e,r){return gu.apply(this,arguments)}function gu(){return gu=(0,f.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof Ks&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(_,I){const P=I.cause;for(const U of I.targetIds)_.F_.has(U)&&(yield _.remoteSyncer.rejectListen(U,P),_.F_.delete(U),_.L_.removeTarget(U))}),function u(_,I){return s.apply(this,arguments)})(l,e)}catch(s){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Pl(l,s)}else if(e instanceof Oc?l.L_.Ke(e):e instanceof Qd?l.L_.He(e):l.L_.We(e),!r.isEqual(un.min()))try{const s=yield Tm(l.localStore);r.compareTo(s)>=0&&(yield function(_,I){const P=_.L_.rt(I);return P.targetChanges.forEach((U,X)=>{if(U.resumeToken.approximateByteSize()>0){const me=_.F_.get(X);me&&_.F_.set(X,me.withResumeToken(U.resumeToken,I))}}),P.targetMismatches.forEach((U,X)=>{const me=_.F_.get(U);if(!me)return;_.F_.set(U,me.withResumeToken(yi.EMPTY_BYTE_STRING,me.snapshotVersion)),yf(_,U);const Oe=new Mt(me.target,U,X,me.sequenceNumber);hu(_,Oe)}),_.remoteSyncer.applyRemoteEvent(P)}(l,r))}catch(s){he("RemoteStore","Failed to raise snapshot:",s),yield Pl(l,s)}var s}),gu.apply(this,arguments)}function Pl(l,e,r){return yd.apply(this,arguments)}function yd(){return(yd=(0,f.Z)(function*(l,e,r){if(!ur(e))throw e;l.M_.add(1),yield ac(l),l.N_.set("Offline"),r||(r=()=>Tm(l.localStore)),l.asyncQueue.enqueueRetryable((0,f.Z)(function*(){he("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield sc(l)}))})).apply(this,arguments)}function ph(l,e){return e().catch(r=>Pl(l,r,e))}function Aa(l){return zp.apply(this,arguments)}function zp(){return(zp=(0,f.Z)(function*(l){const e=Ve(l),r=Qc(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Dm(e);)try{const u=yield cu(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,$p(e,u)}catch(u){yield Pl(e,u)}Sm(e)&&Mm(e)})).apply(this,arguments)}function Dm(l){return cc(l)&&l.v_.length<10}function $p(l,e){l.v_.push(e);const r=Qc(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function Sm(l){return cc(l)&&!Qc(l).Zo()&&l.v_.length>0}function Mm(l){Qc(l).start()}function ev(l){return Af.apply(this,arguments)}function Af(){return(Af=(0,f.Z)(function*(l){Qc(l).V_()})).apply(this,arguments)}function tv(l){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,f.Z)(function*(l){const e=Qc(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function Us(l,e,r){return gh.apply(this,arguments)}function gh(){return(gh=(0,f.Z)(function*(l,e,r){const s=l.v_.shift(),u=Lo.from(s,e,r);yield ph(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Aa(l)})).apply(this,arguments)}function Pm(l,e){return mh.apply(this,arguments)}function mh(){return mh=(0,f.Z)(function*(l,e){var r;e&&Qc(l).E_&&(yield(r=(0,f.Z)(function*(u,_){if(es(P=_.code)&&P!==xe.ABORTED){const I=u.v_.shift();Qc(u).t_(),yield ph(u,()=>u.remoteSyncer.rejectFailedWrite(I.batchId,_)),yield Aa(u)}var P}),function s(u,_){return r.apply(this,arguments)})(l,e)),Sm(l)&&Mm(l)}),mh.apply(this,arguments)}function ls(l,e){return mu.apply(this,arguments)}function mu(){return(mu=(0,f.Z)(function*(l,e){const r=Ve(l);r.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const s=cc(r);r.M_.add(3),yield ac(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield sc(r)})).apply(this,arguments)}function bf(l,e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,f.Z)(function*(l,e){const r=Ve(l);e?(r.M_.delete(2),yield sc(r)):e||(r.M_.add(2),yield ac(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Ed(l){return l.B_||(l.B_=function(r,s,u){const _=Ve(r);return _.f_(),new Hn(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(l.datastore,l.asyncQueue,{Po:_d.bind(null,l),To:wm.bind(null,l),Ao:vd.bind(null,l),h_:ln.bind(null,l)}),l.x_.push(function(){var e=(0,f.Z)(function*(r){r?(l.B_.t_(),fh(l)?fu(l):l.N_.set("Unknown")):(yield l.B_.stop(),Kc(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Qc(l){return l.k_||(l.k_=function(r,s,u){const _=Ve(r);return _.f_(),new ar(s,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,u)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:ev.bind(null,l),Ao:Pm.bind(null,l),R_:tv.bind(null,l),A_:Us.bind(null,l)}),l.x_.push(function(){var e=(0,f.Z)(function*(r){r?(l.k_.t_(),yield Aa(l)):(yield l.k_.stop(),l.v_.length>0&&(he("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class Gp{constructor(e,r,s,u,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=_,this.deferred=new De,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,_){const I=Date.now()+s,P=new Gp(e,r,I,u,_);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(l,e){if(yt("AsyncQueue",`${e}: ${l}`),ur(l))return new re(xe.UNAVAILABLE,`${e}: ${l}`);throw l}class Id{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Zt.comparator(r.key,s.key):(r,s)=>Zt.comparator(r.key,s.key),this.keyedMap=oo(),this.sortedSet=new ai(this.comparator)}static emptySet(e){return new Id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Id)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,_=s.getNext().key;if(!u.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Id;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class qp{constructor(){this.q_=new ai(Zt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):mt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Ad{constructor(e,r,s,u,_,I,P,U,X){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=_,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=U,this.hasCachedResults=X}static fromInitialDocuments(e,r,s,u,_){const I=[];return r.forEach(P=>{I.push({type:0,doc:P})}),new Ad(e,r,Id.emptySet(r),I,s,u,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class nv{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Wp{constructor(){this.queries=new Po(e=>Tc(e),Sa),this.onlineState="Unknown",this.z_=new Set}}function _h(l,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,f.Z)(function*(l,e){const r=Ve(l);let s=3;const u=e.query;let _=r.queries.get(u);_?!_.W_()&&e.G_()&&(s=2):(_=new nv,s=e.G_()?0:1);try{switch(s){case 0:_.K_=yield r.onListen(u,!0);break;case 1:_.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(I){const P=_u(I,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(P)}r.queries.set(u,_),_.U_.push(e),e.j_(r.onlineState),_.K_&&e.H_(_.K_)&&Tf(r)})).apply(this,arguments)}function lc(l,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,f.Z)(function*(l,e){const r=Ve(l),s=e.query;let u=3;const _=r.queries.get(s);if(_){const I=_.U_.indexOf(e);I>=0&&(_.U_.splice(I,1),0===_.U_.length?u=e.G_()?0:1:!_.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function rv(l,e){const r=Ve(l);let s=!1;for(const u of e){const I=r.queries.get(u.query);if(I){for(const P of I.U_)P.H_(u)&&(s=!0);I.K_=u}}s&&Tf(r)}function xm(l,e,r){const s=Ve(l),u=s.queries.get(e);if(u)for(const _ of u.U_)_.onError(r);s.queries.delete(e)}function Tf(l){l.z_.forEach(e=>{e.next()})}var wf,xl;(xl=wf||(wf={})).J_="default",xl.Cache="cache";class vu{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Ad(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==wf.Cache}}class Rm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class vh{constructor(e){this.serializer=e}Ps(e){return Os(this.serializer,e)}Is(e){return e.metadata.exists?Ro(this.serializer,e.document,!1):J.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Xi(e)}}class Df{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Om(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=zn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new vh(this.serializer);for(const u of e)if(u.metadata.queries){const _=s.Ps(u.metadata.name);for(const I of u.metadata.queries){const P=(r.get(I)||yr()).add(_);r.set(I,P)}}return r}complete(){var e=this;return(0,f.Z)(function*(){const r=yield function Hp(l,e,r,s){return ic.apply(this,arguments)}(e.localStore,new vh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield pd(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Om(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Nm{constructor(e){this.key=e}}class Yp{constructor(e){this.key=e}}class km{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=yr(),this.mutatedKeys=yr(),this.Ia=ps(e),this.Ta=new Id(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new qp,u=r?r.Ta:this.Ta;let _=r?r.mutatedKeys:this.mutatedKeys,I=u,P=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,X="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((me,Oe)=>{const nt=u.get(me),St=da(this.query,Oe)?Oe:null,Wt=!!nt&&this.mutatedKeys.has(nt.key),_n=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let tn=!1;nt&&St?nt.data.isEqual(St.data)?Wt!==_n&&(s.track({type:3,doc:St}),tn=!0):this.Ra(nt,St)||(s.track({type:2,doc:St}),tn=!0,(U&&this.Ia(St,U)>0||X&&this.Ia(St,X)<0)&&(P=!0)):!nt&&St?(s.track({type:0,doc:St}),tn=!0):nt&&!St&&(s.track({type:1,doc:nt}),tn=!0,(U||X)&&(P=!0)),tn&&(St?(I=I.add(St),_=_n?_.add(me):_.delete(me)):(I=I.delete(me),_=_.delete(me)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const me="F"===this.query.limitType?I.last():I.first();I=I.delete(me.key),_=_.delete(me.key),s.track({type:1,doc:me})}return{Ta:I,Aa:s,Xi:P,mutatedKeys:_}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const _=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const I=e.Aa.Q_();I.sort((me,Oe)=>function(St,Wt){const _n=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return _n(St)-_n(Wt)}(me.type,Oe.type)||this.Ia(me.doc,Oe.doc)),this.Va(s),u=null!=u&&u;const P=r&&!u?this.ma():[],U=0===this.Pa.size&&this.current&&!u?1:0,X=U!==this.ha;return this.ha=U,0!==I.length||X?{snapshot:new Ad(this.query,e.Ta,_,I,e.mutatedKeys,0===U,X,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:P}:{fa:P}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=yr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Yp(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Nm(s))}),r}pa(e){this.la=e.hs,this.Pa=yr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Ad.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Fm{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class iv{constructor(e){this.key=e,this.wa=!1}}class Lm{constructor(e,r,s,u,_,I){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=_,this.maxConcurrentLimboResolutions=I,this.Sa={},this.ba=new Po(P=>Tc(P),Sa),this.Da=new Map,this.Ca=new Set,this.va=new ai(Zt.comparator),this.Fa=new Map,this.Ma=new $c,this.xa={},this.Oa=new Map,this.Na=Tr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Sf(l,e){return yh.apply(this,arguments)}function yh(){return(yh=(0,f.Z)(function*(l,e,r=!0){const s=Uf(l);let u;const _=s.ba.get(e);return _?(s.sharedClientState.addLocalQueryTarget(_.targetId),u=_.view.ya()):u=yield Vm(s,e,r,!0),u})).apply(this,arguments)}function Jp(l,e){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,f.Z)(function*(l,e){const r=Uf(l);yield Vm(r,e,!0,!1)})).apply(this,arguments)}function Vm(l,e,r,s){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(l,e,r,s){const u=yield ud(l.localStore,wi(e)),_=u.targetId,I=r?l.sharedClientState.addLocalQueryTarget(_):"not-current";let P;return s&&(P=yield Eh(l,e,_,"current"===I,u.resumeToken)),l.isPrimaryClient&&r&&Wc(l.remoteStore,u),P})).apply(this,arguments)}function Eh(l,e,r,s,u){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,f.Z)(function*(l,e,r,s,u){l.Ba=(Oe,nt,St)=>{return(Wt=(0,f.Z)(function*(tn,Wn,cr,tr){let Ur=Wn.view.da(cr);Ur.Xi&&(Ur=yield hd(tn.localStore,Wn.query,!1).then(({documents:Je})=>Wn.view.da(Je,Ur)));const Ni=tr&&tr.targetChanges.get(Wn.targetId),ii=tr&&null!=tr.targetMismatches.get(Wn.targetId),vt=Wn.view.applyChanges(Ur,tn.isPrimaryClient,Ni,ii);return og(tn,Wn.targetId,vt.fa),vt.snapshot}),function _n(tn,Wn,cr,tr){return Wt.apply(this,arguments)})(l,Oe,nt,St);var Wt};const _=yield hd(l.localStore,e,!0),I=new km(e,_.hs),P=I.da(_.documents),U=Ja.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,u),X=I.applyChanges(P,l.isPrimaryClient,U);og(l,r,X.fa);const me=new Fm(e,r,I);return l.ba.set(e,me),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),X.snapshot}),Jc.apply(this,arguments)}function Um(l,e,r){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,f.Z)(function*(l,e,r){const s=Ve(l),u=s.ba.get(e),_=s.Da.get(u.targetId);if(_.length>1)return s.Da.set(u.targetId,_.filter(I=>!Sa(I,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield rc(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&so(s.remoteStore,u.targetId),bd(s,u.targetId)}).catch(Ar))):(bd(s,u.targetId),yield rc(s.localStore,u.targetId,!0))})).apply(this,arguments)}function ov(l,e){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,f.Z)(function*(l,e){const r=Ve(l),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),so(r.remoteStore,s.targetId))})).apply(this,arguments)}function eg(){return(eg=(0,f.Z)(function*(l,e,r){const s=pg(l);try{const u=yield function(I,P){const U=Ve(I),X=Gn.now(),me=P.reduce((St,Wt)=>St.add(Wt.key),yr());let Oe,nt;return U.persistence.runTransaction("Locally write mutations","readwrite",St=>{let Wt=Yr(),_n=yr();return U.os.getEntries(St,me).next(tn=>{Wt=tn,Wt.forEach((Wn,cr)=>{cr.isValidDocument()||(_n=_n.add(Wn))})}).next(()=>U.localDocuments.getOverlayedDocuments(St,Wt)).next(tn=>{Oe=tn;const Wn=[];for(const cr of P){const tr=Nt(cr,Oe.get(cr.key).overlayedDocument);null!=tr&&Wn.push(new $r(cr.key,tr,oe(tr.value.mapValue),Ri.exists(!0)))}return U.mutationQueue.addMutationBatch(St,X,Wn,P)}).next(tn=>{nt=tn;const Wn=tn.applyToLocalDocumentSet(Oe,_n);return U.documentOverlayCache.saveOverlays(St,tn.batchId,Wn)})}).then(()=>({batchId:nt.batchId,changes:Dc(Oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(I,P,U){let X=I.xa[I.currentUser.toKey()];X||(X=new ai(Xt)),X=X.insert(P,U),I.xa[I.currentUser.toKey()]=X}(s,u.batchId,r),yield uc(s,u.changes),yield Aa(s.remoteStore)}catch(u){const _=_u(u,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function tg(l,e){return xf.apply(this,arguments)}function xf(){return(xf=(0,f.Z)(function*(l,e){const r=Ve(l);try{const s=yield function Vs(l,e){const r=Ve(l),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const I=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const P=[];e.targetChanges.forEach((me,Oe)=>{const nt=u.get(Oe);if(!nt)return;P.push(r.Qr.removeMatchingKeys(_,me.removedDocuments,Oe).next(()=>r.Qr.addMatchingKeys(_,me.addedDocuments,Oe)));let St=nt.withSequenceNumber(_.currentSequenceNumber);var _n,tn,Wn;null!==e.targetMismatches.get(Oe)?St=St.withResumeToken(yi.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):me.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(me.resumeToken,s)),u=u.insert(Oe,St),tn=St,Wn=me,(0===(_n=nt).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-_n.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&P.push(r.Qr.updateTargetData(_,St))});let U=Yr(),X=yr();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(_,me))}),P.push(uh(_,I,e.documentUpdates).next(me=>{U=me.cs,X=me.ls})),!s.isEqual(un.min())){const me=r.Qr.getLastRemoteSnapshotVersion(_).next(Oe=>r.Qr.setTargetsMetadata(_,_.currentSequenceNumber,s));P.push(me)}return q.waitFor(P).next(()=>I.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,U,X)).next(()=>U)}).then(_=>(r.ns=u,_))}(r.localStore,e);e.targetChanges.forEach((u,_)=>{const I=r.Fa.get(_);I&&(Ge(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?I.wa=!0:u.modifiedDocuments.size>0?Ge(I.wa):u.removedDocuments.size>0&&(Ge(I.wa),I.wa=!1))}),yield uc(r,s,e)}catch(s){yield Ar(s)}})).apply(this,arguments)}function ng(l,e,r){const s=Ve(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((_,I)=>{const P=I.view.j_(e);P.snapshot&&u.push(P.snapshot)}),function(I,P){const U=Ve(I);U.onlineState=P;let X=!1;U.queries.forEach((me,Oe)=>{for(const nt of Oe.U_)nt.j_(P)&&(X=!0)}),X&&Tf(U)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function rg(l,e,r){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,f.Z)(function*(l,e,r){const s=Ve(l);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),_=u&&u.key;if(_){let I=new ai(Zt.comparator);I=I.insert(_,J.newNoDocument(_,un.min()));const P=yr().add(_),U=new Ho(un.min(),new Map,new ai(Xt),I,P);yield tg(s,U),s.va=s.va.remove(_),s.Fa.delete(e),sg(s)}else yield rc(s.localStore,e,!1).then(()=>bd(s,e,r)).catch(Ar)})).apply(this,arguments)}function Of(l,e){return yu.apply(this,arguments)}function yu(){return(yu=(0,f.Z)(function*(l,e){const r=Ve(l),s=e.batch.batchId;try{const u=yield function jp(l,e){const r=Ve(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),_=r.os.newChangeBuffer({trackRemovals:!0});return function(P,U,X,me){const Oe=X.batch,nt=Oe.keys();let St=q.resolve();return nt.forEach(Wt=>{St=St.next(()=>me.getEntry(U,Wt)).next(_n=>{const tn=X.docVersions.get(Wt);Ge(null!==tn),_n.version.compareTo(tn)<0&&(Oe.applyToRemoteDocument(_n,X),_n.isValidDocument()&&(_n.setReadTime(X.commitVersion),me.addEntry(_n)))})}),St.next(()=>P.mutationQueue.removeMutationBatch(U,Oe))}(r,s,e,_).next(()=>_.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let U=yr();for(let X=0;X<P.mutationResults.length;++X)P.mutationResults[X].transformResults.length>0&&(U=U.add(P.batch.mutations[X].key));return U}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Eu(r,s,null),Ah(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield uc(r,u)}catch(u){yield Ar(u)}})).apply(this,arguments)}function jm(l,e,r){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,f.Z)(function*(l,e,r){const s=Ve(l);try{const u=yield function(I,P){const U=Ve(I);return U.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let me;return U.mutationQueue.lookupMutationBatch(X,P).next(Oe=>(Ge(null!==Oe),me=Oe.keys(),U.mutationQueue.removeMutationBatch(X,Oe))).next(()=>U.mutationQueue.performConsistencyCheck(X)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(X,me,P)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,me)).next(()=>U.localDocuments.getDocuments(X,me))})}(s.localStore,e);Eu(s,e,r),Ah(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield uc(s,u)}catch(u){yield Ar(u)}})).apply(this,arguments)}function kf(){return(kf=(0,f.Z)(function*(l,e){const r=Ve(l);cc(r.remoteStore)||he("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(I){const P=Ve(I);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>P.mutationQueue.getHighestUnacknowledgedBatchId(U))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=_u(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Ah(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function Eu(l,e,r){const s=Ve(l);let u=s.xa[s.currentUser.toKey()];if(u){const _=u.get(e);_&&(r?_.reject(r):_.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function bd(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||ig(l,s)})}function ig(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(so(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),sg(l))}function og(l,e,r){for(const s of r)s instanceof Nm?(l.Ma.addReference(s.key,e),sv(l,s)):s instanceof Yp?(he("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||ig(l,s.key)):mt()}function sv(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(he("SyncEngine","New document in limbo: "+r),l.Ca.add(s),sg(l))}function sg(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new Zt(zn.fromString(e)),s=l.Na.next();l.Fa.set(s,new iv(r)),l.va=l.va.insert(r,s),Wc(l.remoteStore,new Mt(wi(We(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function uc(l,e,r){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,f.Z)(function*(l,e,r){const s=Ve(l),u=[],_=[],I=[];var P;s.ba.isEmpty()||(s.ba.forEach((P,U)=>{I.push(s.Ba(U,e,r).then(X=>{if((X||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,X&&!X.fromCache?"current":"not-current"),X){u.push(X);const me=cs.Ki(U.targetId,X);_.push(me)}}))}),yield Promise.all(I),s.Sa.h_(u),yield(P=(0,f.Z)(function*(X,me){const Oe=Ve(X);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>q.forEach(me,St=>q.forEach(St.qi,Wt=>Oe.persistence.referenceDelegate.addReference(nt,St.targetId,Wt)).next(()=>q.forEach(St.Qi,Wt=>Oe.persistence.referenceDelegate.removeReference(nt,St.targetId,Wt)))))}catch(nt){if(!ur(nt))throw nt;he("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of me){const St=nt.targetId;if(!nt.fromCache){const Wt=Oe.ns.get(St),tn=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);Oe.ns=Oe.ns.insert(St,tn)}}}),function U(X,me){return P.apply(this,arguments)})(s.localStore,_))}),Ff.apply(this,arguments)}function Lf(l,e){return bh.apply(this,arguments)}function bh(){return(bh=(0,f.Z)(function*(l,e){const r=Ve(l);if(!r.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const s=yield Up(r.localStore,e);r.currentUser=e,(_=r).Oa.forEach(P=>{P.forEach(U=>{U.reject(new re(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield uc(r,s.us)}var _})).apply(this,arguments)}function Iu(l,e){const r=Ve(l),s=r.Fa.get(e);if(s&&s.wa)return yr().add(s.key);{let u=yr();const _=r.Da.get(e);if(!_)return u;for(const I of _){const P=r.ba.get(I);u=u.unionWith(P.view.Ea)}return u}}function av(l,e){return ag.apply(this,arguments)}function ag(){return(ag=(0,f.Z)(function*(l,e){const r=Ve(l),s=yield hd(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&og(r,e.targetId,u.fa),u})).apply(this,arguments)}function Sy(l,e){return cg.apply(this,arguments)}function cg(){return(cg=(0,f.Z)(function*(l,e){const r=Ve(l);return mf(r.localStore,e).then(s=>uc(r,s))})).apply(this,arguments)}function lg(l,e,r,s){return ug.apply(this,arguments)}function ug(){return(ug=(0,f.Z)(function*(l,e,r,s){const u=Ve(l),_=yield function(P,U){const X=Ve(P),me=Ve(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",Oe=>me.vn(Oe,U).next(nt=>nt?X.localDocuments.getDocuments(Oe,nt):q.resolve(null)))}(u.localStore,e);var U;null!==_?("pending"===r?yield Aa(u.remoteStore):"acknowledged"===r||"rejected"===r?(Eu(u,e,s||null),Ah(u,e),U=e,Ve(Ve(u.localStore).mutationQueue).Mn(U)):mt(),yield uc(u,_)):he("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Td(){return(Td=(0,f.Z)(function*(l,e){const r=Ve(l);if(Uf(r),pg(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield Ch(r,s.toArray());r.La=!0,yield bf(r.remoteStore,!0);for(const _ of u)Wc(r.remoteStore,_)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((_,I)=>{r.sharedClientState.isLocalQueryTarget(I)?s.push(I):u=u.then(()=>(bd(r,I),rc(r.localStore,I,!0))),so(r.remoteStore,I)}),yield u,yield Ch(r,s),function(I){const P=Ve(I);P.Fa.forEach((U,X)=>{so(P.remoteStore,X)}),P.Ma.mr(),P.Fa=new Map,P.va=new ai(Zt.comparator)}(r),r.La=!1,yield bf(r.remoteStore,!1)}})).apply(this,arguments)}function Ch(l,e,r){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,f.Z)(function*(l,e,r){const s=Ve(l),u=[],_=[];for(const I of e){let P;const U=s.Da.get(I);if(U&&0!==U.length){P=yield ud(s.localStore,wi(U[0]));for(const X of U){const me=s.ba.get(X),Oe=yield av(s,me);Oe.snapshot&&_.push(Oe.snapshot)}}else{const X=yield fd(s.localStore,I);P=yield ud(s.localStore,X),yield Eh(s,dg(X),I,!1,P.resumeToken)}u.push(P)}return s.Sa.h_(_),u})).apply(this,arguments)}function dg(l){return Ee(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Hm(l){return r=Ve(l).localStore,Ve(Ve(r).persistence).Bi();var r}function Au(l,e,r,s){return hg.apply(this,arguments)}function hg(){return(hg=(0,f.Z)(function*(l,e,r,s){const u=Ve(l);if(u.La)return void he("SyncEngine","Ignoring unexpected query state notification.");const _=u.Da.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const I=yield mf(u.localStore,wc(_[0])),P=Ho.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,yi.EMPTY_BYTE_STRING);yield uc(u,I,P);break}case"rejected":yield rc(u.localStore,e,!0),bd(u,e,s);break;default:mt()}})).apply(this,arguments)}function cv(l,e,r){return fg.apply(this,arguments)}function fg(){return(fg=(0,f.Z)(function*(l,e,r){const s=Uf(l);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){he("SyncEngine","Adding an already active target "+u);continue}const _=yield fd(s.localStore,u),I=yield ud(s.localStore,_);yield Eh(s,dg(_),I.targetId,!1,I.resumeToken),Wc(s.remoteStore,I)}for(const u of r)s.Da.has(u)&&(yield rc(s.localStore,u,!1).then(()=>{so(s.remoteStore,u),bd(s,u)}).catch(Ar))}})).apply(this,arguments)}function Uf(l){const e=Ve(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=tg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rg.bind(null,e),e.Sa.h_=rv.bind(null,e.eventManager),e.Sa.ka=xm.bind(null,e.eventManager),e}function pg(l){const e=Ve(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Of.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jm.bind(null,e),e}class Ua{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,f.Z)(function*(){r.serializer=at(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return au(this.persistence,new gf,e.initialUser,this.serializer)}createPersistence(e){return new Lp(ch.Hr,this.serializer)}createSharedClientState(e){return new _f}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ba extends Ua{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield pg(s.Qa.syncEngine),yield Aa(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return au(this.persistence,new gf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Xl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new j(r,this.persistence);return new G(e.asyncQueue,s)}createPersistence(e){const r=su(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new Io(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,ee(),Ae(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _f}}class uv extends Ba{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof lu&&(s.sharedClientState.syncEngine={Zs:lg.bind(null,u),Xs:Au.bind(null,u),eo:cv.bind(null,u),Bi:Hm.bind(null,u),Ys:Sy.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var _=(0,f.Z)(function*(I){yield function Cd(l,e){return Td.apply(this,arguments)}(s.Qa.syncEngine,I),s.gcScheduler&&(I&&!s.gcScheduler.started?s.gcScheduler.start():I||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(I&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():I||s.indexBackfillerScheduler.stop())});return function(I){return _.apply(this,arguments)}}())})()}createSharedClientState(e){const r=ee();if(!lu.D(r))throw new re(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=su(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lu(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Th{initialize(e,r){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>ng(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Lf.bind(null,s.syncEngine),yield bf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wp}createDatastore(e){const r=at(e.databaseInfo.databaseId),s=new M(e.databaseInfo);return new ti(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,_=e.asyncQueue,I=r=>ng(this.syncEngine,r,0),P=uu.D()?new uu:new qc,new oc(s,u,_,I,P);var s,u,_,I,P}createSyncEngine(e,r){return function(u,_,I,P,U,X,me){const Oe=new Lm(u,_,I,P,U,X);return me&&(Oe.La=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,f.Z)(function*(){var r,s;yield(s=(0,f.Z)(function*(_){const I=Ve(_);he("RemoteStore","RemoteStore shutting down."),I.M_.add(5),yield ac(I),I.O_.shutdown(),I.N_.set("Unknown")}),function u(_){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function dv(l,e=10240){let r=0;return{read:()=>(0,f.Z)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):yt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class gg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new De,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,f.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const _=yield e.Ha(u);return new Rm(JSON.parse(_),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,f.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,f.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,f.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class My{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,f.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new re(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,f.Z)(function*(I,P){const U=Ve(I),X={documents:P.map(St=>Yu(U.serializer,St))},me=yield U.xo("BatchGetDocuments",U.serializer.databaseId,zn.emptyPath(),X,P.length),Oe=new Map;me.forEach(St=>{const Wt=function uo(l,e){return"found"in e?function(s,u){Ge(!!u.found);const _=Os(s,u.found.name),I=Xi(u.found.updateTime),P=u.found.createTime?Xi(u.found.createTime):un.min(),U=new Nr({mapValue:{fields:u.found.fields}});return J.newFoundDocument(_,I,P,U)}(l,e):"missing"in e?function(s,u){Ge(!!u.missing),Ge(!!u.readTime);const _=Os(s,u.missing),I=Xi(u.readTime);return J.newNoDocument(_,I)}(l,e):mt()}(U.serializer,St);Oe.set(Wt.key.toString(),Wt)});const nt=[];return P.forEach(St=>{const Wt=Oe.get(St.toString());Ge(!!Wt),nt.push(Wt)}),nt}),function _(I,P){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new bi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const _=Zt.fromPath(u);e.mutations.push(new si(_,e.precondition(_)))}),yield(s=(0,f.Z)(function*(_,I){const P=Ve(_),U={writes:I.map(X=>zo(P.serializer,X))};yield P.Co("Commit",P.serializer.databaseId,zn.emptyPath(),U)}),function u(_,I){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw mt();r=un.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new re(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(un.min())?Ri.exists(!1):Ri.updateTime(r):Ri.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(un.min()))throw new re(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(r)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Py{constructor(e,r,s,u,_){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=_,this.Za=s.maxAttempts,this.Yo=new Rt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,f.Z)(function*(){const r=new My(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(_=>{e.nu(_)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!we(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!es(r)}return!1}}class xy{constructor(e,r,s,u){var _=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=tt.UNAUTHENTICATED,this.clientId=kn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var I=(0,f.Z)(function*(P){he("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(s,I=>(he("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new De;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=_u(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function mg(l,e){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,f.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(_){s.isEqual(_)||(yield Up(e.localStore,_),s=_)});return function(_){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),Dh.apply(this,arguments)}function dc(l,e){return wd.apply(this,arguments)}function wd(){return(wd=(0,f.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Rl(l);he("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>ls(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>ls(e.remoteStore,u)),l._onlineComponents=e})).apply(this,arguments)}function zm(l){return"FirebaseError"===l.name?l.code===xe.FAILED_PRECONDITION||l.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Rl(l){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,f.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!zm(r))throw r;Pt("Error using user provided cache. Falling back to memory cache: "+r),yield mg(l,new Ua)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield mg(l,new Ua);return l._offlineComponents})).apply(this,arguments)}function Mh(l){return hv.apply(this,arguments)}function hv(){return(hv=(0,f.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield dc(l,l._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield dc(l,new Th))),l._onlineComponents})).apply(this,arguments)}function $m(l){return Rl(l).then(e=>e.persistence)}function Ol(l){return Rl(l).then(e=>e.localStore)}function Bf(l){return Mh(l).then(e=>e.remoteStore)}function Zm(l){return Mh(l).then(e=>e.syncEngine)}function bu(l){return _g.apply(this,arguments)}function _g(){return(_g=(0,f.Z)(function*(l){const e=yield Mh(l),r=e.eventManager;return r.onListen=Sf.bind(null,e.syncEngine),r.onUnlisten=Um.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Jp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ov.bind(null,e.syncEngine),r})).apply(this,arguments)}function vg(l,e,r={}){const s=new De;return l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(_,I,P,U,X){const me=new wh({next:nt=>{I.enqueueAndForget(()=>lc(_,Oe));const St=nt.docs.has(P);!St&&nt.fromCache?X.reject(new re(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&nt.fromCache&&U&&"server"===U.source?X.reject(new re(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(nt)},error:nt=>X.reject(nt)}),Oe=new vu(We(P.path),me,{includeMetadataChanges:!0,ra:!0});return _h(_,Oe)}(yield bu(l),l.asyncQueue,e,r,s)})),s.promise}function Eg(l,e,r={}){const s=new De;return l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(_,I,P,U,X){const me=new wh({next:nt=>{I.enqueueAndForget(()=>lc(_,Oe)),nt.fromCache&&"server"===U.source?X.reject(new re(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(nt)},error:nt=>X.reject(nt)}),Oe=new vu(P,me,{includeMetadataChanges:!0,ra:!0});return _h(_,Oe)}(yield bu(l),l.asyncQueue,e,r,s)})),s.promise}function Wm(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const Km=new Map;function bg(l,e,r){if(!r)throw new re(xe.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function Qm(l,e,r,s){if(!0===e&&!0===s)throw new re(xe.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function Cg(l){if(!Zt.isDocumentKey(l))throw new re(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function yv(l){if(Zt.isDocumentKey(l))throw new re(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Tg(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":mt()}function Hr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new re(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Tg(l);throw new re(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function Dd(l,e){if(e<=0)throw new re(xe.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class wg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new re(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Xe;switch(s.type){case"firstParty":return new Qt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Km.get(r);s&&(he("ComponentProvider","Removing Datastore"),Km.delete(r),s.terminate())}(this),Promise.resolve()}}function jf(l,e,r,s={}){var u;const _=(l=Hr(l,Sd))._getSettings(),I=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==I&&Pt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},_),{host:I,ssl:!1})),s.mockUserToken){let P,U;if("string"==typeof s.mockUserToken)P=s.mockUserToken,U=tt.MOCK_USER;else{P=(0,ve.Sg)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const X=s.mockUserToken.sub||s.mockUserToken.user_id;if(!X)throw new re(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new tt(X)}l._authCredentials=new ut(new Le(P,U))}}class Ko{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class Oo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oo(this.firestore,e,this._key)}}class hc extends Ko{constructor(e,r,s){super(e,r,We(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oo(this.firestore,null,new Zt(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function Ym(l,e,...r){if(l=(0,ve.m9)(l),bg("collection","path",e),l instanceof Sd){const s=zn.fromString(e,...r);return yv(s),new hc(l,null,s)}{if(!(l instanceof Oo||l instanceof hc))throw new re(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(zn.fromString(e,...r));return yv(s),new hc(l.firestore,null,s)}}function Hf(l,e){if(l=Hr(l,Sd),bg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ko(l,null,(s=e,new L(zn.emptyPath(),s)));var s}function Nl(l,e,...r){if(l=(0,ve.m9)(l),1===arguments.length&&(e=kn.newId()),bg("doc","path",e),l instanceof Sd){const s=zn.fromString(e,...r);return Cg(s),new Oo(l,null,new Zt(s))}{if(!(l instanceof Oo||l instanceof hc))throw new re(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(zn.fromString(e,...r));return Cg(s),new Oo(l.firestore,l instanceof hc?l.converter:null,new Zt(s))}}function zf(l,e){return l=(0,ve.m9)(l),e=(0,ve.m9)(e),(l instanceof Oo||l instanceof hc)&&(e instanceof Oo||e instanceof hc)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function Ph(l,e){return l=(0,ve.m9)(l),e=(0,ve.m9)(e),l instanceof Ko&&e instanceof Ko&&l.firestore===e.firestore&&Sa(l._query,e._query)&&l.converter===e.converter}class xh{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Rt(this,"async_queue_retry"),this.hu=()=>{const r=Ae();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=Ae();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=Ae();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new De;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,f.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!ur(r))throw r;he("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,yt("INTERNAL UNHANDLED ERROR: ",function(I){let P=I.message||"";return I.stack&&(P=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),P}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Gp.createAndSchedule(this,e,r,s,_=>this.Eu(_));return this._u.push(u),u}Pu(){this.au&&mt()}verifyOperationInProgress(){}du(){var e=this;return(0,f.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Md(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const _ of["next","error","complete"])if(_ in u&&"function"==typeof u[_])return!0;return!1}(l)}class Bs{constructor(){this._progressObserver={},this._taskCompletionResolver=new De,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const kl=-1;class Gi extends Sd{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new xh,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rh(this),this._firestoreClient.terminate()}}function Zf(l,e){const r="object"==typeof l?l:(0,o.getApp)(),s="string"==typeof l?l:e||"(default)",u=(0,o._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const _=(0,ve.P0)("firestore");_&&jf(u,..._)}return u}function Ui(l){return l._firestoreClient||Rh(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Rh(l){var e,r,s;const u=l._freezeSettings(),_=(U=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new ss(l._databaseId,U,l._persistenceKey,(me=u).host,me.ssl,me.experimentalForceLongPolling,me.experimentalAutoDetectLongPolling,Wm(me.experimentalLongPollingOptions),me.useFetchStreams));var U,me;l._firestoreClient=new xy(l._authCredentials,l._appCheckCredentials,l._queue,_),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Gf(l,e){e_(l=Hr(l,Gi));const r=Ui(l);if(r._uninitializedComponentsProvider)throw new re(xe.FAILED_PRECONDITION,"SDK cache is already specified.");Pt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new Th;return Tu(r,u,new Ba(u,s.cacheSizeBytes,e?.forceOwnership))}function el(l){e_(l=Hr(l,Gi));const e=Ui(l);if(e._uninitializedComponentsProvider)throw new re(xe.FAILED_PRECONDITION,"SDK cache is already specified.");Pt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new Th;return Tu(e,s,new uv(s,r.cacheSizeBytes))}function Tu(l,e,r){const s=new De;return l.asyncQueue.enqueue((0,f.Z)(function*(){try{yield mg(l,r),yield dc(l,e),s.resolve()}catch(u){const _=u;if(!zm(_))throw _;Pt("Error enabling indexeddb cache. Falling back to memory cache: "+_),s.reject(_)}})).then(()=>s.promise)}function qf(l){if(l._initialized&&!l._terminated)throw new re(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new De;return l._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(r=(0,f.Z)(function*(u){if(!bt.D())return Promise.resolve();const _=u+"main";yield bt.delete(_)}),function s(u){return r.apply(this,arguments)})(su(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Jm(l){return function(r){const s=new De;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Nf(l,e){return kf.apply(this,arguments)}(yield Zm(r),s)})),s.promise}(Ui(l=Hr(l,Gi)))}function Ry(l){return function pv(l){return l.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield $m(l),r=yield Bf(l);return e.setNetworkEnabled(!0),function(u){const _=Ve(u);return _.M_.delete(0),sc(_)}(r)}))}(Ui(l=Hr(l,Gi)))}function Dg(l){return function gv(l){return l.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield $m(l),r=yield Bf(l);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(_){const I=Ve(_);I.M_.add(0),yield ac(I),I.N_.set("Offline")}),function u(_){return s.apply(this,arguments)})(r);var s}))}(Ui(l=Hr(l,Gi)))}function Ev(l,e){const r=Ui(l=Hr(l,Gi)),s=new Bs;return function Cu(l,e,r,s){const u=function(I,P){let U;return U="string"==typeof I?xc().encode(I):I,me=function(me,Oe){if(me instanceof Uint8Array)return dv(me,void 0);if(me instanceof ArrayBuffer)return dv(new Uint8Array(me),void 0);if(me instanceof ReadableStream)return me.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new gg(me,P);var me}(r,at(e));l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Xc(l,e,r){const s=Ve(l);var u;(u=(0,f.Z)(function*(I,P,U){try{const X=yield P.getMetadata();if(yield function(Wt,_n){const tn=Ve(Wt),Wn=Xi(_n.createTime);return tn.persistence.runTransaction("hasNewerBundle","readonly",cr=>tn.$r.getBundleMetadata(cr,_n.id)).then(cr=>!!cr&&cr.createTime.compareTo(Wn)>=0)}(I.localStore,X))return yield P.close(),U._completeWith({taskState:"Success",documentsLoaded:(Wt=X).totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Om(X));const me=new Df(X,I.localStore,P.serializer);let Oe=yield P.qa();for(;Oe;){const St=yield me._a(Oe);St&&U._updateProgress(St),Oe=yield P.qa()}const nt=yield me.complete();return yield uc(I,nt.ca,void 0),yield function(Wt,_n){const tn=Ve(Wt);return tn.persistence.runTransaction("Save bundle","readwrite",Wn=>tn.$r.saveBundleMetadata(Wn,_n))}(I.localStore,X),U._completeWith(nt.progress),Promise.resolve(nt.ua)}catch(X){return Pt("SyncEngine",`Loading bundle failed with ${X}`),U._failWith(X),Promise.resolve(new Set)}var Wt}),function _(I,P,U){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Zm(l),u,s)}))}(r,l._databaseId,e,s),s}function Xm(l,e){return function Gm(l,e){return l.asyncQueue.enqueue((0,f.Z)(function*(){return function(s,u){const _=Ve(s);return _.persistence.runTransaction("Get named query","readonly",I=>_.$r.getNamedQuery(I,u))}(yield Ol(l),e)}))}(Ui(l=Hr(l,Gi)),e).then(r=>r?new Ko(l,null,r.query):null)}function e_(l){if(l._initialized||l._terminated)throw new re(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(yi.fromBase64String(e))}catch(r){throw new re(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ja(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ba{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new re(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fl{constructor(e){this._methodName=e}}class Ca{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new re(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new re(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const Mg=/^__.*__$/;class Wf{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new $r(e,this.data,this.fieldMask,r,this.fieldTransforms):new Nn(e,this.data,r,this.fieldTransforms)}}class Iv{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new $r(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Nh(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Ll{constructor(e,r,s,u,_,I){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===_&&this.mu(),this.fieldTransforms=_||[],this.fieldMask=I||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ll(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Fh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Nh(this.fu)&&Mg.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Av{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||at(e)}Fu(e,r,s,u=!1){return new Ll({fu:e,methodName:r,vu:s,path:nr.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fc(l){const e=l._freezeSettings(),r=at(l._databaseId);return new Av(l._databaseId,!!e.ignoreUndefinedProperties,r)}function sa(l,e,r,s,u,_={}){const I=l.Fu(_.merge||_.mergeFields?2:0,e,r,u);xg("Data must be an object, but it was:",I,s);const P=Pg(s,I);let U,X;if(_.merge)U=new Li(I.fieldMask),X=I.fieldTransforms;else if(_.mergeFields){const me=[];for(const Oe of _.mergeFields){const nt=rs(e,Oe,r);if(!I.contains(nt))throw new re(xe.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);n_(me,nt)||me.push(nt)}U=new Li(me),X=I.fieldTransforms.filter(Oe=>U.covers(Oe.field))}else U=null,X=I.fieldTransforms;return new Wf(new Nr(P),U,X)}class Qo extends Fl{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qo}}function pc(l,e,r){return new Ll({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nl extends Fl{_toFieldTransform(e){return new ga(e.path,new Pc)}isEqual(e){return e instanceof nl}}class Du extends Fl{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=pc(this,e,!0),s=this.Mu.map(_=>Bl(_,r)),u=new Zs(s);return new ga(e.path,u)}isEqual(e){return e instanceof Du&&(0,ve.vZ)(this.Mu,e.Mu)}}class Vl extends Fl{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=pc(this,e,!0),s=this.Mu.map(_=>Bl(_,r)),u=new Ps(s);return new ga(e.path,u)}isEqual(e){return e instanceof Vl&&(0,ve.vZ)(this.Mu,e.Mu)}}class rl extends Fl{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ra(e.serializer,zs(e.serializer,this.xu));return new ga(e.path,r)}isEqual(e){return e instanceof rl&&this.xu===e.xu}}function il(l,e,r,s){const u=l.Fu(1,e,r);xg("Data must be an object, but it was:",u,s);const _=[],I=Nr.empty();_o(s,(U,X)=>{const me=Rg(e,U,r);X=(0,ve.m9)(X);const Oe=u.Su(me);if(X instanceof Qo)_.push(me);else{const nt=Bl(X,Oe);null!=nt&&(_.push(me),I.set(me,nt))}});const P=new Li(_);return new Iv(I,P,u.fieldTransforms)}function Ul(l,e,r,s,u,_){const I=l.Fu(1,e,r),P=[rs(e,s,r)],U=[u];if(_.length%2!=0)throw new re(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<_.length;nt+=2)P.push(rs(e,_[nt])),U.push(_[nt+1]);const X=[],me=Nr.empty();for(let nt=P.length-1;nt>=0;--nt)if(!n_(X,P[nt])){const St=P[nt];let Wt=U[nt];Wt=(0,ve.m9)(Wt);const _n=I.Su(St);if(Wt instanceof Qo)X.push(St);else{const tn=Bl(Wt,_n);null!=tn&&(X.push(St),me.set(St,tn))}}const Oe=new Li(X);return new Iv(me,Oe,I.fieldTransforms)}function kh(l,e,r,s=!1){return Bl(r,l.Fu(s?4:3,e))}function Bl(l,e){if(Pd(l=(0,ve.m9)(l)))return xg("Unsupported field value:",e,l),Pg(l,e);if(l instanceof Fl)return function(s,u){if(!Nh(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const _=s._toFieldTransform(u);_&&u.fieldTransforms.push(_)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const _=[];let I=0;for(const P of s){let U=Bl(P,u.bu(I));null==U&&(U={nullValue:"NULL_VALUE"}),_.push(U),I++}return{arrayValue:{values:_}}}(l,e)}return function(s,u){if(null===(s=(0,ve.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return zs(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const _=Gn.fromDate(s);return{timestampValue:Oa(u.serializer,_)}}if(s instanceof Gn){const _=new Gn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oa(u.serializer,_)}}if(s instanceof Ca)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ja)return{bytesValue:Jd(u.serializer,s._byteString)};if(s instanceof Oo){const _=u.databaseId,I=s.firestore._databaseId;if(!I.isEqual(_))throw u.Du(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Na(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${Tg(s)}`)}(l,e)}function Pg(l,e){const r={};return Go(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(l,(s,u)=>{const _=Bl(u,e.pu(s));null!=_&&(r[s]=_)}),{mapValue:{fields:r}}}function Pd(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Gn||l instanceof Ca||l instanceof ja||l instanceof Oo||l instanceof Fl)}function xg(l,e,r){if(!Pd(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Tg(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var u}function rs(l,e,r){if((e=(0,ve.m9)(e))instanceof ba)return e._internalPath;if("string"==typeof e)return Rg(l,e);throw Fh("Field path arguments must be of type string or ",l,!1,void 0,r)}const t_=new RegExp("[~\\*/\\[\\]]");function Rg(l,e,r){if(e.search(t_)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new ba(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function Fh(l,e,r,s,u){const _=s&&!s.isEmpty(),I=void 0!==u;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let U="";return(_||I)&&(U+=" (found",_&&(U+=` in field ${s}`),I&&(U+=` in document ${u}`),U+=")"),new re(xe.INVALID_ARGUMENT,P+l+U)}function n_(l,e){return l.some(r=>r.isEqual(e))}class Kf{constructor(e,r,s,u,_){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(r_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Oy extends Kf{data(){return super.data()}}function r_(l,e){return"string"==typeof e?Rg(l,e):e instanceof ba?e._internalPath:e._delegate._internalPath}function Lh(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new re(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xd{}class Su extends xd{}function bv(l,e,...r){let s=[];e instanceof xd&&s.push(e),s=s.concat(r),function(_){const I=_.filter(U=>U instanceof gc).length,P=_.filter(U=>U instanceof ol).length;if(I>1||I>0&&P>0)throw new re(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class ol extends Su{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ol(e,r,s)}_apply(e){const r=this._parse(e);return Lg(e._query,r),new Ko(e.firestore,e.converter,Cc(e._query,r))}_parse(e){const r=fc(e.firestore);return function(_,I,P,U,X,me,Oe){let nt;if(X.isKeyField()){if("array-contains"===me||"array-contains-any"===me)throw new re(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${me}' queries on documentId().`);if("in"===me||"not-in"===me){Fg(Oe,me);const St=[];for(const Wt of Oe)St.push(i_(U,_,Wt));nt={arrayValue:{values:St}}}else nt=i_(U,_,Oe)}else"in"!==me&&"not-in"!==me&&"array-contains-any"!==me||Fg(Oe,me),nt=kh(P,"where",Oe,"in"===me||"not-in"===me);return Gt.create(X,me,nt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Rd(l,e,r){const s=e,u=r_("where",l);return ol._create(u,s,r)}class gc extends xd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new gc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:wn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,_){let I=u;const P=_.getFlattenedFilters();for(const U of P)Lg(I,U),I=Cc(I,U)}(e._query,r),new Ko(e.firestore,e.converter,Cc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vh extends Su{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Vh(e,r)}_apply(e){const r=function(u,_,I){if(null!==u.startAt)throw new re(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new re(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ft(_,I)}(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,function(u,_){const I=u.explicitOrderBy.concat([_]);return new L(u.path,u.collectionGroup,I,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Og(l,e="asc"){const r=e,s=r_("orderBy",l);return Vh._create(s,r)}class Ng extends Su{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Ng(e,r,s)}_apply(e){return new Ko(e.firestore,e.converter,Qa(e._query,this._limit,this._limitType))}}function wv(l){return Dd("limit",l),Ng._create("limit",l,"F")}function Uh(l){return Dd("limitToLast",l),Ng._create("limitToLast",l,"L")}class Qf extends Su{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Qf(e,r,s)}_apply(e){const r=jh(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(_=r,new L((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,_,u.endAt)));var u,_}}function Od(...l){return Qf._create("startAt",l,!0)}function Bh(...l){return Qf._create("startAfter",l,!1)}class mc extends Su{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new mc(e,r,s)}_apply(e){const r=jh(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(_=r,new L((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,_)));var u,_}}function Yf(...l){return mc._create("endBefore",l,!1)}function kg(...l){return mc._create("endAt",l,!0)}function jh(l,e,r,s){if(r[0]=(0,ve.m9)(r[0]),r[0]instanceof Kf)return function(_,I,P,U,X){if(!U)throw new re(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const me=[];for(const Oe of wo(_))if(Oe.field.isKeyField())me.push(mn(I,U.key));else{const nt=U.data.field(Oe.field);if(Mo(nt))throw new re(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const St=Oe.field.canonicalString();throw new re(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}me.push(nt)}return new Ue(me,X)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const u=fc(l.firestore);return function(I,P,U,X,me,Oe){const nt=I.explicitOrderBy;if(me.length>nt.length)throw new re(xe.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let Wt=0;Wt<me.length;Wt++){const _n=me[Wt];if(nt[Wt].field.isKeyField()){if("string"!=typeof _n)throw new re(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof _n}`);if(!Dr(I)&&-1!==_n.indexOf("/"))throw new re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${_n}' contains a slash.`);const tn=I.path.child(zn.fromString(_n));if(!Zt.isDocumentKey(tn))throw new re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${tn}' is not because it contains an odd number of segments.`);const Wn=new Zt(tn);St.push(mn(P,Wn))}else{const tn=kh(U,X,_n);St.push(tn)}}return new Ue(St,Oe)}(l._query,l.firestore._databaseId,u,e,r,s)}}function i_(l,e,r){if("string"==typeof(r=(0,ve.m9)(r))){if(""===r)throw new re(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dr(e)&&-1!==r.indexOf("/"))throw new re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(zn.fromString(r));if(!Zt.isDocumentKey(s))throw new re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mn(l,new Zt(s))}if(r instanceof Oo)return mn(l,r._key);throw new re(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(r)}.`)}function Fg(l,e){if(!Array.isArray(l)||0===l.length)throw new re(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lg(l,e){const r=function(u,_){for(const I of u)for(const P of I.getFlattenedFilters())if(_.indexOf(P.op)>=0)return P.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new re(xe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class o_{convertValue(e,r="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw mt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return _o(e,(u,_)=>{s[u]=this.convertValue(_,r)}),s}convertGeoPoint(e){return new Ca(Ei(e.latitude),Ei(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Jo(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Hi(e));default:return null}}convertTimestamp(e){const r=Co(e);return new Gn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=zn.fromString(e);Ge(He(s));const u=new qn(s.get(1),s.get(3)),_=new Zt(s.popFirst(5));return u.isEqual(r)||yt(`Document ${_} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function jl(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class s_ extends o_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,r)}}class Mu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nd extends Kf{constructor(e,r,s,u,_,I){super(e,r,s,u,I),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(r_("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class kd extends Nd{data(e={}){return super.data(e)}}class Pu{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Mu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new kd(this._firestore,this._userDataWriter,s.key,s,new Mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new re(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,_){if(u._snapshot.oldDocs.isEmpty()){let I=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new kd(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Mu(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:I++}))}{let I=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>_||3!==P.type).map(P=>{const U=new kd(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Mu(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let X=-1,me=-1;return 0!==P.type&&(X=I.indexOf(P.doc.key),I=I.delete(P.doc.key)),1!==P.type&&(I=I.add(P.doc),me=I.indexOf(P.doc.key)),{type:l_(P.type),doc:U,oldIndex:X,newIndex:me}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function l_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function Ha(l,e){return l instanceof Nd&&e instanceof Nd?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof Pu&&e instanceof Pu&&l._firestore===e._firestore&&Ph(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function Ug(l){l=Hr(l,Oo);const e=Hr(l.firestore,Gi);return vg(Ui(e),l._key).then(r=>zg(e,l,r))}class sl extends o_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,r)}}function Xf(l){l=Hr(l,Oo);const e=Hr(l.firestore,Gi),r=Ui(e),s=new sl(e);return function mv(l,e){const r=new De;return l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(_,I,P){try{const U=yield function(me,Oe){const nt=Ve(me);return nt.persistence.runTransaction("read document","readonly",St=>nt.localDocuments.getDocument(St,Oe))}(_,I);U.isFoundDocument()?P.resolve(U):U.isNoDocument()?P.resolve(null):P.reject(new re(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const X=_u(U,`Failed to get document '${I} from cache`);P.reject(X)}}),function u(_,I,P){return s.apply(this,arguments)})(yield Ol(l),e,r);var s})),r.promise}(r,l._key).then(u=>new Nd(e,s,l._key,u,new Mu(null!==u&&u.hasLocalMutations,!0),l.converter))}function xu(l){l=Hr(l,Oo);const e=Hr(l.firestore,Gi);return vg(Ui(e),l._key,{source:"server"}).then(r=>zg(e,l,r))}function Bg(l){l=Hr(l,Ko);const e=Hr(l.firestore,Gi),r=Ui(e),s=new sl(e);return Lh(l._query),Eg(r,l._query).then(u=>new Pu(e,s,l,u))}function Dv(l){l=Hr(l,Ko);const e=Hr(l.firestore,Gi),r=Ui(e),s=new sl(e);return function yg(l,e){const r=new De;return l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(_,I,P){try{const U=yield hd(_,I,!0),X=new km(I,U.hs),me=X.da(U.documents),Oe=X.applyChanges(me,!1);P.resolve(Oe.snapshot)}catch(U){const X=_u(U,`Failed to execute query '${I} against cache`);P.reject(X)}}),function u(_,I,P){return s.apply(this,arguments)})(yield Ol(l),e,r);var s})),r.promise}(r,l._query).then(u=>new Pu(e,s,l,u))}function ky(l){l=Hr(l,Ko);const e=Hr(l.firestore,Gi),r=Ui(e),s=new sl(e);return Eg(r,l._query,{source:"server"}).then(u=>new Pu(e,s,l,u))}function Sv(l,e,r){l=Hr(l,Oo);const s=Hr(l.firestore,Gi),u=jl(l.converter,e,r);return Ao(s,[sa(fc(s),"setDoc",l._key,u,null!==l.converter,r).toMutation(l._key,Ri.none())])}function jg(l,e,r,...s){l=Hr(l,Oo);const u=Hr(l.firestore,Gi),_=fc(u);let I;return I="string"==typeof(e=(0,ve.m9)(e))||e instanceof ba?Ul(_,"updateDoc",l._key,e,r,s):il(_,"updateDoc",l._key,e),Ao(u,[I.toMutation(l._key,Ri.exists(!0))])}function _c(l){return Ao(Hr(l.firestore,Gi),[new bi(l._key,Ri.none())])}function Hg(l,e){const r=Hr(l.firestore,Gi),s=Nl(l),u=jl(l.converter,e);return Ao(r,[sa(fc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,Ri.exists(!1))]).then(()=>s)}function Mv(l,...e){var r,s,u;l=(0,ve.m9)(l);let _={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof e[I]||Md(e[I])||(_=e[I],I++);const P={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(Md(e[I])){const Oe=e[I];e[I]=null===(r=Oe.next)||void 0===r?void 0:r.bind(Oe),e[I+1]=null===(s=Oe.error)||void 0===s?void 0:s.bind(Oe),e[I+2]=null===(u=Oe.complete)||void 0===u?void 0:u.bind(Oe)}let U,X,me;if(l instanceof Oo)X=Hr(l.firestore,Gi),me=We(l._key.path),U={next:Oe=>{e[I]&&e[I](zg(X,l,Oe))},error:e[I+1],complete:e[I+2]};else{const Oe=Hr(l,Ko);X=Hr(Oe.firestore,Gi),me=Oe._query;const nt=new sl(X);U={next:St=>{e[I]&&e[I](new Pu(X,nt,Oe,St))},error:e[I+1],complete:e[I+2]},Lh(l._query)}return function(nt,St,Wt,_n){const tn=new wh(_n),Wn=new vu(St,tn,Wt);return nt.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return _h(yield bu(nt),Wn)})),()=>{tn.$a(),nt.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return lc(yield bu(nt),Wn)}))}}(Ui(X),me,P,U)}function Fy(l,e){return function _v(l,e){const r=new wh(e);return l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield bu(l),_=r,Ve(u).z_.add(_),void _.next();var u,_})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return u=yield bu(l),_=r,void Ve(u).z_.delete(_);var u,_}))}}(Ui(l=Hr(l,Gi)),Md(e)?e:{next:e})}function Ao(l,e){return function(s,u){const _=new De;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Pf(l,e,r){return eg.apply(this,arguments)}(yield Zm(s),u,_)})),_.promise}(Ui(l),e)}function zg(l,e,r){const s=r.docs.get(e._key),u=new sl(l);return new Nd(l,u,e._key,s,new Mu(r.hasPendingWrites,r.fromCache),e.converter)}const al={maxAttempts:5};class Ou{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=fc(e)}set(e,r,s){this._verifyNotCommitted();const u=$a(e,this._firestore),_=jl(u.converter,r,s),I=sa(this._dataReader,"WriteBatch.set",u._key,_,null!==u.converter,s);return this._mutations.push(I.toMutation(u._key,Ri.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const _=$a(e,this._firestore);let I;return I="string"==typeof(r=(0,ve.m9)(r))||r instanceof ba?Ul(this._dataReader,"WriteBatch.update",_._key,r,s,u):il(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(I.toMutation(_._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=$a(e,this._firestore);return this._mutations=this._mutations.concat(new bi(r._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $a(l,e){if((l=(0,ve.m9)(l)).firestore!==e)throw new re(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Ov extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=fc(r)}get(r){const s=$a(r,this._firestore),u=new s_(this._firestore);return this._transaction.lookup([s._key]).then(_=>{if(!_||1!==_.length)return mt();const I=_[0];if(I.isFoundDocument())return new Kf(this._firestore,u,I.key,I,s.converter);if(I.isNoDocument())return new Kf(this._firestore,u,s._key,null,s.converter);throw mt()})}set(r,s,u){const _=$a(r,this._firestore),I=jl(_.converter,s,u),P=sa(this._dataReader,"Transaction.set",_._key,I,null!==_.converter,u);return this._transaction.set(_._key,P),this}update(r,s,u,..._){const I=$a(r,this._firestore);let P;return P="string"==typeof(s=(0,ve.m9)(s))||s instanceof ba?Ul(this._dataReader,"Transaction.update",I._key,s,u,_):il(this._dataReader,"Transaction.update",I._key,s),this._transaction.update(I._key,P),this}delete(r){const s=$a(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=$a(e,this._firestore),s=new sl(this._firestore);return super.get(e).then(u=>new Nd(this._firestore,s,r._key,u._document,new Mu(!1,!1),r.converter))}}function qg(l,e,r){l=Hr(l,Gi);const s=Object.assign(Object.assign({},al),r);return function(_){if(_.maxAttempts<1)throw new re(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(_,I,P){const U=new De;return _.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const X=yield function fv(l){return Mh(l).then(e=>e.datastore)}(_);new Py(_.asyncQueue,X,P,I,U).Xa()})),U.promise}(Ui(l),u=>e(new Ov(l,u)),s)}function Wg(){return new Qo("deleteField")}function rp(){return new nl("serverTimestamp")}function _s(...l){return new Du("arrayUnion",l)}function cl(...l){return new Vl("arrayRemove",l)}function h_(l){return new rl("increment",l)}!function(e,r=!0){Ze=o.SDK_VERSION,(0,o._registerComponent)(new V.wA("firestore",(s,{instanceIdentifier:u,options:_})=>{const I=s.getProvider("app").getImmediate(),P=new Gi(new Et(s.getProvider("auth-internal")),new En(s.getProvider("app-check-internal")),function(X,me){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new re(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qn(X.options.projectId,me)}(I,u),I);return _=Object.assign({useFetchStreams:r},_),P._setSettings(_),P},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Be,"4.6.3",e),(0,o.registerVersion)(Be,"4.6.3","esm2017")}()},8153:(an,lt,k)=>{"use strict";k.d(lt,{$Y:()=>pr,B0:()=>To,FN:()=>Or,IX:()=>ji,Jt:()=>Vi,UJ:()=>Gr,Ym:()=>mn,a1:()=>Yi,aF:()=>Mr,bm:()=>Cn,cF:()=>oi,g6:()=>Ti,gE:()=>dt,gH:()=>yt,iH:()=>ci,oq:()=>Ii,pb:()=>Yn,qm:()=>Fn,sd:()=>jr,y4:()=>yn});var f=k(5861),o=k(4303),V=k(9058),Se=k(4537);const ve="firebasestorage.googleapis.com",be="storageBucket";class W extends V.ZR{constructor(J,Ue,qe=0){super(le(J),`Firebase Storage: ${Ue} (${le(J)})`),this.status_=qe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return le(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var $=function(oe){return oe.UNKNOWN="unknown",oe.OBJECT_NOT_FOUND="object-not-found",oe.BUCKET_NOT_FOUND="bucket-not-found",oe.PROJECT_NOT_FOUND="project-not-found",oe.QUOTA_EXCEEDED="quota-exceeded",oe.UNAUTHENTICATED="unauthenticated",oe.UNAUTHORIZED="unauthorized",oe.UNAUTHORIZED_APP="unauthorized-app",oe.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",oe.INVALID_CHECKSUM="invalid-checksum",oe.CANCELED="canceled",oe.INVALID_EVENT_NAME="invalid-event-name",oe.INVALID_URL="invalid-url",oe.INVALID_DEFAULT_BUCKET="invalid-default-bucket",oe.NO_DEFAULT_BUCKET="no-default-bucket",oe.CANNOT_SLICE_BLOB="cannot-slice-blob",oe.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",oe.NO_DOWNLOAD_URL="no-download-url",oe.INVALID_ARGUMENT="invalid-argument",oe.INVALID_ARGUMENT_COUNT="invalid-argument-count",oe.APP_DELETED="app-deleted",oe.INVALID_ROOT_OPERATION="invalid-root-operation",oe.INVALID_FORMAT="invalid-format",oe.INTERNAL_ERROR="internal-error",oe.UNSUPPORTED_ENVIRONMENT="unsupported-environment",oe}($||{});function le(oe){return"storage/"+oe}function _e(){return new W($.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _t(){return new W($.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function It(){return new W($.CANCELED,"User canceled the upload/download.")}function Ke(){return new W($.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yt(oe){return new W($.INVALID_ARGUMENT,oe)}function Pt(){return new W($.APP_DELETED,"The Firebase app was deleted.")}function yn(oe){return new W($.INVALID_ROOT_OPERATION,"The operation '"+oe+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mt(oe,J){return new W($.INVALID_FORMAT,"String does not match format '"+oe+"': "+J)}function Ge(oe){throw new W($.INTERNAL_ERROR,"Internal error: "+oe)}class dt{constructor(J,Ue){this.bucket=J,this.path_=Ue}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Ue){let qe;try{qe=dt.makeFromUrl(J,Ue)}catch{return new dt(J,"")}if(""===qe.path)return qe;throw function tt(oe){return new W($.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+oe+"'.")}(J)}static makeFromUrl(J,Ue){let qe=null;const pt="([A-Za-z0-9.\\-_]+)",Pn=new RegExp("^gs://"+pt+"(/(.*))?$","i");function wn(Ce){Ce.path_=decodeURIComponent(Ce.path)}const $n=Ue.replace(/[.]/g,"\\."),br=[{regex:Pn,indices:{bucket:1,path:3},postModify:function Ft(Ce){"/"===Ce.path.charAt(Ce.path.length-1)&&(Ce.path_=Ce.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${$n}/v[A-Za-z0-9_]+/b/${pt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:wn},{regex:new RegExp(`^https?://${Ue===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":Ue}/${pt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:wn}];for(let Ce=0;Ce<br.length;Ce++){const je=br[Ce],st=je.regex.exec(J);if(st){let Kt=st[je.indices.path];Kt||(Kt=""),qe=new dt(st[je.indices.bucket],Kt),je.postModify(qe);break}}if(null==qe)throw function Be(oe){return new W($.INVALID_URL,"Invalid URL '"+oe+"'.")}(J);return qe}}class Ve{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function ut(oe){return"string"==typeof oe||oe instanceof String}function Et(oe){return Bt()&&oe instanceof Blob}function Bt(){return typeof Blob<"u"}function Qt(oe,J,Ue,qe){if(qe<J)throw yt(`Invalid value for '${oe}'. Expected ${J} or greater.`);if(qe>Ue)throw yt(`Invalid value for '${oe}'. Expected ${Ue} or less.`)}function Jt(oe,J,Ue){let qe=J;return null==Ue&&(qe=`https://${J}`),`${Ue}://${qe}/v0${oe}`}function En(oe){const J=encodeURIComponent;let Ue="?";for(const qe in oe)oe.hasOwnProperty(qe)&&(Ue=Ue+(J(qe)+"=")+J(oe[qe])+"&");return Ue=Ue.slice(0,-1),Ue}var Bn=function(oe){return oe[oe.NO_ERROR=0]="NO_ERROR",oe[oe.NETWORK_ERROR=1]="NETWORK_ERROR",oe[oe.ABORT=2]="ABORT",oe}(Bn||{});function Sn(oe,J){const Ue=oe>=500&&oe<600,pt=-1!==[408,429].indexOf(oe),Ft=-1!==J.indexOf(oe);return Ue||pt||Ft}class kn{constructor(J,Ue,qe,pt,Ft,pn,Pn,Gt,wn,mr,$n,Ai=!0){this.url_=J,this.method_=Ue,this.headers_=qe,this.body_=pt,this.successCodes_=Ft,this.additionalRetryCodes_=pn,this.callback_=Pn,this.errorCallback_=Gt,this.timeout_=wn,this.progressCallback_=mr,this.connectionFactory_=$n,this.retry=Ai,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Kr,Vr)=>{this.resolve_=Kr,this.reject_=Vr,this.start_()})}start_(){const Ue=(qe,pt)=>{const Ft=this.resolve_,pn=this.reject_,Pn=pt.connection;if(pt.wasSuccessCode)try{const Gt=this.callback_(Pn,Pn.getResponse());!function De(oe){return void 0!==oe}(Gt)?Ft():Ft(Gt)}catch(Gt){pn(Gt)}else if(null!==Pn){const Gt=_e();Gt.serverResponse=Pn.getErrorText(),pn(this.errorCallback_?this.errorCallback_(Pn,Gt):Gt)}else pn(pt.canceled?this.appDelete_?Pt():It():_t())};this.canceled_?Ue(0,new Xt(!1,null,!0)):this.backoffId_=function xe(oe,J,Ue){let qe=1,pt=null,Ft=null,pn=!1,Pn=0;function Gt(){return 2===Pn}let wn=!1;function mr(...Qr){wn||(wn=!0,J.apply(null,Qr))}function $n(Qr){pt=setTimeout(()=>{pt=null,oe(Kr,Gt())},Qr)}function Ai(){Ft&&clearTimeout(Ft)}function Kr(Qr,...ro){if(wn)return void Ai();if(Qr)return Ai(),void mr.call(null,Qr,...ro);if(Gt()||pn)return Ai(),void mr.call(null,Qr,...ro);let br;qe<64&&(qe*=2),1===Pn?(Pn=2,br=0):br=1e3*(qe+Math.random()),$n(br)}let Vr=!1;function hi(Qr){Vr||(Vr=!0,Ai(),!wn&&(null!==pt?(Qr||(Pn=2),clearTimeout(pt),$n(0)):Qr||(Pn=1)))}return $n(0),Ft=setTimeout(()=>{pn=!0,hi(!0)},Ue),hi}((qe,pt)=>{if(pt)return void qe(!1,new Xt(!1,null,!0));const Ft=this.connectionFactory_();this.pendingConnection_=Ft;const pn=Pn=>{null!==this.progressCallback_&&this.progressCallback_(Pn.loaded,Pn.lengthComputable?Pn.total:-1)};null!==this.progressCallback_&&Ft.addUploadProgressListener(pn),Ft.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ft.removeUploadProgressListener(pn),this.pendingConnection_=null;const Pn=Ft.getErrorCode()===Bn.NO_ERROR,Gt=Ft.getStatus();if(!Pn||Sn(Gt,this.additionalRetryCodes_)&&this.retry){const mr=Ft.getErrorCode()===Bn.ABORT;return void qe(!1,new Xt(!1,null,mr))}const wn=-1!==this.successCodes_.indexOf(Gt);qe(!0,new Xt(wn,Ft))})},Ue,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function re(oe){oe(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xt{constructor(J,Ue,qe){this.wasSuccessCode=J,this.connection=Ue,this.canceled=!!qe}}function Er(...oe){const J=function zn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Ue=new J;for(let qe=0;qe<oe.length;qe++)Ue.append(oe[qe]);return Ue.getBlob()}if(Bt())return new Blob(oe);throw new W($.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kn{constructor(J,Ue){this.data=J,this.contentType=Ue||null}}function Fn(oe,J){switch(oe){case Cn.RAW:return new Kn(Zr(J));case Cn.BASE64:case Cn.BASE64URL:return new Kn(Xn(oe,J));case Cn.DATA_URL:return new Kn(function Lr(oe){const J=new Qn(oe);return J.base64?Xn(Cn.BASE64,J.rest):function Br(oe){let J;try{J=decodeURIComponent(oe)}catch{throw mt(Cn.DATA_URL,"Malformed data URL.")}return Zr(J)}(J.rest)}(J),function gi(oe){return new Qn(oe).contentType}(J))}throw _e()}function Zr(oe){const J=[];for(let Ue=0;Ue<oe.length;Ue++){let qe=oe.charCodeAt(Ue);qe<=127?J.push(qe):qe<=2047?J.push(192|qe>>6,128|63&qe):55296==(64512&qe)?Ue<oe.length-1&&56320==(64512&oe.charCodeAt(Ue+1))?(qe=65536|(1023&qe)<<10|1023&oe.charCodeAt(++Ue),J.push(240|qe>>18,128|qe>>12&63,128|qe>>6&63,128|63&qe)):J.push(239,191,189):56320==(64512&qe)?J.push(239,191,189):J.push(224|qe>>12,128|qe>>6&63,128|63&qe)}return new Uint8Array(J)}function Xn(oe,J){switch(oe){case Cn.BASE64:{const pt=-1!==J.indexOf("-"),Ft=-1!==J.indexOf("_");if(pt||Ft)throw mt(oe,"Invalid character '"+(pt?"-":"_")+"' found: is it base64url encoded?");break}case Cn.BASE64URL:{const pt=-1!==J.indexOf("+"),Ft=-1!==J.indexOf("/");if(pt||Ft)throw mt(oe,"Invalid character '"+(pt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Ue;try{Ue=function Zt(oe){if(typeof atob>"u")throw function he(oe){return new W($.UNSUPPORTED_ENVIRONMENT,`${oe} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(oe)}(J)}catch(pt){throw pt.message.includes("polyfill")?pt:mt(oe,"Invalid character found")}const qe=new Uint8Array(Ue.length);for(let pt=0;pt<Ue.length;pt++)qe[pt]=Ue.charCodeAt(pt);return qe}class Qn{constructor(J){this.base64=!1,this.contentType=null;const Ue=J.match(/^data:([^,]+)?,/);if(null===Ue)throw mt(Cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const qe=Ue[1]||null;null!=qe&&(this.base64=function In(oe,J){return oe.length>=J.length&&oe.substring(oe.length-J.length)===J}(qe,";base64"),this.contentType=this.base64?qe.substring(0,qe.length-7):qe),this.rest=J.substring(J.indexOf(",")+1)}}class Gr{constructor(J,Ue){let qe=0,pt="";Et(J)?(this.data_=J,qe=J.size,pt=J.type):J instanceof ArrayBuffer?(Ue?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),qe=this.data_.length):J instanceof Uint8Array&&(Ue?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),qe=J.length),this.size_=qe,this.type_=pt}size(){return this.size_}type(){return this.type_}slice(J,Ue){if(Et(this.data_)){const pt=function nr(oe,J,Ue){return oe.webkitSlice?oe.webkitSlice(J,Ue):oe.mozSlice?oe.mozSlice(J,Ue):oe.slice?oe.slice(J,Ue):null}(this.data_,J,Ue);return null===pt?null:new Gr(pt)}{const qe=new Uint8Array(this.data_.buffer,J,Ue-J);return new Gr(qe,!0)}}static getBlob(...J){if(Bt()){const Ue=J.map(qe=>qe instanceof Gr?qe.data_:qe);return new Gr(Er.apply(null,Ue))}{const Ue=J.map(pn=>ut(pn)?Fn(Cn.RAW,pn).data:pn.data_);let qe=0;Ue.forEach(pn=>{qe+=pn.byteLength});const pt=new Uint8Array(qe);let Ft=0;return Ue.forEach(pn=>{for(let Pn=0;Pn<pn.length;Pn++)pt[Ft++]=pn[Pn]}),new Gr(pt,!0)}}uploadData(){return this.data_}}function rr(oe){let J;try{J=JSON.parse(oe)}catch{return null}return function Xe(oe){return"object"==typeof oe&&!Array.isArray(oe)}(J)?J:null}function Vt(oe){const J=oe.lastIndexOf("/",oe.length-2);return-1===J?oe:oe.slice(J+1)}function q(oe,J){return J}class ke{constructor(J,Ue,qe,pt){this.server=J,this.local=Ue||J,this.writable=!!qe,this.xform=pt||q}}let bt=null;function er(){if(bt)return bt;const oe=[];oe.push(new ke("bucket")),oe.push(new ke("generation")),oe.push(new ke("metageneration")),oe.push(new ke("name","fullPath",!0));const Ue=new ke("name");Ue.xform=function J(Ft,pn){return function on(oe){return!ut(oe)||oe.length<2?oe:Vt(oe)}(pn)},oe.push(Ue);const pt=new ke("size");return pt.xform=function qe(Ft,pn){return void 0!==pn?Number(pn):pn},oe.push(pt),oe.push(new ke("timeCreated")),oe.push(new ke("updated")),oe.push(new ke("md5Hash",null,!0)),oe.push(new ke("cacheControl",null,!0)),oe.push(new ke("contentDisposition",null,!0)),oe.push(new ke("contentEncoding",null,!0)),oe.push(new ke("contentLanguage",null,!0)),oe.push(new ke("contentType",null,!0)),oe.push(new ke("metadata","customMetadata",!0)),bt=oe,bt}function Pi(oe,J,Ue){const qe=rr(J);return null===qe?null:function ur(oe,J,Ue){const qe={type:"file"},pt=Ue.length;for(let Ft=0;Ft<pt;Ft++){const pn=Ue[Ft];qe[pn.local]=pn.xform(qe,J[pn.server])}return function Jr(oe,J){Object.defineProperty(oe,"ref",{get:function Ue(){const Ft=new dt(oe.bucket,oe.fullPath);return J._makeStorageReference(Ft)}})}(qe,oe),qe}(oe,qe,Ue)}function Ie(oe,J){const Ue={},qe=J.length;for(let pt=0;pt<qe;pt++){const Ft=J[pt];Ft.writable&&(Ue[Ft.server]=oe[Ft.local])}return JSON.stringify(Ue)}const ne="prefixes",G="items";class we{constructor(J,Ue,qe,pt){this.url=J,this.method=Ue,this.handler=qe,this.timeout=pt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function et(oe){if(!oe)throw _e()}function kt(oe,J){return function Ue(qe,pt){const Ft=Pi(oe,pt,J);return et(null!==Ft),Ft}}function cn(oe){return function J(Ue,qe){let pt;return pt=401===Ue.getStatus()?Ue.getErrorText().includes("Firebase App Check token is invalid")?function $e(){return new W($.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ne(){return new W($.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ue.getStatus()?function Me(oe){return new W($.QUOTA_EXCEEDED,"Quota for bucket '"+oe+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(oe.bucket):403===Ue.getStatus()?function Te(oe){return new W($.UNAUTHORIZED,"User does not have permission to access '"+oe+"'.")}(oe.path):qe,pt.status=Ue.getStatus(),pt.serverResponse=qe.serverResponse,pt}}function fn(oe){const J=cn(oe);return function Ue(qe,pt){let Ft=J(qe,pt);return 404===qe.getStatus()&&(Ft=function pe(oe){return new W($.OBJECT_NOT_FOUND,"Object '"+oe+"' does not exist.")}(oe.path)),Ft.serverResponse=pt.serverResponse,Ft}}function dr(oe,J,Ue){const pt=Jt(J.fullServerUrl(),oe.host,oe._protocol),pn=oe.maxOperationRetryTime,Pn=new we(pt,"GET",kt(oe,Ue),pn);return Pn.errorHandler=fn(J),Pn}function rt(oe,J,Ue,qe,pt){const Ft={};Ft.prefix=J.isRoot?"":J.path+"/",Ue&&Ue.length>0&&(Ft.delimiter=Ue),qe&&(Ft.pageToken=qe),pt&&(Ft.maxResults=pt);const Pn=Jt(J.bucketOnlyServerUrl(),oe.host,oe._protocol),wn=oe.maxOperationRetryTime,mr=new we(Pn,"GET",function $t(oe,J){return function Ue(qe,pt){const Ft=function F(oe,J,Ue){const qe=rr(Ue);return null===qe?null:function j(oe,J,Ue){const qe={prefixes:[],items:[],nextPageToken:Ue.nextPageToken};if(Ue[ne])for(const pt of Ue[ne]){const Ft=pt.replace(/\/$/,""),pn=oe._makeStorageReference(new dt(J,Ft));qe.prefixes.push(pn)}if(Ue[G])for(const pt of Ue[G]){const Ft=oe._makeStorageReference(new dt(J,pt.name));qe.items.push(Ft)}return qe}(oe,J,qe)}(oe,J,pt);return et(null!==Ft),Ft}}(oe,J.bucket),wn);return mr.urlParams=Ft,mr.errorHandler=cn(J),mr}function dn(oe,J,Ue){const qe=Object.assign({},Ue);return qe.fullPath=oe.path,qe.size=J.size(),qe.contentType||(qe.contentType=function Tn(oe,J){return oe&&oe.contentType||J&&J.type()||"application/octet-stream"}(null,J)),qe}class bn{constructor(J,Ue,qe,pt){this.current=J,this.total=Ue,this.finalized=!!qe,this.metadata=pt||null}}function li(oe,J){let Ue=null;try{Ue=oe.getResponseHeader("X-Goog-Upload-Status")}catch{et(!1)}return et(!!Ue&&-1!==(J||["active"]).indexOf(Ue)),Ue}const Or={STATE_CHANGED:"state_changed"},pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sr(oe){switch(oe){case"running":case"pausing":case"canceling":return pr.RUNNING;case"paused":return pr.PAUSED;case"success":return pr.SUCCESS;case"canceled":return pr.CANCELED;default:return pr.ERROR}}class bo{constructor(J,Ue,qe){if(function Le(oe){return"function"==typeof oe}(J)||null!=Ue||null!=qe)this.next=J,this.error=Ue??void 0,this.complete=qe??void 0;else{const Ft=J;this.next=Ft.next,this.error=Ft.error,this.complete=Ft.complete}}}function mo(oe){return(...J)=>{Promise.resolve().then(()=>oe(...J))}}let Ci=null;class gr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bn.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bn.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bn.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Ue,qe,pt){if(this.sent_)throw Ge("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ue,J,!0),void 0!==pt)for(const Ft in pt)pt.hasOwnProperty(Ft)&&this.xhr_.setRequestHeader(Ft,pt[Ft].toString());return void 0!==qe?this.xhr_.send(qe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ge("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ge("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ge("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ge("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class xi extends gr{initXhr(){this.xhr_.responseType="text"}}function mi(){return Ci?Ci():new xi}class ji{constructor(J,Ue,qe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Ue,this._metadata=qe,this._mappings=er(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=pt=>{if(this._request=void 0,this._chunkMultiplier=1,pt._codeEquals($.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ft=this.isExponentialBackoffExpired();if(Sn(pt.status,[])){if(!Ft)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();pt=_t()}this._error=pt,this._transition("error")}},this._metadataErrorHandler=pt=>{this._request=void 0,pt._codeEquals($.CANCELED)?this.completeTransitions_():(this._error=pt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((pt,Ft)=>{this._resolve=pt,this._reject=Ft,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Ue=>this._updateProgress(J+Ue)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ue,qe])=>{switch(this._state){case"running":J(Ue,qe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Ue)=>{const qe=function go(oe,J,Ue,qe,pt){const Ft=J.bucketOnlyServerUrl(),pn=dn(J,qe,pt),Pn={name:pn.fullPath},Gt=Jt(Ft,oe.host,oe._protocol),mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${qe.size()}`,"X-Goog-Upload-Header-Content-Type":pn.contentType,"Content-Type":"application/json; charset=utf-8"},$n=Ie(pn,Ue),Vr=new we(Gt,"POST",function Kr(hi){let Qr;li(hi);try{Qr=hi.getResponseHeader("X-Goog-Upload-URL")}catch{et(!1)}return et(ut(Qr)),Qr},oe.maxUploadRetryTime);return Vr.urlParams=Pn,Vr.headers=mr,Vr.body=$n,Vr.errorHandler=cn(J),Vr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),pt=this._ref.storage._makeRequest(qe,mi,J,Ue);this._request=pt,pt.getPromise().then(Ft=>{this._request=void 0,this._uploadUrl=Ft,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Ue,qe)=>{const pt=function Wi(oe,J,Ue,qe){const Gt=new we(Ue,"POST",function Ft(wn){const mr=li(wn,["active","final"]);let $n=null;try{$n=wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{et(!1)}$n||et(!1);const Ai=Number($n);return et(!isNaN(Ai)),new bn(Ai,qe.size(),"final"===mr)},oe.maxUploadRetryTime);return Gt.headers={"X-Goog-Upload-Command":"query"},Gt.errorHandler=cn(J),Gt}(this._ref.storage,this._ref._location,J,this._blob),Ft=this._ref.storage._makeRequest(pt,mi,Ue,qe);this._request=Ft,Ft.getPromise().then(pn=>{this._request=void 0,this._updateProgress(pn.current),this._needToFetchStatus=!1,pn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Ue=new bn(this._transferred,this._blob.size()),qe=this._uploadUrl;this._resolveToken((pt,Ft)=>{let pn;try{pn=function ki(oe,J,Ue,qe,pt,Ft,pn,Pn){const Gt=new bn(0,0);if(pn?(Gt.current=pn.current,Gt.total=pn.total):(Gt.current=0,Gt.total=qe.size()),qe.size()!==Gt.total)throw function ft(){return new W($.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const wn=Gt.total-Gt.current;let mr=wn;pt>0&&(mr=Math.min(mr,pt));const $n=Gt.current;let Kr="";Kr=0===mr?"finalize":wn===mr?"upload, finalize":"upload";const Vr={"X-Goog-Upload-Command":Kr,"X-Goog-Upload-Offset":`${Gt.current}`},hi=qe.slice($n,$n+mr);if(null===hi)throw Ke();const br=new we(Ue,"POST",function Qr(Ce,je){const st=li(Ce,["active","final"]),Ut=Gt.current+mr,Kt=qe.size();let An;return An="final"===st?kt(J,Ft)(Ce,je):null,new bn(Ut,Kt,"final"===st,An)},J.maxUploadRetryTime);return br.headers=Vr,br.body=hi.uploadData(),br.progressCallback=Pn||null,br.errorHandler=cn(oe),br}(this._ref._location,this._ref.storage,qe,this._blob,J,this._mappings,Ue,this._makeProgressCallback())}catch(Gt){return this._error=Gt,void this._transition("error")}const Pn=this._ref.storage._makeRequest(pn,mi,pt,Ft,!1);this._request=Pn,Pn.getPromise().then(Gt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Gt.current),Gt.finalized?(this._metadata=Gt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Ue)=>{const qe=dr(this._ref.storage,this._ref._location,this._mappings),pt=this._ref.storage._makeRequest(qe,mi,J,Ue);this._request=pt,pt.getPromise().then(Ft=>{this._request=void 0,this._metadata=Ft,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Ue)=>{const qe=function Ir(oe,J,Ue,qe,pt){const Ft=J.bucketOnlyServerUrl(),pn={"X-Goog-Upload-Protocol":"multipart"},Gt=function Pn(){let br="";for(let Ce=0;Ce<2;Ce++)br+=Math.random().toString().slice(2);return br}();pn["Content-Type"]="multipart/related; boundary="+Gt;const wn=dn(J,qe,pt),mr=Ie(wn,Ue),Kr=Gr.getBlob("--"+Gt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mr+"\r\n--"+Gt+"\r\nContent-Type: "+wn.contentType+"\r\n\r\n",qe,"\r\n--"+Gt+"--");if(null===Kr)throw Ke();const Vr={name:wn.fullPath},hi=Jt(Ft,oe.host,oe._protocol),ro=oe.maxUploadRetryTime,io=new we(hi,"POST",kt(oe,Ue),ro);return io.urlParams=Vr,io.headers=pn,io.body=Kr.uploadData(),io.errorHandler=cn(J),io}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),pt=this._ref.storage._makeRequest(qe,mi,J,Ue);this._request=pt,pt.getPromise().then(Ft=>{this._request=void 0,this._metadata=Ft,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Ue=this._transferred;this._transferred=J,this._transferred!==Ue&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ue="paused"===this._state;this._state=J,Ue&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=It(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=sr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Ue,qe,pt){const Ft=new bo(Ue||void 0,qe||void 0,pt||void 0);return this._addObserver(Ft),()=>{this._removeObserver(Ft)}}then(J,Ue){return this._promise.then(J,Ue)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Ue=this._observers.indexOf(J);-1!==Ue&&this._observers.splice(Ue,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ue=>{this._notifyObserver(Ue)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(sr(this._state)){case pr.SUCCESS:mo(this._resolve.bind(null,this.snapshot))();break;case pr.CANCELED:case pr.ERROR:mo(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(sr(this._state)){case pr.RUNNING:case pr.PAUSED:J.next&&mo(J.next.bind(J,this.snapshot))();break;case pr.SUCCESS:J.complete&&mo(J.complete.bind(J))();break;default:J.error&&mo(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class Go{constructor(J,Ue){this._service=J,this._location=Ue instanceof dt?Ue:dt.makeFromUrl(Ue,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Ue){return new Go(J,Ue)}get root(){const J=new dt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vt(this._location.path)}get storage(){return this._service}get parent(){const J=function Sr(oe){if(0===oe.length)return null;const J=oe.lastIndexOf("/");return-1===J?"":oe.slice(0,J)}(this._location.path);if(null===J)return null;const Ue=new dt(this._location.bucket,J);return new Go(this._service,Ue)}_throwIfRoot(J){if(""===this._location.path)throw yn(J)}}function Li(oe,J,Ue){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(oe,J,Ue){const pt=yield qo(oe,{pageToken:Ue});J.prefixes.push(...pt.prefixes),J.items.push(...pt.items),null!=pt.nextPageToken&&(yield Li(oe,J,pt.nextPageToken))})).apply(this,arguments)}function qo(oe,J){null!=J&&"number"==typeof J.maxResults&&Qt("options.maxResults",1,1e3,J.maxResults);const Ue=J||{},qe=rt(oe.storage,oe._location,"/",Ue.pageToken,Ue.maxResults);return oe.storage.makeRequestWithTokens(qe,mi)}function Co(oe){oe._throwIfRoot("getDownloadURL");const J=function it(oe,J,Ue){const pt=Jt(J.fullServerUrl(),oe.host,oe._protocol),pn=oe.maxOperationRetryTime,Pn=new we(pt,"GET",function hn(oe,J){return function Ue(qe,pt){const Ft=Pi(oe,pt,J);return et(null!==Ft),function sn(oe,J,Ue,qe){const pt=rr(J);if(null===pt||!ut(pt.downloadTokens))return null;const Ft=pt.downloadTokens;if(0===Ft.length)return null;const pn=encodeURIComponent;return Ft.split(",").map(wn=>{const $n=oe.fullPath;return Jt("/b/"+pn(oe.bucket)+"/o/"+pn($n),Ue,qe)+En({alt:"media",token:wn})})[0]}(Ft,pt,oe.host,oe._protocol)}}(oe,Ue),pn);return Pn.errorHandler=fn(J),Pn}(oe.storage,oe._location,er());return oe.storage.makeRequestWithTokens(J,mi).then(Ue=>{if(null===Ue)throw function Ye(){return new W($.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ue})}function vo(oe,J){const Ue=function Ar(oe,J){const Ue=J.split("/").filter(qe=>qe.length>0).join("/");return 0===oe.length?Ue:oe+"/"+Ue}(oe._location.path,J),qe=new dt(oe._location.bucket,Ue);return new Go(oe.storage,qe)}function Hi(oe,J){if(oe instanceof ni){const Ue=oe;if(null==Ue._bucket)throw function Ze(){return new W($.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+be+"' property when initializing the app?")}();const qe=new Go(Ue,Ue._bucket);return null!=J?Hi(qe,J):qe}return void 0!==J?vo(oe,J):oe}function ss(oe,J){if(J&&function Mo(oe){return/^[A-Za-z]+:\/\//.test(oe)}(J)){if(oe instanceof ni)return function Jo(oe,J){return new Go(oe,J)}(oe,J);throw yt("To use ref(service, url), the first argument must be a Storage instance.")}return Hi(oe,J)}function qn(oe,J){const Ue=J?.[be];return null==Ue?null:dt.makeFromBucketSpec(Ue,oe)}class ni{constructor(J,Ue,qe,pt,Ft){this.app=J,this._authProvider=Ue,this._appCheckProvider=qe,this._url=pt,this._firebaseVersion=Ft,this._bucket=null,this._host=ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=pt?dt.makeFromBucketSpec(pt,this._host):qn(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?dt.makeFromBucketSpec(this._url,J):qn(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){Qt("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){Qt("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,f.Z)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Ue=J._authProvider.getImmediate({optional:!0});if(Ue){const qe=yield Ue.getToken();if(null!==qe)return qe.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,f.Z)(function*(){const Ue=J._appCheckProvider.getImmediate({optional:!0});return Ue?(yield Ue.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new Go(this,J)}_makeRequest(J,Ue,qe,pt,Ft=!0){if(this._deleted)return new Ve(Pt());{const pn=function pi(oe,J,Ue,qe,pt,Ft,pn=!0){const Pn=En(oe.urlParams),Gt=oe.url+Pn,wn=Object.assign({},oe.headers);return function Gn(oe,J){J&&(oe["X-Firebase-GMPID"]=J)}(wn,J),function Mn(oe,J){null!==J&&J.length>0&&(oe.Authorization="Firebase "+J)}(wn,Ue),function Vn(oe,J){oe["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(wn,Ft),function un(oe,J){null!==J&&(oe["X-Firebase-AppCheck"]=J)}(wn,qe),new kn(Gt,oe.method,wn,oe.body,oe.successCodes,oe.additionalRetryCodes,oe.handler,oe.errorHandler,oe.timeout,oe.progressCallback,pt,pn)}(J,this._appId,qe,pt,Ue,this._firebaseVersion,Ft);return this._requests.add(pn),pn.getPromise().then(()=>this._requests.delete(pn),()=>this._requests.delete(pn)),pn}}makeRequestWithTokens(J,Ue){var qe=this;return(0,f.Z)(function*(){const[pt,Ft]=yield Promise.all([qe._getAuthToken(),qe._getAppCheckToken()]);return qe._makeRequest(J,Ue,pt,Ft).getPromise()})()}}const zi="@firebase/storage",to="storage";function To(oe,J,Ue){return function Xr(oe,J,Ue){return oe._throwIfRoot("uploadBytesResumable"),new ji(oe,new Gr(J),Ue)}(oe=(0,V.m9)(oe),J,Ue)}function jr(oe){return function yi(oe){oe._throwIfRoot("getMetadata");const J=dr(oe.storage,oe._location,er());return oe.storage.makeRequestWithTokens(J,mi)}(oe=(0,V.m9)(oe))}function mn(oe,J){return function os(oe,J){oe._throwIfRoot("updateMetadata");const Ue=function jt(oe,J,Ue,qe){const Ft=Jt(J.fullServerUrl(),oe.host,oe._protocol),Pn=Ie(Ue,qe),wn=oe.maxOperationRetryTime,mr=new we(Ft,"PATCH",kt(oe,qe),wn);return mr.headers={"Content-Type":"application/json; charset=utf-8"},mr.body=Pn,mr.errorHandler=fn(J),mr}(oe.storage,oe._location,J,er());return oe.storage.makeRequestWithTokens(Ue,mi)}(oe=(0,V.m9)(oe),J)}function Yn(oe,J){return qo(oe=(0,V.m9)(oe),J)}function Mr(oe){return function ko(oe){const J={prefixes:[],items:[]};return Li(oe,J).then(()=>J)}(oe=(0,V.m9)(oe))}function Vi(oe){return Co(oe=(0,V.m9)(oe))}function Ii(oe){return function Ei(oe){oe._throwIfRoot("deleteObject");const J=function en(oe,J){const qe=Jt(J.fullServerUrl(),oe.host,oe._protocol),Pn=new we(qe,"DELETE",function pn(Gt,wn){},oe.maxOperationRetryTime);return Pn.successCodes=[200,204],Pn.errorHandler=fn(J),Pn}(oe.storage,oe._location);return oe.storage.makeRequestWithTokens(J,mi)}(oe=(0,V.m9)(oe))}function ci(oe,J){return ss(oe=(0,V.m9)(oe),J)}function Ti(oe,J){return vo(oe,J)}function oi(oe=(0,o.getApp)(),J){oe=(0,V.m9)(oe);const qe=(0,o._getProvider)(oe,to).getImmediate({identifier:J}),pt=(0,V.P0)("storage");return pt&&Yi(qe,...pt),qe}function Yi(oe,J,Ue,qe={}){!function ei(oe,J,Ue,qe={}){oe.host=`${J}:${Ue}`,oe._protocol="http";const{mockUserToken:pt}=qe;pt&&(oe._overrideAuthToken="string"==typeof pt?pt:(0,V.Sg)(pt,oe.app.options.projectId))}(oe,J,Ue,qe)}function yo(oe,{instanceIdentifier:J}){const Ue=oe.getProvider("app").getImmediate(),qe=oe.getProvider("auth-internal"),pt=oe.getProvider("app-check-internal");return new ni(Ue,qe,pt,J,o.SDK_VERSION)}!function Nr(){(0,o._registerComponent)(new Se.wA(to,yo,"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(zi,"0.12.5",""),(0,o.registerVersion)(zi,"0.12.5","esm2017")}()},9058:(an,lt,k)=>{"use strict";k.d(lt,{$s:()=>Jr,BH:()=>Ze,G6:()=>xe,L:()=>ge,LL:()=>Et,P0:()=>It,Pz:()=>tt,Sg:()=>Ke,UG:()=>he,ZB:()=>le,ZR:()=>ut,aH:()=>Be,b$:()=>yn,eu:()=>De,hl:()=>re,jU:()=>yt,m9:()=>sn,ne:()=>Zr,pd:()=>Kn,r3:()=>Vn,ru:()=>Pt,tV:()=>W,uI:()=>Ye,vZ:()=>zn,w1:()=>Ge,xO:()=>Zt,xb:()=>un,z$:()=>ft,zI:()=>Le,zd:()=>Cn});const Se=function(Ie){const ne=[];let G=0;for(let j=0;j<Ie.length;j++){let F=Ie.charCodeAt(j);F<128?ne[G++]=F:F<2048?(ne[G++]=F>>6|192,ne[G++]=63&F|128):55296==(64512&F)&&j+1<Ie.length&&56320==(64512&Ie.charCodeAt(j+1))?(F=65536+((1023&F)<<10)+(1023&Ie.charCodeAt(++j)),ne[G++]=F>>18|240,ne[G++]=F>>12&63|128,ne[G++]=F>>6&63|128,ne[G++]=63&F|128):(ne[G++]=F>>12|224,ne[G++]=F>>6&63|128,ne[G++]=63&F|128)}return ne},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,ne){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let F=0;F<Ie.length;F+=3){const we=Ie[F],et=F+1<Ie.length,kt=et?Ie[F+1]:0,$t=F+2<Ie.length,hn=$t?Ie[F+2]:0;let dr=(15&kt)<<2|hn>>6,rt=63&hn;$t||(rt=64,et||(dr=64)),j.push(G[we>>2],G[(3&we)<<4|kt>>4],G[dr],G[rt])}return j.join("")},encodeString(Ie,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(Ie):this.encodeByteArray(Se(Ie),ne)},decodeString(Ie,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(Ie):function(Ie){const ne=[];let G=0,j=0;for(;G<Ie.length;){const F=Ie[G++];if(F<128)ne[j++]=String.fromCharCode(F);else if(F>191&&F<224){const we=Ie[G++];ne[j++]=String.fromCharCode((31&F)<<6|63&we)}else if(F>239&&F<365){const $t=((7&F)<<18|(63&Ie[G++])<<12|(63&Ie[G++])<<6|63&Ie[G++])-65536;ne[j++]=String.fromCharCode(55296+($t>>10)),ne[j++]=String.fromCharCode(56320+(1023&$t))}else{const we=Ie[G++],et=Ie[G++];ne[j++]=String.fromCharCode((15&F)<<12|(63&we)<<6|63&et)}}return ne.join("")}(this.decodeStringToByteArray(Ie,ne))},decodeStringToByteArray(Ie,ne){this.init_();const G=ne?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let F=0;F<Ie.length;){const we=G[Ie.charAt(F++)],kt=F<Ie.length?G[Ie.charAt(F)]:0;++F;const hn=F<Ie.length?G[Ie.charAt(F)]:64;++F;const fn=F<Ie.length?G[Ie.charAt(F)]:64;if(++F,null==we||null==kt||null==hn||null==fn)throw new ue;j.push(we<<2|kt>>4),64!==hn&&(j.push(kt<<4&240|hn>>2),64!==fn&&j.push(hn<<6&192|fn))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(Ie){return function(Ie){const ne=Se(Ie);return be.encodeByteArray(ne,!0)}(Ie).replace(/\./g,"")},W=function(Ie){try{return be.decodeString(Ie,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function le(Ie,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return ne}for(const G in ne)!ne.hasOwnProperty(G)||!_e(G)||(Ie[G]=le(Ie[G],ne[G]));return Ie}function _e(Ie){return"__proto__"!==Ie}const Te=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=Ie&&W(Ie[1]);return ne&&JSON.parse(ne)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},It=Ie=>{const ne=(Ie=>{var ne,G;return null===(G=null===(ne=Te())||void 0===ne?void 0:ne.emulatorHosts)||void 0===G?void 0:G[Ie]})(Ie);if(!ne)return;const G=ne.lastIndexOf(":");if(G<=0||G+1===ne.length)throw new Error(`Invalid host ${ne} with no separate hostname and port!`);const j=parseInt(ne.substring(G+1),10);return"["===ne[0]?[ne.substring(1,G-1),j]:[ne.substring(0,G),j]},Be=()=>{var Ie;return null===(Ie=Te())||void 0===Ie?void 0:Ie.config},tt=Ie=>{var ne;return null===(ne=Te())||void 0===ne?void 0:ne[`_${Ie}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,G)=>{this.resolve=ne,this.reject=G})}wrapCallback(ne){return(G,j)=>{G?this.reject(G):this.resolve(j),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(G):ne(G,j))}}}function Ke(Ie,ne){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=ne||"demo-project",F=Ie.iat||0,we=Ie.sub||Ie.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:F,exp:F+3600,auth_time:F,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(et)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function he(){var Ie;const ne=null===(Ie=Te())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){return"object"==typeof self&&self.self===self}function Pt(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function yn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const Ie=ft();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function xe(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((Ie,ne)=>{try{let G=!0;const j="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(j);F.onsuccess=()=>{F.result.close(),G||self.indexedDB.deleteDatabase(j),Ie(!0)},F.onupgradeneeded=()=>{G=!1},F.onerror=()=>{var we;ne((null===(we=F.error)||void 0===we?void 0:we.message)||"")}}catch(G){ne(G)}})}function Le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ut extends Error{constructor(ne,G,j){super(G),this.code=ne,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(ne,G,j){this.service=ne,this.serviceName=G,this.errors=j}create(ne,...G){const j=G[0]||{},F=`${this.service}/${ne}`,we=this.errors[ne],et=we?function Bt(Ie,ne){return Ie.replace(Qt,(G,j)=>{const F=ne[j];return null!=F?String(F):`<${j}?>`})}(we,j):"Error";return new ut(F,`${this.serviceName}: ${et} (${F}).`,j)}}const Qt=/\{\$([^}]+)}/g;function Vn(Ie,ne){return Object.prototype.hasOwnProperty.call(Ie,ne)}function un(Ie){for(const ne in Ie)if(Object.prototype.hasOwnProperty.call(Ie,ne))return!1;return!0}function zn(Ie,ne){if(Ie===ne)return!0;const G=Object.keys(Ie),j=Object.keys(ne);for(const F of G){if(!j.includes(F))return!1;const we=Ie[F],et=ne[F];if(Er(we)&&Er(et)){if(!zn(we,et))return!1}else if(we!==et)return!1}for(const F of j)if(!G.includes(F))return!1;return!0}function Er(Ie){return null!==Ie&&"object"==typeof Ie}function Zt(Ie){const ne=[];for(const[G,j]of Object.entries(Ie))Array.isArray(j)?j.forEach(F=>{ne.push(encodeURIComponent(G)+"="+encodeURIComponent(F))}):ne.push(encodeURIComponent(G)+"="+encodeURIComponent(j));return ne.length?"&"+ne.join("&"):""}function Cn(Ie){const ne={};return Ie.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[F,we]=j.split("=");ne[decodeURIComponent(F)]=decodeURIComponent(we)}}),ne}function Kn(Ie){const ne=Ie.indexOf("?");if(!ne)return"";const G=Ie.indexOf("#",ne);return Ie.substring(ne,G>0?G:void 0)}function Zr(Ie,ne){const G=new Br(Ie,ne);return G.subscribe.bind(G)}class Br{constructor(ne,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{ne(this)}).catch(j=>{this.error(j)})}next(ne){this.forEachObserver(G=>{G.next(ne)})}error(ne){this.forEachObserver(G=>{G.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,G,j){let F;if(void 0===ne&&void 0===G&&void 0===j)throw new Error("Missing Observer.");F=function Qn(Ie,ne){if("object"!=typeof Ie||null===Ie)return!1;for(const G of ne)if(G in Ie&&"function"==typeof Ie[G])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:G,complete:j},void 0===F.next&&(F.next=Lr),void 0===F.error&&(F.error=Lr),void 0===F.complete&&(F.complete=Lr);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),we}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,ne)}sendOne(ne,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{G(this.observers[ne])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lr(){}const ke=1e3,bt=2,on=144e5,er=.5;function Jr(Ie,ne=ke,G=bt){const j=ne*Math.pow(G,Ie),F=Math.round(er*j*(Math.random()-.5)*2);return Math.min(on,j+F)}function sn(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},769:(an,lt,k)=>{"use strict";k.d(lt,{y:()=>le});var f=k(5861),o=k(2181),V=k(7398),Se=k(1631),ve=k(6306),be=k(2096),ue=k(3914),ae=k(5879),ge=k(6369),W=k(9862),$=k(6814);let le=(()=>{class _e{constructor(Me,Ne,$e,Te,_t,It){this.firestore=Me,this.http=Ne,this.route=$e,this.location=Te,this.router=_t,this.activatedRoute=It,this.analyticsCollection=this.firestore.collection("analytics"),this.trackPageViews()}getAnalytics(){return this.firestore.collection("analytics",Me=>Me.orderBy("timestamp","desc")).valueChanges()}trackPageViews(){this.router.events.pipe((0,o.h)(Me=>Me instanceof ue.m2),(0,V.U)(()=>this.activatedRoute),(0,V.U)(Me=>{for(;Me.firstChild;)Me=Me.firstChild;return Me}),(0,Se.z)(Me=>Me.queryParams),(0,Se.z)(Me=>this.router.events.pipe((0,o.h)(Ne=>Ne instanceof ue.m2),(0,V.U)(Ne=>({navigationEvent:Ne,queryParams:Me}))))).subscribe(({navigationEvent:Me,queryParams:Ne})=>{this.logAnalyticsData(Me.urlAfterRedirects,Ne,Me.type)})}logAnalyticsData(Me,Ne,$e){var Te=this;return(0,f.Z)(function*(){const _t=navigator.userAgent,It=new Date,Be=Te.getBrowserType(_t),tt=/mobile/i.test(_t),Ze={pagePath:Me,queryParams:Ne,timestamp:It,browser:Be,isMobile:tt,event_type:$e};return Te.firestore.collection("analytics").add(Ze)})()}getBrowserType(Me){return Me.includes("Firefox")?"Firefox":Me.includes("Chrome")?"Chrome":Me.includes("Safari")?"Safari":Me.includes("Edge")?"Edge":"Unknown"}getIPAddress(){return this.http.get("https://api.ipify.org/?format=json").pipe((0,ve.K)(Me=>(console.error("Error getting IP address: ",Me),(0,be.of)({ip:"Unknown"}))))}static#e=this.\u0275fac=function(Ne){return new(Ne||_e)(ae.LFG(ge.ST),ae.LFG(W.eN),ae.LFG(ue.gz),ae.LFG($.Ye),ae.LFG(ue.F0),ae.LFG(ue.gz))};static#t=this.\u0275prov=ae.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},4626:(an,lt,k)=>{"use strict";k.d(lt,{e:()=>ae});var f=k(5861),o=k(2459),V=k(6306),Se=k(7398),ve=k(5879),be=k(981),ue=k(3914);let ae=(()=>{class ge{constructor($,le){this.afAuth=$,this.router=le,this.user$=this.afAuth.authState}login($,le){return this.router.navigate(["/admin"]),(0,o.D)(this.afAuth.signInWithEmailAndPassword($,le)).pipe((0,V.K)(_e=>{throw console.error("Login error: ",_e),_e}))}logout(){var $=this;return(0,f.Z)(function*(){yield $.afAuth.signOut(),$.router.navigate(["/login"])})()}isLoggedIn(){return this.user$.pipe((0,Se.U)($=>!!$))}static#e=this.\u0275fac=function(le){return new(le||ge)(ve.LFG(be.zQ),ve.LFG(ue.F0))};static#t=this.\u0275prov=ve.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})()},5842:(an,lt,k)=>{"use strict";k.d(lt,{I:()=>be});var f=k(5861);class o{constructor(){this.message="",this.context="",this.stack="",this.timestamp=new Date,this.id=""}}var V=k(1043),Se=k(5879),ve=k(6369);let be=(()=>{class ue{constructor(ge){this.firestore=ge,this.err=new o,this.errorLogsCollection=this.firestore.collection("errorLogs")}logError(ge,W){const $={message:ge.message||ge.toString(),stack:ge.stack||"",timestamp:V.EK.now(),context:W||""};return this.firestore.collection("errorLogs").add(Object.assign({},$))}getErrorLogs(){return this.firestore.collection("errorLogs",ge=>ge.orderBy("timestamp","desc").limit(200)).valueChanges()}clearErrorLogs(){var ge=this;return(0,f.Z)(function*(){const W=yield ge.firestore.collection("errorLogs").get().toPromise();if(W&&!W.empty){const $=ge.firestore.firestore.batch();return W.forEach(le=>{$.delete(le.ref)}),$.commit()}console.warn("No error logs to clear.")})()}static#e=this.\u0275fac=function(W){return new(W||ue)(Se.LFG(ve.ST))};static#t=this.\u0275prov=Se.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},3375:(an,lt,k)=>{"use strict";k.d(lt,{n:()=>ue});var f=k(7398),o=k(6306),V=k(8504),Se=k(5879),ve=k(6369),be=k(5842);let ue=(()=>{class ae{constructor(W,$){this.firestore=W,this.errorLoggingService=$,this.eventsCollection=this.firestore.collection("Events")}getEvents(){return this.firestore.collection("Events",W=>W.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(W=>W.map($=>{const le=$.payload.doc.data();return{id:$.payload.doc.id,...le}})),(0,f.U)(W=>W.filter($=>$.Approved)),(0,o.K)(W=>(this.errorLoggingService.logError(W,"getEvents"),(0,V._)(()=>new Error(W)))))}getAllEvents(){return this.firestore.collection("Events",W=>W.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(W=>W.map($=>{const le=$.payload.doc.data();return{id:$.payload.doc.id,...le}})),(0,o.K)(W=>(this.errorLoggingService.logError(W,"getAllEvents"),(0,V._)(()=>new Error(W)))))}getEventById(W){return this.eventsCollection.doc(W).valueChanges().pipe((0,o.K)($=>(this.errorLoggingService.logError($,`getEventById: ${W}`),(0,V._)(()=>new Error($)))))}addEvent(W){const $=this.firestore.createId();return W.Date_Created=new Date,W.Date_Updated=new Date,W.ApprovedDate=new Date,W.Approved=!0,this.firestore.collection("Events").doc($).set(W).catch(le=>{throw this.errorLoggingService.logError(le,"addEvent"),le})}updateEvent(W,$){return $.Date_Updated=new Date,this.eventsCollection.doc(W).update($).catch(le=>{throw this.errorLoggingService.logError(le,"updateEvent"),le}),this.firestore.doc(`Events/${W}`).valueChanges().pipe((0,f.U)(le=>le?{id:W,...le}:void 0))}deleteEvent(W){return this.eventsCollection.doc(W).delete().catch($=>{throw this.errorLoggingService.logError($,"deleteEvent"),$})}static#e=this.\u0275fac=function($){return new($||ae)(Se.LFG(ve.ST),Se.LFG(be.I))};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8779:(an,lt,k)=>{"use strict";k.d(lt,{K:()=>W});var f=k(4716),o=k(4664),V=k(6306),Se=k(5592),ve=k(2459),be=k(8504),ue=k(5879),ae=k(243),ge=k(5842);let W=(()=>{class ${constructor(_e,pe){this.storage=_e,this.errorLoggingService=pe}uploadImage(_e,pe){const Me=`${pe}/${_e.name}`,Ne=this.storage.ref(Me),$e=this.storage.upload(Me,_e);return new Se.y(Te=>{$e.snapshotChanges().pipe((0,f.x)(()=>{Ne.getDownloadURL().subscribe(_t=>{Te.next(_t),Te.complete()})})).subscribe()})}uploadOfferImage(_e,pe){const Me=`offers/${pe}/${_e.name}`,Ne=this.storage.ref(Me),$e=this.storage.upload(Me,_e);return(0,ve.D)($e).pipe((0,o.w)(()=>Ne.getDownloadURL()),(0,V.K)(Te=>{throw this.errorLoggingService.logError(Te,"uploadImage"),Te}))}deleteOfferImage(_e){return this.storage.refFromURL(_e).delete().pipe((0,V.K)(Me=>(this.errorLoggingService.logError(Me,"deleteImage"),(0,be._)(()=>new Error(Me)))))}static#e=this.\u0275fac=function(pe){return new(pe||$)(ue.LFG(ae.Q1),ue.LFG(ge.I))};static#t=this.\u0275prov=ue.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},8924:(an,lt,k)=>{"use strict";k.d(lt,{b:()=>W});var f=k(7398),o=k(6306),V=k(8504),Se=k(2459),ve=k(4664),be=k(5879),ue=k(6369),ae=k(5842),ge=k(8779);let W=(()=>{class ${constructor(_e,pe,Me){this.firestore=_e,this.errorLoggingService=pe,this.imageService=Me,this.offerCollection=this.firestore.collection("Offers")}generateOfferId(){return this.firestore.createId()}getAllOffers(){return this.firestore.collection("Offers",_e=>_e.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(_e=>_e.map(pe=>{const Me=pe.payload.doc.data();return{id:pe.payload.doc.id,...Me}}))).pipe((0,o.K)(_e=>(this.errorLoggingService.logError(_e,"getAllOffers"),(0,V._)(()=>new Error(_e)))))}getOffers(){return this.firestore.collection("Offers",_e=>_e.orderBy("Community_Sponsor","desc")).snapshotChanges().pipe((0,f.U)(_e=>_e.map(pe=>{const Me=pe.payload.doc.data();return{id:pe.payload.doc.id,...Me}}))).pipe((0,f.U)(_e=>_e.filter(pe=>1==pe.Approved))).pipe((0,f.U)(_e=>_e.filter(pe=>1==pe.Approved))).pipe((0,o.K)(_e=>(this.errorLoggingService.logError(_e,"getApprovedOffers"),(0,V._)(()=>new Error(_e)))))}getOfferById(_e){return this.firestore.collection("Offers").doc(_e).valueChanges().pipe((0,f.U)(pe=>{if(!pe)throw new Error(`Offer with ID ${_e} not found`);return{id:_e,...pe}}),(0,o.K)(pe=>(this.errorLoggingService.logError(pe,"getOfferById: "+_e),(0,V._)(()=>new Error(pe)))))}getAllOfferTypes(){return this.firestore.collection("OfferTypes").valueChanges().pipe((0,f.U)(_e=>{const pe=_e.map(Me=>Me.OfferType);return Array.from(new Set(pe))})).pipe((0,o.K)(_e=>(this.errorLoggingService.logError(_e,"getOfferTypes"),(0,V._)(()=>new Error(_e)))))}addOffer(_e){console.log(_e);const pe=this.firestore.createId();return _e.id=pe,_e.Date_Created=(new Date).toISOString(),_e.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(pe).set(Object.assign({},_e)).catch(Me=>{throw this.errorLoggingService.logError(Me,"addOffer"),Me}),this.firestore.doc(`Offers/${pe}`).valueChanges().pipe((0,f.U)(Me=>Me?{id:pe,...Me}:void 0))}addOfferWithId(_e,pe){return _e.id=pe,_e.Date_Created=(new Date).toISOString(),_e.Date_Updated=(new Date).toISOString(),(0,Se.D)(this.offerCollection.doc(pe).set(Object.assign({},_e))).pipe((0,ve.w)(()=>this.firestore.doc(`Offers/${pe}`).valueChanges().pipe((0,f.U)(Me=>{if(!Me)throw new Error(`Offer with ID ${pe} not found`);return{...Me,id:pe}}),(0,o.K)(Me=>(this.errorLoggingService.logError(Me,"addOffer"),(0,V._)(()=>new Error(Me)))))))}updateOffer(_e,pe){return console.log("Update Offer: "+_e),pe.Date_Updated=(new Date).toISOString(),this.offerCollection.doc(_e).update(pe).catch(Me=>{throw this.errorLoggingService.logError(Me,"updateOffer"),Me}),this.firestore.doc(`Offers/${_e}`).valueChanges().pipe((0,f.U)(Me=>Me?{id:_e,...Me}:void 0))}deleteOffer(_e){return this.offerCollection.doc(_e).delete().catch(pe=>{throw this.errorLoggingService.logError(pe,"deleteOffer"),pe})}static#e=this.\u0275fac=function(pe){return new(pe||$)(be.LFG(ue.ST),be.LFG(ae.I),be.LFG(ge.K))};static#t=this.\u0275prov=be.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},614:(an,lt,k)=>{"use strict";k.d(lt,{r:()=>W});var f=k(2572),o=k(7398),V=k(6306),Se=k(8504),ve=k(4664),be=k(2096),ue=k(5879),ae=k(6369),ge=k(5842);let W=(()=>{class ${constructor(_e,pe){this.firestore=_e,this.errorLoggingService=pe,this.servicesCollection=this.firestore.collection("Services")}getServices(){return(0,f.a)([this.firestore.collection("Services",_e=>_e.orderBy("Community_Sponsor","desc")).snapshotChanges(),this.getAllServiceTypes()]).pipe((0,o.U)(([_e,pe])=>{const Me=pe.reduce((Ne,$e)=>(Ne[$e.id]=$e.Name,Ne),{});return _e.map(Ne=>{const $e=Ne.payload.doc.data(),Te=Ne.payload.doc.id;return{...$e,id:Te,Service_Type:Me[$e.Service_Type_ID]||"Unknown"}}).filter(Ne=>Ne.Approved)}),(0,V.K)(_e=>(this.errorLoggingService.logError(_e,"getServices"),(0,Se._)(()=>new Error(_e)))))}getAllServices(){return(0,f.a)([this.firestore.collection("Services",_e=>_e.orderBy("Community_Sponsor","desc")).snapshotChanges(),this.getAllServiceTypes()]).pipe((0,o.U)(([_e,pe])=>{const Me=pe.reduce((Ne,$e)=>(Ne[$e.id]=$e.Name,Ne),{});return _e.map(Ne=>{const $e=Ne.payload.doc.data(),Te=Ne.payload.doc.id;return{...$e,id:Te,Service_Type:Me[$e.Service_Type_ID]||"Unknown"}})}),(0,V.K)(_e=>(this.errorLoggingService.logError(_e,"getAllServices"),(0,Se._)(()=>new Error(_e)))))}getServiceById(_e){return this.servicesCollection.doc(_e).valueChanges().pipe((0,ve.w)(pe=>pe?this.getServiceTypeById(pe.Service_Type_ID).pipe((0,o.U)(Me=>({...pe,Service_Type:Me?.Name||"Unknown"}))):(0,be.of)(void 0)),(0,V.K)(pe=>(this.errorLoggingService.logError(pe,"getServiceById: "+_e),(0,Se._)(()=>new Error(pe)))))}getServicesByTypeID(_e){return console.log("getServicesByTypeID",_e),this.firestore.collection("Services",pe=>pe.where("Service_Type_ID","==",_e).orderBy("Community_Sponsor","desc")).valueChanges().pipe((0,V.K)(pe=>(this.errorLoggingService.logError(pe,"getServiceByServiceType: "+_e),(0,Se._)(()=>new Error(pe)))))}addService(_e){const pe=this.firestore.createId();return _e.id=pe,_e.Date_Created=(new Date).toISOString(),_e.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(pe).set(Object.assign({},_e)).catch(Me=>{throw this.errorLoggingService.logError(Me,"addService"),Me}),this.firestore.doc(`Services/${pe}`).valueChanges().pipe((0,ve.w)(Me=>Me?this.getServiceTypeById(Me.Service_Type_ID).pipe((0,o.U)(Ne=>({...Me,id:pe,Service_Type:Ne?.Name||"Unknown"}))):(0,be.of)(void 0)),(0,V.K)(Me=>(this.errorLoggingService.logError(Me,"addService"),(0,Se._)(()=>new Error(Me)))))}updateService(_e,pe){return pe.Date_Updated=(new Date).toISOString(),this.servicesCollection.doc(_e).update(Object.assign({},pe)).catch(Me=>{throw this.errorLoggingService.logError(Me,"updateService"),Me}),this.firestore.doc(`Services/${_e}`).valueChanges().pipe((0,ve.w)(Me=>Me?this.getServiceTypeById(Me.Service_Type_ID).pipe((0,o.U)(Ne=>({...Me,id:_e,Service_Type:Ne?.Name||"Unknown"}))):(0,be.of)(void 0)),(0,V.K)(Me=>(this.errorLoggingService.logError(Me,"updateService"),(0,Se._)(()=>new Error(Me)))))}deleteService(_e){return this.servicesCollection.doc(_e).delete().catch(pe=>{throw this.errorLoggingService.logError(pe,"deleteService"),pe})}getServiceTypeById(_e){return this.firestore.collection("ListOfServices").doc(_e).valueChanges().pipe((0,V.K)(pe=>(this.errorLoggingService.logError(pe,"getServiceTypeById: "+_e),(0,Se._)(()=>new Error(pe)))))}getAllServiceTypes(){return this.firestore.collection("ListOfServices").valueChanges().pipe((0,V.K)(_e=>(this.errorLoggingService.logError(_e,"getServiceTypes"),(0,Se._)(()=>new Error(_e)))))}static#e=this.\u0275fac=function(pe){return new(pe||$)(ue.LFG(ae.ST),ue.LFG(ge.I))};static#t=this.\u0275prov=ue.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},2380:(an,lt,k)=>{"use strict";k.d(lt,{d:()=>ve});var f=k(5879),o=k(769),V=k(6814);function Se(be,ue){if(1&be&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.ALo(3,"date"),f.qZA(),f.TgZ(4,"td"),f._uU(5),f.qZA(),f.TgZ(6,"td"),f._uU(7),f.qZA(),f.TgZ(8,"td"),f._uU(9),f.ALo(10,"json"),f.qZA(),f.TgZ(11,"td"),f._uU(12),f.qZA(),f.TgZ(13,"td"),f._uU(14),f.qZA(),f.TgZ(15,"td"),f._uU(16),f.qZA()()),2&be){const ae=ue.$implicit;f.xp6(2),f.Oqu(f.xi3(3,7,null==ae.timestamp?null:ae.timestamp.toDate(),"short")),f.xp6(3),f.Oqu(ae.eventType),f.xp6(2),f.Oqu(ae.pagePath),f.xp6(2),f.Oqu(f.lcZ(10,10,ae.queryParams)),f.xp6(3),f.Oqu(ae.browser),f.xp6(2),f.Oqu(ae.isMobile?"Mobile":"Desktop"),f.xp6(2),f.Oqu(ae.ipAddress)}}let ve=(()=>{class be{constructor(ae){this.analyticsService=ae}ngOnInit(){this.analyticsService.getAnalytics().subscribe(ae=>{this.analyticsLogs=ae},ae=>{console.error("Error fetching analytics:",ae)})}static#e=this.\u0275fac=function(ge){return new(ge||be)(f.Y36(o.y))};static#t=this.\u0275cmp=f.Xpm({type:be,selectors:[["app-analytics"]],decls:22,vars:1,consts:[[1,"analytics-container"],[4,"ngFor","ngForOf"]],template:function(ge,W){1&ge&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Analytics Logs"),f.qZA(),f.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),f._uU(7,"Timestamp"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Event Type"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Page Path"),f.qZA(),f.TgZ(12,"th"),f._uU(13,"Query Params"),f.qZA(),f.TgZ(14,"th"),f._uU(15,"Browser"),f.qZA(),f.TgZ(16,"th"),f._uU(17,"Device"),f.qZA(),f.TgZ(18,"th"),f._uU(19,"IP Address"),f.qZA()()(),f.TgZ(20,"tbody"),f.YNc(21,Se,17,12,"tr",1),f.qZA()()()),2&ge&&(f.xp6(21),f.Q6J("ngForOf",W.analyticsLogs))},dependencies:[V.sg,V.Ts,V.uU],styles:[".analytics-container[_ngcontent-%COMP%]{padding:20px;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}return be})()},9289:(an,lt,k)=>{"use strict";var f=k(6593),o=k(5879),V=k(6814);let Se;try{Se=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Se=!1}let W,ve=(()=>{class v{constructor(c){this._platformId=c,this.isBrowser=this._platformId?(0,V.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Se)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function le(v){return function $(){if(null==W&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>W=!0}))}finally{W=W||!1}return W}()?v:!!v.capture}function zi(v){return Array.isArray(v)?v:[v]}var as=k(8645),no=k(2572),To=k(5211),jr=k(5592),mn=k(8180),Yn=k(2181),Vi=k(3620),Ii=k(7398),ci=k(7921),Ti=k(9773);const Yi=new Set;let Ji,ir=(()=>{class v{constructor(c,p){this._platform=c,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Nr}matchMedia(c){return(this._platform.WEBKIT||this._platform.BLINK)&&function yo(v,h){if(!Yi.has(v))try{Ji||(Ji=document.createElement("style"),h&&(Ji.nonce=h),Ji.setAttribute("type","text/css"),document.head.appendChild(Ji)),Ji.sheet&&(Ji.sheet.insertRule(`@media ${v} {body{ }}`,0),Yi.add(v))}catch(c){console.error(c)}}(c,this._nonce),this._matchMedia(c)}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(ve),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Nr(v){return{matches:"all"===v||""===v,media:v,addListener:()=>{},removeListener:()=>{}}}let oe=(()=>{class v{constructor(c,p){this._mediaMatcher=c,this._zone=p,this._queries=new Map,this._destroySubject=new as.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(c){return J(zi(c)).some(b=>this._registerQuery(b).mql.matches)}observe(c){const b=J(zi(c)).map(de=>this._registerQuery(de).observable);let H=(0,no.a)(b);return H=(0,To.z)(H.pipe((0,mn.q)(1)),H.pipe(function Mr(v){return(0,Yn.h)((h,c)=>v<=c)}(1),(0,Vi.b)(0))),H.pipe((0,Ii.U)(de=>{const Re={matches:!1,breakpoints:{}};return de.forEach(({matches:gt,query:Dt})=>{Re.matches=Re.matches||gt,Re.breakpoints[Dt]=gt}),Re}))}_registerQuery(c){if(this._queries.has(c))return this._queries.get(c);const p=this._mediaMatcher.matchMedia(c),H={observable:new jr.y(de=>{const Re=gt=>this._zone.run(()=>de.next(gt));return p.addListener(Re),()=>{p.removeListener(Re)}}).pipe((0,ci.O)(p),(0,Ii.U)(({matches:de})=>({query:c,matches:de})),(0,Ti.R)(this._destroySubject)),mql:p};return this._queries.set(c,H),H}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(ir),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function J(v){return v.map(h=>h.split(",")).reduce((h,c)=>h.concat(c)).map(h=>h.trim())}const oo="cdk-high-contrast-black-on-white",Dc="cdk-high-contrast-white-on-black",Bo="cdk-high-contrast-active";let bs=(()=>{class v{constructor(c,p){this._platform=c,this._document=p,this._breakpointSubscription=(0,o.f3M)(oe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const c=this._document.createElement("div");c.style.backgroundColor="rgb(1,2,3)",c.style.position="absolute",this._document.body.appendChild(c);const p=this._document.defaultView||window,b=p&&p.getComputedStyle?p.getComputedStyle(c):null,H=(b&&b.backgroundColor||"").replace(/ /g,"");switch(c.remove(),H){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const c=this._document.body.classList;c.remove(Bo,oo,Dc),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?c.add(Bo,oo):2===p&&c.add(Bo,Dc)}}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(ve),o.LFG(V.K0))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),fa=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({})}return v})();const ga=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Kl(){return!0}});let xs=(()=>{class v{constructor(c,p,b){this._sanityChecks=p,this._document=b,this._hasDoneGlobalChecks=!1,c._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(c){return!function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[c])}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(bs),o.LFG(ga,8),o.LFG(V.K0))};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[fa,fa]})}return v})(),Wo=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[xs,xs]})}return v})();const xc=le({passive:!0,capture:!0});class qs{constructor(){this._events=new Map,this._delegateEventHandler=h=>{const c=function Be(v){return v.composedPath?v.composedPath()[0]:v.target}(h);c&&this._events.get(h.type)?.forEach((p,b)=>{(b===c||b.contains(c))&&p.forEach(H=>H.handleEvent(h))})}}addHandler(h,c,p,b){const H=this._events.get(c);if(H){const de=H.get(p);de?de.add(b):H.set(p,new Set([b]))}else this._events.set(c,new Map([[p,new Set([b])]])),h.runOutsideAngular(()=>{document.addEventListener(c,this._delegateEventHandler,xc)})}removeHandler(h,c,p){const b=this._events.get(h);if(!b)return;const H=b.get(c);H&&(H.delete(p),0===H.size&&b.delete(c),0===b.size&&(this._events.delete(h),document.removeEventListener(h,this._delegateEventHandler,xc)))}}class Ja{static#e=this._eventManager=new qs;constructor(h,c,p,b){this._target=h,this._ngZone=c,this._platform=b,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,b.isBrowser&&(this._containerElement=to(p))}fadeInRipple(h,c,p={}){const b=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),H={...jo,...p.animation},de=p.radius||function Oc(v,h,c){const p=Math.max(Math.abs(v-c.left),Math.abs(v-c.right)),b=Math.max(Math.abs(h-c.top),Math.abs(h-c.bottom));return Math.sqrt(p*p+b*b)}(h,c,b),Re=h-b.left,gt=c-b.top,Dt=H.enterDuration,nn=document.createElement("div");nn.classList.add("mat-ripple-element"),nn.style.left=Re-de+"px",nn.style.top=gt-de+"px",nn.style.height=2*de+"px",nn.style.width=2*de+"px",null!=p.color&&(nn.style.backgroundColor=p.color),nn.style.transitionDuration=`${Dt}ms`,this._containerElement.appendChild(nn);const vn=window.getComputedStyle(nn),wr=vn.transitionDuration,Un="none"===vn.transitionProperty||"0s"===wr||"0s, 0s"===wr||0===b.width&&0===b.height,On=new Di(this,nn,p,Un);nn.style.transform="scale3d(1, 1, 1)",On.state=0,p.persistent||(this._mostRecentTransientRipple=On);return!Un&&(Dt||H.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ao=()=>this._finishRippleTransition(On),qi=()=>this._destroyRipple(On);nn.addEventListener("transitionend",ao),nn.addEventListener("transitioncancel",qi)}),this._activeRipples.set(On,null),(Un||!Dt)&&this._finishRippleTransition(On),On}fadeOutRipple(h){if(2===h.state||3===h.state)return;const c=h.element,p={...jo,...h.config.animation};c.style.transitionDuration=`${p.exitDuration}ms`,c.style.opacity="0",h.state=2,(h._animationForciblyDisabledThroughCss||!p.exitDuration)&&this._finishRippleTransition(h)}fadeOutAll(){this._getActiveRipples().forEach(h=>h.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(h=>{h.config.persistent||h.fadeOut()})}setupTriggerEvents(h){const c=to(h);!this._platform.isBrowser||!c||c===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=c,Ws.forEach(p=>{Ja._eventManager.addHandler(this._ngZone,p,c,this)}))}handleEvent(h){"mousedown"===h.type?this._onMousedown(h):"touchstart"===h.type?this._onTouchStart(h):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ho.forEach(c=>{this._triggerElement.addEventListener(c,this,Rc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(h){0===h.state?this._startFadeOutTransition(h):2===h.state&&this._destroyRipple(h)}_startFadeOutTransition(h){const c=h===this._mostRecentTransientRipple,{persistent:p}=h.config;h.state=1,!p&&(!c||!this._isPointerDown)&&h.fadeOut()}_destroyRipple(h){const c=this._activeRipples.get(h)??null;this._activeRipples.delete(h),this._activeRipples.size||(this._containerRect=null),h===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),h.state=3,null!==c&&(h.element.removeEventListener("transitionend",c.onTransitionEnd),h.element.removeEventListener("transitioncancel",c.onTransitionCancel)),h.element.remove()}_onMousedown(h){const c=function wo(v){return 0===v.buttons||0===v.detail}(h),p=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!c&&!p&&(this._isPointerDown=!0,this.fadeInRipple(h.clientX,h.clientY,this._target.rippleConfig))}_onTouchStart(h){if(!this._target.rippleDisabled&&!function wi(v){const h=v.touches&&v.touches[0]||v.changedTouches&&v.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(h)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const c=h.changedTouches;if(c)for(let p=0;p<c.length;p++)this.fadeInRipple(c[p].clientX,c[p].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(h=>{!h.config.persistent&&(1===h.state||h.config.terminateOnPointerUp&&0===h.state)&&h.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const h=this._triggerElement;h&&(Ws.forEach(c=>Ja._eventManager.removeHandler(c,h,this)),this._pointerUpEventsRegistered&&Ho.forEach(c=>h.removeEventListener(c,this,Rc)))}}let xt=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[xs,V.ez,xs]})}return v})();var Dn=k(2096),_a=(k(8504),k(9315),k(9397),k(6306),k(4716),k(3020),k(9862));let Yl=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[xs,xs]})}return v})(),La=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Wo,xs,Wo,xs]})}return v})();var Tr=k(3914),Al=k(3375),Cs=k(8924),ia=k(5861),fi=k(1920),Vc=k(7217),ld=k(5513),Xl=k(6232),Uc=k(3093),Bc=k(4664),ff=k(940),jc=k(7142),nc=k(4829),kp=k(9360),Vo=k(8251);var eu=k(1631),ya=k(3997),Hc=k(9384),Ea=k(3182);class oa{constructor(h){return h}}class Va{constructor(){return(0,Ea.C6)()}}const tu=new o.OlP("angularfire2._apps"),$c={provide:oa,useFactory:function bl(v){return v&&1===v.length?v[0]:new oa((0,Ea.Mq)())},deps:[[new o.FiY,tu]]},fo={provide:Va,deps:[[new o.FiY,tu]]};function bm(v){return(h,c)=>{const p=h.runOutsideAngular(()=>v(c));return new oa(p)}}let Fp=(()=>{class v{constructor(c){(0,Ea.KN)("angularfire",fi.q4.full,"core"),(0,Ea.KN)("angularfire",fi.q4.full,"app"),(0,Ea.KN)("angular",o.q4F.full,c.toString())}static \u0275fac=function(p){return new(p||v)(o.LFG(o.Lbi))};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[$c,fo]})}return v})();function pf(v,...h){return{ngModule:Fp,providers:[{provide:tu,useFactory:bm(v),multi:!0,deps:[o.R0b,o.zs3,fi.HU,...h]}]}}const ch=(0,fi.u3)(Ea.ZF,!0),su="__angularfire_symbol__analyticsIsSupportedValue";globalThis.__angularfire_symbol__analyticsIsSupported||=(0,ld.Gb)().then(v=>globalThis[su]=v).catch(()=>globalThis[su]=!1);const ic="firebase_screen_id",gd="outlet",Ts="screen_class",Cl="screen_name";let md=Math.floor(Math.random()*(2**32-1))-2**31;const lu={},_f=v=>{const h=[v[Ts],v[gd]].join("#");if(lu.hasOwnProperty(h))return lu[h];{const c=md++;return lu[h]=c,c}};var Ae=k(981);const Rt=new o.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Yt=new o.OlP("angularfire2.analytics.appVersion"),Hn=new o.OlP("angularfire2.analytics.appName"),ar=new o.OlP("angularfire2.analytics.debugMode"),ti=new o.OlP("angularfire2.analytics.config"),Ml="dataLayer";let so=(()=>{class v{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(c){var p=this;return(0,ia.Z)(function*(){yield p.analyticsInitialized,window.gtag("config",p.measurementId,{...c,update:!0})})()}constructor(c,p,b,H,de,Re,gt,Dt,nn){if((0,V.NF)(gt)){window[Ml]=window[Ml]||[];const Zn=(...On)=>"config"===On[0]&&"firebase"===On[2].origin&&(this.measurementId=On[1],!0),wr=On=>{window.gtag=(...Fr)=>{On&&On(...Fr),"event"===Fr[0]&&Fr[2].send_to===this.measurementId&&(H&&(Fr[2].app_name=H),b&&(Fr[2].app_version=b)),de&&typeof console<"u"&&console.info(...Fr),function(...ao){window[Ml].push(arguments)}(...Fr)}};window[Ml].some(Zn)?(this.analyticsInitialized=Promise.resolve(),wr()):this.analyticsInitialized=new Promise(On=>{wr((...Fr)=>{Zn(...Fr)&&On()})}),Re&&this.updateConfig(Re),de&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const vn=(0,Dn.of)(void 0).pipe((0,Uc.Q)(nn.outsideAngular),(0,Bc.w)(ld.Gb),(0,Bc.w)(Zn=>Zn?Dt.runOutsideAngular(()=>k.e(861).then(k.bind(k,861))):Xl.E),(0,Ii.U)(()=>(0,Vc.cc)("analytics","AngularFireAnalytics",c.name,()=>{const Zn=c.analytics();return!1===p&&Zn.setAnalyticsCollectionEnabled(!1),Zn},[c,p,Re,de])),(0,ff.d)({bufferSize:1,refCount:!1}));return(0,Vc.pX)(this,vn,Dt)}static \u0275fac=function(p){return new(p||v)(o.LFG(Vc.Ot),o.LFG(Rt,8),o.LFG(Yt,8),o.LFG(Hn,8),o.LFG(ar,8),o.LFG(ti,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fi.HU))};static \u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"})}return v})(),hu=(()=>{class v{initialized;disposables=[];constructor(c,p,b,H){if(jc.Z.registerVersion("angularfire",fi.q4.full,"compat-user-tracking"),(0,V.PM)(p))this.initialized=Promise.resolve();else{let de;this.initialized=H.runOutsideAngular(()=>new Promise(Re=>de=Re)),this.disposables=[b.authState.subscribe(Re=>{c.setUserId(Re?.uid),de()}),b.credential.subscribe(Re=>{if(Re){const gt=Re.user.isAnonymous?"anonymous":Re.additionalUserInfo.providerId;Re.additionalUserInfo.isNewUser&&c.logEvent("sign_up",{method:gt}),c.logEvent("login",{method:gt})}})]}}ngOnDestroy(){this.disposables.forEach(c=>c.unsubscribe())}static \u0275fac=function(p){return new(p||v)(o.LFG(so),o.LFG(o.Lbi),o.LFG(Ae.zQ),o.LFG(o.R0b))};static \u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),fu=(()=>{class v{disposable;constructor(c,p,b,H,de,Re){if(jc.Z.registerVersion("angularfire",fi.q4.full,"compat-screen-tracking"),!p||!c)return this;de.runOutsideAngular(()=>{this.disposable=((v,h,c)=>v.events.pipe((0,Yn.h)(b=>b instanceof Tr.jw)).pipe((0,Bc.w)(b=>{const de=v.parseUrl(v.url.replace(/(?:\().+(?:\))/g,Zn=>Zn.replace("://",":///"))).root.children[b.snapshot.outlet]?.toString()||"",Re=v.routerState.root.children.map(Zn=>Zn).find(Zn=>Zn.outlet===b.snapshot.outlet);if(!Re)return(0,Dn.of)(null);let gt=Re;for(;gt.firstChild;)gt=gt.firstChild;const Dt=gt.pathFromRoot.map(Zn=>Zn.routeConfig?.path).filter(Zn=>Zn).join("/")||"/",nn={[Cl]:Dt,page_path:`/${de}`,firebase_event_origin:"auto",firebase_screen:Dt,[gd]:b.snapshot.outlet};h&&(nn.page_title=h.getTitle());let vn=Re.component;if(vn){if(vn===Tr.fw){let Zn=b.snapshot;for(;Zn.firstChild;)Zn=Zn.firstChild;vn=Zn.component}}else vn=b.snapshot.component;if("string"==typeof vn)return(0,Dn.of)({...nn,[Ts]:vn});if(vn){const Zn=c.resolveComponentFactory(vn);return(0,Dn.of)({...nn,[Ts]:Zn.selector})}return(0,Dn.of)(null)}),(0,Yn.h)(b=>!!b),(0,Ii.U)(b=>({firebase_screen_class:b[Ts],[ic]:_f(b),...b})),function ah(v,h,c,p){return(0,kp.e)((b,H)=>{let de;h&&"function"!=typeof h?({duration:c,element:de,connector:p}=h):de=h;const Re=new Map,gt=Un=>{Re.forEach(Un),Un(H)},Dt=Un=>gt(On=>On.error(Un));let nn=0,vn=!1;const Zn=new Vo.Q(H,Un=>{try{const On=v(Un);let Fr=Re.get(On);if(!Fr){Re.set(On,Fr=p?p():new as.x);const ao=function wr(Un,On){const Fr=new jr.y(ao=>{nn++;const qi=On.subscribe(ao);return()=>{qi.unsubscribe(),0==--nn&&vn&&Zn.unsubscribe()}});return Fr.key=Un,Fr}(On,Fr);if(H.next(ao),c){const qi=(0,Vo.x)(Fr,()=>{Fr.complete(),qi?.unsubscribe()},void 0,void 0,()=>Re.delete(On));Zn.add((0,nc.Xf)(c(ao)).subscribe(qi))}}Fr.next(de?de(Un):Un)}catch(On){Dt(On)}},()=>gt(Un=>Un.complete()),Dt,()=>Re.clear(),()=>(vn=!0,0===nn));b.subscribe(Zn)})}(b=>b[gd]),(0,eu.z)(b=>b.pipe((0,ya.x)((H,de)=>JSON.stringify(H)===JSON.stringify(de)),(0,ci.O)(void 0),(0,Hc.G)(),(0,Ii.U)(([H,de])=>H?{firebase_previous_class:H[Ts],firebase_previous_screen:H[Cl],firebase_previous_id:H[ic],...de}:de)))))(p,b,H).pipe((0,Bc.w)(function(){var gt=(0,ia.Z)(function*(Dt){return Re&&(yield Re.initialized),yield c.logEvent("screen_view",Dt)});return function(Dt){return gt.apply(this,arguments)}}())).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(p){return new(p||v)(o.LFG(so),o.LFG(Tr.F0,8),o.LFG(f.Dx,8),o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(hu,8))};static \u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),fh=(()=>{class v{constructor(c,p,b){jc.Z.registerVersion("angularfire",fi.q4.full,"analytics-compat"),c.app.then(()=>{})}static \u0275fac=function(p){return new(p||v)(o.LFG(so),o.LFG(fu,8),o.LFG(hu,8))};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[so]})}return v})(),cc=(()=>{class v{constructor(c,p){this.router=c,this.analytics=p,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){this.analytics.logEvent("button_click",{button_name:"event-details"}),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-card-home"]],inputs:{event:"event"},decls:11,vars:8,consts:[[1,"small-card"],[1,"image-container"],[1,"event-image",3,"src","alt"],[1,"content-container"],[1,"event-name"],[1,"event-date"],[3,"click"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"h2",4),o._uU(5),o.qZA(),o.TgZ(6,"p",5),o._uU(7),o.ALo(8,"date"),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return b.navigateToDetails()}),o._uU(10,"Detalii"),o.qZA()()()),2&p&&(o.xp6(2),o.s9C("alt",b.event.Event_Name),o.Q6J("src",b.event.Poster_Image,o.LSH),o.xp6(3),o.Oqu(b.event.Event_Name),o.xp6(2),o.AsE("",o.xi3(8,5,b.event.Event_Date,"MM/dd/yyyy")," | ",b.event.Event_Time,""))},dependencies:[V.uU],styles:[".small-card[_ngcontent-%COMP%]{display:flex;width:400px;height:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.image-container[_ngcontent-%COMP%]{width:40%;position:relative;overflow:hidden}.event-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content-container[_ngcontent-%COMP%]{flex:1;padding:16px;background-color:#fff;display:flex;flex-direction:column;justify-content:center}.event-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:8px}.event-date[_ngcontent-%COMP%]{color:#666;margin-bottom:16px}"]})}return v})();function Kc(v,h){if(1&v&&(o.TgZ(0,"div",9),o._UZ(1,"img",10),o.qZA()),2&v){const c=h.$implicit;o.xp6(1),o.Q6J("src",c,o.LSH)}}let _d=(()=>{class v{constructor(c){this.router=c,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg",this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},15e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}openLink(c){window.open(c,"_blank")}sendEmail(c){window.location.href=`mailto:${c}`}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-card-home"]],inputs:{offer:"offer"},decls:13,vars:9,consts:[[1,"offer-card"],[1,"content-container"],[1,"offer-header"],["alt","Offer Image",1,"offer-thumbnail",3,"src"],[1,"offer-title"],[1,"offer-carousel"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"btn",3,"click"],[1,"offer-footer"],[1,"carousel-item"],["alt","Offer Image Thumbnail",3,"src"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.TgZ(4,"div",4),o._uU(5),o.qZA()(),o.TgZ(6,"div",5),o.YNc(7,Kc,2,1,"div",6),o.ALo(8,"slice"),o.qZA(),o.TgZ(9,"button",7),o.NdJ("click",function(){return b.navigateToDetails()}),o._uU(10,"Detalii"),o.qZA(),o.TgZ(11,"div",8),o._uU(12),o.qZA()()()),2&p&&(o.xp6(3),o.Q6J("src",b.offer.Images[0],o.LSH),o.xp6(2),o.Oqu(b.offer.Title),o.xp6(2),o.Q6J("ngForOf",o.Dn7(8,5,b.offer.Images,1,6)),o.xp6(5),o.AsE(" ",b.offer.OfferType," | ",b.offer.Location," "))},dependencies:[V.sg,V.OU],styles:[".offer-card[_ngcontent-%COMP%]{width:300px;border-radius:12px;box-shadow:0 4px 8px #0000001a;background-color:#fff;overflow:hidden;font-family:Arial,sans-serif}.offer-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.offer-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;margin-right:16px}.offer-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;text-align:left}.offer-contact[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.offer-carousel[_ngcontent-%COMP%]{display:flex;padding:8px 16px}.carousel-item[_ngcontent-%COMP%]{width:90px;height:90px;margin-right:8px;border-radius:8px;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.offer-footer[_ngcontent-%COMP%]{padding:8px 16px;font-size:.8rem;color:#666;text-align:center}.btn[_ngcontent-%COMP%]{width:90%}"]})}return v})();function Ef(v,h){1&v&&o._UZ(0,"app-offer-card-home",28),2&v&&o.Q6J("offer",h.$implicit)}function wm(v,h){1&v&&o._UZ(0,"app-event-card-home",29),2&v&&o.Q6J("event",h.$implicit)}function If(v,h){if(1&v&&(o.TgZ(0,"li",30)(1,"a",31),o._uU(2),o.qZA()()),2&v){const c=h.$implicit;o.xp6(1),o.s9C("href",c.url,o.LSH),o.xp6(1),o.Oqu(c.name)}}let vd=(()=>{class v{constructor(c,p,b,H){this.eventService=c,this.offersService=p,this.router=b,this.analytics=H,this.resourceLinks=[{name:"Ambasada Romaniei in SUA",url:"https://washington.mae.ro/"},{name:"Ambasada SUA in Romania",url:"https://ro.usembassy.gov/"},{name:"American Romanian Cultural Society",url:"www.arcsproject.org"},{name:"Biserica Sfintii Trei Ierarhi",url:"http://www.ortodox.org/"},{name:"Romanian United Foundation",url:"https://www.romanianunitedfund.org/"}],this.events=[],this.offers=[]}ngOnInit(){this.router.events.subscribe(p=>{p instanceof Tr.m2&&this.analytics.logEvent("page_view",{page_path:p.urlAfterRedirects})}),this.eventService.getEvents().subscribe(p=>{this.events=p}),this.offersService.getOffers().subscribe(p=>{this.offers=p}),new PerformanceObserver(p=>{p.getEntries().forEach(b=>{this.analytics.logEvent("page_load_time",{name:b.name,duration:b.duration})})}).observe({type:"navigation",buffered:!0})}logDuration(){const c=Date.now()-this.startTime;this.analytics.logEvent("visit_duration",{duration:c})}getData(){performance.now()}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Al.n),o.Y36(Cs.b),o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-home"]],hostBindings:function(p,b){1&p&&o.NdJ("beforeunload",function(){return b.logDuration()},!1,o.Jf7)},decls:100,vars:3,consts:[[1,"container"],[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/RomaniinSeattle"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"btn"],[1,"hero-image"],["src","../../../assets/images/Seattle-Romania.png","alt","Seattle"],[1,"community-description"],[1,"community-descriptions"],[1,"description-card"],["href","/services/"],["href","/offers"],["href","/events"],[1,"sharedContent-Section"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[1,"resource-consulate"],["target","_blank","href","http://newyork.mae.ro/"],["target","_blank","href","http://chicago.mae.ro/"],["target","_blank","href","http://losangeles.mae.ro/"],["target","_blank","href","http://miami.mae.ro/"],[1,"resources-section"],[1,"section-header"],[1,"resource-list"],["class","resource-item",4,"ngFor","ngForOf"],[3,"offer"],[3,"event"],[1,"resource-item"],["target","_blank",3,"href"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"Bine ati venit in comunitatea "),o.TgZ(6,"a",4),o._uU(7,"Romani in Seattle"),o.qZA()(),o.TgZ(8,"p"),o._uU(9,"Servictii, oferte si evenimente pentru persoanele care locuiesc in zona Seattle."),o.qZA(),o.TgZ(10,"a",5),o._uU(11,"Join our Facebook Group"),o.qZA()(),o.TgZ(12,"div",6),o._UZ(13,"img",7),o.qZA()()(),o.TgZ(14,"section",8)(15,"div",0)(16,"h2"),o._uU(17,"Despre communitatea noastra"),o.qZA(),o.TgZ(18,"p"),o._uU(19,'Scopul al acestui website este de a beneficia Romani \xeen Seattle, prin schimbul de informa\u021bii utile si in acela\u0219i timp promov\xe2nd Companiile Romane\u0219ti din zona Seattle la \xa0Comunitatea Romaneasca de aici. Acesta a \xeenceput pe facebook prin grupul "Romani \xeen Seattle\u201d care acum con\u021bine peste 3700 de membri.'),o.qZA()()(),o.TgZ(20,"div",9)(21,"div",10)(22,"a",11)(23,"h2"),o._uU(24,"Servicii"),o.qZA()(),o.TgZ(25,"p"),o._uU(26,"Sprijini\u021bi-ne afacerile locale \u0219i descoperi\u021bi produse \u0219i servicii unice oferite de membrii comunit\u0103\u021bii."),o.qZA()(),o.TgZ(27,"div",10)(28,"a",12)(29,"h2"),o._uU(30,"Oportunit\u0103\u021bi si Oferte"),o.qZA()(),o.TgZ(31,"p"),o._uU(32,"Implica\u021bi-v\u0103 \u0219i face\u021bi o diferen\u021b\u0103 prin voluntariat pentru diverse proiecte \u0219i ini\u021biative comunitare."),o.qZA()(),o.TgZ(33,"div",10)(34,"a",13)(35,"h2"),o._uU(36,"Evenimente"),o.qZA()(),o.TgZ(37,"p"),o._uU(38,"Al\u0103tura\u021bi-v\u0103 nou\u0103 pentru o varietate de evenimente care reunesc comunitatea. De la festivaluri la ateliere, exist\u0103 ceva pentru toat\u0103 lumea."),o.qZA()(),o.TgZ(39,"div",10)(40,"h2"),o._uU(41,"Resurse"),o.qZA(),o.TgZ(42,"p"),o._uU(43,"Accesa\u021bi resurse \u0219i servicii valoroase oferite de comunitate at\xe2t pentru reziden\u021bi, c\xe2t \u0219i pentru vizitatori."),o.qZA()()(),o.TgZ(44,"div",14)(45,"h1"),o._uU(46,"Oportunit\u0103\u021bi si Oferte"),o.qZA(),o.TgZ(47,"div",15),o.YNc(48,Ef,1,1,"app-offer-card-home",16),o.qZA(),o.TgZ(49,"div",14)(50,"h1"),o._uU(51,"Evenimente"),o.qZA(),o.TgZ(52,"div",17),o.YNc(53,wm,1,1,"app-event-card-home",18),o.qZA()()(),o.TgZ(54,"div",14)(55,"h1"),o._uU(56,"Resurse"),o.qZA(),o.TgZ(57,"section",19)(58,"div",9)(59,"div",10)(60,"h2"),o._uU(61,"Consulatul Rom\xe2niei la New York"),o.qZA(),o.TgZ(62,"h3"),o._uU(63,"CONSUL GENERAL: doamna Mihaela-Simona FLOREA"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Adres\u0103: 200 East 38th Street, New York, NY 10016"),o.qZA(),o.TgZ(66,"a",20),o._uU(67,"http://newyork.mae.ro/"),o.qZA()(),o.TgZ(68,"div",10)(69,"h2"),o._uU(70,"Consulatul Rom\xe2niei la Chicago"),o.qZA(),o.TgZ(71,"h3"),o._uU(72,"CONSUL GENERAL: "),o.qZA(),o.TgZ(73,"p"),o._uU(74,"Adres\u0103: 737 North Michigan Avenue, Suite 2300, Chicago, IL 60611"),o.qZA(),o.TgZ(75,"a",21),o._uU(76,"http://chicago.mae.ro/"),o.qZA()(),o.TgZ(77,"div",10)(78,"h2"),o._uU(79,"Consulatul Rom\xe2niei la Los Angeles"),o.qZA(),o.TgZ(80,"h3"),o._uU(81,"CONSUL GENERAL: doamna Lucia SAVA"),o.qZA(),o.TgZ(82,"p"),o._uU(83,"Adres\u0103: 11766 Wilshire Blvd. Suite 200, Los Angeles CA 90025"),o.qZA(),o.TgZ(84,"a",22),o._uU(85,"http://losangeles.mae.ro/"),o.qZA()(),o.TgZ(86,"div",10)(87,"h2"),o._uU(88,"Consulatul Rom\xe2niei la Miami"),o.qZA(),o.TgZ(89,"h3"),o._uU(90,"CONSUL GENERAL: doamna Elena-GabrielA EREMIA"),o.qZA(),o.TgZ(91,"p"),o._uU(92,"Adres\u0103: 1101 Brickell Ave, suite N 600, Miami, FL 33131"),o.qZA(),o.TgZ(93,"a",23),o._uU(94,"http://miami.mae.ro/"),o.qZA()()()()(),o.TgZ(95,"section",24)(96,"h2",25),o._uU(97,"Resurse utile pentru comunitate"),o.qZA(),o.TgZ(98,"ul",26),o.YNc(99,If,3,2,"li",27),o.qZA()()()),2&p&&(o.xp6(48),o.Q6J("ngForOf",b.offers),o.xp6(5),o.Q6J("ngForOf",b.events),o.xp6(46),o.Q6J("ngForOf",b.resourceLinks))},dependencies:[V.sg,cc,_d],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;color:var(--button-color)}.hero[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:6rem 0 0rem}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1;padding:0 2rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.community-description[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px;color:#f5f5f5}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{flex-direction:column}.hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-text[_ngcontent-%COMP%]{margin-bottom:2rem}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}.community-descriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:40px 20px}.description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:300px;text-align:center}.description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--button-color);margin-bottom:10px}.description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--button-color)}.description-card-group[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:20px;padding:20px;width:100%;text-align:center}.resource-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.resource-item[_ngcontent-%COMP%]{margin:10px 0}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--button-color);font-size:18px;transition:color .3s ease}.resource-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3}a[_ngcontent-%COMP%]{color:inherit}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.offers[_ngcontent-%COMP%], .offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offer-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;max-width:400px;height:800px;position:relative;text-align:left}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.image-container[_ngcontent-%COMP%]{width:400px;height:250px;overflow:hidden;display:flex;justify-content:center;align-items:center}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;border-radius:50%}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.offer-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.sharedContent-Section[_ngcontent-%COMP%]{padding:10px 0}.button-container[_ngcontent-%COMP%]{text-align:center}.fb-button[_ngcontent-%COMP%]{background-color:var(--button-bg-color);color:var(--button-text-color);padding:10px 20px;border-radius:5px;text-decoration:none;font-size:18px;display:inline-flex;align-items:center;transition:background-color .3s}.fb-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.fb-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-bg-color)}"]})}return v})();var pu=k(614),ln=k(6223);function gu(v){return v?/^https?:\/\//i.test(v)?v:`http://${v}`:""}let Pl=(()=>{class v{constructor(c){this.sanitizer=c}transform(c){if(!c)return this.sanitizer.bypassSecurityTrustHtml("");const b=c.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$1" target="_blank">$1</a>');return this.sanitizer.bypassSecurityTrustHtml(b)}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"urlHelper",type:v,pure:!0})}return v})(),yd=(()=>{class v{constructor(c){this.sanitizer=c}transform(c){if(!c)return this.sanitizer.bypassSecurityTrustHtml("");const b=c.replace(/@([a-zA-Z0-9._]+)/gi,(H,de)=>`<a href="https://www.instagram.com/${de}" target="_blank">${H}</a>`);return console.log(b),this.sanitizer.bypassSecurityTrustHtml(b)}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramHandle",type:v,pure:!0})}return v})(),ph=(()=>{class v{constructor(c){this.sanitizer=c}transform(c,p){if(!c)return"";const de=`<a target="_blank" href="https://www.instagram.com/${c.startsWith("@")?c.substring(1):c}">\n                      <img src="${p}" alt="Instagram Icon">\n                    </a><br>`;return this.sanitizer.bypassSecurityTrustHtml(de)}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(f.H7,16))};static#t=this.\u0275pipe=o.Yjl({name:"instagramLink",type:v,pure:!0})}return v})(),Aa=(()=>{class v{transform(c){if(!c)return"";let b=(""+c).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return b?"("+b[1]+") "+b[2]+"-"+b[3]:c.toString()}static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275pipe=o.Yjl({name:"phoneNumber",type:v,pure:!0})}return v})();function zp(v,h){1&v&&(o.TgZ(0,"span",17),o._uU(1,"\u2605"),o.qZA())}function Dm(v,h){if(1&v&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Oqu(c.svc.Description)}}function $p(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",20),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",c.svc.Facebook,o.LSH)}}function Sm(v,h){if(1&v&&(o.TgZ(0,"div"),o._UZ(1,"div",21),o.ALo(2,"instagramLink"),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,c.svc.Instagram,c.svgInstagramIcon),o.oJD)}}function Mm(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",19),o._UZ(2,"img",22),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",c.svc.Website,o.LSH)}}function ev(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(c);const b=o.oxw();return o.KtG(b.sendEmail(b.svc.Email))}),o._uU(1,"Email"),o.qZA()}}function Af(v,h){if(1&v&&(o.TgZ(0,"div",24),o._uU(1),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Oqu(c.svc.Description)}}const tv=function(v){return{mobile:v}};let Zp=(()=>{class v{constructor(c,p){this.router=c,this.analytics=p,this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg",this.isMobile=!1}ngOnInit(){(void 0===this.svc.Image||""==this.svc.Image)&&(this.svc.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"),this.svc.Website=gu(this.svc.Website)}viewDetails(){this.analytics.logEvent("button_click",{button_name:"service-details"}),this.router.navigate(["/services",this.svc.id])}sendEmail(c){this.analytics.logEvent("button_click",{button_name:"service-email"}),window.location.href=`mailto:${c}`}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-service-card"]],inputs:{svc:"svc"},decls:24,vars:17,consts:[[1,"service-card",3,"ngClass"],[1,"service-card-image-container"],[1,"service-card-image",3,"src","alt"],[1,"service-card-content"],[1,"card-header"],[1,"card-title"],["class","sponsor-icon",4,"ngIf"],[1,"card-subtitle","service_type"],[1,"card-subtitle","contact_info"],["class","card-description",4,"ngIf"],[1,"card-footer"],[1,"social-icons"],[4,"ngIf"],[1,"card-buttons"],["class","btn message",3,"click",4,"ngIf"],[1,"btn","connect",3,"click"],["class","card-description mobile-description",4,"ngIf"],[1,"sponsor-icon"],[1,"card-description"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],["src","../../../assets/images/SVG/browser-icon.svg"],[1,"btn","message",3,"click"],[1,"card-description","mobile-description"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5),o._uU(6),o.YNc(7,zp,2,0,"span",6),o.qZA(),o.TgZ(8,"div",7),o._uU(9),o.qZA(),o.TgZ(10,"div",8),o._uU(11),o.ALo(12,"phoneNumber"),o.qZA()(),o.YNc(13,Dm,2,1,"div",9),o.TgZ(14,"div",10)(15,"div",11),o.YNc(16,$p,3,1,"div",12),o.YNc(17,Sm,3,4,"div",12),o.YNc(18,Mm,3,1,"div",12),o.qZA(),o.TgZ(19,"div",13),o.YNc(20,ev,2,0,"button",14),o.TgZ(21,"button",15),o.NdJ("click",function(){return b.viewDetails()}),o._uU(22,"Detalii"),o.qZA()()(),o.YNc(23,Af,2,1,"div",16),o.qZA()()),2&p&&(o.Q6J("ngClass",o.VKq(15,tv,b.isMobile)),o.xp6(2),o.s9C("alt",b.svc.Name),o.Q6J("src",b.svc.Image,o.LSH),o.xp6(4),o.Oqu(b.svc.Name),o.xp6(1),o.Q6J("ngIf",b.svc.Community_Sponsor),o.xp6(2),o.Oqu(b.svc.Service_Type),o.xp6(2),o.Oqu(o.lcZ(12,13,b.svc.Phone_Number)),o.xp6(2),o.Q6J("ngIf",!b.isMobile),o.xp6(3),o.Q6J("ngIf",b.svc.Facebook),o.xp6(1),o.Q6J("ngIf",b.svc.Instagram),o.xp6(1),o.Q6J("ngIf",b.svc.Website),o.xp6(2),o.Q6J("ngIf",b.svc.Email),o.xp6(3),o.Q6J("ngIf",b.isMobile))},dependencies:[V.mk,V.O5,ph,Aa],styles:[".service-card[_ngcontent-%COMP%]{width:400px;height:500px;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;background-color:#fff;transition:transform .3s;display:flex;flex-direction:column;margin:10px}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.service-card-image-container[_ngcontent-%COMP%]{width:100%;height:50%;overflow:hidden}.service-card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:20% 20%}.service-card-content[_ngcontent-%COMP%]{padding:15px;height:50%;display:flex;flex-direction:column;justify-content:space-between}.card-header[_ngcontent-%COMP%]{margin-bottom:15px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.sponsor-icon[_ngcontent-%COMP%]{color:gold}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666}.contact_info[_ngcontent-%COMP%]{margin-top:5px}.card-description[_ngcontent-%COMP%]{text-align:left;font-family:Catamaran,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;color:#666;margin-top:4px;overflow:hidden;-webkit-box-orient:vertical;display:block;display:-webkit-box;overflow:hidden!important;text-overflow:ellipsis;-webkit-line-clamp:4;font-size:.9rem;margin-bottom:15px}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.social-icons[_ngcontent-%COMP%], .card-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:5px;cursor:pointer}.btn.message[_ngcontent-%COMP%]{background-color:#fff;color:var(--button-color);border:1px solid var(--button-color)}.btn.connect[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff}@media (max-width: 768px){.service-card[_ngcontent-%COMP%]{width:100%;height:auto;flex-direction:row;margin:0}.card-header[_ngcontent-%COMP%]{margin-bottom:2px}.service-card-image-container[_ngcontent-%COMP%]{width:40%;height:auto;max-height:150px;margin:5px}.service-card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.service-card-content[_ngcontent-%COMP%]{width:60%;padding:10px}.card-description[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]{display:none}.mobile-description[_ngcontent-%COMP%]{display:none;font-size:.8rem;color:#666;margin-top:10px}.card-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.card-buttons[_ngcontent-%COMP%]{width:100%;margin-top:10px}.btn[_ngcontent-%COMP%]{width:100%}}"]})}return v})();function Us(v,h){if(1&v&&(o.TgZ(0,"option",14),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c.id),o.xp6(1),o.Oqu(c.Name)}}function gh(v,h){1&v&&o._UZ(0,"app-service-card",15),2&v&&o.Q6J("svc",h.$implicit)}let Pm=(()=>{class v{constructor(c,p,b){this.servicesService=c,this.route=p,this.router=b,this.services=[],this.filteredServices=[],this.serviceTypes=[],this.selectedServiceTypeId=""}ngOnInit(){this.route.queryParams.subscribe(c=>{this.selectedServiceTypeId=c.serviceTypeId||""}),console.log("Selected Type Id in On Init:",this.selectedServiceTypeId),this.filterServices(this.selectedServiceTypeId)}navigateToAddService(){this.router.navigate(["/add-service"])}handleChange(c){const{target:p}=c;return p&&console.log(p.value),p.value}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(c=>{this.serviceTypes=c,c.forEach(p=>{})})}onFilterChange(c){console.log("Filter changed:",c),this.router.navigate([],{relativeTo:this.route,queryParams:{serviceTypeId:c},queryParamsHandling:"merge"}),this.filterServices(c)}filterServices(c){this.fetchServiceTypes(),console.log("Selected Service Type Id in Filter Sercices",c),c&&""!==c?(console.log("in else"),this.servicesService.getServicesByTypeID(c).subscribe(p=>{console.log("fi count",p.length),this.services=p.filter(b=>b.Approved),this.filteredServices=p.filter(b=>b.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)})):(console.log("in if"),this.servicesService.getServices().subscribe(p=>{this.services=p.filter(b=>b.Approved),this.filteredServices=p.filter(b=>b.Approved),console.log("Number of Services returned by the Database :  "+this.services.length)}))}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.com/services"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},H=>{console.error("Could not copy text: ",H)})}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(pu.r),o.Y36(Tr.gz),o.Y36(Tr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-services"]],decls:24,vars:3,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"services-control"],[1,"service-control-container"],["for","service-type"],["id","service-type",1,"filter-dropdown",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"min-width","150px",3,"click"],[1,"share-button",3,"click"],[1,"fas","fa-share-alt"],[1,"services-container"],[3,"svc",4,"ngFor","ngForOf"],[3,"value"],[3,"svc"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"div",4)(9,"label",5),o._uU(10,"Filtra\u021bi lista dup\u0103 tipul serviciului: "),o.qZA()(),o.TgZ(11,"div",4)(12,"select",6),o.NdJ("change",function(de){return b.onFilterChange(b.handleChange(de))})("ngModelChange",function(de){return b.selectedServiceTypeId=de}),o.TgZ(13,"option",7),o._uU(14,"Toate serviciile"),o.qZA(),o.YNc(15,Us,2,2,"option",8),o.qZA()(),o.TgZ(16,"div",4)(17,"button",9),o.NdJ("click",function(){return b.navigateToAddService()}),o._uU(18,"Adaugati un Serviciu"),o.qZA()(),o.TgZ(19,"button",10),o.NdJ("click",function(){return b.shareLink()}),o._UZ(20,"i",11),o._uU(21," Share "),o.qZA()(),o.TgZ(22,"div",12),o.YNc(23,gh,1,1,"app-service-card",13),o.qZA()),2&p&&(o.xp6(12),o.Q6J("ngModel",b.selectedServiceTypeId),o.xp6(3),o.Q6J("ngForOf",b.serviceTypes),o.xp6(8),o.Q6J("ngForOf",b.filteredServices))},dependencies:[V.sg,ln.YN,ln.Kr,ln.EJ,ln.JJ,ln.On,Zp],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.services-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px;padding:20px;flex-wrap:wrap}.service-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5px;padding:5px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase}.filter-dropdown[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-transform:uppercase;cursor:pointer}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:1rem;padding:1rem}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-align:center}}"]})}return v})(),mh=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-rules"]],decls:43,vars:0,consts:[[1,"hero-section"],[1,"overlay"],[1,"content"],["href","https://www.facebook.com/groups/RomaniinSeattle",1,"cta-button"],[1,"rules-section"],[1,"container"],[1,"rules-list"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"h1"),o._uU(4,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()()(),o.TgZ(9,"section",4)(10,"div",5)(11,"h2"),o._uU(12,"Regulile \u0219i Reglement\u0103rile"),o.qZA(),o.TgZ(13,"ol",6)(14,"li")(15,"span"),o._uU(16,"Respecta\u021bi to\u021bi membrii."),o.qZA(),o._uU(17," Trateaz\u0103 pe toat\u0103 lumea cu respect. Dezbaterile s\u0103n\u0103toase sunt naturale, dar amabilitatea este obligatorie."),o.qZA(),o.TgZ(18,"li")(19,"span"),o._uU(20,"F\u0103r\u0103 discursuri de ur\u0103 sau h\u0103r\u021buire."),o.qZA(),o._uU(21," Asigur\u0103-te c\u0103 toat\u0103 lumea se simte \xeen siguran\u021b\u0103. Bullying-ul de orice fel nu este permis, iar comentariile degradante despre lucruri precum rasa, religia, cultura, orientarea sexual\u0103, genul sau identitatea nu vor fi tolerate."),o.qZA(),o.TgZ(22,"li"),o._uU(23,"F\u0103r\u0103 limbaj ofensator."),o.qZA(),o.TgZ(24,"li")(25,"span"),o._uU(26,"F\u0103r\u0103 Promov\u0103ri sau Spam:"),o.qZA(),o._uU(27," Ofer\u0103 mai mult dec\xe2t prime\u0219ti \xeen acest grup. Auto-promovarea, spam-ul \u0219i link-urile irelevante nu sunt permise."),o.qZA(),o.TgZ(28,"li"),o._uU(29,"R\u0103m\xe2ne\u021bi la subiect."),o.qZA(),o.TgZ(30,"li")(31,"span"),o._uU(32,"Respect\u0103 Intimitatea Fiec\u0103ruia:"),o.qZA(),o._uU(33," Participarea \xeen acest grup necesit\u0103 \xeencredere reciproc\u0103. Discu\u021biile autentice \u0219i expresive fac grupurile grozave, dar pot fi \u0219i sensibile \u0219i private. Ce se \xeemp\u0103rt\u0103\u0219e\u0219te \xeen grup ar trebui s\u0103 r\u0103m\xe2n\u0103 \xeen grup."),o.qZA(),o.TgZ(34,"li")(35,"span"),o._uU(36,"Respecta\u021bi Standardele Comunit\u0103\u021bii Facebook."),o.qZA(),o._uU(37," Respect\u0103 toate liniile directoare ale comunit\u0103\u021bii pentru a asigura c\u0103 grupul r\u0103m\xe2ne un spa\u021biu sigur pentru to\u021bi."),o.qZA(),o.TgZ(38,"li"),o._uU(39,"Raporta\u021bi \xeenc\u0103lc\u0103rile regulilor c\u0103tre administratori."),o.qZA()()(),o.TgZ(40,"div")(41,"p"),o._uU(42,"Dac\u0103 dori\u021bi s\u0103 v\u0103 oferi\u021bi serviciile comunit\u0103\u021bii, v\u0103 rug\u0103m s\u0103 trimite\u021bi detaliile serviciilor dumneavoastr\u0103 prin intermediul site-ului nostru. Un administrator va revizui trimiterea dvs. \u0219i o va ad\u0103uga \xeen grup c\xe2t mai cur\xe2nd posibil. Apreciem cooperarea \u0219i \xeen\u021belegerea dvs. \xeen respectarea regulilor grupului nostru."),o.qZA()()())},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;height:100%}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(Seattle-Romania.322e2da675d571d6.png) no-repeat center center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:3em;margin:.5em 0}p[_ngcontent-%COMP%]{font-size:1.5em;margin:.5em 0}.cta-button[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.5em;margin-top:1em;font-size:1.2em;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;text-decoration:none;cursor:pointer;transition:background-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.rules-section[_ngcontent-%COMP%]{padding:40px 20px;background:#f4f4f4}.rules-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:32px}.rules-list[_ngcontent-%COMP%]{list-style:none}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:10px;border-left:5px solid #007BFF}.rules-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return v})();function ls(v,h){1&v&&(o.TgZ(0,"div",15)(1,"span",16),o._uU(2,"Evenimentul a Expirat"),o.qZA()())}let mu=(()=>{class v{constructor(c,p){this.router=c,this.analytics=p,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg"}ngOnInit(){this.event.Poster_Image||(this.event.Poster_Image=this.defaultImage)}navigateToDetails(){this.analytics.logEvent("button_click",{button_name:"back-to-events"}),this.router.navigate(["/events",this.event.id])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-card"]],inputs:{event:"event"},decls:24,vars:17,consts:[[1,"event-card"],[1,"event-image"],[3,"src","alt"],[1,"calendar-icon"],["src","../../../../assets/images/SVG/calendar.svg","alt","Calendar Icon"],[1,"event-date"],[1,"event-details"],[1,"event-date-time"],[1,"date-time"],[1,"event-description"],[1,"contact-name"],[1,"contact-info"],[1,"card-footer"],["class","card-expired",4,"ngIf"],[3,"click"],[1,"card-expired"],[1,"expired"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"span",5),o._uU(6),o.ALo(7,"date"),o.qZA()()(),o.TgZ(8,"div",6)(9,"div",7)(10,"span",8),o._uU(11),o.ALo(12,"date"),o.qZA()(),o.TgZ(13,"div",9),o._uU(14),o.qZA(),o.TgZ(15,"div",10),o._uU(16),o.qZA(),o.TgZ(17,"div",11),o._uU(18),o.ALo(19,"phoneNumber"),o.qZA()(),o.TgZ(20,"div",12),o.YNc(21,ls,3,0,"div",13),o.TgZ(22,"button",14),o.NdJ("click",function(){return b.navigateToDetails()}),o._uU(23,"Detalii"),o.qZA()()()),2&p&&(o.xp6(2),o.s9C("alt",b.event.Event_Name),o.Q6J("src",b.event.Poster_Image,o.LSH),o.xp6(4),o.Oqu(o.xi3(7,9,b.event.Event_Date,"dd")),o.xp6(5),o.AsE("",o.xi3(12,12,b.event.Event_Date,"MM/dd/yyyy")," | ",b.event.Event_Time,""),o.xp6(3),o.hij(" ",b.event.Description," "),o.xp6(2),o.hij(" ",b.event.Contact_Person_Name," "),o.xp6(2),o.hij(" ",o.lcZ(19,15,b.event.Phone_Number)," "),o.xp6(3),o.Q6J("ngIf",b.event.Expired))},dependencies:[V.O5,V.uU,Aa],styles:[".event-card[_ngcontent-%COMP%]{display:block;position:relative;width:400px;min-height:550px;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.calendar-icon[_ngcontent-%COMP%]{position:relative;bottom:45px;left:10px;display:flex;align-items:center;background-color:#fffc;padding:4px 8px;border-radius:4px;width:50px;height:50px;border:solid 1px lightgray}.calendar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:4px}.event-date[_ngcontent-%COMP%]{font-size:14px;color:#333}.event-details[_ngcontent-%COMP%]{padding:12px}.event-date-time[_ngcontent-%COMP%]{margin-bottom:8px}.date-time[_ngcontent-%COMP%]{font-size:14px;color:#888}.event-description[_ngcontent-%COMP%]{font-size:14px;color:#666;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.contact-name[_ngcontent-%COMP%]{margin-top:8px;font-weight:700}.contact-info[_ngcontent-%COMP%]{color:#666}.details-button[_ngcontent-%COMP%]{margin-top:12px;padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.details-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.card-expired[_ngcontent-%COMP%]{padding:10px;text-align:center}.expired[_ngcontent-%COMP%]{color:red}.card-footer[_ngcontent-%COMP%]{width:90%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}"]})}return v})();function bf(v,h){1&v&&o._UZ(0,"app-event-card",7),2&v&&o.Q6J("event",h.$implicit)}let Cf=(()=>{class v{constructor(c,p,b){this.eventService=c,this.router=p,this.analytics=b,this.events=[]}ngOnInit(){this.eventService.getEvents().subscribe(c=>{this.events=c})}navigateToAddEvent(){this.analytics.logEvent("button_click",{button_name:"add-event"}),this.router.navigate(["/add-event"])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Al.n),o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-events"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"services-container"],[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Evenimente"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi serviciile oferite de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return b.navigateToAddEvent()}),o._uU(9,"Adaugati un Eveniment"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,bf,1,1,"app-event-card",6),o.qZA()),2&p&&(o.xp6(11),o.Q6J("ngForOf",b.events))},dependencies:[V.sg,mu],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.service-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin:10px;padding:40px;width:calc(25% - 32px);box-sizing:border-box;position:relative;min-width:400px}.card-header[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:4px}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:gold}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}.services-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:30px;padding:30px}.services-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.services-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.services-control[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return v})();function Ed(v,h){if(1&v&&(o.TgZ(0,"div",15),o._UZ(1,"img",16),o.qZA()),2&v){const c=h.$implicit,p=h.index,b=o.oxw();o.ekj("active",p===b.currentImageIndex),o.xp6(1),o.MGl("alt","Offer Image ",p+1,""),o.Q6J("src",c,o.LSH)}}function Qc(v,h){1&v&&(o.TgZ(0,"span",17),o._uU(1,"\u2605"),o.qZA())}function Gp(v,h){1&v&&(o.TgZ(0,"p"),o._uU(1,"Oferta a expirat"),o.qZA())}function _u(v,h){1&v&&(o.TgZ(0,"p"),o._uU(1,"Oferta este valabil\u0101"),o.qZA())}function Id(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",18),o._UZ(2,"img",19),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",c.offer.Facebook,o.LSH)}}function qp(v,h){if(1&v&&(o.TgZ(0,"div"),o._UZ(1,"div",20),o.ALo(2,"instagramLink"),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,c.offer.Instagram,c.svgInstagramIcon),o.oJD)}}function Ad(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",21),o._UZ(2,"img",22),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.MGl("href","mailto:",c.offer.Email,"",o.LSH)}}function nv(v,h){if(1&v&&(o.TgZ(0,"div")(1,"a",18),o._UZ(2,"img",23),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",c.offer.Website,o.LSH)}}let Wp=(()=>{class v{constructor(c){this.router=c,this.currentImageIndex=0,this.images=[],this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/offers/defaultImage.jpg",this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg"}ngOnInit(){console.log(this.offer),this.images=this.offer?.Images?.length?this.offer.Images:[this.defaultImage],this.startImageCarousel()}startImageCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},15e3)}nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length}prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length}navigateToDetails(){console.log("Navigating to details:",this.offer.id),this.router.navigate(["/offers",this.offer.id])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-card"]],inputs:{offer:"offer"},decls:51,vars:18,consts:[[1,"offer-card"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"offer-details"],["class","sponsor-icon",4,"ngIf"],[1,"offer-description",3,"innerHTML"],[4,"ngIf"],[1,"details-btn-container"],[3,"click"],[1,"card-footer"],[1,"social-icons"],[1,"carousel-item"],[1,"carousel-image",3,"src","alt"],[1,"sponsor-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],[3,"innerHTML"],[3,"href"],["src","../../../assets/images/SVG/email-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,Ed,2,4,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return b.prevImage()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return b.nextImage()}),o._uU(8,"\u276f"),o.qZA()()(),o.TgZ(9,"div",7)(10,"h3"),o._uU(11),o.qZA(),o.TgZ(12,"p")(13,"strong"),o._uU(14,"Compania:"),o.qZA(),o._uU(15),o.YNc(16,Qc,2,0,"span",8),o.qZA(),o.TgZ(17,"p")(18,"strong"),o._uU(19,"Persona de contact:"),o.qZA(),o._uU(20),o.qZA(),o._UZ(21,"hr"),o.TgZ(22,"p")(23,"strong"),o._uU(24,"Numar de Tel:"),o.qZA(),o._uU(25),o.ALo(26,"phoneNumber"),o.qZA(),o.TgZ(27,"p")(28,"strong"),o._uU(29,"Locatie:"),o.qZA(),o._uU(30),o.qZA(),o.TgZ(31,"p")(32,"strong"),o._uU(33,"Pret:"),o.qZA(),o._uU(34),o.qZA(),o.TgZ(35,"p")(36,"strong"),o._uU(37,"Tip de ofert\u0101:"),o.qZA(),o._uU(38),o.qZA(),o._UZ(39,"div",9),o.YNc(40,Gp,2,0,"p",10),o.YNc(41,_u,2,0,"p",10),o.qZA(),o.TgZ(42,"div",11)(43,"button",12),o.NdJ("click",function(){return b.navigateToDetails()}),o._uU(44,"Detalii"),o.qZA()(),o.TgZ(45,"div",13)(46,"div",14),o.YNc(47,Id,3,1,"div",10),o.YNc(48,qp,3,4,"div",10),o.YNc(49,Ad,3,1,"div",10),o.YNc(50,nv,3,1,"div",10),o.qZA()()()),2&p&&(o.xp6(4),o.Q6J("ngForOf",b.images),o.xp6(7),o.Oqu(b.offer.Title),o.xp6(4),o.hij(" ",b.offer.Company_Name,""),o.xp6(1),o.Q6J("ngIf",b.offer.Community_Sponsor),o.xp6(4),o.hij(" ",b.offer.Contact_Name,""),o.xp6(5),o.hij(" ",o.lcZ(26,16,b.offer.Phone_Number),""),o.xp6(5),o.hij(" ",b.offer.Location,""),o.xp6(4),o.Oqu(b.offer.Price),o.xp6(4),o.Oqu(b.offer.OfferType),o.xp6(1),o.Q6J("innerHTML",b.offer.Description,o.oJD),o.xp6(1),o.Q6J("ngIf",b.offer.Filled),o.xp6(1),o.Q6J("ngIf",!b.offer.Filled),o.xp6(6),o.Q6J("ngIf",b.offer.Facebook),o.xp6(1),o.Q6J("ngIf",b.offer.Instagram),o.xp6(1),o.Q6J("ngIf",b.offer.Email),o.xp6(1),o.Q6J("ngIf",b.offer.Website))},dependencies:[V.sg,V.O5,ph,Aa],styles:[".offer-card[_ngcontent-%COMP%]{background-color:#fafafa;width:400px;min-height:550px;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:transform .3s;height:800px;position:relative}.offer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.offer-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto}.carousel[_ngcontent-%COMP%]{width:100%;position:relative}.carousel-inner[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;min-height:300px}.carousel-item[_ngcontent-%COMP%]{display:none;text-align:center}.carousel-item.active[_ngcontent-%COMP%]{display:block}.carousel-image[_ngcontent-%COMP%]{width:400px;height:300px;object-fit:cover}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:24px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5);cursor:pointer;-webkit-user-select:none;user-select:none}.carousel-control.prev[_ngcontent-%COMP%]{left:10px}.carousel-control.next[_ngcontent-%COMP%]{right:10px}.offer-details[_ngcontent-%COMP%]{padding:15px;text-align:left}.offer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.offer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.card-footer[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;position:absolute;bottom:10px;right:10px;color:#666;font-size:.6rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:400px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.sponsor-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px;color:gold}.sponsor-text[_ngcontent-%COMP%]{font-size:1rem;color:gold}.details-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;bottom:50px;right:150px}.offer-description[_ngcontent-%COMP%]{max-height:100px;max-width:350px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return v})();function _h(v,h){1&v&&o._UZ(0,"app-offer-card",7),2&v&&o.Q6J("offer",h.$implicit)}let Kp=(()=>{class v{constructor(c,p){this.offersService=c,this.router=p,this.offers=[]}ngOnInit(){this.offersService.getOffers().subscribe(c=>{console.log(c),this.offers=c})}navigateToAddOffer(){this.router.navigate(["/add-offers"])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Cs.b),o.Y36(Tr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offers"]],decls:12,vars:1,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"add-service-container"],[3,"click"],[1,"offer-list"],[3,"offer",4,"ngFor","ngForOf"],[3,"offer"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"De toate pentru to\u021bi"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Descoperi\u021bi oferte de membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"button",4),o.NdJ("click",function(){return b.navigateToAddOffer()}),o._uU(9,"Adaugati oferta"),o.qZA()(),o.TgZ(10,"div",5),o.YNc(11,_h,1,1,"app-offer-card",6),o.qZA()),2&p&&(o.xp6(11),o.Q6J("ngForOf",b.offers))},dependencies:[V.sg,Wp],styles:[".hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(http://source.unsplash.com/800x600/?Seattle);background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.section-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.add-offer-container[_ngcontent-%COMP%], .add-service-container[_ngcontent-%COMP%]{text-align:right;margin:20px}.offer-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.offers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;padding:20px}.offers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.offers-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:15px;width:calc(25% - 32px);overflow:hidden;transition:transform .3s,box-shadow .3s;min-width:400px}.offers-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003}.offer-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.offers-card-content[_ngcontent-%COMP%]{padding:20px;text-align:left}.offers-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;font-weight:600}.offers-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#666;font-weight:400}.offers-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;color:#777}.offers-footer[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.featured[_ngcontent-%COMP%]{color:#007bff;font-weight:700}@media (max-width: 1024px){.offer-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.offer-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}"]})}return v})();var lc=k(8779);function Qp(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c.id),o.xp6(1),o.Oqu(c.Name)}}function rv(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function xm(v,h){if(1&v&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function Tf(v,h){if(1&v&&(o.TgZ(0,"div",31)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",32),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",33),o.YNc(6,rv,2,2,"option",8),o.qZA(),o.TgZ(7,"label",32),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",34),o.YNc(10,xm,2,2,"option",8),o.qZA()()),2&v){const c=h.$implicit,p=o.oxw();o.Q6J("formGroupName",c),o.xp6(2),o.Oqu(c),o.xp6(1),o.MGl("for","",c,"-open"),o.xp6(3),o.Q6J("ngForOf",p.hoursOptions),o.xp6(1),o.MGl("for","",c,"-close"),o.xp6(3),o.Q6J("ngForOf",p.hoursOptions)}}const wf=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let xl=(()=>{class v{constructor(c,p,b,H,de){this.fb=c,this.servicesService=p,this.imageUploadService=b,this.router=H,this.analytics=de,this.serviceTypes=[],this.selectedFile=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",ln.kI.required],Email:["",[ln.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type_ID:["",ln.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}ngOnInit(){this.fetchServiceTypes()}onFileSelected(c){this.selectedFile=c.target.files[0]}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(c=>{this.serviceTypes=c})}onSubmit(){this.analytics.logEvent("button_click",{button_name:"add-service"}),this.serviceForm.valid&&(this.selectedFile?this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(c=>{this.serviceForm.value.Image=c,console.log(c),this.saveService()}):this.saveService())}formatHours(c){for(const p of Object.keys(c))""===c[p].open&&""===c[p].close&&(c[p]=null);return c}saveService(){this.servicesService.addService(this.serviceForm.value).subscribe(c=>{console.log("Service added successfully with ID:",c?.id),this.serviceForm.reset(),this.router.navigate(["/services",c?.id])})}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(ln.qu),o.Y36(pu.r),o.Y36(lc.K),o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-service"]],decls:59,vars:5,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type_ID",1,"required"],["id","Service_Type_ID","formControlName","Service_Type_ID","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile dumneavoastra pentru membrii comunit\u0103\u021bii"),o.qZA(),o._UZ(7,"p"),o.qZA()(),o.TgZ(8,"div",3)(9,"h2"),o._uU(10," Serviciile ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(11,"h3"),o._uU(12,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(13,"form",4),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(14,"div",5)(15,"label",6),o._uU(16,"Categoria de serviciului:"),o.qZA(),o.TgZ(17,"select",7),o.YNc(18,Qp,2,2,"option",8),o.qZA()(),o.TgZ(19,"div",5)(20,"label",9),o._uU(21,"Nume:"),o.qZA(),o._UZ(22,"input",10),o.qZA(),o.TgZ(23,"div",5)(24,"label",11),o._uU(25,"Adresa Email:"),o.qZA(),o._UZ(26,"input",12),o.qZA(),o.TgZ(27,"div",5)(28,"label",13),o._uU(29,"Numar de telefon:"),o.qZA(),o._UZ(30,"input",14),o.qZA(),o.TgZ(31,"div",5)(32,"label",15),o._uU(33,"Pagina Web:"),o.qZA(),o._UZ(34,"input",16),o.qZA(),o.TgZ(35,"div",5)(36,"label",17),o._uU(37,"Pagina Facebook:"),o.qZA(),o._UZ(38,"input",18),o.qZA(),o.TgZ(39,"div",5)(40,"label",19),o._uU(41,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(42,"input",20),o.qZA(),o.TgZ(43,"div",5)(44,"label",21),o._uU(45,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(46,"textarea",22),o.qZA(),o.TgZ(47,"div",5)(48,"label",23),o._uU(49,"Orele de contactare:"),o.qZA(),o.TgZ(50,"div",24)(51,"div",25),o.YNc(52,Tf,11,6,"div",26),o.qZA()()(),o.TgZ(53,"div",5)(54,"label",27),o._uU(55,"Imagine:"),o.qZA(),o.TgZ(56,"input",28),o.NdJ("change",function(de){return b.onFileSelected(de)}),o.qZA()(),o.TgZ(57,"button",29),o._uU(58,"Adaugati Serviciul"),o.qZA()()()),2&p&&(o.xp6(13),o.Q6J("formGroup",b.serviceForm),o.xp6(5),o.Q6J("ngForOf",b.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(4,wf)),o.xp6(5),o.Q6J("disabled",b.serviceForm.invalid))},dependencies:[V.sg,ln._Y,ln.YN,ln.Kr,ln.Fj,ln.EJ,ln.JJ,ln.JL,ln.Q7,ln.sg,ln.u,ln.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:20%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return v})(),vu=(()=>{class v{constructor(c,p){this.fb=c,this.eventsService=p,this.eventForm=this.fb.group({Community_Sponsor:[""],Contact:[""],Description:["",ln.kI.required],Event_date:["",ln.kI.required],Location:["",ln.kI.required],Name:["",ln.kI.required],Phone_Number:[""],Poster_Image:["",ln.kI.required],Price:["",ln.kI.required],Website:[""]})}ngOnInit(){}onSubmit(){this.eventForm.valid&&this.eventsService.addEvent(this.eventForm.value).then(()=>{console.log("Event added successfully"),this.eventForm.reset()}).catch(p=>{console.error("Error adding event: ",p)})}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(ln.qu),o.Y36(Al.n))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-event"]],decls:52,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name",1,"required"],["id","Name","formControlName","Name","required","","placeholder","Titlul Evenimentului"],["for","Contact"],["id","Contact","formControlName","Contact","required","","placeholder","Numele persoanei de contact:"],["for","Poster_Image",1,"required"],["id","Poster_Image","formControlName","Poster_Image","required",""],["for","Phone_Number"],["id","Phone_Number","formControlName","Phone_Number","placeholder","425 555 5555"],["for","Event_date",1,"required"],["id","Event_date","type","date","formControlName","Event_date","required",""],["for","Location",1,"required"],["id","Location","formControlName","Location","required","","placeholder","Locatie"],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Detalii"],["for","Price",1,"required"],["id","Price","formControlName","Price","required","","placeholder","5"],["for","Website"],["id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit",3,"disabled"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Evenimetele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Titlu:"),o.qZA(),o._UZ(9,"input",4),o.qZA(),o.TgZ(10,"div",2)(11,"label",5),o._uU(12,"Numele persoanei de contact:"),o.qZA(),o._UZ(13,"input",6),o.qZA(),o.TgZ(14,"div",2)(15,"label",7),o._uU(16,"Imagine poster:"),o.qZA(),o._UZ(17,"input",8),o.qZA(),o.TgZ(18,"div",2)(19,"label",9),o._uU(20,"Numar de Telefon:"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div",2)(23,"label",11),o._uU(24,"Data Evenimentului:"),o.qZA(),o._UZ(25,"input",12),o.qZA(),o.TgZ(26,"div",2)(27,"label",13),o._uU(28,"Locatie:"),o.qZA(),o._UZ(29,"input",14),o.qZA(),o.TgZ(30,"div",2)(31,"label",15),o._uU(32,"Descriere:"),o.qZA(),o._UZ(33,"textarea",16),o.qZA(),o.TgZ(34,"div",2)(35,"label",17),o._uU(36,"Pret:"),o.qZA(),o._UZ(37,"input",18),o.qZA(),o.TgZ(38,"div",2)(39,"label",19),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",20),o.qZA(),o.TgZ(42,"div",2)(43,"label",21),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",22),o.qZA(),o.TgZ(46,"div",2)(47,"label",23),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",24),o.qZA(),o.TgZ(50,"button",25),o._uU(51,"Adauga Eveniment"),o.qZA()()()),2&p&&(o.xp6(5),o.Q6J("formGroup",b.eventForm),o.xp6(45),o.Q6J("disabled",b.eventForm.invalid))},dependencies:[ln._Y,ln.Fj,ln.JJ,ln.JL,ln.Q7,ln.sg,ln.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:50px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}']})}return v})();var Rm=k(8963),vh=k.n(Rm);function Df(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function Om(v,h){if(1&v&&(o.TgZ(0,"div",38),o._UZ(1,"div",39),o.qZA()),2&v){const c=o.oxw().$implicit;o.xp6(1),o.Udp("width",c.progress,"%")}}function Nm(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"div",34),o._UZ(1,"img",35),o.YNc(2,Om,2,2,"div",36),o.TgZ(3,"button",37),o.NdJ("click",function(){const H=o.CHM(c).$implicit,de=o.oxw();return o.KtG(de.removeImage(H))}),o._uU(4,"X"),o.qZA()()}if(2&v){const c=h.$implicit;o.xp6(1),o.s9C("alt",c.name),o.Q6J("src",c.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==c.progress)}}let Yp=(()=>{class v{constructor(c,p,b,H,de){this.fb=c,this.offersService=p,this.imageUploadService=b,this.router=H,this.analytics=de,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",ln.kI.required],Company_Name:[""],Contact_Name:["",ln.kI.required],Phone_Number:[""],Email:["",[ln.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",ln.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.fetchOfferTypes(),this.offerId=this.offersService.generateOfferId()}onFileSelected(c){var p=this;return(0,ia.Z)(function*(){const b=c.target.files;for(let H=0;H<b.length;H++){const de=b[H],Re=yield p.resizeImage(de);p.imageUploadStatus[de.name]="Uploading...";const gt={name:de.name,url:"",file:de,progress:0};p.images.push(gt),p.imageUploadService.uploadOfferImage(Re,p.offerId).subscribe({next:Dt=>{"string"==typeof Dt?(gt.url=Dt,p.offer.Images.push(Dt),p.imageUploadStatus[de.name]="Uploaded"):gt.progress=Dt},error:Dt=>{console.error("Image upload failed: ",Dt),p.imageUploadStatus[de.name]="Failed to upload"}})}})()}removeImage(c){this.images=this.images.filter(p=>p!==c),this.offer.Images=this.offer.Images.filter(p=>p!==c.url),this.imageUploadService.deleteOfferImage(c.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(c=>{this.offerTypes=c})}onSubmit(){this.analytics.logEvent("button_click",{button_name:"add-offer"}),this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Created=(new Date).toISOString(),this.offer.Date_Updated=(new Date).toISOString(),this.offersService.addOfferWithId(this.offer,this.offerId).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(c){return(0,ia.Z)(function*(){const p=vh()(),b=new Image;return b.src=URL.createObjectURL(c),new Promise((H,de)=>{b.onload=(0,ia.Z)(function*(){const Re=document.createElement("canvas"),nn=(Re.getContext("2d"),Math.min(1024/b.width,1024/b.height));Re.width=b.width*nn,Re.height=b.height*nn;try{yield p.resize(b,Re),Re.toBlob(vn=>{if(vn){const Zn=new File([vn],c.name,{type:c.type});H(Zn)}else de(new Error("Image resizing failed"))},c.type)}catch(vn){de(vn)}}),b.onerror=Re=>de(Re)})})()}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(ln.qu),o.Y36(Cs.b),o.Y36(lc.K),o.Y36(Tr.F0),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-add-offers"]],decls:63,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","required","","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," Ofertele ad\u0103ugate prin aceast\u0103 pagin\u0103 sunt supuse aprob\u0103rii administratorului \xeenainte de a fi afi\u0219ate \xeen list\u0103."),o.qZA(),o.TgZ(3,"h3"),o._uU(4,"V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin o metod\u0103 de contact."),o.qZA(),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(6,"div",2)(7,"label",3),o._uU(8,"Tip de oferta"),o.qZA(),o.TgZ(9,"select",4),o.YNc(10,Df,2,2,"option",5),o.qZA()(),o.TgZ(11,"div",2)(12,"label",6),o._uU(13,"Titlu:"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.TgZ(15,"div",2)(16,"label",8),o._uU(17,"Numele Companiei:"),o.qZA(),o._UZ(18,"input",9),o.qZA(),o.TgZ(19,"div",2)(20,"label",10),o._uU(21,"Numele persoanei de contact:"),o.qZA(),o._UZ(22,"input",11),o.qZA(),o.TgZ(23,"div",2)(24,"label",12),o._uU(25,"Numar de telefon:"),o.qZA(),o._UZ(26,"input",13),o.qZA(),o.TgZ(27,"div",2)(28,"label",14),o._uU(29,"Adresa de Email:"),o.qZA(),o._UZ(30,"input",15),o.qZA(),o.TgZ(31,"div",2)(32,"label",16),o._uU(33,"Adresa de Facebook:"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",2)(36,"label",18),o._uU(37,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(38,"input",19),o.qZA(),o.TgZ(39,"div",2)(40,"label",20),o._uU(41,"Descriere:"),o.qZA(),o._UZ(42,"textarea",21),o.qZA(),o.TgZ(43,"div",2)(44,"label",22),o._uU(45,"Pret:"),o.qZA(),o._UZ(46,"input",23),o.qZA(),o.TgZ(47,"div",2)(48,"label",24),o._uU(49,"Locatie:"),o.qZA(),o._UZ(50,"input",25),o.qZA(),o.TgZ(51,"div",2)(52,"label",26),o._uU(53,"Website:"),o.qZA(),o._UZ(54,"input",27),o.qZA(),o.TgZ(55,"div",2)(56,"label",28),o._uU(57,"Images"),o.qZA(),o.TgZ(58,"input",29),o.NdJ("change",function(de){return b.onFileSelected(de)}),o.qZA(),o.TgZ(59,"div",30),o.YNc(60,Nm,5,3,"div",31),o.qZA()(),o.TgZ(61,"button",32),o._uU(62,"Adauga Oferta"),o.qZA()()()),2&p&&(o.xp6(5),o.Q6J("formGroup",b.offerForm),o.xp6(5),o.Q6J("ngForOf",b.offerTypes),o.xp6(50),o.Q6J("ngForOf",b.images),o.xp6(1),o.Q6J("disabled",b.offerForm.invalid))},dependencies:[V.sg,V.O5,ln._Y,ln.YN,ln.Kr,ln.Fj,ln.EJ,ln.JJ,ln.JL,ln.Q7,ln.sg,ln.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer;background-color:var(--button-color)}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.offer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.company-name[_ngcontent-%COMP%]{font-size:1.2em;color:#555}.contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%]{font-size:1em;color:#777}.offer-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:20px}.offer-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;box-shadow:0 0 10px #0000001a}.offer-details[_ngcontent-%COMP%]{text-align:left}.description[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:15px}.price[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;margin-bottom:10px}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:5px}@media (max-width: 600px){.offer-container[_ngcontent-%COMP%]{padding:15px}.offer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em}.company-name[_ngcontent-%COMP%], .contact-name[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%], .location[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .offer-type[_ngcontent-%COMP%], .date-created[_ngcontent-%COMP%], .date-updated[_ngcontent-%COMP%]{font-size:1em}.offer-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px}}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-bottom:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:4px;border:1px solid #ddd}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:50%;padding:5px;cursor:pointer}']})}return v})();class km{constructor(){this.Name="",this.Phone_Number="",this.Email="",this.Description="",this.Website="",this.Facebook="",this.Instagram="",this.Date_Created="",this.Date_Updated="",this.Image="",this.Approved=!1,this.OpenHour="",this.CloseHour="",this.Hours={},this.Service_Type_ID=""}}class Fm extends km{constructor(){super(...arguments),this.id=""}}function iv(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c.id),o.xp6(1),o.Oqu(c.Name)}}function Lm(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function Sf(v,h){if(1&v&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function yh(v,h){if(1&v&&(o.TgZ(0,"div",34)(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"label",35),o._uU(4,"Open:"),o.qZA(),o.TgZ(5,"select",36),o.YNc(6,Lm,2,2,"option",8),o.qZA(),o.TgZ(7,"label",35),o._uU(8,"Close:"),o.qZA(),o.TgZ(9,"select",37),o.YNc(10,Sf,2,2,"option",8),o.qZA()()),2&v){const c=h.$implicit,p=o.oxw();o.Q6J("formGroupName",c),o.xp6(2),o.Oqu(c),o.xp6(1),o.MGl("for","",c,"-open"),o.xp6(3),o.Q6J("ngForOf",p.hoursOptions),o.xp6(1),o.MGl("for","",c,"-close"),o.xp6(3),o.Q6J("ngForOf",p.hoursOptions)}}const Jp=function(){return["Luni","Marti","Miercuri","Joi","Vineri","Sambata","Duminica"]};let Xp=(()=>{class v{constructor(c,p,b,H,de,Re){this.fb=c,this.route=p,this.router=b,this.servicesService=H,this.imageUploadService=de,this.analytics=Re,this.serviceId=null,this.serviceTypes=[],this.selectedFile=null,this.serviceObj=new Fm,this.oldImage=null,this.hoursOptions=["Closed","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM"],this.serviceForm=this.fb.group({Name:["",ln.kI.required],Email:["",[ln.kI.email]],Phone_Number:[""],Website:[""],Facebook:[""],Instagram:[""],Image:[""],Description:[""],Date_Created:[""],Community_Sponsor:[!1],Service_Type_ID:["",ln.kI.required],Hours:this.fb.group({Luni:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Marti:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Miercuri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Joi:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Vineri:this.fb.group({open:["8:00 AM"],close:["5:00 PM"]}),Sambata:this.fb.group({open:["Closed"],close:["Closed"]}),Duminica:this.fb.group({open:["Closed"],close:["Closed"]})})})}onFileSelected(c){this.selectedFile=c.target.files[0]}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),console.log(this.serviceId),this.servicesService.getServiceById(this.serviceId).subscribe(c=>{this.serviceForm.patchValue({Id:this.serviceId,Service_Type_ID:c?.Service_Type_ID,Name:c?.Name,Email:c?.Email?c.Email:"",Phone_Number:c?.Phone_Number?c.Phone_Number:"",Service_Type:c?.Service_Type,Website:c?.Website?c.Website:"",Facebook:c?.Facebook?c?.Facebook:"",Instagram:c?.Instagram?c?.Instagram:"",Description:c?.Description,Date_Created:c?.Date_Created,Date_Updated:c?.Date_Updated,Hours:c?.Hours}),console.log(this.serviceForm.value),c?.Image&&(this.oldImage=c?.Image)}),this.fetchServiceTypes()}fetchServiceTypes(){this.servicesService.getAllServiceTypes().subscribe(c=>{this.serviceTypes=c})}onSubmit(){this.analytics.logEvent("button_click",{button_name:"edit-service"}),this.serviceForm.valid&&(this.serviceObj.id=this.serviceId?this.serviceId:"0",this.serviceObj.Name=this.serviceForm.value.Name,this.serviceObj.Phone_Number=this.serviceForm.value.Phone_Number,this.serviceObj.Service_Type_ID=this.serviceForm.value.Service_Type_ID,this.serviceObj.Community_Sponsor=!1,this.serviceObj.Email=this.serviceForm.value.Email,this.serviceObj.Website=this.serviceForm.value.Website,this.serviceObj.Facebook=this.serviceForm.value.Facebook,this.serviceObj.Instagram=this.serviceForm.value.Instagram,this.serviceObj.Description=this.serviceForm.value.Description,this.serviceObj.Date_Created=this.serviceForm.value.Date_Created,this.serviceObj.Date_Updated=this.serviceForm.value.Date_Updated,this.serviceObj.Image=this.serviceForm.value.Image,this.serviceObj.Hours=this.serviceForm.value.Hours,this.serviceObj.Approved=!0,this.selectedFile?(console.log(this.selectedFile),this.imageUploadService.uploadImage(this.selectedFile,"serviceImages").subscribe(c=>{this.serviceObj.Image=c,this.saveService()})):(this.oldImage&&(this.serviceObj.Image=this.oldImage),this.saveService()))}saveService(){let c=this.route.snapshot.paramMap.get("id");this.servicesService.updateService(c,this.serviceObj).subscribe(p=>{console.log("Service updated successfully  ID:",p?.id),this.serviceForm.reset(),this.router.navigate(["/services",p?.id])})}goBack(){this.analytics.logEvent("button_click",{button_name:"back-to-services"}),this.router.navigate(this.serviceId?["/services",this.serviceId]:["/services"])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(ln.qu),o.Y36(Tr.gz),o.Y36(Tr.F0),o.Y36(pu.r),o.Y36(lc.K),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-edit-services"]],decls:58,vars:6,consts:[[1,"hero-section"],[1,"hero-overlay"],[1,"overlay_subtitle"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Service_Type_ID",1,"required"],["id","Service_Type_ID","formControlName","Service_Type_ID","required",""],[3,"value",4,"ngFor","ngForOf"],["for","Name",1,"required"],["id","Name","placeholder","Ion Dumitrescu","formControlName","Name","required",""],["for","Email"],["id","Email","type","Email","placeholder","info@website.com","formControlName","Email"],["for","Phone_Number"],["id","Phone_Number","type","text","placeholder","(425) 444-5555","formControlName","Phone_Number"],["for","Website"],["id","Website","type","text","placeholder","https://www.website.com","formControlName","Website"],["for","Facebook"],["id","Facebook","type","text","placeholder","https://www.facebook.com/yourname","formControlName","Facebook"],["for","Instagram"],["id","Instagram","type","text","placeholder","@instaHandle..","formControlName","Instagram"],["for","Description",1,"required"],["id","Description","formControlName","Description"],["for","Hours"],["formGroupName","Hours"],[1,"day-container"],["class","day",3,"formGroupName",4,"ngFor","ngForOf"],["for","Image"],[1,"service-card-image-container"],[1,"service-card-image",3,"src"],["type","file","formControlName","Image",3,"change"],["type","submit",3,"disabled"],["type","button",3,"click"],[3,"value"],[1,"day",3,"formGroupName"],[3,"for"],["formControlName","open"],["formControlName","close"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Lista de Servicii"),o.qZA()(),o.TgZ(4,"div",2)(5,"h2"),o._uU(6,"Adaugati serviciile oferite pentru membrii comunit\u0103\u021bii"),o.qZA()()(),o.TgZ(7,"div",3)(8,"form",4),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(9,"div",5)(10,"label",6),o._uU(11,"Categoria de serviciului:"),o.qZA(),o.TgZ(12,"select",7),o.YNc(13,iv,2,2,"option",8),o.qZA()(),o.TgZ(14,"div",5)(15,"label",9),o._uU(16,"Nume:"),o.qZA(),o._UZ(17,"input",10),o.qZA(),o.TgZ(18,"div",5)(19,"label",11),o._uU(20,"Adresa Email:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",5)(23,"label",13),o._uU(24,"Numar de telefon:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",5)(27,"label",15),o._uU(28,"Pagina Web:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",5)(31,"label",17),o._uU(32,"Pagina Facebook:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",5)(35,"label",19),o._uU(36,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",5)(39,"label",21),o._uU(40,"Descriere a serviciile oferite:"),o.qZA(),o._UZ(41,"textarea",22),o.qZA(),o.TgZ(42,"div",5)(43,"label",23),o._uU(44,"Orele de contactare:"),o.qZA(),o.TgZ(45,"div",24)(46,"div",25),o.YNc(47,yh,11,6,"div",26),o.qZA()()(),o.TgZ(48,"div",5)(49,"label",27),o._uU(50,"Imagine:"),o.qZA(),o.TgZ(51,"div",28),o._UZ(52,"img",29),o.qZA(),o.TgZ(53,"input",30),o.NdJ("change",function(de){return b.onFileSelected(de)}),o.qZA()(),o.TgZ(54,"button",31),o._uU(55,"Salveaza Serviciu"),o.qZA(),o.TgZ(56,"button",32),o.NdJ("click",function(){return b.goBack()}),o._uU(57,"Cancel"),o.qZA()()()),2&p&&(o.xp6(8),o.Q6J("formGroup",b.serviceForm),o.xp6(5),o.Q6J("ngForOf",b.serviceTypes),o.xp6(34),o.Q6J("ngForOf",o.DdM(5,Jp)),o.xp6(5),o.Q6J("src",b.oldImage,o.LSH),o.xp6(2),o.Q6J("disabled",b.serviceForm.invalid))},dependencies:[V.sg,ln._Y,ln.YN,ln.Kr,ln.Fj,ln.EJ,ln.JJ,ln.JL,ln.Q7,ln.sg,ln.u,ln.x0],styles:['.hero-section[_ngcontent-%COMP%]{position:relative;height:30vh;background-image:url(Services.8624e1c234ff47fa.png);background-size:cover;background-position:0 35%}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5)}.overlay_subtitle[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;height:90%;display:flex;justify-content:center;align-items:center}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.day-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.day[_ngcontent-%COMP%]{width:30%;padding:10px;box-sizing:border-box}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;margin:10px 0;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #007bff40}.service-card-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.service-card-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}@media (max-width: 1024px){.service-card[_ngcontent-%COMP%]{width:calc(50% - 32px);min-width:350px}}@media (max-width: 600px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}@media screen and (max-width: 960px){.service-card[_ngcontent-%COMP%]{width:calc(90% - 100px);min-width:350px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center}.overlay_subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;text-align:center}}}']})}return v})();var Vm=k(2380),Yc=k(4626);const Eh=function(v){return{active:v}};function Jc(v,h){if(1&v&&(o.TgZ(0,"div",24),o._UZ(1,"img",25),o.qZA()),2&v){const c=h.$implicit,p=h.index,b=o.oxw();o.Q6J("ngClass",o.VKq(3,Eh,p===b.currentIndex)),o.xp6(1),o.MGl("alt","Offer Image ",p+1,""),o.Q6J("src",c,o.LSH)}}function Um(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"img",26),o.NdJ("click",function(){const H=o.CHM(c).index,de=o.oxw();return o.KtG(de.setCurrentSlide(H))}),o.qZA()}if(2&v){const c=h.$implicit,p=h.index,b=o.oxw();o.MGl("alt","Thumbnail ",p+1,""),o.Q6J("src",c,o.LSH)("ngClass",o.VKq(3,Eh,p===b.currentIndex))}}function Mf(v,h){1&v&&(o.TgZ(0,"span",27),o._uU(1,"\u2605"),o.qZA())}function ov(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(c);const b=o.oxw();return o.KtG(b.sendEmail(null==b.offer?null:b.offer.Email))}),o._uU(1,"Contacteaza"),o.qZA()}}function Bm(v,h){if(1&v&&(o.TgZ(0,"div",29)(1,"a",30),o._UZ(2,"img",31),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",null==c.offer?null:c.offer.Facebook,o.LSH)}}function Pf(v,h){if(1&v&&(o.TgZ(0,"div",29),o._UZ(1,"div",16),o.ALo(2,"instagramLink"),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,null==c.offer?null:c.offer.Instagram,c.svgInstagramIcon),o.oJD)}}function eg(v,h){if(1&v&&(o.TgZ(0,"div",29)(1,"a",30),o._UZ(2,"img",32),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",null==c.offer?null:c.offer.Website,o.LSH)}}function tg(v,h){if(1&v&&(o.TgZ(0,"div",33)(1,"strong"),o._uU(2,"Created On:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Last Updated On:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==c.offer?null:c.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==c.offer?null:c.offer.Date_Updated,"shortDate")," ")}}let xf=(()=>{class v{constructor(c,p,b,H){this.route=c,this.router=p,this.offerService=b,this.authService=H,this.images=[],this.currentIndex=0,this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg",this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const c=this.route.snapshot.paramMap.get("id");c&&this.offerService.getOfferById(c).subscribe(p=>{this.offer=p,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(b=>!!b)),this.startAutoPlay()})}setCurrentSlide(c){this.currentIndex=c,console.log(`Current Slide Set To: ${c}`),this.resetAutoPlay()}prevSlide(){this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,console.log(`Previous Slide: ${this.currentIndex}`),this.resetAutoPlay()}nextSlide(){this.currentIndex=this.currentIndex<this.images.length-1?this.currentIndex+1:0,console.log(`Next Slide: ${this.currentIndex}`),this.resetAutoPlay()}startAutoPlay(){this.intervalId=setInterval(()=>{this.nextSlide()},1e4)}resetAutoPlay(){clearInterval(this.intervalId),this.startAutoPlay()}goBack(){this.router.navigate(["/offers"])}sendEmail(c){window.location.href=`mailto:${c}`}shareLink(){navigator.clipboard.writeText(`https://romaniinseattle.com${this.router.url}`).then(()=>{alert("Link copied to clipboard!")},H=>{console.error("Could not copy text: ",H)})}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.gz),o.Y36(Tr.F0),o.Y36(Cs.b),o.Y36(Yc.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-offer-detail"]],decls:57,vars:20,consts:[[1,"offer-details-container"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"carousel-thumbnails"],[3,"src","ngClass","alt","click",4,"ngFor","ngForOf"],[1,"offer-content"],[1,"offer-company"],["class","sponsor-icon",4,"ngIf"],[1,"offer-title"],[1,"offer-price"],[1,"offer-overview"],[1,"offer-info"],[3,"innerHTML"],[1,"offer-buttons"],["class","btn message",3,"click",4,"ngIf"],[1,"outline-button",3,"click"],[1,"offer-social"],["class","social-icon",4,"ngIf"],["class","offer-dates",4,"ngIf"],[1,"return-button",3,"click"],[1,"carousel-item",3,"ngClass"],[3,"src","alt"],[3,"src","ngClass","alt","click"],[1,"sponsor-icon"],[1,"btn","message",3,"click"],[1,"social-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"],[1,"offer-dates"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,Jc,2,5,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return b.prevSlide()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return b.nextSlide()}),o._uU(8,"\u276f"),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,Um,1,5,"img",8),o.qZA()(),o.TgZ(11,"div",9)(12,"div",10),o._uU(13),o.YNc(14,Mf,2,0,"span",11),o.qZA(),o.TgZ(15,"h1",12),o._uU(16),o.qZA(),o.TgZ(17,"div",13),o._uU(18),o.qZA(),o.TgZ(19,"div",14)(20,"h2"),o._uU(21,"Detailii"),o.qZA(),o.TgZ(22,"div",15)(23,"div")(24,"strong"),o._uU(25,"Persona de contact:"),o.qZA(),o._uU(26),o.qZA(),o.TgZ(27,"div")(28,"strong"),o._uU(29,"Nr de Telefon:"),o.qZA(),o._uU(30),o.ALo(31,"phoneNumber"),o.qZA(),o.TgZ(32,"div")(33,"strong"),o._uU(34,"Tip de oferta"),o.qZA(),o._uU(35),o.qZA(),o.TgZ(36,"div")(37,"strong"),o._uU(38,"Locatie"),o.qZA(),o._uU(39),o.qZA()(),o._UZ(40,"div",16),o.qZA(),o.TgZ(41,"div",17),o.YNc(42,ov,2,0,"button",18),o.TgZ(43,"button",19),o.NdJ("click",function(){return b.shareLink()}),o._uU(44,"Distribuie"),o.qZA(),o.TgZ(45,"div",20)(46,"h3"),o._uU(47,"Prezenta Online"),o.qZA(),o._UZ(48,"br"),o.YNc(49,Bm,3,1,"div",21),o.YNc(50,Pf,3,4,"div",21),o.YNc(51,eg,3,1,"div",21),o.qZA()()(),o.TgZ(52,"div",9),o.YNc(53,tg,10,8,"div",22),o.ALo(54,"async"),o.TgZ(55,"button",23),o.NdJ("click",function(){return b.goBack()}),o._uU(56,"Inapoi la Oferte"),o.qZA()()()),2&p&&(o.xp6(4),o.Q6J("ngForOf",b.images),o.xp6(6),o.Q6J("ngForOf",b.images),o.xp6(3),o.hij("",null==b.offer?null:b.offer.Company_Name," "),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Community_Sponsor),o.xp6(2),o.Oqu(null==b.offer?null:b.offer.Title),o.xp6(2),o.Oqu(null==b.offer?null:b.offer.Price),o.xp6(8),o.hij(" ",null==b.offer?null:b.offer.Contact_Name,""),o.xp6(4),o.hij(" ",o.lcZ(31,16,null==b.offer?null:b.offer.Phone_Number),""),o.xp6(5),o.hij(" ",null==b.offer?null:b.offer.OfferType,""),o.xp6(4),o.hij(" ",null==b.offer?null:b.offer.Location,""),o.xp6(1),o.Q6J("innerHTML",null==b.offer?null:b.offer.Description,o.oJD),o.xp6(2),o.Q6J("ngIf",null==b.offer?null:b.offer.Email),o.xp6(7),o.Q6J("ngIf",null==b.offer?null:b.offer.Facebook),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Instagram),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Website),o.xp6(2),o.Q6J("ngIf",o.lcZ(54,18,b.isLoggedIn$)))},dependencies:[V.mk,V.sg,V.O5,V.Ov,V.uU,ph,Aa],styles:[".offer-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.sponsor-icon[_ngcontent-%COMP%]{color:gold;margin-right:10px;font-size:2rem}.offer-carousel-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.carousel[_ngcontent-%COMP%]{position:relative;width:100%}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{flex:0 0 100%;opacity:0;transition:opacity .5s ease-in-out;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2rem;cursor:pointer;color:var(--button-color)}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.carousel-thumbnails[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:5px;padding-top:5px}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border:2px solid transparent;width:20%}.carousel-thumbnails[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{border-color:var(--button-color)}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-transform:uppercase;margin-bottom:10px;color:var(--button-color)}.offer-info[_ngcontent-%COMP%]{display:block;justify-content:space-between;font-size:.8rem}.offer-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:10px}.offer-overview[_ngcontent-%COMP%]{margin-bottom:20px}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:5px}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.offer-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.filled-button[_ngcontent-%COMP%], .outline-button[_ngcontent-%COMP%]{padding:10px 20px;cursor:pointer;border:1px solid var(--button-color);font-size:1rem}.filled-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff}.outline-button[_ngcontent-%COMP%]{background-color:transparent;color:var(--button-color)}.offer-social[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.social-icon[_ngcontent-%COMP%]{background-color:transparent;border-radius:50%;width:40px;height:40px;border:solid 2px var(--button-color);display:flex;align-items:center;justify-content:center;margin:10px}@media (min-width: 600px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}}@media (min-width: 768px){.offer-title[_ngcontent-%COMP%]{font-size:2.5rem}.offer-price[_ngcontent-%COMP%]{font-size:2rem}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.carousel[_ngcontent-%COMP%]{width:90%}.carousel-thumbnails[_ngcontent-%COMP%]{width:7%;flex-direction:column}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}.offer-info[_ngcontent-%COMP%]{padding-bottom:2rem;display:flex;justify-content:space-between;font-size:.8rem}.offer-social[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:right}}"]})}return v})();function ng(v,h){1&v&&(o.TgZ(0,"span",17),o._uU(1,"\u2605"),o.qZA())}function rg(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Nr Telefon:"),o.qZA(),o._uU(3),o.ALo(4,"phoneNumber"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",o.lcZ(4,1,c.service.Phone_Number),"")}}function Rf(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Email:"),o.qZA(),o._uU(3),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",c.service.Email,"")}}function Of(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Website:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"urlHelper"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,c.service.Website),o.oJD)}}function yu(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Facebook:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"urlHelper"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,c.service.Facebook),o.oJD)}}function jm(v,h){if(1&v&&(o.TgZ(0,"div")(1,"label",18),o._uU(2,"Instagram:"),o.qZA(),o._UZ(3,"span",19),o.ALo(4,"instagramHandle"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.Q6J("innerHTML",o.lcZ(4,1,c.service.Instagram),o.oJD)}}function Ih(v,h){if(1&v&&(o.TgZ(0,"div",20)(1,"h2"),o._uU(2,"Orele pentru contactare"),o.qZA(),o.TgZ(3,"ul")(4,"li")(5,"label",21),o._uU(6,"Luni:"),o.qZA(),o._uU(7),o.qZA(),o.TgZ(8,"li")(9,"label",21),o._uU(10,"Marti:"),o.qZA(),o._uU(11),o.qZA(),o.TgZ(12,"li")(13,"label",21),o._uU(14,"Miercuri:"),o.qZA(),o._uU(15),o.qZA(),o.TgZ(16,"li")(17,"label",21),o._uU(18,"Joi:"),o.qZA(),o._uU(19),o.qZA(),o.TgZ(20,"li")(21,"label",21),o._uU(22,"Vineri:"),o.qZA(),o._uU(23),o.qZA(),o.TgZ(24,"li")(25,"label",21),o._uU(26,"Sambata:"),o.qZA(),o._uU(27),o.qZA(),o.TgZ(28,"li")(29,"label",21),o._uU(30,"Duminica:"),o.qZA(),o._uU(31),o.qZA()()()),2&v){const c=o.oxw();o.xp6(7),o.AsE(" ",null==c.service.Hours.Luni?null:c.service.Hours.Luni.open," - ",null==c.service.Hours.Luni?null:c.service.Hours.Luni.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Marti?null:c.service.Hours.Marti.open," - ",null==c.service.Hours.Marti?null:c.service.Hours.Marti.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Miercuri?null:c.service.Hours.Miercuri.open," - ",null==c.service.Hours.Miercuri?null:c.service.Hours.Miercuri.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Joi?null:c.service.Hours.Joi.open," - ",null==c.service.Hours.Joi?null:c.service.Hours.Joi.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Vineri?null:c.service.Hours.Vineri.open," - ",null==c.service.Hours.Vineri?null:c.service.Hours.Vineri.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Sambata?null:c.service.Hours.Sambata.open," - ",null==c.service.Hours.Sambata?null:c.service.Hours.Sambata.close,""),o.xp6(4),o.AsE(" ",null==c.service.Hours.Duminica?null:c.service.Hours.Duminica.open," - ",null==c.service.Hours.Duminica?null:c.service.Hours.Duminica.close,"")}}function Nf(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){o.CHM(c);const b=o.oxw();return o.KtG(b.navigateToEditService(b.service.id))}),o._uU(1,"Edit"),o.qZA()}}let kf=(()=>{class v{constructor(c,p,b,H,de){this.route=c,this.servicesService=p,this.router=b,this.authService=H,this.analytics=de,this.service=new Fm,this.serviceId=null,this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.servicesService.getServiceById(this.serviceId).subscribe(c=>{c&&(console.log(c),this.service.Community_Sponsor=c?.Community_Sponsor??!1,this.service.Name=c.Name??"",this.service.Date_Created=c.Date_Created??"",this.service.Description=c.Description??"",this.service.Email=c.Email??"",this.service.Facebook=c.Facebook??"",this.service.Instagram=c.Instagram??"",this.service.Phone_Number=c.Phone_Number??"",this.service.Service_Type=c.Service_Type??"",this.service.Website=gu(c.Website)??"",this.service.Image=c.Image??"",this.service.Hours=c.Hours??{},this.serviceId&&(this.service.id=this.serviceId),console.log("Image",c?.Image),(""==c.Image||void 0===c.Image)&&(this.service.Image="https://firebasestorage.googleapis.com/v0/b/romaniinseattle.appspot.com/o/serviceImages%2FdafaultImage.jpg?alt=media&token=3b0787df-12f0-444a-a426-013843534f1e"))})}goBack(){this.analytics.logEvent("button_click",{button_name:"back-to-services"}),this.router.navigate(["/services"])}navigateToEditService(c){this.analytics.logEvent("button_click",{button_name:"edit-service"}),this.router.navigate(["/edit-service",c])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.gz),o.Y36(pu.r),o.Y36(Tr.F0),o.Y36(Yc.e),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-service-detail"]],decls:33,vars:15,consts:[[1,"service-details-container"],[1,"service-header"],[1,"service-image"],[3,"src","alt"],[1,"service-info"],["class","sponsor-icon",4,"ngIf"],[1,"service-meta"],[1,"service-location"],[1,"service-bio"],[1,"service-content"],[1,"service-contact"],[1,"service-details"],[4,"ngIf"],["class","service-hours",4,"ngIf"],[1,"service-actions"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"sponsor-icon"],[1,"service-details-label"],[3,"innerHTML"],[1,"service-hours"],[1,"service-hours-label"],[1,"editButton",3,"click"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4)(5,"h1"),o._uU(6),o.qZA(),o.YNc(7,ng,2,0,"span",5),o.TgZ(8,"div",6)(9,"div",7),o._uU(10),o.qZA()(),o.TgZ(11,"div",8)(12,"h2"),o._uU(13,"Detalii"),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA()()()(),o.TgZ(16,"div",9)(17,"div",10)(18,"h2"),o._uU(19,"Moduri de contactare"),o.qZA(),o.TgZ(20,"div",11),o.YNc(21,rg,5,3,"div",12),o.YNc(22,Rf,4,1,"div",12),o.YNc(23,Of,5,3,"div",12),o.YNc(24,yu,5,3,"div",12),o.YNc(25,jm,5,3,"div",12),o.qZA()(),o.YNc(26,Ih,32,14,"div",13),o.qZA(),o.TgZ(27,"div",14),o.YNc(28,Nf,2,0,"button",15),o.ALo(29,"async"),o._uU(30," \xa0 "),o.TgZ(31,"button",16),o.NdJ("click",function(){return b.goBack()}),o._uU(32,"Inapoi la Servicii"),o.qZA()()()),2&p&&(o.xp6(3),o.s9C("alt",b.service.Name),o.Q6J("src",b.service.Image,o.LSH),o.xp6(3),o.Oqu(b.service.Name),o.xp6(1),o.Q6J("ngIf",b.service.Community_Sponsor),o.xp6(3),o.Oqu(b.service.Service_Type),o.xp6(5),o.Oqu(b.service.Description),o.xp6(6),o.Q6J("ngIf",b.service.Phone_Number),o.xp6(1),o.Q6J("ngIf",b.service.Email),o.xp6(1),o.Q6J("ngIf",b.service.Website),o.xp6(1),o.Q6J("ngIf",b.service.Facebook),o.xp6(1),o.Q6J("ngIf",b.service.Instagram),o.xp6(1),o.Q6J("ngIf",b.service.Hours.Luni||b.service.Hours.Marti||b.service.Hours.Miercuri||b.service.Hours.Joi||b.service.Hours.Vineri),o.xp6(2),o.Q6J("ngIf",o.lcZ(29,13,b.isLoggedIn$)))},dependencies:[V.O5,V.Ov,Pl,yd,Aa],styles:[".forDebug[_ngcontent-%COMP%]{display:none}.service-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.service-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:20px;border-bottom:1px solid #eee}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:350px;border-radius:50%;object-fit:cover;margin-right:20px}.service-info[_ngcontent-%COMP%]{flex:1}.service-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem}.service-meta[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.sponsor-icon[_ngcontent-%COMP%]{color:gold;margin-right:10px}.service-location[_ngcontent-%COMP%], .service-date[_ngcontent-%COMP%]{margin-right:20px}.service-bio[_ngcontent-%COMP%]{margin-top:20px}.service-bio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.2rem}.service-bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.service-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.service-contact[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]{width:48%}.service-contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.service-details-label[_ngcontent-%COMP%], .service-hours-label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px;width:100px;display:inline-block}.service-details[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.5rem}.service-hours[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem}.service-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.service-actions[_ngcontent-%COMP%]   .editButton[_ngcontent-%COMP%], .service-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:background-color .3s}@media (max-width: 768px){.service-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.service-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:20px}.service-meta[_ngcontent-%COMP%]{justify-content:center}.service-content[_ngcontent-%COMP%]{flex-direction:column}.service-contact[_ngcontent-%COMP%], .service-hours[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.service-actions[_ngcontent-%COMP%]{text-align:center}}"]})}return v})(),Ah=(()=>{class v{constructor(c,p){this.authService=c,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).subscribe({next:()=>this.router.navigate(["/admin"]),error:c=>this.handleLoginError(c)})}handleLoginError(c){switch(c.code){case"auth/user-not-found":this.errorMessage="No user found with this email.";break;case"auth/wrong-password":this.errorMessage="Incorrect password.";break;case"auth/invalid-email":this.errorMessage="Invalid email format.";break;default:this.errorMessage="Login failed. Please try again."}console.log(this.errorMessage)}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Yc.e),o.Y36(Tr.F0))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-box"],[3,"submit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2"),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"form",2),o.NdJ("submit",function(){return b.login()}),o.TgZ(5,"div",3)(6,"label",4),o._uU(7,"Email"),o.qZA(),o.TgZ(8,"input",5),o.NdJ("ngModelChange",function(de){return b.email=de}),o.qZA()(),o.TgZ(9,"div",3)(10,"label",6),o._uU(11,"Password"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(de){return b.password=de}),o.qZA()(),o.TgZ(13,"button",8),o._uU(14,"Login"),o.qZA()()()()),2&p&&(o.xp6(8),o.Q6J("ngModel",b.email),o.xp6(4),o.Q6J("ngModel",b.password))},dependencies:[ln._Y,ln.Fj,ln.JJ,ln.JL,ln.Q7,ln.On,ln.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to right,#007bff,#0056b3)}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:300px;text-align:center}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return v})(),Eu=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-test"]],decls:17,vars:0,consts:[[1,"hero"],[1,"container","hero-content"],[1,"hero-text"],["href","https://www.facebook.com/groups/seattlecommunity",1,"btn"],[1,"hero-image"],["src","https://via.placeholder.com/600x400","alt","Seattle"],[1,"community-description"],[1,"container"]],template:function(p,b){1&p&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),o._uU(4,"Welcome to Seattle Community"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Your go-to place for community services and events"),o.qZA(),o.TgZ(7,"a",3),o._uU(8,"Join our Facebook Group"),o.qZA()(),o.TgZ(9,"div",4),o._UZ(10,"img",5),o.qZA()()(),o.TgZ(11,"section",6)(12,"div",7)(13,"h2"),o._uU(14,"About Our Community"),o.qZA(),o.TgZ(15,"p"),o._uU(16,"Seattle Community is dedicated to bringing together local residents, businesses, and organizations to foster a sense of unity and support. We offer a variety of services, events, and opportunities to connect with others in the area. Join us and be a part of a vibrant and active community!"),o.qZA()()())},styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;padding:2rem 0}.hero-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hero-text[_ngcontent-%COMP%]{flex:1}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.75rem 1.5rem;text-decoration:none;border-radius:5px;font-size:1rem}.hero-image[_ngcontent-%COMP%]{flex:1}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}.community-description[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:2rem 0;text-align:center}.community-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.community-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 auto;max-width:800px}"]})}return v})();function bd(v,h){if(1&v&&(o.TgZ(0,"option",34),o._uU(1),o.qZA()),2&v){const c=h.$implicit;o.Q6J("value",c),o.xp6(1),o.Oqu(c)}}function ig(v,h){if(1&v&&(o.TgZ(0,"div",39),o._UZ(1,"div",40),o.qZA()),2&v){const c=o.oxw().$implicit;o.xp6(1),o.Udp("width",c.progress,"%")}}function og(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"div",35),o._UZ(1,"img",36),o.YNc(2,ig,2,2,"div",37),o.TgZ(3,"button",38),o.NdJ("click",function(){const H=o.CHM(c).$implicit,de=o.oxw();return o.KtG(de.removeImage(H))}),o._uU(4,"X"),o.qZA()()}if(2&v){const c=h.$implicit;o.xp6(1),o.s9C("alt",c.name),o.Q6J("src",c.url,o.LSH),o.xp6(1),o.Q6J("ngIf",void 0!==c.progress)}}let sv=(()=>{class v{constructor(c,p,b,H,de,Re){this.fb=c,this.offersService=p,this.imageUploadService=b,this.router=H,this.route=de,this.analytics=Re,this.offerTypes=[],this.images=[],this.imageUploadStatus={},this.offerId="",this.offer={Title:"",Company_Name:"",Contact_Name:"",Phone_Number:"",Email:"",Description:"",Price:"",Location:"",Website:"",OfferType:"",Community_Sponsor:!1,Date_Created:"",Date_Updated:"",Hours:{},Images:[],id:"",Facebook:"",Instagram:"",Filled:!1,Approved:!1,ApprovedDate:""},this.offerForm=this.fb.group({Title:["",ln.kI.required],Company_Name:[""],Contact_Name:["",ln.kI.required],Phone_Number:[""],Email:["",[ln.kI.email]],Location:[""],Website:[""],Facebook:[""],Instagram:[""],Description:["",ln.kI.required],Price:[""],Images:[],Filled:!1,Date_Created:[""],ApprovedDate:[""],OfferType:[""],Community_Sponsor:!1})}ngOnInit(){this.route.paramMap.subscribe(c=>{this.offerId=c.get("id"),this.offersService.getOfferById(this.offerId).subscribe(p=>{p&&(this.offer=p,this.offerForm.patchValue(p),p.Images?this.images=p.Images.map(b=>({name:"",url:b})):p.Images=[])})}),this.fetchOfferTypes()}onFileSelected(c){var p=this;return(0,ia.Z)(function*(){const b=c.target.files;for(let H=0;H<b.length;H++){const de=b[H],Re=yield p.resizeImage(de);p.imageUploadStatus[de.name]="Uploading...";const gt={name:de.name,url:"",file:de,progress:0};p.images.push(gt),p.imageUploadService.uploadOfferImage(Re,p.offerId).subscribe({next:Dt=>{console.log("OnFileSelected/uploadImage/Next",p.offer.Images),"string"==typeof Dt?(gt.url=Dt,p.offer.Images.push(Dt),console.log("Image uploaded to offer:",p.offer?.Images),p.imageUploadStatus[de.name]="Uploaded"):gt.progress=Dt},error:Dt=>{console.error("Image upload failed: ",Dt),p.imageUploadStatus[de.name]="Failed to upload"}})}})()}removeImage(c){this.images=this.images.filter(p=>p!==c),this.offer.Images=this.offer.Images.filter(p=>p!==c.url),this.imageUploadService.deleteOfferImage(c.url).subscribe(()=>{this.offersService.updateOffer(this.offerId,this.offer).subscribe()})}fetchOfferTypes(){this.offersService.getAllOfferTypes().subscribe(c=>{this.offerTypes=c})}onSubmit(){this.analytics.logEvent("button_click",{button_name:"edit-offer"}),this.offerForm.valid&&(this.offer.Title=this.offerForm.value.Title,this.offer.Phone_Number=this.offerForm.value.Phone_Number,this.offer.Price=this.offerForm.value.Price,this.offer.Community_Sponsor=this.offerForm.value.Community_Sponsor,this.offer.Company_Name=this.offerForm.value.Company_Name,this.offer.Contact_Name=this.offerForm.value.Contact_Name,this.offer.Website=this.offerForm.value.Website,this.offer.Email=this.offerForm.value.Email,this.offer.Location=this.offerForm.value.Location,this.offer.OfferType=this.offerForm.value.OfferType,this.offer.Description=this.offerForm.value.Description,this.offer.Date_Updated=(new Date).toISOString(),this.offer.Instagram=this.offerForm.value.Instagram,this.offer.Facebook=this.offerForm.value.Facebook,console.log("offer:",this.offer),this.offersService.updateOffer(this.offerId,this.offer).subscribe(()=>{this.router.navigate(["/offers"])}))}resizeImage(c){return(0,ia.Z)(function*(){const p=vh()(),b=new Image;return b.src=URL.createObjectURL(c),new Promise((H,de)=>{b.onload=(0,ia.Z)(function*(){const Re=document.createElement("canvas"),nn=(Re.getContext("2d"),Math.min(1024/b.width,1024/b.height));Re.width=b.width*nn,Re.height=b.height*nn;try{yield p.resize(b,Re),Re.toBlob(vn=>{if(vn){const Zn=new File([vn],c.name,{type:c.type});H(Zn)}else de(new Error("Image resizing failed"))},c.type)}catch(vn){de(vn)}}),b.onerror=Re=>de(Re)})})()}goBack(){this.analytics.logEvent("button_click",{button_name:"back-to-services"}),this.router.navigate(this.offerId?["/services",this.offerId]:["/services"])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(ln.qu),o.Y36(Cs.b),o.Y36(lc.K),o.Y36(Tr.F0),o.Y36(Tr.gz),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-edit-oferte"]],decls:61,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","OfferType"],["id","OfferType","id","OfferType","formControlName","OfferType","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","Title",1,"required"],["type","text","id","Title","formControlName","Title","required","","placeholder","Titlu"],["for","Company_Name"],["type","text","id","Company_Name","formControlName","Company_Name","placeholder","Numele Companiei"],["for","Contact_Name",1,"required"],["type","text","id","Contact_Name","formControlName","Contact_Name","required","","placeholder","Persoana de contact"],["for","Phone_Number"],["type","text","id","Phone_Number","formControlName","Phone_Number","placeholder","Numar de telefon"],["for","Email",1,"required"],["type","email","id","Email","formControlName","Email","required","","placeholder","Adresa de Email"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["for","Description",1,"required"],["id","Description","formControlName","Description","required","","placeholder","Descriere"],["for","Price"],["type","text","id","Price","formControlName","Price","placeholder","Pret"],["for","Location"],["type","text","id","Location","formControlName","Location","placeholder","Locatie"],["for","Website"],["type","url","id","Website","formControlName","Website","placeholder","Pagina de Web"],["for","Images"],["id","Images","type","file","multiple","",1,"form-control-file",3,"change"],[1,"image-preview-container"],["class","image-preview",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],["type","button",3,"click"],[3,"value"],[1,"image-preview"],[1,"img-thumbnail",3,"src","alt"],["class","progress",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Tip de oferta"),o.qZA(),o.TgZ(5,"select",4),o.YNc(6,bd,2,2,"option",5),o.qZA()(),o.TgZ(7,"div",2)(8,"label",6),o._uU(9,"Titlu:"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"div",2)(12,"label",8),o._uU(13,"Numele Companiei:"),o.qZA(),o._UZ(14,"input",9),o.qZA(),o.TgZ(15,"div",2)(16,"label",10),o._uU(17,"Numele persoanei de contact:"),o.qZA(),o._UZ(18,"input",11),o.qZA(),o.TgZ(19,"div",2)(20,"label",12),o._uU(21,"Numar de telefon:"),o.qZA(),o._UZ(22,"input",13),o.qZA(),o.TgZ(23,"div",2)(24,"label",14),o._uU(25,"Adresa de Email:"),o.qZA(),o._UZ(26,"input",15),o.qZA(),o.TgZ(27,"div",2)(28,"label",16),o._uU(29,"Adresa de Facebook:"),o.qZA(),o._UZ(30,"input",17),o.qZA(),o.TgZ(31,"div",2)(32,"label",18),o._uU(33,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(34,"input",19),o.qZA(),o.TgZ(35,"div",2)(36,"label",20),o._uU(37,"Descriere:"),o.qZA(),o._UZ(38,"textarea",21),o.qZA(),o.TgZ(39,"div",2)(40,"label",22),o._uU(41,"Pret:"),o.qZA(),o._UZ(42,"input",23),o.qZA(),o.TgZ(43,"div",2)(44,"label",24),o._uU(45,"Locatie:"),o.qZA(),o._UZ(46,"input",25),o.qZA(),o.TgZ(47,"div",2)(48,"label",26),o._uU(49,"Website:"),o.qZA(),o._UZ(50,"input",27),o.qZA(),o.TgZ(51,"div",2)(52,"label",28),o._uU(53,"Images"),o.qZA(),o.TgZ(54,"input",29),o.NdJ("change",function(de){return b.onFileSelected(de)}),o.qZA(),o.TgZ(55,"div",30),o.YNc(56,og,5,3,"div",31),o.qZA()(),o.TgZ(57,"button",32),o._uU(58,"Salveaza Oferta"),o.qZA(),o.TgZ(59,"button",33),o.NdJ("click",function(){return b.goBack()}),o._uU(60,"Cancel"),o.qZA()()()),2&p&&(o.xp6(1),o.Q6J("formGroup",b.offerForm),o.xp6(5),o.Q6J("ngForOf",b.offerTypes),o.xp6(50),o.Q6J("ngForOf",b.images),o.xp6(1),o.Q6J("disabled",b.offerForm.invalid))},dependencies:[V.sg,V.O5,ln._Y,ln.YN,ln.Kr,ln.Fj,ln.EJ,ln.JJ,ln.JL,ln.Q7,ln.sg,ln.u],styles:['.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return v})();function sg(v,h){if(1&v&&(o.TgZ(0,"div",15)(1,"strong"),o._uU(2,"Sponsor:"),o.qZA(),o._uU(3),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",null!=c.event&&c.event.Community_Sponsor?"Yes":"No"," ")}}function uc(v,h){if(1&v&&(o.TgZ(0,"div",16)(1,"strong"),o._uU(2,"Created Date:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Updated Date:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==c.event?null:c.event.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==c.event?null:c.event.Date_Updated,"shortDate")," ")}}function Ff(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(c);const b=o.oxw();return o.KtG(b.navigateToEditEvent(null==b.event?null:b.event.id))}),o._uU(1,"Edit"),o.qZA()}}let Lf=(()=>{class v{constructor(c,p,b,H,de){this.route=c,this.router=p,this.eventsService=b,this.authService=H,this.analytics=de,this.defaultImage="https://storage.cloud.google.com/romaniinseattle.appspot.com/events/defaultImage.jpg",this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const c=this.route.snapshot.paramMap.get("id");c&&this.eventsService.getEventById(c).subscribe(p=>{this.event=p,this.event?.Poster_Image||(this.event.Poster_Image=this.defaultImage)})}goBack(){this.analytics.logEvent("button_click",{button_name:"back-to-events"}),this.router.navigate(["/events"])}navigateToEditEvent(c){this.analytics.logEvent("button_click",{button_name:"edit-event"}),this.router.navigate(["/edit-event",c])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.gz),o.Y36(Tr.F0),o.Y36(Al.n),o.Y36(Yc.e),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-detail"]],decls:64,vars:28,consts:[[1,"event-details-container"],[1,"event-header"],[1,"event-contact"],[1,"event-poster-container"],["alt","Event Poster",1,"poster-image",3,"src"],[1,"event-content"],[1,"event-info"],[1,"event-details-label"],[1,"truncated-link",3,"innerHTML"],[3,"innerHTML"],[1,"event-description"],["class","event-sponsor",4,"ngIf"],["class","event-dates",4,"ngIf"],["class","editButton",3,"click",4,"ngIf"],[3,"click"],[1,"event-sponsor"],[1,"event-dates"],[1,"editButton",3,"click"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"div",2)(5,"strong"),o._uU(6,"Contact:"),o.qZA(),o._uU(7),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"img",4),o.qZA(),o.TgZ(10,"div",5)(11,"div",6)(12,"div")(13,"label",7),o._uU(14,"Nr Telefon:"),o.qZA(),o._uU(15),o.ALo(16,"phoneNumber"),o.qZA(),o.TgZ(17,"div")(18,"label",7),o._uU(19,"Email:"),o.qZA(),o._uU(20),o.qZA(),o.TgZ(21,"div")(22,"label",7),o._uU(23,"Pagina Web:"),o.qZA(),o._UZ(24,"span",8),o.ALo(25,"urlHelper"),o.qZA(),o.TgZ(26,"div")(27,"label",7),o._uU(28,"Facebook:"),o.qZA(),o._UZ(29,"span",9),o.ALo(30,"urlHelper"),o.qZA(),o.TgZ(31,"div")(32,"label",7),o._uU(33,"Instagram:"),o.qZA(),o._uU(34),o.qZA(),o.TgZ(35,"div")(36,"label",7),o._uU(37,"Locatie:"),o.qZA(),o._uU(38),o.qZA(),o.TgZ(39,"div")(40,"label",7),o._uU(41,"Data Evenimentului:"),o.qZA(),o._uU(42),o.qZA(),o.TgZ(43,"div")(44,"label",7),o._uU(45,"Ora:"),o.qZA(),o._uU(46),o.qZA(),o.TgZ(47,"div")(48,"label",7),o._uU(49,"Pret:"),o.qZA(),o._uU(50),o.qZA()(),o.TgZ(51,"div",10)(52,"strong"),o._uU(53,"Detalii:"),o.qZA(),o._uU(54),o.qZA(),o.YNc(55,sg,4,1,"div",11),o.ALo(56,"async"),o.YNc(57,uc,10,8,"div",12),o.ALo(58,"async"),o.qZA(),o.YNc(59,Ff,2,0,"button",13),o.ALo(60,"async"),o._uU(61," \xa0 "),o.TgZ(62,"button",14),o.NdJ("click",function(){return b.goBack()}),o._uU(63,"Inapoi la Evenimente"),o.qZA()()),2&p&&(o.xp6(3),o.Oqu(null==b.event?null:b.event.Event_Name),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Contact_Person_Name," "),o.xp6(2),o.Q6J("src",null==b.event?null:b.event.Poster_Image,o.LSH),o.xp6(6),o.hij(" ",o.lcZ(16,16,null==b.event?null:b.event.Phone_Number),""),o.xp6(5),o.hij(" ",null==b.event?null:b.event.Email,""),o.xp6(4),o.Q6J("innerHTML",o.lcZ(25,18,null==b.event?null:b.event.Website),o.oJD),o.xp6(5),o.Q6J("innerHTML",o.lcZ(30,20,null==b.event?null:b.event.Facebook),o.oJD),o.xp6(5),o.hij(" ",null==b.event?null:b.event.Instagram,""),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Location,""),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Event_Date,""),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Event_Time,""),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Price,""),o.xp6(4),o.hij(" ",null==b.event?null:b.event.Description," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(56,22,b.isLoggedIn$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(58,24,b.isLoggedIn$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(60,26,b.isLoggedIn$)))},dependencies:[V.O5,V.Ov,V.uU,Pl,Aa],styles:[".event-details-container[_ngcontent-%COMP%]{border-radius:12px;background-color:#f5f5f5;box-shadow:0 2px 4px #0000001a;overflow:hidden;padding:20px;max-width:1200px;margin:0 auto;font-family:Arial,sans-serif}.event-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.event-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;margin:0}.event-poster-container[_ngcontent-%COMP%]{width:100%;height:30vh;overflow:hidden;margin-bottom:20px}.event-poster-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.event-date-time[_ngcontent-%COMP%]{text-align:center;font-size:1.2em;margin-bottom:20px}.event-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.event-info[_ngcontent-%COMP%]{flex:1 1 45%;min-width:300px;margin-bottom:20px}.event-description[_ngcontent-%COMP%], .event-sponsor[_ngcontent-%COMP%], .event-dates[_ngcontent-%COMP%]{flex:1 1 100%;margin:20px}.event-details-label[_ngcontent-%COMP%], .event-hours-label[_ngcontent-%COMP%]{font-weight:700;margin:10px;width:120px;display:inline-block}.event-description[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2rem;border-radius:5px}.event-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.truncated-link[_ngcontent-%COMP%]{display:inline-block;max-width:400px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none;color:#00f}.back-button[_ngcontent-%COMP%]{display:block;width:200px;margin:20px auto;padding:10px 20px;font-size:1em;background-color:var(--button-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 768px){.event-info[_ngcontent-%COMP%]{flex:1 1 100%}}"]})}return v})(),bh=(()=>{class v{constructor(c,p,b,H,de){this.route=c,this.router=p,this.fb=b,this.eventsService=H,this.analytics=de,this.eventId=null,this.eventForm=this.fb.group({Approved:[!1],Community_Sponsor:[!1],Contact:[""],Description:["",ln.kI.required],Event_Date:["",ln.kI.required],Location:["",ln.kI.required],Name:["",ln.kI.required],Phone_Number:[""],Poster_Image:["",ln.kI.required],Price:["",ln.kI.required],Website:[""],Facebook:[""],Instagram:[""]})}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.eventId&&this.eventsService.getEventById(this.eventId).subscribe(c=>{c&&(this.event=c,this.eventForm.patchValue(c))})}onSubmit(){this.analytics.logEvent("button_click",{button_name:"save-event"}),this.eventForm.valid&&this.eventId&&this.eventsService.updateEvent(this.eventId,this.eventForm.value).subscribe(()=>{console.log("Event updated successfully"),this.router.navigate(["/events",this.eventId])},p=>{console.error("Error updating event: ",p)})}goBack(){this.analytics.logEvent("button_click",{button_name:"back-to-events"}),this.router.navigate(this.eventId?["/events",this.eventId]:["/events"])}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.gz),o.Y36(Tr.F0),o.Y36(ln.qu),o.Y36(Al.n),o.Y36(so))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-event-edit"]],decls:54,vars:1,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["id","name","formControlName","Name","type","text"],["for","contact"],["id","contact","formControlName","Contact","type","text"],["for","phone"],["id","phone","formControlName","Phone_Number","type","text"],["for","description"],["id","description","formControlName","Description"],["for","location"],["id","location","formControlName","Location","type","text"],["for","event_date"],["id","event_date","formControlName","Event_Date","type","date"],["for","time"],["id","time","formControlName","Time","type","time"],["for","price"],["id","price","formControlName","Price","type","text"],["for","poster_image"],["id","poster_image","formControlName","Poster_Image","type","text"],["for","website"],["id","website","formControlName","Website","type","text","placeholder","Pagina de Web"],["for","Facebook"],["type","text","id","Facebook","formControlName","Facebook","placeholder","Adresa de Facebook"],["for","Instagram"],["type","text","id","Instagram","formControlName","Instagram","placeholder","@instaHandle.."],["type","submit"],["type","button",3,"click"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return b.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Numele Evenimentului:"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Persoana de contact:"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",2)(11,"label",7),o._uU(12,"Numar de Telefon:"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",2)(15,"label",9),o._uU(16,"Descriere:"),o.qZA(),o._UZ(17,"textarea",10),o.qZA(),o.TgZ(18,"div",2)(19,"label",11),o._uU(20,"Locatie:"),o.qZA(),o._UZ(21,"input",12),o.qZA(),o.TgZ(22,"div",2)(23,"label",13),o._uU(24,"Data:"),o.qZA(),o._UZ(25,"input",14),o.qZA(),o.TgZ(26,"div",2)(27,"label",15),o._uU(28,"Ora:"),o.qZA(),o._UZ(29,"input",16),o.qZA(),o.TgZ(30,"div",2)(31,"label",17),o._uU(32,"Pret:"),o.qZA(),o._UZ(33,"input",18),o.qZA(),o.TgZ(34,"div",2)(35,"label",19),o._uU(36,"Imagine Poster:"),o.qZA(),o._UZ(37,"input",20),o.qZA(),o.TgZ(38,"div",2)(39,"label",21),o._uU(40,"Website:"),o.qZA(),o._UZ(41,"input",22),o.qZA(),o.TgZ(42,"div",2)(43,"label",23),o._uU(44,"Adresa de Facebook:"),o.qZA(),o._UZ(45,"input",24),o.qZA(),o.TgZ(46,"div",2)(47,"label",25),o._uU(48,"Instagram:(@cont_de_instagram)"),o.qZA(),o._UZ(49,"input",26),o.qZA(),o.TgZ(50,"button",27),o._uU(51,"Salveaza Evenimentul"),o.qZA(),o.TgZ(52,"button",28),o.NdJ("click",function(){return b.goBack()}),o._uU(53,"Cancel"),o.qZA()()()),2&p&&(o.xp6(1),o.Q6J("formGroup",b.eventForm))},dependencies:[ln._Y,ln.Fj,ln.JJ,ln.JL,ln.sg,ln.u],styles:['.edit-event-container[_ngcontent-%COMP%]{border-radius:8px;background-color:#f5f5f5;padding:16px;margin:16px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto 0;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;color:#fff;border:none;border-radius:4px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.image-preview-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.image-preview[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background-color:#00000080}.image-preview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#4caf50}.image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff0000b3;border:none;border-radius:3px}']})}return v})();const Iu=function(v){return{active:v}};function av(v,h){if(1&v&&(o.TgZ(0,"div",24),o._UZ(1,"img",25),o.qZA()),2&v){const c=h.$implicit,p=h.index,b=o.oxw();o.Q6J("ngClass",o.VKq(3,Iu,p===b.currentIndex)),o.xp6(1),o.MGl("alt","Offer Image ",p+1,""),o.Q6J("src",c,o.LSH)}}function ag(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"img",26),o.NdJ("click",function(){const H=o.CHM(c).index,de=o.oxw();return o.KtG(de.setCurrentSlide(H))}),o.qZA()}if(2&v){const c=h.$implicit,p=h.index,b=o.oxw();o.MGl("alt","Thumbnail ",p+1,""),o.Q6J("src",c,o.LSH)("ngClass",o.VKq(3,Iu,p===b.currentIndex))}}function Sy(v,h){1&v&&(o.TgZ(0,"span",27),o._uU(1,"\u2605"),o.qZA())}function cg(v,h){if(1&v){const c=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(c);const b=o.oxw();return o.KtG(b.sendEmail(null==b.offer?null:b.offer.Email))}),o._uU(1,"Contacteaza"),o.qZA()}}function lg(v,h){if(1&v&&(o.TgZ(0,"div",29)(1,"a",30),o._UZ(2,"img",31),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",null==c.offer?null:c.offer.Facebook,o.LSH)}}function ug(v,h){if(1&v&&(o.TgZ(0,"div",29),o._UZ(1,"div",16),o.ALo(2,"instagramLink"),o.qZA()),2&v){const c=o.oxw();o.xp6(1),o.Q6J("innerHTML",o.xi3(2,1,null==c.offer?null:c.offer.Instagram,c.svgInstagramIcon),o.oJD)}}function Cd(v,h){if(1&v&&(o.TgZ(0,"div",29)(1,"a",30),o._UZ(2,"img",32),o.qZA()()),2&v){const c=o.oxw();o.xp6(1),o.s9C("href",null==c.offer?null:c.offer.Website,o.LSH)}}function Td(v,h){if(1&v&&(o.TgZ(0,"div",33)(1,"strong"),o._uU(2,"Created On:"),o.qZA(),o._uU(3),o.ALo(4,"date"),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Last Updated On:"),o.qZA(),o._uU(8),o.ALo(9,"date"),o.qZA()),2&v){const c=o.oxw();o.xp6(3),o.hij(" ",o.xi3(4,2,null==c.offer?null:c.offer.Date_Created,"shortDate"),""),o.xp6(5),o.hij(" ",o.xi3(9,5,null==c.offer?null:c.offer.Date_Updated,"shortDate")," ")}}let Ch=(()=>{class v{constructor(c,p,b,H){this.route=c,this.router=p,this.offerService=b,this.authService=H,this.images=[],this.currentIndex=0,this.svgInstagramIcon="../../../assets/images/SVG/instagram-icon.svg",this.isLoggedIn$=this.authService.isLoggedIn()}ngOnInit(){const c=this.route.snapshot.paramMap.get("id");c&&this.offerService.getOfferById(c).subscribe(p=>{this.offer=p,this.offer&&this.offer.Images&&(this.images=this.offer.Images.filter(b=>!!b)),this.startAutoPlay()})}setCurrentSlide(c){this.currentIndex=c,console.log(`Current Slide Set To: ${c}`),this.resetAutoPlay()}prevSlide(){this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,console.log(`Previous Slide: ${this.currentIndex}`),this.resetAutoPlay()}nextSlide(){this.currentIndex=this.currentIndex<this.images.length-1?this.currentIndex+1:0,console.log(`Next Slide: ${this.currentIndex}`),this.resetAutoPlay()}startAutoPlay(){this.intervalId=setInterval(()=>{this.nextSlide()},1e4)}resetAutoPlay(){clearInterval(this.intervalId),this.startAutoPlay()}goBack(){this.router.navigate(["/offers"])}sendEmail(c){window.location.href=`mailto:${c}`}shareLink(){const p=this.router.url.split("?")[1]||"";navigator.clipboard.writeText("https://romaniinseattle.com/offers"+(p?"?"+p:"")).then(()=>{alert("Link copied to clipboard!")},H=>{console.error("Could not copy text: ",H)})}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.gz),o.Y36(Tr.F0),o.Y36(Cs.b),o.Y36(Yc.e))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-test-page"]],decls:57,vars:20,consts:[[1,"offer-details-container"],[1,"offer-carousel-container"],[1,"carousel"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-control","prev",3,"click"],[1,"carousel-control","next",3,"click"],[1,"carousel-thumbnails"],[3,"src","ngClass","alt","click",4,"ngFor","ngForOf"],[1,"offer-content"],[1,"offer-company"],["class","sponsor-icon",4,"ngIf"],[1,"offer-title"],[1,"offer-price"],[1,"offer-overview"],[1,"offer-info"],[3,"innerHTML"],[1,"offer-buttons"],["class","btn message",3,"click",4,"ngIf"],[1,"outline-button",3,"click"],[1,"offer-social"],["class","social-icon",4,"ngIf"],["class","offer-dates",4,"ngIf"],[1,"return-button",3,"click"],[1,"carousel-item",3,"ngClass"],[3,"src","alt"],[3,"src","ngClass","alt","click"],[1,"sponsor-icon"],[1,"btn","message",3,"click"],[1,"social-icon"],["target","_blank",3,"href"],["src","../../../assets/images/SVG/facebook-icon.svg"],["src","../../../assets/images/SVG/browser-icon.svg"],[1,"offer-dates"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,av,2,5,"div",4),o.qZA(),o.TgZ(5,"a",5),o.NdJ("click",function(){return b.prevSlide()}),o._uU(6,"\u276e"),o.qZA(),o.TgZ(7,"a",6),o.NdJ("click",function(){return b.nextSlide()}),o._uU(8,"\u276f"),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,ag,1,5,"img",8),o.qZA()(),o.TgZ(11,"div",9)(12,"div",10),o._uU(13),o.YNc(14,Sy,2,0,"span",11),o.qZA(),o.TgZ(15,"h1",12),o._uU(16),o.qZA(),o.TgZ(17,"div",13),o._uU(18),o.qZA(),o.TgZ(19,"div",14)(20,"h2"),o._uU(21,"Detailii"),o.qZA(),o.TgZ(22,"div",15)(23,"div")(24,"strong"),o._uU(25,"Persona de contact:"),o.qZA(),o._uU(26),o.qZA(),o.TgZ(27,"div")(28,"strong"),o._uU(29,"Nr de Telefon:"),o.qZA(),o._uU(30),o.ALo(31,"phoneNumber"),o.qZA(),o.TgZ(32,"div")(33,"strong"),o._uU(34,"Tip de oferta"),o.qZA(),o._uU(35),o.qZA(),o.TgZ(36,"div")(37,"strong"),o._uU(38,"Locatie"),o.qZA(),o._uU(39),o.qZA()(),o._UZ(40,"div",16),o.qZA(),o.TgZ(41,"div",17),o.YNc(42,cg,2,0,"button",18),o.TgZ(43,"button",19),o.NdJ("click",function(){return b.shareLink()}),o._uU(44,"Distribuie"),o.qZA(),o.TgZ(45,"div",20)(46,"h3"),o._uU(47,"Prezenta Online"),o.qZA(),o._UZ(48,"br"),o.YNc(49,lg,3,1,"div",21),o.YNc(50,ug,3,4,"div",21),o.YNc(51,Cd,3,1,"div",21),o.qZA()()(),o.TgZ(52,"div",9),o.YNc(53,Td,10,8,"div",22),o.ALo(54,"async"),o.TgZ(55,"button",23),o.NdJ("click",function(){return b.goBack()}),o._uU(56,"Inapoi la Oferte"),o.qZA()()()),2&p&&(o.xp6(4),o.Q6J("ngForOf",b.images),o.xp6(6),o.Q6J("ngForOf",b.images),o.xp6(3),o.hij("",null==b.offer?null:b.offer.Company_Name," "),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Community_Sponsor),o.xp6(2),o.Oqu(null==b.offer?null:b.offer.Title),o.xp6(2),o.Oqu(null==b.offer?null:b.offer.Price),o.xp6(8),o.hij(" ",null==b.offer?null:b.offer.Contact_Name,""),o.xp6(4),o.hij(" ",o.lcZ(31,16,null==b.offer?null:b.offer.Phone_Number),""),o.xp6(5),o.hij(" ",null==b.offer?null:b.offer.OfferType,""),o.xp6(4),o.hij(" ",null==b.offer?null:b.offer.Location,""),o.xp6(1),o.Q6J("innerHTML",null==b.offer?null:b.offer.Description,o.oJD),o.xp6(2),o.Q6J("ngIf",null==b.offer?null:b.offer.Email),o.xp6(7),o.Q6J("ngIf",null==b.offer?null:b.offer.Facebook),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Instagram),o.xp6(1),o.Q6J("ngIf",null==b.offer?null:b.offer.Website),o.xp6(2),o.Q6J("ngIf",o.lcZ(54,18,b.isLoggedIn$)))},dependencies:[V.mk,V.sg,V.O5,V.Ov,V.uU,ph,Aa],styles:[".offer-details-container[_ngcontent-%COMP%]{padding:16px;margin:100px auto;max-width:1024px;background-color:#f9f9f9;border-radius:10px;box-shadow:0 2px 4px #0000001a}.sponsor-icon[_ngcontent-%COMP%]{color:gold;margin-right:10px;font-size:2rem}.offer-carousel-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.carousel[_ngcontent-%COMP%]{position:relative;width:100%}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{flex:0 0 100%;opacity:0;transition:opacity .5s ease-in-out;display:none}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;display:block}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.carousel-control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2rem;cursor:pointer;color:var(--button-color)}.prev[_ngcontent-%COMP%]{left:10px}.next[_ngcontent-%COMP%]{right:10px}.carousel-thumbnails[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:5px;padding-top:5px}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border:2px solid transparent;width:20%}.carousel-thumbnails[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{border-color:var(--button-color)}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-transform:uppercase;margin-bottom:10px;color:var(--button-color)}.offer-info[_ngcontent-%COMP%]{display:block;justify-content:space-between;font-size:.8rem}.offer-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:10px}.offer-overview[_ngcontent-%COMP%]{margin-bottom:20px}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:5px}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.offer-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.filled-button[_ngcontent-%COMP%], .outline-button[_ngcontent-%COMP%]{padding:10px 20px;cursor:pointer;border:1px solid var(--button-color);font-size:1rem}.filled-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff}.outline-button[_ngcontent-%COMP%]{background-color:transparent;color:var(--button-color)}.offer-social[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.social-icon[_ngcontent-%COMP%]{background-color:transparent;border-radius:50%;width:40px;height:40px;border:solid 2px var(--button-color);display:flex;align-items:center;justify-content:center;margin:10px}@media (min-width: 600px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}}@media (min-width: 768px){.offer-title[_ngcontent-%COMP%]{font-size:2.5rem}.offer-price[_ngcontent-%COMP%]{font-size:2rem}.offer-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.offer-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width: 1024px){.offer-carousel-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.carousel[_ngcontent-%COMP%]{width:90%}.carousel-thumbnails[_ngcontent-%COMP%]{width:7%;flex-direction:column}.carousel-thumbnails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.offer-content[_ngcontent-%COMP%]{padding:20px 0}.offer-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:10px}.offer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8rem}.offer-social[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:right}}"]})}return v})();const Vf=[{path:"",component:vd,title:"Romani \xeen Seattle - Acasa"},{path:"rules",component:mh,title:"Romani \xeen Seattle - Reguli"},{path:"analytics",component:Vm.d,title:"Romani \xeen Seattle - Acasa"},{path:"events",component:Cf,title:"Romani \xeen Seattle - Evenimente"},{path:"add-event",component:vu,title:"Romani \xeen Seattle - Adauga Eveniment"},{path:"events/add",component:vu,title:"Romani \xeen Seattle -  Adauga Eveniment"},{path:"events/:id",component:Lf,title:"Romani \xeen Seattle - Detalii Eveniment"},{path:"edit-event/:id",component:bh,title:"Romani \xeen Seattle - Editare Eveniment"},{path:"offers",component:Kp,title:"Romani \xeen Seattle - Acasa"},{path:"add-offers",component:Yp,title:"Romani \xeen Seattle - Adauga Oferta"},{path:"offers/add",component:Yp,title:"Romani \xeen Seattle - Adauga Oferta"},{path:"offers/:id",component:xf,title:"Romani \xeen Seattle - Detalii Oferta"},{path:"edit-oferte/:id",component:sv,title:"Romani \xeen Seattle - Editare Oferta"},{path:"services",component:Pm,title:"Romani \xeen Seattle - Servicii"},{path:"add-service",component:xl,title:"Romani \xeen Seattle - Adauga Serviciu"},{path:"services/add",component:xl,title:"Romani \xeen Seattle - Adauga Serviciu"},{path:"services/:id",component:kf,title:"Romani \xeen Seattle - Detalii Serviciu"},{path:"edit-service/:id",component:Xp,title:"Romani \xeen Seattle - Editate Serviciu"},{path:"test",component:Eu},{path:"test-page",component:Ch},{path:"test-page/:id",component:Ch},{path:"login",component:Ah,title:"Romani \xeen Seattle - Logare"},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"admin",loadChildren:()=>k.e(658).then(k.bind(k,7658)).then(v=>v.AdminModule)}];let dg=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({imports:[Tr.Bz.forRoot(Vf),Tr.Bz]})}return v})();var Hm=k(769);const Au=function(v){return{"open-bar1":v}},hg=function(v){return{"open-bar2":v}},cv=function(v){return{"open-bar3":v}},fg=function(v){return{active:v}};let Uf=(()=>{class v{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-navigation"]],decls:25,vars:12,consts:[[1,"navbar"],[1,"navbar-container"],[1,"logo"],["routerLink","/"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item"],["routerLink","/",1,"nav-links",3,"click"],["routerLink","/services",1,"nav-links",3,"click"],["routerLink","/offers",1,"nav-links",3,"click"],["routerLink","/events",1,"nav-links",3,"click"],["routerLink","/rules",1,"nav-links",3,"click"]],template:function(p,b){1&p&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Romani in Seattle"),o.qZA()(),o.TgZ(5,"div",4),o.NdJ("click",function(){return b.toggleMenu()}),o._UZ(6,"div",5)(7,"div",6)(8,"div",7),o.qZA(),o.TgZ(9,"ul",8)(10,"li",9)(11,"a",10),o.NdJ("click",function(){return b.closeMenu()}),o._uU(12,"Home"),o.qZA()(),o.TgZ(13,"li",9)(14,"a",11),o.NdJ("click",function(){return b.closeMenu()}),o._uU(15,"Servicii"),o.qZA()(),o.TgZ(16,"li",9)(17,"a",12),o.NdJ("click",function(){return b.closeMenu()}),o._uU(18,"Oferte"),o.qZA()(),o.TgZ(19,"li",9)(20,"a",13),o.NdJ("click",function(){return b.closeMenu()}),o._uU(21,"Evenimente"),o.qZA()(),o.TgZ(22,"li",9)(23,"a",14),o.NdJ("click",function(){return b.closeMenu()}),o._uU(24,"Regulament"),o.qZA()()()()()),2&p&&(o.xp6(6),o.Q6J("ngClass",o.VKq(4,Au,b.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(6,hg,b.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(8,cv,b.menuOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(10,fg,b.menuOpen)))},dependencies:[V.mk,Tr.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--nav-background-color);position:fixed;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;color:var(--button-color);text-decoration:none}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-size:18px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:500;font-style:bold}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);text-decoration:none;text-transform:uppercase;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:200;font-style:normal;color:var(--nav-active-text);font-size:24px}}"]})}return v})(),pg=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"],[1,"footer-content"]],template:function(p,b){1&p&&(o.TgZ(0,"footer",0)(1,"div",1),o._uU(2," \xa9 2024 Romani in Seattle. All rights reserved. "),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 -2px 5px #0000001a}.footer-content[_ngcontent-%COMP%]{font-size:.9rem}"]})}return v})(),Xc=(()=>{class v{constructor(c,p,b){this.router=c,this.analytics=p,this.analyticsService=b,this.title="romani-in-seattle"}ngOnInit(){this.router.events.subscribe(c=>{c instanceof Tr.m2&&this.analytics.logEvent("page_view",{page_path:c.urlAfterRedirects})})}trackButtonClick(){}static#e=this.\u0275fac=function(p){return new(p||v)(o.Y36(Tr.F0),o.Y36(so),o.Y36(Hm.y))};static#t=this.\u0275cmp=o.Xpm({type:v,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main-layout"]],template:function(p,b){1&p&&(o.TgZ(0,"div",0),o._UZ(1,"app-navigation")(2,"router-outlet")(3,"app-footer"),o.qZA())},dependencies:[Tr.lC,Uf,pg],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:calc(100vw - 70px);min-height:calc(100vh - 70px);padding:20px}"]})}return v})();class Ua{}class lv{}const Ba="*";function wh(v,h=null){return{type:2,steps:v,options:h}}function gg(v){return{type:6,styles:v,offset:null}}class Rl{constructor(h=0,c=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+c}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(p=>p()),c.length=0}}class Sh{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let c=0,p=0,b=0;const H=this.players.length;0==H?queueMicrotask(()=>this._onFinish()):this.players.forEach(de=>{de.onDone(()=>{++c==H&&this._onFinish()}),de.onDestroy(()=>{++p==H&&this._onDestroy()}),de.onStart(()=>{++b==H&&this._onStart()})}),this.totalTime=this.players.reduce((de,Re)=>Math.max(de,Re.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const c=h*this.totalTime;this.players.forEach(p=>{const b=p.totalTime?Math.min(1,c/p.totalTime):1;p.setPosition(b)})}getPosition(){const h=this.players.reduce((c,p)=>null===c||p.totalTime>c.totalTime?p:c,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(p=>p()),c.length=0}}function $m(v){return new o.vHH(3e3,!1)}function Nl(v){switch(v.length){case 0:return new Rl;case 1:return v[0];default:return new Sh(v)}}function zf(v,h,c=new Map,p=new Map){const b=[],H=[];let de=-1,Re=null;if(h.forEach(gt=>{const Dt=gt.get("offset"),nn=Dt==de,vn=nn&&Re||new Map;gt.forEach((Zn,wr)=>{let Un=wr,On=Zn;if("offset"!==wr)switch(Un=v.normalizePropertyName(Un,b),On){case"!":On=c.get(wr);break;case Ba:On=p.get(wr);break;default:On=v.normalizeStyleValue(wr,Un,On,b)}vn.set(Un,On)}),nn||H.push(vn),Re=vn,de=Dt}),b.length)throw function Cg(v){return new o.vHH(3502,!1)}();return H}function Ph(v,h,c,p){switch(h){case"start":v.onStart(()=>p(c&&xh(c,"start",v)));break;case"done":v.onDone(()=>p(c&&xh(c,"done",v)));break;case"destroy":v.onDestroy(()=>p(c&&xh(c,"destroy",v)))}}function xh(v,h,c){const H=Md(v.element,v.triggerName,v.fromState,v.toState,h||v.phaseName,c.totalTime??v.totalTime,!!c.disabled),de=v._data;return null!=de&&(H._data=de),H}function Md(v,h,c,p,b="",H=0,de){return{element:v,triggerName:h,fromState:c,toState:p,phaseName:b,totalTime:H,disabled:!!de}}function Bs(v,h,c){let p=v.get(h);return p||v.set(h,p=c),p}function kl(v){const h=v.indexOf(":");return[v.substring(1,h),v.slice(h+1)]}const Gi=(()=>typeof document>"u"?null:document.documentElement)();function $f(v){const h=v.parentNode||v.host||null;return h===Gi?null:h}let Ui=null,Rh=!1;function qf(v,h){for(;h;){if(h===v)return!0;h=$f(h)}return!1}function Jm(v,h,c){if(c)return Array.from(v.querySelectorAll(h));const p=v.querySelector(h);return p?[p]:[]}let Dg=(()=>{class v{validateStyleProperty(c){return function Gf(v){Ui||(Ui=function Tu(){return typeof document<"u"?document.body:null}()||{},Rh=!!Ui.style&&"WebkitAppearance"in Ui.style);let h=!0;return Ui.style&&!function Zf(v){return"ebkit"==v.substring(1,6)}(v)&&(h=v in Ui.style,!h&&Rh&&(h="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in Ui.style)),h}(c)}matchesElement(c,p){return!1}containsElement(c,p){return qf(c,p)}getParentElement(c){return $f(c)}query(c,p,b){return Jm(c,p,b)}computeStyle(c,p,b){return b||""}animate(c,p,b,H,de,Re=[],gt){return new Rl(b,H)}static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),wu=(()=>{class v{static#e=this.NOOP=new Dg}return v})();const Ev=1e3,tl="ng-enter",Oh="ng-leave",ja="ng-trigger",ba=".ng-trigger",Sg="ng-animating",Fl=".ng-animating";function Ca(v){if("number"==typeof v)return v;const h=v.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Mg(parseFloat(h[1]),h[2])}function Mg(v,h){return"s"===h?v*Ev:v}function Wf(v,h,c){return v.hasOwnProperty("duration")?v:function Iv(v,h,c){let b,H=0,de="";if("string"==typeof v){const Re=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Re)return h.push($m()),{duration:0,delay:0,easing:""};b=Mg(parseFloat(Re[1]),Re[2]);const gt=Re[3];null!=gt&&(H=Mg(parseFloat(gt),Re[4]));const Dt=Re[5];Dt&&(de=Dt)}else b=v;if(!c){let Re=!1,gt=h.length;b<0&&(h.push(function Ol(){return new o.vHH(3100,!1)}()),Re=!0),H<0&&(h.push(function Bf(){return new o.vHH(3101,!1)}()),Re=!0),Re&&h.splice(gt,0,$m())}return{duration:b,delay:H,easing:de}}(v,h,c)}function Nh(v,h={}){return Object.keys(v).forEach(c=>{h[c]=v[c]}),h}function Ll(v){const h=new Map;return Object.keys(v).forEach(c=>{h.set(c,v[c])}),h}function sa(v,h=new Map,c){if(c)for(let[p,b]of c)h.set(p,b);for(let[p,b]of v)h.set(p,b);return h}function Qo(v,h,c){h.forEach((p,b)=>{const H=Bl(b);c&&!c.has(b)&&c.set(b,v.style[H]),v.style[H]=p})}function pc(v,h){h.forEach((c,p)=>{const b=Bl(p);v.style[b]=""})}function nl(v){return Array.isArray(v)?1==v.length?v[0]:wh(v):v}const Vl=new RegExp("{{\\s*(.+?)\\s*}}","g");function rl(v){let h=[];if("string"==typeof v){let c;for(;c=Vl.exec(v);)h.push(c[1]);Vl.lastIndex=0}return h}function il(v,h,c){const p=v.toString(),b=p.replace(Vl,(H,de)=>{let Re=h[de];return null==Re&&(c.push(function fv(v){return new o.vHH(3003,!1)}()),Re=""),Re.toString()});return b==p?v:b}function Ul(v){const h=[];let c=v.next();for(;!c.done;)h.push(c.value),c=v.next();return h}const kh=/-+([a-z0-9])/g;function Bl(v){return v.replace(kh,(...h)=>h[1].toUpperCase())}function rs(v,h,c){switch(h.type){case 7:return v.visitTrigger(h,c);case 0:return v.visitState(h,c);case 1:return v.visitTransition(h,c);case 2:return v.visitSequence(h,c);case 3:return v.visitGroup(h,c);case 4:return v.visitAnimate(h,c);case 5:return v.visitKeyframes(h,c);case 6:return v.visitStyle(h,c);case 8:return v.visitReference(h,c);case 9:return v.visitAnimateChild(h,c);case 10:return v.visitAnimateRef(h,c);case 11:return v.visitQuery(h,c);case 12:return v.visitStagger(h,c);default:throw function bu(v){return new o.vHH(3004,!1)}()}}function t_(v,h){return window.getComputedStyle(v)[h]}const Lh="*";function xd(v,h){const c=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(p=>function Su(v,h,c){if(":"==v[0]){const gt=function bv(v,h){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,p)=>parseFloat(p)>parseFloat(c);case":decrement":return(c,p)=>parseFloat(p)<parseFloat(c);default:return h.push(function Wm(v){return new o.vHH(3016,!1)}()),"* => *"}}(v,c);if("function"==typeof gt)return void h.push(gt);v=gt}const p=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return c.push(function qm(v){return new o.vHH(3015,!1)}()),h;const b=p[1],H=p[2],de=p[3];h.push(gc(b,de));"<"==H[0]&&!(b==Lh&&de==Lh)&&h.push(gc(de,b))}(p,c,h)):c.push(v),c}const ol=new Set(["true","1"]),Rd=new Set(["false","0"]);function gc(v,h){const c=ol.has(v)||Rd.has(v),p=ol.has(h)||Rd.has(h);return(b,H)=>{let de=v==Lh||v==b,Re=h==Lh||h==H;return!de&&c&&"boolean"==typeof b&&(de=b?ol.has(v):Rd.has(v)),!Re&&p&&"boolean"==typeof H&&(Re=H?ol.has(h):Rd.has(h)),de&&Re}}const Tv=new RegExp("s*:selfs*,?","g");function Vh(v,h,c,p){return new Ng(v).build(h,c,p)}class Ng{constructor(h){this._driver=h}build(h,c,p){const b=new Qf(c);return this._resetContextStyleTimingState(b),rs(this,nl(h),b)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,c){let p=c.queryCount=0,b=c.depCount=0;const H=[],de=[];return"@"==h.name.charAt(0)&&c.errors.push(function pv(){return new o.vHH(3006,!1)}()),h.definitions.forEach(Re=>{if(this._resetContextStyleTimingState(c),0==Re.type){const gt=Re,Dt=gt.name;Dt.toString().split(/\s*,\s*/).forEach(nn=>{gt.name=nn,H.push(this.visitState(gt,c))}),gt.name=Dt}else if(1==Re.type){const gt=this.visitTransition(Re,c);p+=gt.queryCount,b+=gt.depCount,de.push(gt)}else c.errors.push(function gv(){return new o.vHH(3007,!1)}())}),{type:7,name:h.name,states:H,transitions:de,queryCount:p,depCount:b,options:null}}visitState(h,c){const p=this.visitStyle(h.styles,c),b=h.options&&h.options.params||null;if(p.containsDynamicStyles){const H=new Set,de=b||{};p.styles.forEach(Re=>{Re instanceof Map&&Re.forEach(gt=>{rl(gt).forEach(Dt=>{de.hasOwnProperty(Dt)||H.add(Dt)})})}),H.size&&(Ul(H.values()),c.errors.push(function mv(v,h){return new o.vHH(3008,!1)}()))}return{type:0,name:h.name,style:p,options:b?{params:b}:null}}visitTransition(h,c){c.queryCount=0,c.depCount=0;const p=rs(this,nl(h.animation),c);return{type:1,matchers:xd(h.expr,c.errors),animation:p,queryCount:c.queryCount,depCount:c.depCount,options:mc(h.options)}}visitSequence(h,c){return{type:2,steps:h.steps.map(p=>rs(this,p,c)),options:mc(h.options)}}visitGroup(h,c){const p=c.currentTime;let b=0;const H=h.steps.map(de=>{c.currentTime=p;const Re=rs(this,de,c);return b=Math.max(b,c.currentTime),Re});return c.currentTime=b,{type:3,steps:H,options:mc(h.options)}}visitAnimate(h,c){const p=function Bh(v,h){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return Yf(Wf(v,h).duration,0,"");const c=v;if(c.split(/\s+/).some(H=>"{"==H.charAt(0)&&"{"==H.charAt(1))){const H=Yf(0,0,"");return H.dynamic=!0,H.strValue=c,H}const b=Wf(c,h);return Yf(b.duration,b.delay,b.easing)}(h.timings,c.errors);c.currentAnimateTimings=p;let b,H=h.styles?h.styles:gg({});if(5==H.type)b=this.visitKeyframes(H,c);else{let de=h.styles,Re=!1;if(!de){Re=!0;const Dt={};p.easing&&(Dt.easing=p.easing),de=gg(Dt)}c.currentTime+=p.duration+p.delay;const gt=this.visitStyle(de,c);gt.isEmptyStep=Re,b=gt}return c.currentAnimateTimings=null,{type:4,timings:p,style:b,options:null}}visitStyle(h,c){const p=this._makeStyleAst(h,c);return this._validateStyleAst(p,c),p}_makeStyleAst(h,c){const p=[],b=Array.isArray(h.styles)?h.styles:[h.styles];for(let Re of b)"string"==typeof Re?Re===Ba?p.push(Re):c.errors.push(new o.vHH(3002,!1)):p.push(Ll(Re));let H=!1,de=null;return p.forEach(Re=>{if(Re instanceof Map&&(Re.has("easing")&&(de=Re.get("easing"),Re.delete("easing")),!H))for(let gt of Re.values())if(gt.toString().indexOf("{{")>=0){H=!0;break}}),{type:6,styles:p,easing:de,offset:h.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(h,c){const p=c.currentAnimateTimings;let b=c.currentTime,H=c.currentTime;p&&H>0&&(H-=p.duration+p.delay),h.styles.forEach(de=>{"string"!=typeof de&&de.forEach((Re,gt)=>{const Dt=c.collectedStyles.get(c.currentQuerySelector),nn=Dt.get(gt);let vn=!0;nn&&(H!=b&&H>=nn.startTime&&b<=nn.endTime&&(c.errors.push(function Eg(v,h,c,p,b){return new o.vHH(3010,!1)}()),vn=!1),H=nn.startTime),vn&&Dt.set(gt,{startTime:H,endTime:b}),c.options&&function Du(v,h,c){const p=h.params||{},b=rl(v);b.length&&b.forEach(H=>{p.hasOwnProperty(H)||c.push(function Zm(v){return new o.vHH(3001,!1)}())})}(Re,c.options,c.errors)})})}visitKeyframes(h,c){const p={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Ig(){return new o.vHH(3011,!1)}()),p;let H=0;const de=[];let Re=!1,gt=!1,Dt=0;const nn=h.steps.map(ao=>{const qi=this._makeStyleAst(ao,c);let Yo=null!=qi.offset?qi.offset:function Od(v){if("string"==typeof v)return null;let h=null;if(Array.isArray(v))v.forEach(c=>{if(c instanceof Map&&c.has("offset")){const p=c;h=parseFloat(p.get("offset")),p.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const c=v;h=parseFloat(c.get("offset")),c.delete("offset")}return h}(qi.styles),hs=0;return null!=Yo&&(H++,hs=qi.offset=Yo),gt=gt||hs<0||hs>1,Re=Re||hs<Dt,Dt=hs,de.push(hs),qi});gt&&c.errors.push(function _v(){return new o.vHH(3012,!1)}()),Re&&c.errors.push(function Cu(){return new o.vHH(3200,!1)}());const vn=h.steps.length;let Zn=0;H>0&&H<vn?c.errors.push(function Gm(){return new o.vHH(3202,!1)}()):0==H&&(Zn=1/(vn-1));const wr=vn-1,Un=c.currentTime,On=c.currentAnimateTimings,Fr=On.duration;return nn.forEach((ao,qi)=>{const Yo=Zn>0?qi==wr?1:Zn*qi:de[qi],hs=Yo*Fr;c.currentTime=Un+On.delay+hs,On.duration=hs,this._validateStyleAst(ao,c),ao.offset=Yo,p.styles.push(ao)}),p}visitReference(h,c){return{type:8,animation:rs(this,nl(h.animation),c),options:mc(h.options)}}visitAnimateChild(h,c){return c.depCount++,{type:9,options:mc(h.options)}}visitAnimateRef(h,c){return{type:10,animation:this.visitReference(h.animation,c),options:mc(h.options)}}visitQuery(h,c){const p=c.currentQuerySelector,b=h.options||{};c.queryCount++,c.currentQuery=h;const[H,de]=function wv(v){const h=!!v.split(/\s*,\s*/).find(c=>":self"==c);return h&&(v=v.replace(Tv,"")),v=v.replace(/@\*/g,ba).replace(/@\w+/g,c=>ba+"-"+c.slice(1)).replace(/:animating/g,Fl),[v,h]}(h.selector);c.currentQuerySelector=p.length?p+" "+H:H,Bs(c.collectedStyles,c.currentQuerySelector,new Map);const Re=rs(this,nl(h.animation),c);return c.currentQuery=null,c.currentQuerySelector=p,{type:11,selector:H,limit:b.limit||0,optional:!!b.optional,includeSelf:de,animation:Re,originalSelector:h.selector,options:mc(h.options)}}visitStagger(h,c){c.currentQuery||c.errors.push(function vv(){return new o.vHH(3013,!1)}());const p="full"===h.timings?{duration:0,delay:0,easing:"full"}:Wf(h.timings,c.errors,!0);return{type:12,animation:rs(this,nl(h.animation),c),timings:p,options:null}}}class Qf{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mc(v){return v?(v=Nh(v)).params&&(v.params=function Uh(v){return v?Nh(v):null}(v.params)):v={},v}function Yf(v,h,c){return{duration:v,delay:h,easing:c}}function kg(v,h,c,p,b,H,de=null,Re=!1){return{type:1,element:v,keyframes:h,preStyleProps:c,postStyleProps:p,duration:b,delay:H,totalTime:b+H,easing:de,subTimeline:Re}}class jh{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,c){let p=this._map.get(h);p||this._map.set(h,p=[]),p.push(...c)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Lg=new RegExp(":enter","g"),o_=new RegExp(":leave","g");function jl(v,h,c,p,b,H=new Map,de=new Map,Re,gt,Dt=[]){return(new s_).buildKeyframes(v,h,c,p,b,H,de,Re,gt,Dt)}class s_{buildKeyframes(h,c,p,b,H,de,Re,gt,Dt,nn=[]){Dt=Dt||new jh;const vn=new a_(h,c,Dt,b,H,nn,[]);vn.options=gt;const Zn=gt.delay?Ca(gt.delay):0;vn.currentTimeline.delayNextStep(Zn),vn.currentTimeline.setStyles([de],null,vn.errors,gt),rs(this,p,vn);const wr=vn.timelines.filter(Un=>Un.containsAnimation());if(wr.length&&Re.size){let Un;for(let On=wr.length-1;On>=0;On--){const Fr=wr[On];if(Fr.element===c){Un=Fr;break}}Un&&!Un.allowOnlyTimelineStyles()&&Un.setStyles([Re],null,vn.errors,gt)}return wr.length?wr.map(Un=>Un.buildKeyframes()):[kg(c,[],[],[],0,Zn,"",!1)]}visitTrigger(h,c){}visitState(h,c){}visitTransition(h,c){}visitAnimateChild(h,c){const p=c.subInstructions.get(c.element);if(p){const b=c.createSubContext(h.options),H=c.currentTimeline.currentTime,de=this._visitSubInstructions(p,b,b.options);H!=de&&c.transformIntoNewTimeline(de)}c.previousNode=h}visitAnimateRef(h,c){const p=c.createSubContext(h.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],c,p),this.visitReference(h.animation,p),c.transformIntoNewTimeline(p.currentTimeline.currentTime),c.previousNode=h}_applyAnimationRefDelays(h,c,p){for(const b of h){const H=b?.delay;if(H){const de="number"==typeof H?H:Ca(il(H,b?.params??{},c.errors));p.delayNextStep(de)}}}_visitSubInstructions(h,c,p){let H=c.currentTimeline.currentTime;const de=null!=p.duration?Ca(p.duration):null,Re=null!=p.delay?Ca(p.delay):null;return 0!==de&&h.forEach(gt=>{const Dt=c.appendInstructionToTimeline(gt,de,Re);H=Math.max(H,Dt.duration+Dt.delay)}),H}visitReference(h,c){c.updateOptions(h.options,!0),rs(this,h.animation,c),c.previousNode=h}visitSequence(h,c){const p=c.subContextCount;let b=c;const H=h.options;if(H&&(H.params||H.delay)&&(b=c.createSubContext(H),b.transformIntoNewTimeline(),null!=H.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=Vg);const de=Ca(H.delay);b.delayNextStep(de)}h.steps.length&&(h.steps.forEach(de=>rs(this,de,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>p&&b.transformIntoNewTimeline()),c.previousNode=h}visitGroup(h,c){const p=[];let b=c.currentTimeline.currentTime;const H=h.options&&h.options.delay?Ca(h.options.delay):0;h.steps.forEach(de=>{const Re=c.createSubContext(h.options);H&&Re.delayNextStep(H),rs(this,de,Re),b=Math.max(b,Re.currentTimeline.currentTime),p.push(Re.currentTimeline)}),p.forEach(de=>c.currentTimeline.mergeTimelineCollectedStyles(de)),c.transformIntoNewTimeline(b),c.previousNode=h}_visitTiming(h,c){if(h.dynamic){const p=h.strValue;return Wf(c.params?il(p,c.params,c.errors):p,c.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,c){const p=c.currentAnimateTimings=this._visitTiming(h.timings,c),b=c.currentTimeline;p.delay&&(c.incrementTime(p.delay),b.snapshotCurrentStyles());const H=h.style;5==H.type?this.visitKeyframes(H,c):(c.incrementTime(p.duration),this.visitStyle(H,c),b.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=h}visitStyle(h,c){const p=c.currentTimeline,b=c.currentAnimateTimings;!b&&p.hasCurrentStyleProperties()&&p.forwardFrame();const H=b&&b.easing||h.easing;h.isEmptyStep?p.applyEmptyStep(H):p.setStyles(h.styles,H,c.errors,c.options),c.previousNode=h}visitKeyframes(h,c){const p=c.currentAnimateTimings,b=c.currentTimeline.duration,H=p.duration,Re=c.createSubContext().currentTimeline;Re.easing=p.easing,h.styles.forEach(gt=>{Re.forwardTime((gt.offset||0)*H),Re.setStyles(gt.styles,gt.easing,c.errors,c.options),Re.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(Re),c.transformIntoNewTimeline(b+H),c.previousNode=h}visitQuery(h,c){const p=c.currentTimeline.currentTime,b=h.options||{},H=b.delay?Ca(b.delay):0;H&&(6===c.previousNode.type||0==p&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Vg);let de=p;const Re=c.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!b.optional,c.errors);c.currentQueryTotal=Re.length;let gt=null;Re.forEach((Dt,nn)=>{c.currentQueryIndex=nn;const vn=c.createSubContext(h.options,Dt);H&&vn.delayNextStep(H),Dt===c.element&&(gt=vn.currentTimeline),rs(this,h.animation,vn),vn.currentTimeline.applyStylesToKeyframe(),de=Math.max(de,vn.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(de),gt&&(c.currentTimeline.mergeTimelineCollectedStyles(gt),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=h}visitStagger(h,c){const p=c.parentContext,b=c.currentTimeline,H=h.timings,de=Math.abs(H.duration),Re=de*(c.currentQueryTotal-1);let gt=de*c.currentQueryIndex;switch(H.duration<0?"reverse":H.easing){case"reverse":gt=Re-gt;break;case"full":gt=p.currentStaggerTime}const nn=c.currentTimeline;gt&&nn.delayNextStep(gt);const vn=nn.currentTime;rs(this,h.animation,c),c.previousNode=h,p.currentStaggerTime=b.currentTime-vn+(b.startTime-p.currentTimeline.startTime)}}const Vg={};class a_{constructor(h,c,p,b,H,de,Re,gt){this._driver=h,this.element=c,this.subInstructions=p,this._enterClassName=b,this._leaveClassName=H,this.errors=de,this.timelines=Re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=gt||new Hh(this._driver,c,0),Re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,c){if(!h)return;const p=h;let b=this.options;null!=p.duration&&(b.duration=Ca(p.duration)),null!=p.delay&&(b.delay=Ca(p.delay));const H=p.params;if(H){let de=b.params;de||(de=this.options.params={}),Object.keys(H).forEach(Re=>{(!c||!de.hasOwnProperty(Re))&&(de[Re]=il(H[Re],de,this.errors))})}}_copyOptions(){const h={};if(this.options){const c=this.options.params;if(c){const p=h.params={};Object.keys(c).forEach(b=>{p[b]=c[b]})}}return h}createSubContext(h=null,c,p){const b=c||this.element,H=new a_(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,p||0));return H.previousNode=this.previousNode,H.currentAnimateTimings=this.currentAnimateTimings,H.options=this._copyOptions(),H.updateOptions(h),H.currentQueryIndex=this.currentQueryIndex,H.currentQueryTotal=this.currentQueryTotal,H.parentContext=this,this.subContextCount++,H}transformIntoNewTimeline(h){return this.previousNode=Vg,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,c,p){const b={duration:c??h.duration,delay:this.currentTimeline.currentTime+(p??0)+h.delay,easing:""},H=new Ny(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,b,h.stretchStartingKeyframe);return this.timelines.push(H),b}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,c,p,b,H,de){let Re=[];if(b&&Re.push(this.element),h.length>0){h=(h=h.replace(Lg,"."+this._enterClassName)).replace(o_,"."+this._leaveClassName);let Dt=this._driver.query(this.element,h,1!=p);0!==p&&(Dt=p<0?Dt.slice(Dt.length+p,Dt.length):Dt.slice(0,p)),Re.push(...Dt)}return!H&&0==Re.length&&de.push(function Ag(v){return new o.vHH(3014,!1)}()),Re}}class Hh{constructor(h,c,p,b){this._driver=h,this.element=c,this.startTime=p,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+h),c&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,c){return this.applyStylesToKeyframe(),new Hh(this._driver,h,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,c){this._localTimelineStyles.set(h,c),this._globalTimelineStyles.set(h,c),this._styleSummary.set(h,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[c,p]of this._globalTimelineStyles)this._backFill.set(c,p||Ba),this._currentKeyframe.set(c,Ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,c,p,b){c&&this._previousKeyframe.set("easing",c);const H=b&&b.params||{},de=function Mu(v,h){const c=new Map;let p;return v.forEach(b=>{if("*"===b){p=p||h.keys();for(let H of p)c.set(H,Ba)}else sa(b,c)}),c}(h,this._globalTimelineStyles);for(let[Re,gt]of de){const Dt=il(gt,H,p);this._pendingStyles.set(Re,Dt),this._localTimelineStyles.has(Re)||this._backFill.set(Re,this._globalTimelineStyles.get(Re)??Ba),this._updateStyle(Re,Dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,c)=>{this._currentKeyframe.set(c,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,h)}))}snapshotCurrentStyles(){for(let[h,c]of this._localTimelineStyles)this._pendingStyles.set(h,c),this._updateStyle(h,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let c in this._currentKeyframe)h.push(c);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((c,p)=>{const b=this._styleSummary.get(p);(!b||c.time>b.time)&&this._updateStyle(p,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,c=new Set,p=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((Re,gt)=>{const Dt=sa(Re,new Map,this._backFill);Dt.forEach((nn,vn)=>{"!"===nn?h.add(vn):nn===Ba&&c.add(vn)}),p||Dt.set("offset",gt/this.duration),b.push(Dt)});const H=h.size?Ul(h.values()):[],de=c.size?Ul(c.values()):[];if(p){const Re=b[0],gt=new Map(Re);Re.set("offset",0),gt.set("offset",1),b=[Re,gt]}return kg(this.element,b,H,de,this.duration,this.startTime,this.easing,!1)}}class Ny extends Hh{constructor(h,c,p,b,H,de,Re=!1){super(h,c,de.delay),this.keyframes=p,this.preStyleProps=b,this.postStyleProps=H,this._stretchStartingKeyframe=Re,this.timings={duration:de.duration,delay:de.delay,easing:de.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:c,duration:p,easing:b}=this.timings;if(this._stretchStartingKeyframe&&c){const H=[],de=p+c,Re=c/de,gt=sa(h[0]);gt.set("offset",0),H.push(gt);const Dt=sa(h[0]);Dt.set("offset",c_(Re)),H.push(Dt);const nn=h.length-1;for(let vn=1;vn<=nn;vn++){let Zn=sa(h[vn]);const wr=Zn.get("offset");Zn.set("offset",c_((c+wr*p)/de)),H.push(Zn)}p=de,c=0,b="",h=H}return kg(this.element,h,this.preStyleProps,this.postStyleProps,p,c,b,!0)}}function c_(v,h=3){const c=Math.pow(10,h-1);return Math.round(v*c)/c}class kd{}const l_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ha extends kd{normalizePropertyName(h,c){return Bl(h)}normalizeStyleValue(h,c,p,b){let H="";const de=p.toString().trim();if(l_.has(c)&&0!==p&&"0"!==p)if("number"==typeof p)H="px";else{const Re=p.match(/^[+-]?[\d\.]+([a-z]*)$/);Re&&0==Re[1].length&&b.push(function _g(v,h){return new o.vHH(3005,!1)}())}return de+H}}function Ug(v,h,c,p,b,H,de,Re,gt,Dt,nn,vn,Zn){return{type:0,element:v,triggerName:h,isRemovalTransition:b,fromState:c,fromStyles:H,toState:p,toStyles:de,timelines:Re,queriedElements:gt,preStyleProps:Dt,postStyleProps:nn,totalTime:vn,errors:Zn}}const sl={};class Xf{constructor(h,c,p){this._triggerName=h,this.ast=c,this._stateStyles=p}match(h,c,p,b){return function Bg(v,h,c,p,b){return v.some(H=>H(h,c,p,b))}(this.ast.matchers,h,c,p,b)}buildStyles(h,c,p){let b=this._stateStyles.get("*");return void 0!==h&&(b=this._stateStyles.get(h?.toString())||b),b?b.buildStyles(c,p):new Map}build(h,c,p,b,H,de,Re,gt,Dt,nn){const vn=[],Zn=this.ast.options&&this.ast.options.params||sl,Un=this.buildStyles(p,Re&&Re.params||sl,vn),On=gt&&gt.params||sl,Fr=this.buildStyles(b,On,vn),ao=new Set,qi=new Map,Yo=new Map,hs="void"===b,Mp={params:Dv(On,Zn),delay:this.ast.options?.delay},Ec=nn?[]:jl(h,c,this.ast.animation,H,de,Un,Fr,Mp,Dt,vn);let Ta=0;if(Ec.forEach(ju=>{Ta=Math.max(ju.duration+ju.delay,Ta)}),vn.length)return Ug(c,this._triggerName,p,b,hs,Un,Fr,[],[],qi,Yo,Ta,vn);Ec.forEach(ju=>{const Hu=ju.element,py=Bs(qi,Hu,new Set);ju.preStyleProps.forEach(So=>py.add(So));const gm=Bs(Yo,Hu,new Set);ju.postStyleProps.forEach(So=>gm.add(So)),Hu!==c&&ao.add(Hu)});const Gd=Ul(ao.values());return Ug(c,this._triggerName,p,b,hs,Un,Fr,Ec,Gd,qi,Yo,Ta)}}function Dv(v,h){const c=Nh(h);for(const p in v)v.hasOwnProperty(p)&&null!=v[p]&&(c[p]=v[p]);return c}class ky{constructor(h,c,p){this.styles=h,this.defaultParams=c,this.normalizer=p}buildStyles(h,c){const p=new Map,b=Nh(this.defaultParams);return Object.keys(h).forEach(H=>{const de=h[H];null!==de&&(b[H]=de)}),this.styles.styles.forEach(H=>{"string"!=typeof H&&H.forEach((de,Re)=>{de&&(de=il(de,b,c));const gt=this.normalizer.normalizePropertyName(Re,c);de=this.normalizer.normalizeStyleValue(Re,gt,de,c),p.set(Re,de)})}),p}}class jg{constructor(h,c,p){this.name=h,this.ast=c,this._normalizer=p,this.transitionFactories=[],this.states=new Map,c.states.forEach(b=>{this.states.set(b.name,new ky(b.style,b.options&&b.options.params||{},p))}),Hg(this.states,"true","1"),Hg(this.states,"false","0"),c.transitions.forEach(b=>{this.transitionFactories.push(new Xf(h,b,this.states))}),this.fallbackTransition=function _c(v,h,c){return new Xf(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(de,Re)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,c,p,b){return this.transitionFactories.find(de=>de.match(h,c,p,b))||null}matchStyles(h,c,p){return this.fallbackTransition.buildStyles(h,c,p)}}function Hg(v,h,c){v.has(h)?v.has(c)||v.set(c,v.get(h)):v.has(c)&&v.set(h,v.get(c))}const Mv=new jh;class Fy{constructor(h,c,p){this.bodyNode=h,this._driver=c,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,c){const p=[],H=Vh(this._driver,c,p,[]);if(p.length)throw function yv(v){return new o.vHH(3503,!1)}();this._animations.set(h,H)}_buildPlayer(h,c,p){const b=h.element,H=zf(this._normalizer,h.keyframes,c,p);return this._driver.animate(b,H,h.duration,h.delay,h.easing,[],!0)}create(h,c,p={}){const b=[],H=this._animations.get(h);let de;const Re=new Map;if(H?(de=jl(this._driver,c,H,tl,Oh,new Map,new Map,p,Mv,b),de.forEach(nn=>{const vn=Bs(Re,nn.element,new Map);nn.postStyleProps.forEach(Zn=>vn.set(Zn,null))})):(b.push(function Tg(){return new o.vHH(3300,!1)}()),de=[]),b.length)throw function Hr(v){return new o.vHH(3504,!1)}();Re.forEach((nn,vn)=>{nn.forEach((Zn,wr)=>{nn.set(wr,this._driver.computeStyle(vn,wr,Ba))})});const Dt=Nl(de.map(nn=>{const vn=Re.get(nn.element);return this._buildPlayer(nn,new Map,vn)}));return this._playersById.set(h,Dt),Dt.onDestroy(()=>this.destroy(h)),this.players.push(Dt),Dt}destroy(h){const c=this._getPlayer(h);c.destroy(),this._playersById.delete(h);const p=this.players.indexOf(c);p>=0&&this.players.splice(p,1)}_getPlayer(h){const c=this._playersById.get(h);if(!c)throw function Dd(v){return new o.vHH(3301,!1)}();return c}listen(h,c,p,b){const H=Md(c,"","","");return Ph(this._getPlayer(h),p,H,b),()=>{}}command(h,c,p,b){if("register"==p)return void this.register(h,b[0]);if("create"==p)return void this.create(h,c,b[0]||{});const H=this._getPlayer(h);switch(p){case"play":H.play();break;case"pause":H.pause();break;case"reset":H.reset();break;case"restart":H.restart();break;case"finish":H.finish();break;case"init":H.init();break;case"setPosition":H.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(h)}}}const Ao="ng-animate-queued",ep="ng-animate-disabled",u_=[],Zg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ly={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},za="__ng_removed";class Gg{get params(){return this.options.params}constructor(h,c=""){this.namespaceId=c;const p=h&&h.hasOwnProperty("value");if(this.value=function Ou(v){return v??null}(p?h.value:h),p){const H=Nh(h);delete H.value,this.options=H}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const c=h.params;if(c){const p=this.options.params;Object.keys(c).forEach(b=>{null==p[b]&&(p[b]=c[b])})}}}const tp="void",np=new Gg(tp);class Rv{constructor(h,c,p){this.id=h,this.hostElement=c,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,_s(c,this._hostClassName)}listen(h,c,p,b){if(!this._triggers.has(c))throw function wg(v,h){return new o.vHH(3302,!1)}();if(null==p||0==p.length)throw function Sd(v){return new o.vHH(3303,!1)}();if(!function Ov(v){return"start"==v||"done"==v}(p))throw function jf(v,h){return new o.vHH(3400,!1)}();const H=Bs(this._elementListeners,h,[]),de={name:c,phase:p,callback:b};H.push(de);const Re=Bs(this._engine.statesByElement,h,new Map);return Re.has(c)||(_s(h,ja),_s(h,ja+"-"+c),Re.set(c,np)),()=>{this._engine.afterFlush(()=>{const gt=H.indexOf(de);gt>=0&&H.splice(gt,1),this._triggers.has(c)||Re.delete(c)})}}register(h,c){return!this._triggers.has(h)&&(this._triggers.set(h,c),!0)}_getTrigger(h){const c=this._triggers.get(h);if(!c)throw function Ko(v){return new o.vHH(3401,!1)}();return c}trigger(h,c,p,b=!0){const H=this._getTrigger(c),de=new Ru(this.id,c,h);let Re=this._engine.statesByElement.get(h);Re||(_s(h,ja),_s(h,ja+"-"+c),this._engine.statesByElement.set(h,Re=new Map));let gt=Re.get(c);const Dt=new Gg(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&gt&&Dt.absorbOptions(gt.options),Re.set(c,Dt),gt||(gt=np),Dt.value!==tp&&gt.value===Dt.value){if(!function f_(v,h){const c=Object.keys(v),p=Object.keys(h);if(c.length!=p.length)return!1;for(let b=0;b<c.length;b++){const H=c[b];if(!h.hasOwnProperty(H)||v[H]!==h[H])return!1}return!0}(gt.params,Dt.params)){const On=[],Fr=H.matchStyles(gt.value,gt.params,On),ao=H.matchStyles(Dt.value,Dt.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{pc(h,Fr),Qo(h,ao)})}return}const Zn=Bs(this._engine.playersByElement,h,[]);Zn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==c&&On.queued&&On.destroy()});let wr=H.matchTransition(gt.value,Dt.value,h,Dt.params),Un=!1;if(!wr){if(!b)return;wr=H.fallbackTransition,Un=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:c,transition:wr,fromState:gt,toState:Dt,player:de,isFallbackTransition:Un}),Un||(_s(h,Ao),de.onStart(()=>{cl(h,Ao)})),de.onDone(()=>{let On=this.players.indexOf(de);On>=0&&this.players.splice(On,1);const Fr=this._engine.playersByElement.get(h);if(Fr){let ao=Fr.indexOf(de);ao>=0&&Fr.splice(ao,1)}}),this.players.push(de),Zn.push(de),de}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(c=>c.delete(h)),this._elementListeners.forEach((c,p)=>{this._elementListeners.set(p,c.filter(b=>b.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const c=this._engine.playersByElement.get(h);c&&(c.forEach(p=>p.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,c){const p=this._engine.driver.query(h,ba,!0);p.forEach(b=>{if(b[za])return;const H=this._engine.fetchNamespacesByElement(b);H.size?H.forEach(de=>de.triggerLeaveAnimation(b,c,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(h,c,p,b){const H=this._engine.statesByElement.get(h),de=new Map;if(H){const Re=[];if(H.forEach((gt,Dt)=>{if(de.set(Dt,gt.value),this._triggers.has(Dt)){const nn=this.trigger(h,Dt,tp,b);nn&&Re.push(nn)}}),Re.length)return this._engine.markElementAsRemoved(this.id,h,!0,c,de),p&&Nl(Re).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const c=this._elementListeners.get(h),p=this._engine.statesByElement.get(h);if(c&&p){const b=new Set;c.forEach(H=>{const de=H.name;if(b.has(de))return;b.add(de);const gt=this._triggers.get(de).fallbackTransition,Dt=p.get(de)||np,nn=new Gg(tp),vn=new Ru(this.id,de,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:de,transition:gt,fromState:Dt,toState:nn,player:vn,isFallbackTransition:!0})})}}removeNode(h,c){const p=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,c),this.triggerLeaveAnimation(h,c,!0))return;let b=!1;if(p.totalAnimations){const H=p.players.length?p.playersByQueriedElement.get(h):[];if(H&&H.length)b=!0;else{let de=h;for(;de=de.parentNode;)if(p.statesByElement.get(de)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(h),b)p.markElementAsRemoved(this.id,h,!1,c);else{const H=h[za];(!H||H===Zg)&&(p.afterFlush(()=>this.clearElementCache(h)),p.destroyInnerAnimations(h),p._onRemovalComplete(h,c))}}insertNode(h,c){_s(h,this._hostClassName)}drainQueuedTransitions(h){const c=[];return this._queue.forEach(p=>{const b=p.player;if(b.destroyed)return;const H=p.element,de=this._elementListeners.get(H);de&&de.forEach(Re=>{if(Re.name==p.triggerName){const gt=Md(H,p.triggerName,p.fromState.value,p.toState.value);gt._data=h,Ph(p.player,Re.phase,gt,Re.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):c.push(p)}),this._queue=[],c.sort((p,b)=>{const H=p.transition.ast.depCount,de=b.transition.ast.depCount;return 0==H||0==de?H-de:this._engine.driver.containsElement(p.element,b.element)?1:-1})}destroy(h){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class d_{_onRemovalComplete(h,c){this.onRemovalComplete(h,c)}constructor(h,c,p){this.bodyNode=h,this.driver=c,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,H)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(c=>{c.players.forEach(p=>{p.queued&&h.push(p)})}),h}createNamespace(h,c){const p=new Rv(h,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(p,c):(this.newHostElements.set(c,p),this.collectEnterElement(c)),this._namespaceLookup[h]=p}_balanceNamespaceList(h,c){const p=this._namespaceList,b=this.namespacesByHostElement;if(p.length-1>=0){let de=!1,Re=this.driver.getParentElement(c);for(;Re;){const gt=b.get(Re);if(gt){const Dt=p.indexOf(gt);p.splice(Dt+1,0,h),de=!0;break}Re=this.driver.getParentElement(Re)}de||p.unshift(h)}else p.push(h);return b.set(c,h),h}register(h,c){let p=this._namespaceLookup[h];return p||(p=this.createNamespace(h,c)),p}registerTrigger(h,c,p){let b=this._namespaceLookup[h];b&&b.register(c,p)&&this.totalAnimations++}destroy(h,c){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(h);this.namespacesByHostElement.delete(p.hostElement);const b=this._namespaceList.indexOf(p);b>=0&&this._namespaceList.splice(b,1),p.destroy(c),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const c=new Set,p=this.statesByElement.get(h);if(p)for(let b of p.values())if(b.namespaceId){const H=this._fetchNamespace(b.namespaceId);H&&c.add(H)}return c}trigger(h,c,p,b){if($a(c)){const H=this._fetchNamespace(h);if(H)return H.trigger(c,p,b),!0}return!1}insertNode(h,c,p,b){if(!$a(c))return;const H=c[za];if(H&&H.setForRemoval){H.setForRemoval=!1,H.setForMove=!0;const de=this.collectedLeaveElements.indexOf(c);de>=0&&this.collectedLeaveElements.splice(de,1)}if(h){const de=this._fetchNamespace(h);de&&de.insertNode(c,p)}b&&this.collectEnterElement(c)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,c){c?this.disabledNodes.has(h)||(this.disabledNodes.add(h),_s(h,ep)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),cl(h,ep))}removeNode(h,c,p){if($a(c)){const b=h?this._fetchNamespace(h):null;b?b.removeNode(c,p):this.markElementAsRemoved(h,c,!1,p);const H=this.namespacesByHostElement.get(c);H&&H.id!==h&&H.removeNode(c,p)}else this._onRemovalComplete(c,p)}markElementAsRemoved(h,c,p,b,H){this.collectedLeaveElements.push(c),c[za]={namespaceId:h,setForRemoval:b,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:H}}listen(h,c,p,b,H){return $a(c)?this._fetchNamespace(h).listen(c,p,b,H):()=>{}}_buildInstruction(h,c,p,b,H){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,p,b,h.fromState.options,h.toState.options,c,H)}destroyInnerAnimations(h){let c=this.driver.query(h,ba,!0);c.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(h,Fl,!0),c.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(h){const c=this.playersByElement.get(h);c&&c.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(h){const c=this.playersByQueriedElement.get(h);c&&c.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Nl(this.players).onDone(()=>h());h()})}processLeaveNode(h){const c=h[za];if(c&&c.setForRemoval){if(h[za]=Zg,c.namespaceId){this.destroyInnerAnimations(h);const p=this._fetchNamespace(c.namespaceId);p&&p.clearElementCache(h)}this._onRemovalComplete(h,c.setForRemoval)}h.classList?.contains(ep)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(h=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,b)=>this._balanceNamespaceList(p,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)_s(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{c=this._flushAnimations(p,h)}finally{for(let b=0;b<p.length;b++)p[b]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],c.length?Nl(c).onDone(()=>{p.forEach(b=>b())}):p.forEach(b=>b())}}reportError(h){throw function Oo(v){return new o.vHH(3402,!1)}()}_flushAnimations(h,c){const p=new jh,b=[],H=new Map,de=[],Re=new Map,gt=new Map,Dt=new Map,nn=new Set;this.disabledNodes.forEach(or=>{nn.add(or);const vr=this.driver.query(or,".ng-animate-queued",!0);for(let Pr=0;Pr<vr.length;Pr++)nn.add(vr[Pr])});const vn=this.bodyNode,Zn=Array.from(this.statesByElement.keys()),wr=rp(Zn,this.collectedEnterElements),Un=new Map;let On=0;wr.forEach((or,vr)=>{const Pr=tl+On++;Un.set(vr,Pr),or.forEach(Mi=>_s(Mi,Pr))});const Fr=[],ao=new Set,qi=new Set;for(let or=0;or<this.collectedLeaveElements.length;or++){const vr=this.collectedLeaveElements[or],Pr=vr[za];Pr&&Pr.setForRemoval&&(Fr.push(vr),ao.add(vr),Pr.hasAnimation?this.driver.query(vr,".ng-star-inserted",!0).forEach(Mi=>ao.add(Mi)):qi.add(vr))}const Yo=new Map,hs=rp(Zn,Array.from(ao));hs.forEach((or,vr)=>{const Pr=Oh+On++;Yo.set(vr,Pr),or.forEach(Mi=>_s(Mi,Pr))}),h.push(()=>{wr.forEach((or,vr)=>{const Pr=Un.get(vr);or.forEach(Mi=>cl(Mi,Pr))}),hs.forEach((or,vr)=>{const Pr=Yo.get(vr);or.forEach(Mi=>cl(Mi,Pr))}),Fr.forEach(or=>{this.processLeaveNode(or)})});const Mp=[],Ec=[];for(let or=this._namespaceList.length-1;or>=0;or--)this._namespaceList[or].drainQueuedTransitions(c).forEach(Pr=>{const Mi=Pr.player,fs=Pr.element;if(Mp.push(Mi),this.collectedEnterElements.length){const ua=fs[za];if(ua&&ua.setForMove){if(ua.previousTriggersValues&&ua.previousTriggersValues.has(Pr.triggerName)){const zu=ua.previousTriggersValues.get(Pr.triggerName),wa=this.statesByElement.get(Pr.element);if(wa&&wa.has(Pr.triggerName)){const Wa=wa.get(Pr.triggerName);Wa.value=zu,wa.set(Pr.triggerName,Wa)}}return void Mi.destroy()}}const la=!vn||!this.driver.containsElement(vn,fs),qa=Yo.get(fs),qd=Un.get(fs),No=this._buildInstruction(Pr,p,qd,qa,la);if(No.errors&&No.errors.length)return void Ec.push(No);if(la)return Mi.onStart(()=>pc(fs,No.fromStyles)),Mi.onDestroy(()=>Qo(fs,No.toStyles)),void b.push(Mi);if(Pr.isFallbackTransition)return Mi.onStart(()=>pc(fs,No.fromStyles)),Mi.onDestroy(()=>Qo(fs,No.toStyles)),void b.push(Mi);const Qy=[];No.timelines.forEach(ua=>{ua.stretchStartingKeyframe=!0,this.disabledNodes.has(ua.element)||Qy.push(ua)}),No.timelines=Qy,p.append(fs,No.timelines),de.push({instruction:No,player:Mi,element:fs}),No.queriedElements.forEach(ua=>Bs(Re,ua,[]).push(Mi)),No.preStyleProps.forEach((ua,zu)=>{if(ua.size){let wa=gt.get(zu);wa||gt.set(zu,wa=new Set),ua.forEach((Wa,my)=>wa.add(my))}}),No.postStyleProps.forEach((ua,zu)=>{let wa=Dt.get(zu);wa||Dt.set(zu,wa=new Set),ua.forEach((Wa,my)=>wa.add(my))})});if(Ec.length){const or=[];Ec.forEach(vr=>{or.push(function Ym(v,h){return new o.vHH(3505,!1)}())}),Mp.forEach(vr=>vr.destroy()),this.reportError(or)}const Ta=new Map,Gd=new Map;de.forEach(or=>{const vr=or.element;p.has(vr)&&(Gd.set(vr,vr),this._beforeAnimationBuild(or.player.namespaceId,or.instruction,Ta))}),b.forEach(or=>{const vr=or.element;this._getPreviousPlayers(vr,!1,or.namespaceId,or.triggerName,null).forEach(Mi=>{Bs(Ta,vr,[]).push(Mi),Mi.destroy()})});const ju=Fr.filter(or=>p_(or,gt,Dt)),Hu=new Map;Wg(Hu,this.driver,qi,Dt,Ba).forEach(or=>{p_(or,gt,Dt)&&ju.push(or)});const gm=new Map;wr.forEach((or,vr)=>{Wg(gm,this.driver,new Set(or),gt,"!")}),ju.forEach(or=>{const vr=Hu.get(or),Pr=gm.get(or);Hu.set(or,new Map([...vr?.entries()??[],...Pr?.entries()??[]]))});const So=[],gy=[],Ky={};de.forEach(or=>{const{element:vr,player:Pr,instruction:Mi}=or;if(p.has(vr)){if(nn.has(vr))return Pr.onDestroy(()=>Qo(vr,Mi.toStyles)),Pr.disabled=!0,Pr.overrideTotalTime(Mi.totalTime),void b.push(Pr);let fs=Ky;if(Gd.size>1){let qa=vr;const qd=[];for(;qa=qa.parentNode;){const No=Gd.get(qa);if(No){fs=No;break}qd.push(qa)}qd.forEach(No=>Gd.set(No,fs))}const la=this._buildAnimation(Pr.namespaceId,Mi,Ta,H,gm,Hu);if(Pr.setRealPlayer(la),fs===Ky)So.push(Pr);else{const qa=this.playersByElement.get(fs);qa&&qa.length&&(Pr.parentPlayer=Nl(qa)),b.push(Pr)}}else pc(vr,Mi.fromStyles),Pr.onDestroy(()=>Qo(vr,Mi.toStyles)),gy.push(Pr),nn.has(vr)&&b.push(Pr)}),gy.forEach(or=>{const vr=H.get(or.element);if(vr&&vr.length){const Pr=Nl(vr);or.setRealPlayer(Pr)}}),b.forEach(or=>{or.parentPlayer?or.syncPlayerEvents(or.parentPlayer):or.destroy()});for(let or=0;or<Fr.length;or++){const vr=Fr[or],Pr=vr[za];if(cl(vr,Oh),Pr&&Pr.hasAnimation)continue;let Mi=[];if(Re.size){let la=Re.get(vr);la&&la.length&&Mi.push(...la);let qa=this.driver.query(vr,Fl,!0);for(let qd=0;qd<qa.length;qd++){let No=Re.get(qa[qd]);No&&No.length&&Mi.push(...No)}}const fs=Mi.filter(la=>!la.destroyed);fs.length?h_(this,vr,fs):this.processLeaveNode(vr)}return Fr.length=0,So.forEach(or=>{this.players.push(or),or.onDone(()=>{or.destroy();const vr=this.players.indexOf(or);this.players.splice(vr,1)}),or.play()}),So}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,c,p,b,H){let de=[];if(c){const Re=this.playersByQueriedElement.get(h);Re&&(de=Re)}else{const Re=this.playersByElement.get(h);if(Re){const gt=!H||H==tp;Re.forEach(Dt=>{Dt.queued||!gt&&Dt.triggerName!=b||de.push(Dt)})}}return(p||b)&&(de=de.filter(Re=>!(p&&p!=Re.namespaceId||b&&b!=Re.triggerName))),de}_beforeAnimationBuild(h,c,p){const H=c.element,de=c.isRemovalTransition?void 0:h,Re=c.isRemovalTransition?void 0:c.triggerName;for(const gt of c.timelines){const Dt=gt.element,nn=Dt!==H,vn=Bs(p,Dt,[]);this._getPreviousPlayers(Dt,nn,de,Re,c.toState).forEach(wr=>{const Un=wr.getRealPlayer();Un.beforeDestroy&&Un.beforeDestroy(),wr.destroy(),vn.push(wr)})}pc(H,c.fromStyles)}_buildAnimation(h,c,p,b,H,de){const Re=c.triggerName,gt=c.element,Dt=[],nn=new Set,vn=new Set,Zn=c.timelines.map(Un=>{const On=Un.element;nn.add(On);const Fr=On[za];if(Fr&&Fr.removedBeforeQueried)return new Rl(Un.duration,Un.delay);const ao=On!==gt,qi=function Nv(v){const h=[];return kv(v,h),h}((p.get(On)||u_).map(Ta=>Ta.getRealPlayer())).filter(Ta=>!!Ta.element&&Ta.element===On),Yo=H.get(On),hs=de.get(On),Mp=zf(this._normalizer,Un.keyframes,Yo,hs),Ec=this._buildPlayer(Un,Mp,qi);if(Un.subTimeline&&b&&vn.add(On),ao){const Ta=new Ru(h,Re,On);Ta.setRealPlayer(Ec),Dt.push(Ta)}return Ec});Dt.forEach(Un=>{Bs(this.playersByQueriedElement,Un.element,[]).push(Un),Un.onDone(()=>function al(v,h,c){let p=v.get(h);if(p){if(p.length){const b=p.indexOf(c);p.splice(b,1)}0==p.length&&v.delete(h)}return p}(this.playersByQueriedElement,Un.element,Un))}),nn.forEach(Un=>_s(Un,Sg));const wr=Nl(Zn);return wr.onDestroy(()=>{nn.forEach(Un=>cl(Un,Sg)),Qo(gt,c.toStyles)}),vn.forEach(Un=>{Bs(b,Un,[]).push(wr)}),wr}_buildPlayer(h,c,p){return c.length>0?this.driver.animate(h.element,c,h.duration,h.delay,h.easing,p):new Rl(h.duration,h.delay)}}class Ru{constructor(h,c,p){this.namespaceId=h,this.triggerName=c,this.element=p,this._player=new Rl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((c,p)=>{c.forEach(b=>Ph(h,p,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const c=this._player;c.triggerCallback&&h.onStart(()=>c.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,c){Bs(this._queuedCallbacks,h,[]).push(c)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const c=this._player;c.triggerCallback&&c.triggerCallback(h)}}function $a(v){return v&&1===v.nodeType}function qg(v,h){const c=v.style.display;return v.style.display=h??"none",c}function Wg(v,h,c,p,b){const H=[];c.forEach(gt=>H.push(qg(gt)));const de=[];p.forEach((gt,Dt)=>{const nn=new Map;gt.forEach(vn=>{const Zn=h.computeStyle(Dt,vn,b);nn.set(vn,Zn),(!Zn||0==Zn.length)&&(Dt[za]=Ly,de.push(Dt))}),v.set(Dt,nn)});let Re=0;return c.forEach(gt=>qg(gt,H[Re++])),de}function rp(v,h){const c=new Map;if(v.forEach(Re=>c.set(Re,[])),0==h.length)return c;const b=new Set(h),H=new Map;function de(Re){if(!Re)return 1;let gt=H.get(Re);if(gt)return gt;const Dt=Re.parentNode;return gt=c.has(Dt)?Dt:b.has(Dt)?1:de(Dt),H.set(Re,gt),gt}return h.forEach(Re=>{const gt=de(Re);1!==gt&&c.get(gt).push(Re)}),c}function _s(v,h){v.classList?.add(h)}function cl(v,h){v.classList?.remove(h)}function h_(v,h,c){Nl(c).onDone(()=>v.processLeaveNode(h))}function kv(v,h){for(let c=0;c<v.length;c++){const p=v[c];p instanceof Sh?kv(p.players,h):h.push(p)}}function p_(v,h,c){const p=c.get(v);if(!p)return!1;let b=h.get(v);return b?p.forEach(H=>b.add(H)):h.set(v,p),c.delete(v),!0}class Kg{constructor(h,c,p){this.bodyNode=h,this._driver=c,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(b,H)=>{},this._transitionEngine=new d_(h,c,p),this._timelineEngine=new Fy(h,c,p),this._transitionEngine.onRemovalComplete=(b,H)=>this.onRemovalComplete(b,H)}registerTrigger(h,c,p,b,H){const de=h+"-"+b;let Re=this._triggerCache[de];if(!Re){const gt=[],nn=Vh(this._driver,H,gt,[]);if(gt.length)throw function Qm(v,h){return new o.vHH(3404,!1)}();Re=function Sv(v,h,c){return new jg(v,h,c)}(b,nn,this._normalizer),this._triggerCache[de]=Re}this._transitionEngine.registerTrigger(c,b,Re)}register(h,c){this._transitionEngine.register(h,c)}destroy(h,c){this._transitionEngine.destroy(h,c)}onInsert(h,c,p,b){this._transitionEngine.insertNode(h,c,p,b)}onRemove(h,c,p){this._transitionEngine.removeNode(h,c,p)}disableAnimations(h,c){this._transitionEngine.markElementAsDisabled(h,c)}process(h,c,p,b){if("@"==p.charAt(0)){const[H,de]=kl(p);this._timelineEngine.command(H,c,de,b)}else this._transitionEngine.trigger(h,c,p,b)}listen(h,c,p,b,H){if("@"==p.charAt(0)){const[de,Re]=kl(p);return this._timelineEngine.listen(de,c,Re,H)}return this._transitionEngine.listen(h,c,p,b,H)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let g0=(()=>{class v{static#e=this.initialStylesByElement=new WeakMap;constructor(c,p,b){this._element=c,this._startStyles=p,this._endStyles=b,this._state=0;let H=v.initialStylesByElement.get(c);H||v.initialStylesByElement.set(c,H=new Map),this._initialStyles=H}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(pc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}return v})();function g_(v){let h=null;return v.forEach((c,p)=>{(function Lv(v){return"display"===v||"position"===v})(p)&&(h=h||new Map,h.set(p,c))}),h}class m_{constructor(h,c,p,b){this.element=h,this.keyframes=c,this.options=p,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const c=[];return h.forEach(p=>{c.push(Object.fromEntries(p))}),c}_triggerWebAnimation(h,c,p){return h.animate(this._convertKeyframesToObject(c),p)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,b)=>{"offset"!==b&&h.set(b,this._finished?p:t_(this.element,b))}),this.currentSnapshot=h}triggerCallback(h){const c="start"===h?this._onStartFns:this._onDoneFns;c.forEach(p=>p()),c.length=0}}class Vv{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,c){return!1}containsElement(h,c){return qf(h,c)}getParentElement(h){return $f(h)}query(h,c,p){return Jm(h,c,p)}computeStyle(h,c,p){return window.getComputedStyle(h)[c]}animate(h,c,p,b,H,de=[]){const gt={duration:p,delay:b,fill:0==b?"both":"forwards"};H&&(gt.easing=H);const Dt=new Map,nn=de.filter(wr=>wr instanceof m_);(function Pd(v,h){return 0===v||0===h})(p,b)&&nn.forEach(wr=>{wr.currentSnapshot.forEach((Un,On)=>Dt.set(On,Un))});let vn=function Av(v){return v.length?v[0]instanceof Map?v:v.map(h=>Ll(h)):[]}(c).map(wr=>sa(wr));vn=function xg(v,h,c){if(c.size&&h.length){let p=h[0],b=[];if(c.forEach((H,de)=>{p.has(de)||b.push(de),p.set(de,H)}),b.length)for(let H=1;H<h.length;H++){let de=h[H];b.forEach(Re=>de.set(Re,t_(v,Re)))}}return h}(h,vn,Dt);const Zn=function Fv(v,h){let c=null,p=null;return Array.isArray(h)&&h.length?(c=g_(h[0]),h.length>1&&(p=g_(h[h.length-1]))):h instanceof Map&&(c=g_(h)),c||p?new g0(v,c,p):null}(h,vn);return new m_(h,vn,gt,Zn)}}let Uv=(()=>{class v extends Ua{constructor(c,p){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(p.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(c){const p=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(c)?wh(c):c;return Ld(this._renderer,null,p,"register",[b]),new m0(p,this._renderer)}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(o.FYo),o.LFG(V.K0))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})();class m0 extends lv{constructor(h,c){super(),this._id=h,this._renderer=c}create(h,c){return new Fd(this._id,h,c||{},this._renderer)}}class Fd{constructor(h,c,p,b){this.id=h,this.element=c,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(h,c){return this._renderer.listen(this.element,`@@${this.id}:${h}`,c)}_command(h,...c){return Ld(this._renderer,this.element,this.id,h,c)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ld(v,h,c,p,b){return v.setProperty(h,`@@${c}:${p}`,b)}const l="@",e="@.disabled";let r=(()=>{class v{constructor(c,p,b){this.delegate=c,this.engine=p,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(H,de)=>{const Re=de?.parentNode(H);Re&&de.removeChild(Re,H)}}createRenderer(c,p){const H=this.delegate.createRenderer(c,p);if(!(c&&p&&p.data&&p.data.animation)){let nn=this._rendererCache.get(H);return nn||(nn=new s("",H,this.engine,()=>this._rendererCache.delete(H)),this._rendererCache.set(H,nn)),nn}const de=p.id,Re=p.id+"-"+this._currentId;this._currentId++,this.engine.register(Re,c);const gt=nn=>{Array.isArray(nn)?nn.forEach(gt):this.engine.registerTrigger(de,Re,c,nn.name,nn)};return p.data.animation.forEach(gt),new u(this,Re,H,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,p,b){c>=0&&c<this._microtaskId?this._zone.run(()=>p(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(H=>{const[de,Re]=H;de(Re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(o.FYo),o.LFG(Kg),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})();class s{constructor(h,c,p,b){this.namespaceId=h,this.delegate=c,this.engine=p,this._onDestroy=b}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,c){return this.delegate.createElement(h,c)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,c){this.delegate.appendChild(h,c),this.engine.onInsert(this.namespaceId,c,h,!1)}insertBefore(h,c,p,b=!0){this.delegate.insertBefore(h,c,p),this.engine.onInsert(this.namespaceId,c,h,b)}removeChild(h,c,p){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(h,c){return this.delegate.selectRootElement(h,c)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,c,p,b){this.delegate.setAttribute(h,c,p,b)}removeAttribute(h,c,p){this.delegate.removeAttribute(h,c,p)}addClass(h,c){this.delegate.addClass(h,c)}removeClass(h,c){this.delegate.removeClass(h,c)}setStyle(h,c,p,b){this.delegate.setStyle(h,c,p,b)}removeStyle(h,c,p){this.delegate.removeStyle(h,c,p)}setProperty(h,c,p){c.charAt(0)==l&&c==e?this.disableAnimations(h,!!p):this.delegate.setProperty(h,c,p)}setValue(h,c){this.delegate.setValue(h,c)}listen(h,c,p){return this.delegate.listen(h,c,p)}disableAnimations(h,c){this.engine.disableAnimations(h,c)}}class u extends s{constructor(h,c,p,b,H){super(c,p,b,H),this.factory=h,this.namespaceId=c}setProperty(h,c,p){c.charAt(0)==l?"."==c.charAt(1)&&c==e?this.disableAnimations(h,p=void 0===p||!!p):this.engine.process(this.namespaceId,h,c.slice(1),p):this.delegate.setProperty(h,c,p)}listen(h,c,p){if(c.charAt(0)==l){const b=function _(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(h);let H=c.slice(1),de="";return H.charAt(0)!=l&&([H,de]=function I(v){const h=v.indexOf(".");return[v.substring(0,h),v.slice(h+1)]}(H)),this.engine.listen(this.namespaceId,b,H,de,Re=>{this.factory.scheduleListenerCallback(Re._data||-1,p,Re)})}return this.delegate.listen(h,c,p)}}const me=[{provide:Ua,useClass:Uv},{provide:kd,useFactory:function U(){return new Ha}},{provide:Kg,useClass:(()=>{class v extends Kg{constructor(c,p,b,H){super(c.body,p,b)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(V.K0),o.LFG(wu),o.LFG(kd),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})()},{provide:o.FYo,useFactory:function X(v,h,c){return new r(v,h,c)},deps:[f.se,Kg,o.R0b]}],Oe=[{provide:wu,useFactory:()=>new Vv},{provide:o.QbO,useValue:"BrowserAnimations"},...me],nt=[{provide:wu,useClass:Dg},{provide:o.QbO,useValue:"NoopAnimations"},...me];let St=(()=>{class v{static withConfig(c){return{ngModule:v,providers:c.disableAnimations?nt:Oe}}static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v});static#n=this.\u0275inj=o.cJS({providers:Oe,imports:[f.b2]})}return v})();const Wn_firebase={apiKey:"AIzaSyBfMHRYkwC16Pt-IuqcVJOYjkrRgOlEVH8",authDomain:"romaniinseattle.firebaseapp.com",projectId:"romaniinseattle",storageBucket:"romaniinseattle.appspot.com",messagingSenderId:"548714995927",appId:"1:548714995927:web:70a2631d9f5d8d2f8fd092",measurementId:"G-JRXMC5D03L"};k(35),k(4303),k(9058),k(7879),k(4537);class ct{constructor(){return(0,fi.vb)("auth")}}var ll=k(1043);class im{constructor(h){return h}}const S_="firestore",om=new o.OlP("angularfire2.firestore-instances");function M_(v){return(h,c)=>{const p=h.runOutsideAngular(()=>v(c));return new im(p)}}const sm={provide:class Ud{constructor(){return(0,fi.vb)(S_)}},deps:[[new o.FiY,om]]},Kh={provide:im,useFactory:function pp(v,h){const c=(0,fi.JM)(S_,v,h);return c&&new im(c)},deps:[[new o.FiY,om],oa]};let vc=(()=>{class v{constructor(){(0,Ea.KN)("angularfire",fi.q4.full,"fst")}static \u0275fac=function(p){return new(p||v)};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[Kh,sm]})}return v})();function P_(v,...h){return{ngModule:vc,providers:[{provide:om,useFactory:M_(v),multi:!0,deps:[o.R0b,o.zs3,fi.HU,Va,[new o.FiY,ct],[new o.FiY,fi.Rf],...h]}]}}const dm=(0,fi.u3)(ll.ad,!0);var H_=k(6369),z_=k(243),Ap=k(8153);class Zd{constructor(h){return h}}const bp="storage",Tp=new o.OlP("angularfire2.storage-instances");function wp(v){return(h,c)=>{const p=h.runOutsideAngular(()=>v(c));return new Zd(p)}}const Dp={provide:class Cp{constructor(){return(0,fi.vb)(bp)}},deps:[[new o.FiY,Tp]]},$_={provide:Zd,useFactory:function Uu(v,h){const c=(0,fi.JM)(bp,v,h);return c&&new Zd(c)},deps:[[new o.FiY,Tp],oa]};let nf=(()=>{class v{constructor(){(0,Ea.KN)("angularfire",fi.q4.full,"gcs")}static \u0275fac=function(p){return new(p||v)};static \u0275mod=o.oAB({type:v});static \u0275inj=o.cJS({providers:[$_,Dp]})}return v})();function Bu(v,...h){return{ngModule:nf,providers:[{provide:Tp,useFactory:wp(v),multi:!0,deps:[o.R0b,o.zs3,fi.HU,Va,[new o.FiY,ct],[new o.FiY,fi.Rf],...h]}]}}const wt=(0,fi.u3)(Ap.cF,!0);var ca=k(5842);let af=(()=>{class v{constructor(c){this.injector=c}handleError(c){this.injector.get(ca.I).logError(c)}static#e=this.\u0275fac=function(p){return new(p||v)(o.LFG(o.zs3))};static#t=this.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac})}return v})(),Sp=(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275mod=o.oAB({type:v,bootstrap:[Xc]});static#n=this.\u0275inj=o.cJS({providers:[{provide:o.qLn,useClass:af},ca.I,fu,hu],imports:[f.b2,_a.JF,Tr.Bz,dg,St,xt,Yl,La,H_.yb,z_.TE,Ae.ww,fh,Vc.hO.initializeApp(Wn_firebase),pf(()=>ch(Wn_firebase)),P_(()=>dm()),Bu(()=>wt()),ln.UX,ln.u5,Tr.Bz]})}return v})();f.q6().bootstrapModule(Sp).catch(v=>console.error(v))},8963:an=>{an.exports=function o(V,Se,ve){function be(ge,W){if(!Se[ge]){if(!V[ge]){if(ue)return ue(ge,!0);var le=new Error("Cannot find module '"+ge+"'");throw le.code="MODULE_NOT_FOUND",le}var _e=Se[ge]={exports:{}};V[ge][0].call(_e.exports,function(pe){return be(V[ge][1][pe]||pe)},_e,_e.exports,o,V,Se,ve)}return Se[ge].exports}for(var ue=void 0,ae=0;ae<ve.length;ae++)be(ve[ae]);return be}({1:[function(o,V,Se){"use strict";var ve=o("multimath"),be=o("./mm_unsharp_mask"),ue=o("./mm_resize");function ae(ge){var W=ge||[],$={js:W.indexOf("js")>=0,wasm:W.indexOf("wasm")>=0};ve.call(this,$),this.features={js:$.js,wasm:$.wasm&&this.has_wasm()},this.use(be),this.use(ue)}(ae.prototype=Object.create(ve.prototype)).constructor=ae,ae.prototype.resizeAndUnsharp=function(W,$){var le=this.resize(W,$);return W.unsharpAmount&&this.unsharp_mask(le,W.toWidth,W.toHeight,W.unsharpAmount,W.unsharpRadius,W.unsharpThreshold),le},V.exports=ae},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(o,V,Se){"use strict";function ve($){return $<0?0:$>255?255:$}function be($){return $>=0?$:0}V.exports={convolveHor:function ue($,le,_e,pe,Me,Ne){var $e,Te,_t,It,Be,tt,Ze,Ke,ft,Ye,he,yt=0,Pt=0;for(ft=0;ft<pe;ft++){for(Be=0,Ye=0;Ye<Me;Ye++){for(tt=Ne[Be++],Ze=Ne[Be++],Ke=yt+4*tt|0,$e=Te=_t=It=0;Ze>0;Ze--)It=It+(he=Ne[Be++])*$[Ke+3]|0,_t=_t+he*$[Ke+2]|0,Te=Te+he*$[Ke+1]|0,$e=$e+he*$[Ke]|0,Ke=Ke+4|0;le[Pt+3]=be(It>>7),le[Pt+2]=be(_t>>7),le[Pt+1]=be(Te>>7),le[Pt]=be($e>>7),Pt=Pt+4*pe|0}Pt=4*(ft+1)|0,yt=(ft+1)*_e*4|0}},convolveVert:function ae($,le,_e,pe,Me,Ne){var $e,Te,_t,It,Be,tt,Ze,Ke,ft,Ye,he,yt=0,Pt=0;for(ft=0;ft<pe;ft++){for(Be=0,Ye=0;Ye<Me;Ye++){for(tt=Ne[Be++],Ze=Ne[Be++],Ke=yt+4*tt|0,$e=Te=_t=It=0;Ze>0;Ze--)It=It+(he=Ne[Be++])*$[Ke+3]|0,_t=_t+he*$[Ke+2]|0,Te=Te+he*$[Ke+1]|0,$e=$e+he*$[Ke]|0,Ke=Ke+4|0;$e>>=7,Te>>=7,_t>>=7,le[Pt+3]=ve(8192+(It>>=7)>>14),le[Pt+2]=ve(_t+8192>>14),le[Pt+1]=ve(Te+8192>>14),le[Pt]=ve($e+8192>>14),Pt=Pt+4*pe|0}Pt=4*(ft+1)|0,yt=(ft+1)*_e*4|0}},convolveHorWithPre:function ge($,le,_e,pe,Me,Ne){var $e,Te,_t,It,Be,tt,Ze,Ke,ft,Ye,he,yt,Pt=0,yn=0;for(Ye=0;Ye<pe;Ye++){for(tt=0,he=0;he<Me;he++){for(Ze=Ne[tt++],Ke=Ne[tt++],ft=Pt+4*Ze|0,$e=Te=_t=It=0;Ke>0;Ke--)It=It+(yt=Ne[tt++])*(Be=$[ft+3])|0,_t=_t+yt*$[ft+2]*Be|0,Te=Te+yt*$[ft+1]*Be|0,$e=$e+yt*$[ft]*Be|0,ft=ft+4|0;_t=_t/255|0,Te=Te/255|0,$e=$e/255|0,le[yn+3]=be(It>>7),le[yn+2]=be(_t>>7),le[yn+1]=be(Te>>7),le[yn]=be($e>>7),yn=yn+4*pe|0}yn=4*(Ye+1)|0,Pt=(Ye+1)*_e*4|0}},convolveVertWithPre:function W($,le,_e,pe,Me,Ne){var $e,Te,_t,It,Be,tt,Ze,Ke,ft,Ye,he,yt=0,Pt=0;for(ft=0;ft<pe;ft++){for(Be=0,Ye=0;Ye<Me;Ye++){for(tt=Ne[Be++],Ze=Ne[Be++],Ke=yt+4*tt|0,$e=Te=_t=It=0;Ze>0;Ze--)It=It+(he=Ne[Be++])*$[Ke+3]|0,_t=_t+he*$[Ke+2]|0,Te=Te+he*$[Ke+1]|0,$e=$e+he*$[Ke]|0,Ke=Ke+4|0;$e>>=7,Te>>=7,_t>>=7,(It=ve(8192+(It>>=7)>>14))>0&&($e=255*$e/It|0,Te=255*Te/It|0,_t=255*_t/It|0),le[Pt+3]=It,le[Pt+2]=ve(_t+8192>>14),le[Pt+1]=ve(Te+8192>>14),le[Pt]=ve($e+8192>>14),Pt=Pt+4*pe|0}Pt=4*(ft+1)|0,yt=(ft+1)*_e*4|0}}}},{}],3:[function(o,V,Se){"use strict";V.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(o,V,Se){"use strict";V.exports={name:"resize",fn:o("./resize"),wasm_fn:o("./resize_wasm"),wasm_src:o("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(o,V,Se){"use strict";var ve=o("./resize_filter_gen"),be=o("./convolve"),ue=be.convolveHor,ae=be.convolveVert,ge=be.convolveHorWithPre,W=be.convolveVertWithPre;V.exports=function(pe){var Me=pe.src,Ne=pe.width,$e=pe.height,Te=pe.toWidth,_t=pe.toHeight,It=pe.scaleX||pe.toWidth/pe.width,Be=pe.scaleY||pe.toHeight/pe.height,tt=pe.offsetX||0,Ze=pe.offsetY||0,Ke=pe.dest||new Uint8Array(Te*_t*4),ft=typeof pe.filter>"u"?"mks2013":pe.filter,Ye=ve(ft,Ne,Te,It,tt),he=ve(ft,$e,_t,Be,Ze),yt=new Uint16Array(Te*$e*4);return function $(_e,pe,Me){for(var Ne=3,$e=pe*Me*4|0;Ne<$e;){if(255!==_e[Ne])return!0;Ne=Ne+4|0}return!1}(Me,Ne,$e)?(ge(Me,yt,Ne,$e,Te,Ye),W(yt,Ke,$e,Te,_t,he)):(ue(Me,yt,Ne,$e,Te,Ye),ae(yt,Ke,$e,Te,_t,he),function le(_e,pe,Me){for(var Ne=3,$e=pe*Me*4|0;Ne<$e;)_e[Ne]=255,Ne=Ne+4|0}(Ke,Te,_t)),Ke}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(o,V,Se){"use strict";var ve=o("./resize_filter_info");function ue(ae){return Math.round(16383*ae)}V.exports=function(ge,W,$,le,_e){var Te,_t,It,Be,tt,Ze,Ke,ft,Ye,he,yt,Pt,yn,mt,Ge,Ve,pe=ve.filter[ge].fn,Me=1/le,Ne=Math.min(1,le),$e=ve.filter[ge].win/Ne,xe=Math.floor(2*($e+1)),re=new Int16Array((xe+2)*$),De=0,Le=!re.subarray||!re.set;for(Te=0;Te<$;Te++){for(_t=(Te+.5)*Me+_e,It=Math.max(0,Math.floor(_t-$e)),tt=(Be=Math.min(W-1,Math.ceil(_t+$e)))-It+1,Ze=new Float32Array(tt),Ke=new Int16Array(tt),ft=0,Ye=It,he=0;Ye<=Be;Ye++,he++)ft+=yt=pe((Ye+.5-_t)*Ne),Ze[he]=yt;for(Pt=0,he=0;he<Ze.length;he++)Pt+=yn=Ze[he]/ft,Ke[he]=ue(yn);for(Ke[$>>1]+=ue(1-Pt),mt=0;mt<Ke.length&&0===Ke[mt];)mt++;if(mt<Ke.length){for(Ge=Ke.length-1;Ge>0&&0===Ke[Ge];)Ge--;if(Ve=Ge-mt+1,re[De++]=It+mt,re[De++]=Ve,Le)for(he=mt;he<=Ge;he++)re[De++]=Ke[he];else re.set(Ke.subarray(mt,Ge+1),De),De+=Ve}else re[De++]=0,re[De++]=0}return re}},{"./resize_filter_info":7}],7:[function(o,V,Se){"use strict";V.exports={filter:{box:{win:.5,fn:function(ue){return ue<0&&(ue=-ue),ue<.5?1:0}},hamming:{win:1,fn:function(ue){if(ue<0&&(ue=-ue),ue>=1)return 0;if(ue<1.1920929e-7)return 1;var ae=ue*Math.PI;return Math.sin(ae)/ae*(.54+.46*Math.cos(ae/1))}},lanczos2:{win:2,fn:function(ue){if(ue<0&&(ue=-ue),ue>=2)return 0;if(ue<1.1920929e-7)return 1;var ae=ue*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/2)/(ae/2)}},lanczos3:{win:3,fn:function(ue){if(ue<0&&(ue=-ue),ue>=3)return 0;if(ue<1.1920929e-7)return 1;var ae=ue*Math.PI;return Math.sin(ae)/ae*Math.sin(ae/3)/(ae/3)}},mks2013:{win:2.5,fn:function(ue){return ue<0&&(ue=-ue),ue>=2.5?0:ue>=1.5?-.125*(ue-2.5)*(ue-2.5):ue>=.5?.25*(4*ue*ue-11*ue+7):1.0625-1.75*ue*ue}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(o,V,Se){"use strict";var ve=o("./resize_filter_gen");var ge=!0;try{ge=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch{}function W($,le,_e){if(ge)le.set(function ae($){return new Uint8Array($.buffer,0,$.byteLength)}($),_e);else for(var pe=_e,Me=0;Me<$.length;Me++){var Ne=$[Me];le[pe++]=255&Ne,le[pe++]=Ne>>8&255}}V.exports=function(le){var _e=le.src,pe=le.width,Me=le.height,Ne=le.toWidth,$e=le.toHeight,Te=le.scaleX||le.toWidth/le.width,_t=le.scaleY||le.toHeight/le.height,It=le.offsetX||0,Be=le.offsetY||0,tt=le.dest||new Uint8Array(Ne*$e*4),Ze=typeof le.filter>"u"?"mks2013":le.filter,Ke=ve(Ze,pe,Ne,Te,It),ft=ve(Ze,Me,$e,_t,Be),he=Math.max(_e.byteLength,tt.byteLength),yt=this.__align(0+he),yn=this.__align(yt+Me*Ne*4*2),mt=this.__align(yn+Ke.byteLength),dt=this.__instance("resize",mt+ft.byteLength),Ve=new Uint8Array(this.__memory.buffer),xe=new Uint32Array(this.__memory.buffer),re=new Uint32Array(_e.buffer);xe.set(re),W(Ke,Ve,yn),W(ft,Ve,mt);var De=dt.exports.convolveHV||dt.exports._convolveHV;return function be($,le,_e){for(var pe=3,Me=le*_e*4|0;pe<Me;){if(255!==$[pe])return!0;pe=pe+4|0}return!1}(_e,pe,Me)?De(yn,mt,yt,pe,Me,Ne,$e,1):(De(yn,mt,yt,pe,Me,Ne,$e,0),function ue($,le,_e){for(var pe=3,Me=le*_e*4|0;pe<Me;)$[pe]=255,pe=pe+4|0}(tt,Ne,$e)),new Uint32Array(tt.buffer).set(new Uint32Array(this.__memory.buffer,0,$e*Ne)),tt}},{"./resize_filter_gen":6}],9:[function(o,V,Se){"use strict";V.exports={name:"unsharp_mask",fn:o("./unsharp_mask"),wasm_fn:o("./unsharp_mask_wasm"),wasm_src:o("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(o,V,Se){"use strict";var ve=o("glur/mono16");V.exports=function(ae,ge,W,$,le,_e){var pe,Me,Ne,$e,Te;if(!(0===$||le<.5)){le>2&&(le=2);var _t=function be(ue,ae,ge){for(var le,_e,pe,W=ae*ge,$=new Uint16Array(W),Ne=0;Ne<W;Ne++)pe=ue[4*Ne+2],$[Ne]=((le=ue[4*Ne])>=(_e=ue[4*Ne+1])&&le>=pe?le:_e>=pe&&_e>=le?_e:pe)<<8;return $}(ae,ge,W),It=new Uint16Array(_t);ve(It,ge,W,le);for(var Be=$/100*4096+.5|0,tt=_e<<8,Ze=ge*W,Ke=0;Ke<Ze;Ke++)$e=(pe=_t[Ke])-It[Ke],Math.abs($e)>=tt&&(ae[Te=4*Ke]=ae[Te]*(Ne=((Me=(Me=(Me=pe+(Be*$e+2048>>12))>65280?65280:Me)<0?0:Me)<<12)/(pe=0!==pe?pe:1)|0)+2048>>12,ae[Te+1]=ae[Te+1]*Ne+2048>>12,ae[Te+2]=ae[Te+2]*Ne+2048>>12)}}},{"glur/mono16":18}],11:[function(o,V,Se){"use strict";V.exports=function(be,ue,ae,ge,W,$){if(!(0===ge||W<.5)){W>2&&(W=2);var le=ue*ae,_e=4*le,pe=2*le,Me=2*le,Ne=4*Math.max(ue,ae),_t=_e,It=_t+pe,Be=It+Me,tt=Be+Me,Ze=tt+Ne,Ke=this.__instance("unsharp_mask",_e+pe+2*Me+Ne+32,{exp:Math.exp}),ft=new Uint32Array(be.buffer);new Uint32Array(this.__memory.buffer).set(ft);var he=Ke.exports.hsv_v16||Ke.exports._hsv_v16;he(0,_t,ue,ae),(he=Ke.exports.blurMono16||Ke.exports._blurMono16)(_t,It,Be,tt,Ze,ue,ae,W),(he=Ke.exports.unsharp||Ke.exports._unsharp)(0,0,_t,It,ue,ae,ge,$),ft.set(new Uint32Array(this.__memory.buffer,0,le))}}},{}],12:[function(o,V,Se){"use strict";V.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(o,V,Se){"use strict";function be(ue,ae){this.create=ue,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=ae||2e3}be.prototype.acquire=function(){var ae,ue=this;return 0!==this.available.length?ae=this.available.pop():((ae=this.create()).id=this.lastId++,ae.release=function(){return ue.release(ae)}),this.acquired[ae.id]=ae,ae},be.prototype.release=function(ue){var ae=this;delete this.acquired[ue.id],ue.lastUsed=Date.now(),this.available.push(ue),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return ae.gc()},100))},be.prototype.gc=function(){var ue=this,ae=Date.now();this.available=this.available.filter(function(ge){return!(ae-ge.lastUsed>ue.idle&&(ge.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return ue.gc()},100):0},V.exports=be},{}],14:[function(o,V,Se){"use strict";V.exports=function(ue,ae,ge,W,$,le){var Me=(2*le+2+1)/$;if(Me>.5)return[[ge,W]];var Ne=Math.ceil(Math.log(Math.min(ge/ue,W/ae))/Math.log(Me));if(Ne<=1)return[[ge,W]];for(var $e=[],Te=0;Te<Ne;Te++){var _t=Math.round(Math.pow(Math.pow(ue,Ne-Te-1)*Math.pow(ge,Te+1),1/Ne)),It=Math.round(Math.pow(Math.pow(ae,Ne-Te-1)*Math.pow(W,Te+1),1/Ne));$e.push([_t,It])}return $e}},{}],15:[function(o,V,Se){"use strict";function be(ae){var ge=Math.round(ae);return Math.abs(ae-ge)<1e-5?ge:Math.floor(ae)}function ue(ae){var ge=Math.round(ae);return Math.abs(ae-ge)<1e-5?ge:Math.ceil(ae)}V.exports=function(ge){var W=ge.toWidth/ge.width,$=ge.toHeight/ge.height,le=be(ge.srcTileSize*W)-2*ge.destTileBorder,_e=be(ge.srcTileSize*$)-2*ge.destTileBorder;if(le<1||_e<1)throw new Error("Internal error in pica: target tile width/height is too small.");var pe,Me,Ne,$e,Te,_t,Be,It=[];for($e=0;$e<ge.toHeight;$e+=_e)for(Ne=0;Ne<ge.toWidth;Ne+=le)(pe=Ne-ge.destTileBorder)<0&&(pe=0),pe+(Te=Ne+le+ge.destTileBorder-pe)>=ge.toWidth&&(Te=ge.toWidth-pe),(Me=$e-ge.destTileBorder)<0&&(Me=0),Me+(_t=$e+_e+ge.destTileBorder-Me)>=ge.toHeight&&(_t=ge.toHeight-Me),Be={toX:pe,toY:Me,toWidth:Te,toHeight:_t,toInnerX:Ne,toInnerY:$e,toInnerWidth:le,toInnerHeight:_e,offsetX:pe/W-be(pe/W),offsetY:Me/$-be(Me/$),scaleX:W,scaleY:$,x:be(pe/W),y:be(Me/$),width:ue(Te/W),height:ue(_t/$)},It.push(Be);return It}},{}],16:[function(o,V,Se){"use strict";function ve(be){return Object.prototype.toString.call(be)}V.exports.isCanvas=function(ue){var ae=ve(ue);return"[object HTMLCanvasElement]"===ae||"[object OffscreenCanvas]"===ae||"[object Canvas]"===ae},V.exports.isImage=function(ue){return"[object HTMLImageElement]"===ve(ue)},V.exports.isImageBitmap=function(ue){return"[object ImageBitmap]"===ve(ue)},V.exports.limiter=function(ue){var ae=0,ge=[];function W(){ae<ue&&ge.length&&(ae++,ge.shift()())}return function(le){return new Promise(function(_e,pe){ge.push(function(){le().then(function(Me){_e(Me),ae--,W()},function(Me){pe(Me),ae--,W()})}),W()})}},V.exports.cib_quality_name=function(ue){switch(ue){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},V.exports.cib_support=function(ue){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var ae=ue(100,100);return createImageBitmap(ae,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(ge){var W=10===ge.width;return ge.close(),ae=null,W})}).catch(function(){return!1})},V.exports.worker_offscreen_canvas_support=function(){return new Promise(function(ue,ae){if(typeof OffscreenCanvas>"u")ue(!1);else{var W=btoa("(".concat(function ge(le){typeof createImageBitmap>"u"?le.postMessage(!1):Promise.resolve().then(function(){var _e=new OffscreenCanvas(10,10);return _e.getContext("2d").rect(0,0,1,1),createImageBitmap(_e,0,0,1,1)}).then(function(){return le.postMessage(!0)},function(){return le.postMessage(!1)})}.toString(),")(self);")),$=new Worker("data:text/javascript;base64,".concat(W));$.onmessage=function(le){return ue(le.data)},$.onerror=ae}}).then(function(ue){return ue},function(){return!1})},V.exports.can_use_canvas=function(ue){var ae=!1;try{var W=ue(2,1).getContext("2d"),$=W.createImageData(2,1);$.data[0]=12,$.data[1]=23,$.data[2]=34,$.data[3]=255,$.data[4]=45,$.data[5]=56,$.data[6]=67,$.data[7]=255,W.putImageData($,0,0),$=null,12===($=W.getImageData(0,0,2,1)).data[0]&&23===$.data[1]&&34===$.data[2]&&255===$.data[3]&&45===$.data[4]&&56===$.data[5]&&67===$.data[6]&&255===$.data[7]&&(ae=!0)}catch{}return ae},V.exports.cib_can_use_region=function(){return new Promise(function(ue){if(typeof Image>"u"||typeof createImageBitmap>"u")ue(!1);else{var ae=new Image;ae.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",ae.onload=function(){createImageBitmap(ae,0,0,ae.width,ae.height).then(function(ge){ue(ge.width===ae.width&&ge.height===ae.height)},function(){return ue(!1)})},ae.onerror=function(){return ue(!1)}}})}},{}],17:[function(o,V,Se){"use strict";V.exports=function(){var be,ve=o("./mathlib");onmessage=function(ae){var ge=ae.data.opts;if(!ge.src&&ge.srcBitmap){var $=new OffscreenCanvas(ge.width,ge.height),le=$.getContext("2d");le.drawImage(ge.srcBitmap,0,0),ge.src=le.getImageData(0,0,ge.width,ge.height).data,$.width=$.height=0,$=null,ge.srcBitmap.close(),ge.srcBitmap=null}be||(be=new ve(ae.data.features));var _e=be.resizeAndUnsharp(ge);postMessage({data:_e},[_e.buffer])}}},{"./mathlib":1}],18:[function(o,V,Se){var ve,be,ue,ae,ge,W;function pe(Ne,$e,Te,_t,It,Be){var tt,Ze,Ke,ft,Ye,he,yt,Pt,yn,mt,Ge,dt,Ve,xe;for(yn=0;yn<Be;yn++){for(yt=yn,Pt=0,ft=Ye=(tt=Ne[he=yn*It])*_t[6],Ge=_t[0],dt=_t[1],Ve=_t[4],xe=_t[5],mt=0;mt<It;mt++)Ke=(Ze=Ne[he])*Ge+tt*dt+ft*Ve+Ye*xe,Ye=ft,tt=Ze,Te[Pt]=ft=Ke,Pt++,he++;for(Pt--,yt+=Be*(It-1),ft=Ye=(tt=Ne[--he])*_t[7],Ze=tt,Ge=_t[2],dt=_t[3],mt=It-1;mt>=0;mt--)Ke=Ze*Ge+tt*dt+ft*Ve+Ye*xe,Ye=ft,tt=Ze,Ze=Ne[he],$e[yt]=Te[Pt]+(ft=Ke),he--,Pt--,yt-=Be}}V.exports=function Me(Ne,$e,Te,_t){if(_t){var It=new Uint16Array(Ne.length),Be=new Float32Array(Math.max($e,Te)),tt=function _e(Ne){Ne<.5&&(Ne=.5);var $e=Math.exp(.527076)/Ne,Te=Math.exp(-$e),_t=Math.exp(-2*$e),It=(1-Te)*(1-Te)/(1+2*$e*Te-_t);return ve=It,be=It*($e-1)*Te,ue=It*($e+1)*Te,ae=-It*_t,ge=2*Te,W=-_t,new Float32Array([ve,be,ue,ae,ge,W,(ve+be)/(1-ge-W),(ue+ae)/(1-ge-W)])}(_t);pe(Ne,It,Be,tt,$e,Te),pe(It,Ne,Be,tt,Te,$e)}}},{}],19:[function(o,V,Se){"use strict";var ve=o("object-assign"),be=o("./lib/base64decode"),ue=o("./lib/wa_detect"),ae={js:!0,wasm:!0};function ge(W){if(!(this instanceof ge))return new ge(W);var $=ve({},ae,W||{});if(this.options=$,this.__cache={},this.__init_promise=null,this.__modules=$.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}ge.prototype.has_wasm=ue,ge.prototype.use=function(W){return this.__modules[W.name]=W,this[W.name]=this.options.wasm&&this.has_wasm()&&W.wasm_fn?W.wasm_fn:W.fn,this},ge.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var W=this;return this.__init_promise=Promise.all(Object.keys(W.__modules).map(function($){var le=W.__modules[$];return W.options.wasm&&W.has_wasm()&&le.wasm_fn&&!W.__wasm[$]?WebAssembly.compile(W.__base64decode(le.wasm_src)).then(function(_e){W.__wasm[$]=_e}):null})).then(function(){return W}),this.__init_promise},ge.prototype.__base64decode=be,ge.prototype.__reallocate=function($){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil($/65536)}),this.__memory;var le=this.__memory.buffer.byteLength;return le<$&&this.__memory.grow(Math.ceil(($-le)/65536)),this.__memory},ge.prototype.__instance=function($,le,_e){if(le&&this.__reallocate(le),this.__wasm[$]||(this.__wasm[$]=new WebAssembly.Module(this.__base64decode(this.__modules[$].wasm_src))),!this.__cache[$]){var Me={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[$]=new WebAssembly.Instance(this.__wasm[$],{env:ve(Me,_e||{})})}return this.__cache[$]},ge.prototype.__align=function($,le){var _e=$%(le=le||8);return $+(_e?le-_e:0)},V.exports=ge},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(o,V,Se){"use strict";V.exports=function(ue){for(var ae=ue.replace(/[\r\n=]/g,""),ge=ae.length,W=new Uint8Array(3*ge>>2),$=0,le=0,_e=0;_e<ge;_e++)_e%4==0&&_e&&(W[le++]=$>>16&255,W[le++]=$>>8&255,W[le++]=255&$),$=$<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(ae.charAt(_e));var pe=ge%4*6;return 0===pe?(W[le++]=$>>16&255,W[le++]=$>>8&255,W[le++]=255&$):18===pe?(W[le++]=$>>10&255,W[le++]=$>>2&255):12===pe&&(W[le++]=$>>4&255),W}},{}],21:[function(o,V,Se){"use strict";var ve;V.exports=function(){if(typeof ve<"u"||(ve=!1,typeof WebAssembly>"u"))return ve;try{var ue=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),ae=new WebAssembly.Module(ue);return 0!==new WebAssembly.Instance(ae,{}).exports.test(4)&&(ve=!0),ve}catch{}return ve}},{}],22:[function(o,V,Se){"use strict";var ve=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;V.exports=function ge(){try{if(!Object.assign)return!1;var W=new String("abc");if(W[5]="de","5"===Object.getOwnPropertyNames(W)[0])return!1;for(var $={},le=0;le<10;le++)$["_"+String.fromCharCode(le)]=le;if("0123456789"!==Object.getOwnPropertyNames($).map(function(Me){return $[Me]}).join(""))return!1;var pe={};return"abcdefghijklmnopqrst".split("").forEach(function(Me){pe[Me]=Me}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},pe)).join("")}catch{return!1}}()?Object.assign:function(W,$){for(var le,pe,_e=function ae(W){if(null==W)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(W)}(W),Me=1;Me<arguments.length;Me++){for(var Ne in le=Object(arguments[Me]))be.call(le,Ne)&&(_e[Ne]=le[Ne]);if(ve){pe=ve(le);for(var $e=0;$e<pe.length;$e++)ue.call(le,pe[$e])&&(_e[pe[$e]]=le[pe[$e]])}}return _e}},{}],23:[function(o,V,Se){var ve=arguments[3],be=arguments[4],ue=arguments[5],ae=JSON.stringify;V.exports=function(ge,W){for(var $,le=Object.keys(ue),_e=0,pe=le.length;_e<pe;_e++){var Ne=ue[Me=le[_e]].exports;if(Ne===ge||Ne&&Ne.default===ge){$=Me;break}}if(!$){$=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var $e={};for(_e=0,pe=le.length;_e<pe;_e++){var Me;$e[Me=le[_e]]=Me}be[$]=["function(require,module,exports){"+ge+"(self); }",$e]}var Te=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_t={};_t[$]=$,be[Te]=["function(require,module,exports){var f = require("+ae($)+");(f.default ? f.default : f)(self);}",_t];var It={};!function Be(he){for(var yt in It[he]=!0,be[he][1]){var Pt=be[he][1][yt];It[Pt]||Be(Pt)}}(Te);var tt="("+ve+")({"+Object.keys(It).map(function(he){return ae(he)+":["+be[he][0]+","+ae(be[he][1])+"]"}).join(",")+"},{},["+ae(Te)+"])",Ze=window.URL||window.webkitURL||window.mozURL||window.msURL,Ke=new Blob([tt],{type:"text/javascript"});if(W&&W.bare)return Ke;var ft=Ze.createObjectURL(Ke),Ye=new Worker(ft);return Ye.objectURL=ft,Ye}},{}],"/index.js":[function(o,V,Se){"use strict";function ve(Ge,dt){return function W(Ge){if(Array.isArray(Ge))return Ge}(Ge)||function ge(Ge,dt){var Ve=null==Ge?null:typeof Symbol<"u"&&Ge[Symbol.iterator]||Ge["@@iterator"];if(null!=Ve){var Le,Xe,xe=[],re=!0,De=!1;try{for(Ve=Ve.call(Ge);!(re=(Le=Ve.next()).done)&&(xe.push(Le.value),!dt||xe.length!==dt);re=!0);}catch(ut){De=!0,Xe=ut}finally{try{!re&&null!=Ve.return&&Ve.return()}finally{if(De)throw Xe}}return xe}}(Ge,dt)||function ue(Ge,dt){if(Ge){if("string"==typeof Ge)return ae(Ge,dt);var Ve=Object.prototype.toString.call(Ge).slice(8,-1);if("Object"===Ve&&Ge.constructor&&(Ve=Ge.constructor.name),"Map"===Ve||"Set"===Ve)return Array.from(Ge);if("Arguments"===Ve||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return ae(Ge,dt)}}(Ge,dt)||function be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(Ge,dt){(null==dt||dt>Ge.length)&&(dt=Ge.length);for(var Ve=0,xe=new Array(dt);Ve<dt;Ve++)xe[Ve]=Ge[Ve];return xe}var $=o("object-assign"),le=o("webworkify"),_e=o("./lib/mathlib"),pe=o("./lib/pool"),Me=o("./lib/utils"),Ne=o("./lib/worker"),$e=o("./lib/stepper"),Te=o("./lib/tiler"),_t=o("./lib/mm_resize/resize_filter_info"),It={},Be=!1;try{typeof navigator<"u"&&navigator.userAgent&&(Be=navigator.userAgent.indexOf("Safari")>=0)}catch{}var tt=1;typeof navigator<"u"&&(tt=Math.min(navigator.hardwareConcurrency||1,4));var Ze={tile:1024,concurrency:tt,features:["js","wasm","ww"],idle:2e3,createCanvas:function(dt,Ve){var xe=document.createElement("canvas");return xe.width=dt,xe.height=Ve,xe}},Ke={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},ft=!1,Ye=!1,he=!1,yt=!1,Pt=!1;function yn(){return{value:le(Ne),destroy:function(){if(this.value.terminate(),typeof window<"u"){var dt=window.URL||window.webkitURL||window.mozURL||window.msURL;dt&&dt.revokeObjectURL&&this.value.objectURL&&dt.revokeObjectURL(this.value.objectURL)}}}}function mt(Ge){if(!(this instanceof mt))return new mt(Ge);this.options=$({},Ze,Ge||{});var dt="lk_".concat(this.options.concurrency);this.__limit=It[dt]||Me.limiter(this.options.concurrency),It[dt]||(It[dt]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}mt.prototype.init=function(){var Ge=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),ft=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?Ye=!0:this.debug("ImageBitmap does not support .close(), disabled"));var dt=this.options.features.slice();if(dt.indexOf("all")>=0&&(dt=["cib","wasm","js","ww"]),this.__requested_features=dt,this.__mathlib=new _e(dt),dt.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{o("webworkify")(function(){}).terminate(),this.features.ww=!0;var xe="wp_".concat(JSON.stringify(this.options));It[xe]?this.__workersPool=It[xe]:(this.__workersPool=new pe(yn,this.options.idle),It[xe]=this.__workersPool)}catch{}var De,Le,re=this.__mathlib.init().then(function(ut){$(Ge.features,ut.features)});De=Ye?Me.cib_support(this.options.createCanvas).then(function(ut){Ge.features.cib&&dt.indexOf("cib")<0?Ge.debug("createImageBitmap() resize supported, but disabled by config"):dt.indexOf("cib")>=0&&(Ge.features.cib=ut)}):Promise.resolve(!1),he=Me.can_use_canvas(this.options.createCanvas),Le=(Le=Ye&&ft&&-1!==dt.indexOf("ww")?Me.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(ut){yt=ut});var Xe=Me.cib_can_use_region().then(function(ut){Pt=ut});return this.__initPromise=Promise.all([re,De,Le,Xe]).then(function(){return Ge}),this.__initPromise},mt.prototype.__invokeResize=function(Ge,dt){var Ve=this;return dt.__mathCache=dt.__mathCache||{},Promise.resolve().then(function(){return Ve.features.ww?new Promise(function(xe,re){var De=Ve.__workersPool.acquire();dt.cancelToken&&dt.cancelToken.catch(function(Xe){return re(Xe)}),De.value.onmessage=function(Xe){De.release(),Xe.data.err?re(Xe.data.err):xe(Xe.data)};var Le=[];Ge.src&&Le.push(Ge.src.buffer),Ge.srcBitmap&&Le.push(Ge.srcBitmap),De.value.postMessage({opts:Ge,features:Ve.__requested_features,preload:{wasm_nodule:Ve.__mathlib.__}},Le)}):{data:Ve.__mathlib.resizeAndUnsharp(Ge,dt.__mathCache)}})},mt.prototype.__extractTileData=function(Ge,dt,Ve,xe,re){if(this.features.ww&&yt&&(Me.isCanvas(dt)||Pt))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(xe.srcImageBitmap||dt,Ge.x,Ge.y,Ge.width,Ge.height).then(function(Xe){return re.srcBitmap=Xe,re});if(Me.isCanvas(dt))return xe.srcCtx||(xe.srcCtx=dt.getContext("2d")),this.debug("Get tile pixel data"),re.src=xe.srcCtx.getImageData(Ge.x,Ge.y,Ge.width,Ge.height).data,re;this.debug("Draw tile imageBitmap/image to temporary canvas");var De=this.options.createCanvas(Ge.width,Ge.height),Le=De.getContext("2d");return Le.globalCompositeOperation="copy",Le.drawImage(xe.srcImageBitmap||dt,Ge.x,Ge.y,Ge.width,Ge.height,0,0,Ge.width,Ge.height),this.debug("Get tile pixel data"),re.src=Le.getImageData(0,0,Ge.width,Ge.height).data,De.width=De.height=0,re},mt.prototype.__landTileData=function(Ge,dt,Ve){var xe;if(this.debug("Convert raw rgba tile result to ImageData"),dt.bitmap)return Ve.toCtx.drawImage(dt.bitmap,Ge.toX,Ge.toY),null;if(ft)xe=new ImageData(new Uint8ClampedArray(dt.data),Ge.toWidth,Ge.toHeight);else if((xe=Ve.toCtx.createImageData(Ge.toWidth,Ge.toHeight)).data.set)xe.data.set(dt.data);else for(var re=xe.data.length-1;re>=0;re--)xe.data[re]=dt.data[re];return this.debug("Draw tile"),Be?Ve.toCtx.putImageData(xe,Ge.toX,Ge.toY,Ge.toInnerX-Ge.toX,Ge.toInnerY-Ge.toY,Ge.toInnerWidth+1e-5,Ge.toInnerHeight+1e-5):Ve.toCtx.putImageData(xe,Ge.toX,Ge.toY,Ge.toInnerX-Ge.toX,Ge.toInnerY-Ge.toY,Ge.toInnerWidth,Ge.toInnerHeight),null},mt.prototype.__tileAndResize=function(Ge,dt,Ve){var xe=this,re={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(re.toCtx=dt.getContext("2d"),Me.isCanvas(Ge))return null;if(Me.isImageBitmap(Ge))return re.srcImageBitmap=Ge,re.isImageBitmapReused=!0,null;if(Me.isImage(Ge))return Ye?(xe.debug("Decode image via createImageBitmap"),createImageBitmap(Ge).then(function(Le){re.srcImageBitmap=Le}).catch(function(Le){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(Ve.canceled)return Ve.cancelToken;xe.debug("Calculate tiles");var Xe=Te({width:Ve.width,height:Ve.height,srcTileSize:xe.options.tile,toWidth:Ve.toWidth,toHeight:Ve.toHeight,destTileBorder:Ve.__destTileBorder}).map(function(Et){return function(Xe){return xe.__limit(function(){if(Ve.canceled)return Ve.cancelToken;var ut={width:Xe.width,height:Xe.height,toWidth:Xe.toWidth,toHeight:Xe.toHeight,scaleX:Xe.scaleX,scaleY:Xe.scaleY,offsetX:Xe.offsetX,offsetY:Xe.offsetY,filter:Ve.filter,unsharpAmount:Ve.unsharpAmount,unsharpRadius:Ve.unsharpRadius,unsharpThreshold:Ve.unsharpThreshold};return xe.debug("Invoke resize math"),Promise.resolve(ut).then(function(Et){return xe.__extractTileData(Xe,Ge,Ve,re,Et)}).then(function(Et){return xe.debug("Invoke resize math"),xe.__invokeResize(Et,Ve)}).then(function(Et){return Ve.canceled?Ve.cancelToken:(re.srcImageData=null,xe.__landTileData(Xe,Et,re))})})}(Et)});function ut(Et){Et.srcImageBitmap&&(Et.isImageBitmapReused||Et.srcImageBitmap.close(),Et.srcImageBitmap=null)}return xe.debug("Process tiles"),Promise.all(Xe).then(function(){return xe.debug("Finished!"),ut(re),dt},function(Et){throw ut(re),Et})})},mt.prototype.__processStages=function(Ge,dt,Ve,xe){var re=this;if(xe.canceled)return xe.cancelToken;var Bt,Qt,Le=ve(Ge.shift(),2),Xe=Le[0],ut=Le[1],Et=0===Ge.length;return Bt=Et||_t.q2f.indexOf(xe.filter)<0?xe.filter:"box"===xe.filter?"box":"hamming",xe=$({},xe,{toWidth:Xe,toHeight:ut,filter:Bt}),Et||(Qt=this.options.createCanvas(Xe,ut)),this.__tileAndResize(dt,Et?Ve:Qt,xe).then(function(){return Et?Ve:(xe.width=Xe,xe.height=ut,re.__processStages(Ge,Qt,Ve,xe))}).then(function(Jt){return Qt&&(Qt.width=Qt.height=0),Jt})},mt.prototype.__resizeViaCreateImageBitmap=function(Ge,dt,Ve){var xe=this,re=dt.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(Ge,{resizeWidth:Ve.toWidth,resizeHeight:Ve.toHeight,resizeQuality:Me.cib_quality_name(_t.f2q[Ve.filter])}).then(function(De){if(Ve.canceled)return Ve.cancelToken;if(!Ve.unsharpAmount)return re.drawImage(De,0,0),De.close(),re=null,xe.debug("Finished!"),dt;xe.debug("Unsharp result");var Le=xe.options.createCanvas(Ve.toWidth,Ve.toHeight),Xe=Le.getContext("2d");Xe.drawImage(De,0,0),De.close();var ut=Xe.getImageData(0,0,Ve.toWidth,Ve.toHeight);return xe.__mathlib.unsharp_mask(ut.data,Ve.toWidth,Ve.toHeight,Ve.unsharpAmount,Ve.unsharpRadius,Ve.unsharpThreshold),re.putImageData(ut,0,0),Le.width=Le.height=0,ut=Xe=Le=re=null,xe.debug("Finished!"),dt})},mt.prototype.resize=function(Ge,dt,Ve){var xe=this;this.debug("Start resize...");var re=$({},Ke);if(isNaN(Ve)?Ve&&(re=$(re,Ve)):re=$(re,{quality:Ve}),re.toWidth=dt.width,re.toHeight=dt.height,re.width=Ge.naturalWidth||Ge.width,re.height=Ge.naturalHeight||Ge.height,Object.prototype.hasOwnProperty.call(re,"quality")){if(re.quality<0||re.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(re.quality));re.filter=_t.q2f[re.quality]}return 0===dt.width||0===dt.height?Promise.reject(new Error("Invalid output size: ".concat(dt.width,"x").concat(dt.height))):(re.unsharpRadius>2&&(re.unsharpRadius=2),re.canceled=!1,re.cancelToken&&(re.cancelToken=re.cancelToken.then(function(Le){throw re.canceled=!0,Le},function(Le){throw re.canceled=!0,Le})),re.__destTileBorder=Math.ceil(Math.max(3,2.5*re.unsharpRadius|0)),this.init().then(function(){if(re.canceled)return re.cancelToken;if(xe.features.cib){if(_t.q2f.indexOf(re.filter)>=0)return xe.__resizeViaCreateImageBitmap(Ge,dt,re);xe.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!he){var Le=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw Le.code="ERR_GET_IMAGE_DATA",Le}var Xe=$e(re.width,re.height,re.toWidth,re.toHeight,xe.options.tile,re.__destTileBorder);return xe.__processStages(Xe,Ge,dt,re)}))},mt.prototype.resizeBuffer=function(Ge){var dt=this,Ve=$({},Ke,Ge);if(Object.prototype.hasOwnProperty.call(Ve,"quality")){if(Ve.quality<0||Ve.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Ve.quality));Ve.filter=_t.q2f[Ve.quality]}return this.init().then(function(){return dt.__mathlib.resizeAndUnsharp(Ve)})},mt.prototype.toBlob=function(Ge,dt,Ve){return dt=dt||"image/png",new Promise(function(xe){if(Ge.toBlob)Ge.toBlob(function(ut){return xe(ut)},dt,Ve);else if(Ge.convertToBlob)xe(Ge.convertToBlob({type:dt,quality:Ve}));else{for(var re=atob(Ge.toDataURL(dt,Ve).split(",")[1]),De=re.length,Le=new Uint8Array(De),Xe=0;Xe<De;Xe++)Le[Xe]=re.charCodeAt(Xe);xe(new Blob([Le],{type:dt}))}})},mt.prototype.debug=function(){},V.exports=mt},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},5619:(an,lt,k)=>{"use strict";k.d(lt,{X:()=>o});var f=k(8645);class o extends f.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const ve=super._subscribe(Se);return!ve.closed&&Se.next(this._value),ve}getValue(){const{hasError:Se,thrownError:ve,_value:be}=this;if(Se)throw ve;return this._throwIfClosed(),be}next(Se){super.next(this._value=Se)}}},5592:(an,lt,k)=>{"use strict";k.d(lt,{y:()=>ae});var f=k(305),o=k(7394),V=k(4850),Se=k(8407),ve=k(2653),be=k(4674),ue=k(1441);let ae=(()=>{class le{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const Me=new le;return Me.source=this,Me.operator=pe,Me}subscribe(pe,Me,Ne){const $e=function $(le){return le&&le instanceof f.Lv||function W(le){return le&&(0,be.m)(le.next)&&(0,be.m)(le.error)&&(0,be.m)(le.complete)}(le)&&(0,o.Nn)(le)}(pe)?pe:new f.Hp(pe,Me,Ne);return(0,ue.x)(()=>{const{operator:Te,source:_t}=this;$e.add(Te?Te.call($e,_t):_t?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(pe){try{return this._subscribe(pe)}catch(Me){pe.error(Me)}}forEach(pe,Me){return new(Me=ge(Me))((Ne,$e)=>{const Te=new f.Hp({next:_t=>{try{pe(_t)}catch(It){$e(It),Te.unsubscribe()}},error:$e,complete:Ne});this.subscribe(Te)})}_subscribe(pe){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(pe)}[V.L](){return this}pipe(...pe){return(0,Se.U)(pe)(this)}toPromise(pe){return new(pe=ge(pe))((Me,Ne)=>{let $e;this.subscribe(Te=>$e=Te,Te=>Ne(Te),()=>Me($e))})}}return le.create=_e=>new le(_e),le})();function ge(le){var _e;return null!==(_e=le??ve.config.Promise)&&void 0!==_e?_e:Promise}},8645:(an,lt,k)=>{"use strict";k.d(lt,{x:()=>ue});var f=k(5592),o=k(7394);const Se=(0,k(2306).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=k(9039),be=k(1441);let ue=(()=>{class ge extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const le=new ae(this,this);return le.operator=$,le}_throwIfClosed(){if(this.closed)throw new Se}next($){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next($)}})}error($){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:le}=this;for(;le.length;)le.shift().error($)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:le,isStopped:_e,observers:pe}=this;return le||_e?o.Lc:(this.currentObservers=null,pe.push($),new o.w0(()=>{this.currentObservers=null,(0,ve.P)(pe,$)}))}_checkFinalizedStatuses($){const{hasError:le,thrownError:_e,isStopped:pe}=this;le?$.error(_e):pe&&$.complete()}asObservable(){const $=new f.y;return $.source=this,$}}return ge.create=(W,$)=>new ae(W,$),ge})();class ae extends ue{constructor(W,$){super(),this.destination=W,this.source=$}next(W){var $,le;null===(le=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===le||le.call($,W)}error(W){var $,le;null===(le=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===le||le.call($,W)}complete(){var W,$;null===($=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===$||$.call(W)}_subscribe(W){var $,le;return null!==(le=null===($=this.source)||void 0===$?void 0:$.subscribe(W))&&void 0!==le?le:o.Lc}}},305:(an,lt,k)=>{"use strict";k.d(lt,{Hp:()=>Ne,Lv:()=>le});var f=k(4674),o=k(7394),V=k(2653),Se=k(3894),ve=k(2420);const be=ge("C",void 0,void 0);function ge(Be,tt,Ze){return{kind:Be,value:tt,error:Ze}}var W=k(7599),$=k(1441);class le extends o.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,o.Nn)(tt)&&tt.add(this)):this.destination=It}static create(tt,Ze,Ke){return new Ne(tt,Ze,Ke)}next(tt){this.isStopped?_t(function ae(Be){return ge("N",Be,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?_t(function ue(Be){return ge("E",void 0,Be)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?_t(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _e=Function.prototype.bind;function pe(Be,tt){return _e.call(Be,tt)}class Me{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(tt)}catch(Ke){$e(Ke)}}error(tt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(tt)}catch(Ke){$e(Ke)}else $e(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ze){$e(Ze)}}}class Ne extends le{constructor(tt,Ze,Ke){let ft;if(super(),(0,f.m)(tt)||!tt)ft={next:tt??void 0,error:Ze??void 0,complete:Ke??void 0};else{let Ye;this&&V.config.useDeprecatedNextContext?(Ye=Object.create(tt),Ye.unsubscribe=()=>this.unsubscribe(),ft={next:tt.next&&pe(tt.next,Ye),error:tt.error&&pe(tt.error,Ye),complete:tt.complete&&pe(tt.complete,Ye)}):ft=tt}this.destination=new Me(ft)}}function $e(Be){V.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(Be):(0,Se.h)(Be)}function _t(Be,tt){const{onStoppedNotification:Ze}=V.config;Ze&&W.z.setTimeout(()=>Ze(Be,tt))}const It={closed:!0,next:ve.Z,error:function Te(Be){throw Be},complete:ve.Z}},7394:(an,lt,k)=>{"use strict";k.d(lt,{Lc:()=>be,w0:()=>ve,Nn:()=>ue});var f=k(4674);const V=(0,k(2306).d)(ge=>function($){ge(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((le,_e)=>`${_e+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var Se=k(9039);class ve{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const pe of $)pe.remove(this);else $.remove(this);const{initialTeardown:le}=this;if((0,f.m)(le))try{le()}catch(pe){W=pe instanceof V?pe.errors:[pe]}const{_finalizers:_e}=this;if(_e){this._finalizers=null;for(const pe of _e)try{ae(pe)}catch(Me){W=W??[],Me instanceof V?W=[...W,...Me.errors]:W.push(Me)}}if(W)throw new V(W)}}add(W){var $;if(W&&W!==this)if(this.closed)ae(W);else{if(W instanceof ve){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(W)}}_hasParent(W){const{_parentage:$}=this;return $===W||Array.isArray($)&&$.includes(W)}_addParent(W){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(W),$):$?[$,W]:W}_removeParent(W){const{_parentage:$}=this;$===W?this._parentage=null:Array.isArray($)&&(0,Se.P)($,W)}remove(W){const{_finalizers:$}=this;$&&(0,Se.P)($,W),W instanceof ve&&W._removeParent(this)}}ve.EMPTY=(()=>{const ge=new ve;return ge.closed=!0,ge})();const be=ve.EMPTY;function ue(ge){return ge instanceof ve||ge&&"closed"in ge&&(0,f.m)(ge.remove)&&(0,f.m)(ge.add)&&(0,f.m)(ge.unsubscribe)}function ae(ge){(0,f.m)(ge)?ge():ge.unsubscribe()}},2653:(an,lt,k)=>{"use strict";k.d(lt,{config:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(an,lt,k)=>{"use strict";k.d(lt,{a:()=>W});var f=k(5592),o=k(7453),V=k(2459),Se=k(2737),ve=k(7400),be=k(4564),ue=k(2714),ae=k(8251),ge=k(7103);function W(..._e){const pe=(0,be.yG)(_e),Me=(0,be.jO)(_e),{args:Ne,keys:$e}=(0,o.D)(_e);if(0===Ne.length)return(0,V.D)([],pe);const Te=new f.y(function $(_e,pe,Me=Se.y){return Ne=>{le(pe,()=>{const{length:$e}=_e,Te=new Array($e);let _t=$e,It=$e;for(let Be=0;Be<$e;Be++)le(pe,()=>{const tt=(0,V.D)(_e[Be],pe);let Ze=!1;tt.subscribe((0,ae.x)(Ne,Ke=>{Te[Be]=Ke,Ze||(Ze=!0,It--),It||Ne.next(Me(Te.slice()))},()=>{--_t||Ne.complete()}))},Ne)},Ne)}}(Ne,pe,$e?_t=>(0,ue.n)($e,_t):Se.y));return Me?Te.pipe((0,ve.Z)(Me)):Te}function le(_e,pe,Me){_e?(0,ge.f)(Me,_e,pe):pe()}},5211:(an,lt,k)=>{"use strict";k.d(lt,{z:()=>ve});var f=k(7537),V=k(4564),Se=k(2459);function ve(...be){return function o(){return(0,f.J)(1)}()((0,Se.D)(be,(0,V.yG)(be)))}},6232:(an,lt,k)=>{"use strict";k.d(lt,{E:()=>o});const o=new(k(5592).y)(ve=>ve.complete())},9315:(an,lt,k)=>{"use strict";k.d(lt,{D:()=>ae});var f=k(5592),o=k(7453),V=k(4829),Se=k(4564),ve=k(8251),be=k(7400),ue=k(2714);function ae(...ge){const W=(0,Se.jO)(ge),{args:$,keys:le}=(0,o.D)(ge),_e=new f.y(pe=>{const{length:Me}=$;if(!Me)return void pe.complete();const Ne=new Array(Me);let $e=Me,Te=Me;for(let _t=0;_t<Me;_t++){let It=!1;(0,V.Xf)($[_t]).subscribe((0,ve.x)(pe,Be=>{It||(It=!0,Te--),Ne[_t]=Be},()=>$e--,void 0,()=>{(!$e||!It)&&(Te||pe.next(le?(0,ue.n)(le,Ne):Ne),pe.complete())}))}});return W?_e.pipe((0,be.Z)(W)):_e}},2459:(an,lt,k)=>{"use strict";k.d(lt,{D:()=>tt});var f=k(4829),o=k(3093),V=k(5137),be=k(5592),ae=k(4971),ge=k(4674),W=k(7103);function le(Ze,Ke){if(!Ze)throw new Error("Iterable cannot be null");return new be.y(ft=>{(0,W.f)(ft,Ke,()=>{const Ye=Ze[Symbol.asyncIterator]();(0,W.f)(ft,Ke,()=>{Ye.next().then(he=>{he.done?ft.complete():ft.next(he.value)})},0,!0)})})}var _e=k(8382),pe=k(4026),Me=k(4266),Ne=k(3664),$e=k(5726),Te=k(9853),_t=k(541);function tt(Ze,Ke){return Ke?function Be(Ze,Ke){if(null!=Ze){if((0,_e.c)(Ze))return function Se(Ze,Ke){return(0,f.Xf)(Ze).pipe((0,V.R)(Ke),(0,o.Q)(Ke))}(Ze,Ke);if((0,Me.z)(Ze))return function ue(Ze,Ke){return new be.y(ft=>{let Ye=0;return Ke.schedule(function(){Ye===Ze.length?ft.complete():(ft.next(Ze[Ye++]),ft.closed||this.schedule())})})}(Ze,Ke);if((0,pe.t)(Ze))return function ve(Ze,Ke){return(0,f.Xf)(Ze).pipe((0,V.R)(Ke),(0,o.Q)(Ke))}(Ze,Ke);if((0,$e.D)(Ze))return le(Ze,Ke);if((0,Ne.T)(Ze))return function $(Ze,Ke){return new be.y(ft=>{let Ye;return(0,W.f)(ft,Ke,()=>{Ye=Ze[ae.h](),(0,W.f)(ft,Ke,()=>{let he,yt;try{({value:he,done:yt}=Ye.next())}catch(Pt){return void ft.error(Pt)}yt?ft.complete():ft.next(he)},0,!0)}),()=>(0,ge.m)(Ye?.return)&&Ye.return()})}(Ze,Ke);if((0,_t.L)(Ze))return function It(Ze,Ke){return le((0,_t.Q)(Ze),Ke)}(Ze,Ke)}throw(0,Te.z)(Ze)}(Ze,Ke):(0,f.Xf)(Ze)}},4829:(an,lt,k)=>{"use strict";k.d(lt,{Xf:()=>_e});var f=k(7582),o=k(4266),V=k(4026),Se=k(5592),ve=k(8382),be=k(5726),ue=k(9853),ae=k(3664),ge=k(541),W=k(4674),$=k(3894),le=k(4850);function _e(Be){if(Be instanceof Se.y)return Be;if(null!=Be){if((0,ve.c)(Be))return function pe(Be){return new Se.y(tt=>{const Ze=Be[le.L]();if((0,W.m)(Ze.subscribe))return Ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,o.z)(Be))return function Me(Be){return new Se.y(tt=>{for(let Ze=0;Ze<Be.length&&!tt.closed;Ze++)tt.next(Be[Ze]);tt.complete()})}(Be);if((0,V.t)(Be))return function Ne(Be){return new Se.y(tt=>{Be.then(Ze=>{tt.closed||(tt.next(Ze),tt.complete())},Ze=>tt.error(Ze)).then(null,$.h)})}(Be);if((0,be.D)(Be))return Te(Be);if((0,ae.T)(Be))return function $e(Be){return new Se.y(tt=>{for(const Ze of Be)if(tt.next(Ze),tt.closed)return;tt.complete()})}(Be);if((0,ge.L)(Be))return function _t(Be){return Te((0,ge.Q)(Be))}(Be)}throw(0,ue.z)(Be)}function Te(Be){return new Se.y(tt=>{(function It(Be,tt){var Ze,Ke,ft,Ye;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,f.KL)(Be);!(Ke=yield Ze.next()).done;)if(tt.next(Ke.value),tt.closed)return}catch(he){ft={error:he}}finally{try{Ke&&!Ke.done&&(Ye=Ze.return)&&(yield Ye.call(Ze))}finally{if(ft)throw ft.error}}tt.complete()})})(Be,tt).catch(Ze=>tt.error(Ze))})}},3019:(an,lt,k)=>{"use strict";k.d(lt,{T:()=>be});var f=k(7537),o=k(4829),V=k(6232),Se=k(4564),ve=k(2459);function be(...ue){const ae=(0,Se.yG)(ue),ge=(0,Se._6)(ue,1/0),W=ue;return W.length?1===W.length?(0,o.Xf)(W[0]):(0,f.J)(ge)((0,ve.D)(W,ae)):V.E}},2096:(an,lt,k)=>{"use strict";k.d(lt,{of:()=>V});var f=k(4564),o=k(2459);function V(...Se){const ve=(0,f.yG)(Se);return(0,o.D)(Se,ve)}},8504:(an,lt,k)=>{"use strict";k.d(lt,{_:()=>V});var f=k(5592),o=k(4674);function V(Se,ve){const be=(0,o.m)(Se)?Se:()=>Se,ue=ae=>ae.error(be());return new f.y(ve?ae=>ve.schedule(ue,0,ae):ue)}},8251:(an,lt,k)=>{"use strict";k.d(lt,{Q:()=>V,x:()=>o});var f=k(305);function o(Se,ve,be,ue,ae){return new V(Se,ve,be,ue,ae)}class V extends f.Lv{constructor(ve,be,ue,ae,ge,W){super(ve),this.onFinalize=ge,this.shouldUnsubscribe=W,this._next=be?function($){try{be($)}catch(le){ve.error(le)}}:super._next,this._error=ae?function($){try{ae($)}catch(le){ve.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch($){ve.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},6306:(an,lt,k)=>{"use strict";k.d(lt,{K:()=>Se});var f=k(4829),o=k(8251),V=k(9360);function Se(ve){return(0,V.e)((be,ue)=>{let W,ae=null,ge=!1;ae=be.subscribe((0,o.x)(ue,void 0,void 0,$=>{W=(0,f.Xf)(ve($,Se(ve)(be))),ae?(ae.unsubscribe(),ae=null,W.subscribe(ue)):ge=!0})),ge&&(ae.unsubscribe(),ae=null,W.subscribe(ue))})}},6328:(an,lt,k)=>{"use strict";k.d(lt,{b:()=>V});var f=k(1631),o=k(4674);function V(Se,ve){return(0,o.m)(ve)?(0,f.z)(Se,ve,1):(0,f.z)(Se,1)}},3620:(an,lt,k)=>{"use strict";k.d(lt,{b:()=>Se});var f=k(6321),o=k(9360),V=k(8251);function Se(ve,be=f.z){return(0,o.e)((ue,ae)=>{let ge=null,W=null,$=null;const le=()=>{if(ge){ge.unsubscribe(),ge=null;const pe=W;W=null,ae.next(pe)}};function _e(){const pe=$+ve,Me=be.now();if(Me<pe)return ge=this.schedule(void 0,pe-Me),void ae.add(ge);le()}ue.subscribe((0,V.x)(ae,pe=>{W=pe,$=be.now(),ge||(ge=be.schedule(_e,ve),ae.add(ge))},()=>{le(),ae.complete()},void 0,()=>{W=ge=null}))})}},3572:(an,lt,k)=>{"use strict";k.d(lt,{d:()=>V});var f=k(9360),o=k(8251);function V(Se){return(0,f.e)((ve,be)=>{let ue=!1;ve.subscribe((0,o.x)(be,ae=>{ue=!0,be.next(ae)},()=>{ue||be.next(Se),be.complete()}))})}},3997:(an,lt,k)=>{"use strict";k.d(lt,{x:()=>Se});var f=k(2737),o=k(9360),V=k(8251);function Se(be,ue=f.y){return be=be??ve,(0,o.e)((ae,ge)=>{let W,$=!0;ae.subscribe((0,V.x)(ge,le=>{const _e=ue(le);($||!be(W,_e))&&($=!1,W=_e,ge.next(le))}))})}function ve(be,ue){return be===ue}},2181:(an,lt,k)=>{"use strict";k.d(lt,{h:()=>V});var f=k(9360),o=k(8251);function V(Se,ve){return(0,f.e)((be,ue)=>{let ae=0;be.subscribe((0,o.x)(ue,ge=>Se.call(ve,ge,ae++)&&ue.next(ge)))})}},4716:(an,lt,k)=>{"use strict";k.d(lt,{x:()=>o});var f=k(9360);function o(V){return(0,f.e)((Se,ve)=>{try{Se.subscribe(ve)}finally{ve.add(V)}})}},1374:(an,lt,k)=>{"use strict";k.d(lt,{P:()=>ue});var f=k(6973),o=k(2181),V=k(8180),Se=k(3572),ve=k(3026),be=k(2737);function ue(ae,ge){const W=arguments.length>=2;return $=>$.pipe(ae?(0,o.h)((le,_e)=>ae(le,_e,$)):be.y,(0,V.q)(1),W?(0,Se.d)(ge):(0,ve.T)(()=>new f.K))}},7398:(an,lt,k)=>{"use strict";k.d(lt,{U:()=>V});var f=k(9360),o=k(8251);function V(Se,ve){return(0,f.e)((be,ue)=>{let ae=0;be.subscribe((0,o.x)(ue,ge=>{ue.next(Se.call(ve,ge,ae++))}))})}},7537:(an,lt,k)=>{"use strict";k.d(lt,{J:()=>V});var f=k(1631),o=k(2737);function V(Se=1/0){return(0,f.z)(o.y,Se)}},1631:(an,lt,k)=>{"use strict";k.d(lt,{z:()=>ae});var f=k(7398),o=k(4829),V=k(9360),Se=k(7103),ve=k(8251),ue=k(4674);function ae(ge,W,$=1/0){return(0,ue.m)(W)?ae((le,_e)=>(0,f.U)((pe,Me)=>W(le,pe,_e,Me))((0,o.Xf)(ge(le,_e))),$):("number"==typeof W&&($=W),(0,V.e)((le,_e)=>function be(ge,W,$,le,_e,pe,Me,Ne){const $e=[];let Te=0,_t=0,It=!1;const Be=()=>{It&&!$e.length&&!Te&&W.complete()},tt=Ke=>Te<le?Ze(Ke):$e.push(Ke),Ze=Ke=>{pe&&W.next(Ke),Te++;let ft=!1;(0,o.Xf)($(Ke,_t++)).subscribe((0,ve.x)(W,Ye=>{_e?.(Ye),pe?tt(Ye):W.next(Ye)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Te--;$e.length&&Te<le;){const Ye=$e.shift();Me?(0,Se.f)(W,Me,()=>Ze(Ye)):Ze(Ye)}Be()}catch(Ye){W.error(Ye)}}))};return ge.subscribe((0,ve.x)(W,tt,()=>{It=!0,Be()})),()=>{Ne?.()}}(le,_e,ge,$)))}},3093:(an,lt,k)=>{"use strict";k.d(lt,{Q:()=>Se});var f=k(7103),o=k(9360),V=k(8251);function Se(ve,be=0){return(0,o.e)((ue,ae)=>{ue.subscribe((0,V.x)(ae,ge=>(0,f.f)(ae,ve,()=>ae.next(ge),be),()=>(0,f.f)(ae,ve,()=>ae.complete(),be),ge=>(0,f.f)(ae,ve,()=>ae.error(ge),be)))})}},9384:(an,lt,k)=>{"use strict";k.d(lt,{G:()=>V});var f=k(9360),o=k(8251);function V(){return(0,f.e)((Se,ve)=>{let be,ue=!1;Se.subscribe((0,o.x)(ve,ae=>{const ge=be;be=ae,ue&&ve.next([ge,ae]),ue=!0}))})}},6699:(an,lt,k)=>{"use strict";k.d(lt,{R:()=>Se});var f=k(9360),o=k(8251);function Se(ve,be){return(0,f.e)(function V(ve,be,ue,ae,ge){return(W,$)=>{let le=ue,_e=be,pe=0;W.subscribe((0,o.x)($,Me=>{const Ne=pe++;_e=le?ve(_e,Me,Ne):(le=!0,Me),ae&&$.next(_e)},ge&&(()=>{le&&$.next(_e),$.complete()})))}}(ve,be,arguments.length>=2,!0))}},3020:(an,lt,k)=>{"use strict";k.d(lt,{B:()=>ve});var f=k(4829),o=k(8645),V=k(305),Se=k(9360);function ve(ue={}){const{connector:ae=(()=>new o.x),resetOnError:ge=!0,resetOnComplete:W=!0,resetOnRefCountZero:$=!0}=ue;return le=>{let _e,pe,Me,Ne=0,$e=!1,Te=!1;const _t=()=>{pe?.unsubscribe(),pe=void 0},It=()=>{_t(),_e=Me=void 0,$e=Te=!1},Be=()=>{const tt=_e;It(),tt?.unsubscribe()};return(0,Se.e)((tt,Ze)=>{Ne++,!Te&&!$e&&_t();const Ke=Me=Me??ae();Ze.add(()=>{Ne--,0===Ne&&!Te&&!$e&&(pe=be(Be,$))}),Ke.subscribe(Ze),!_e&&Ne>0&&(_e=new V.Hp({next:ft=>Ke.next(ft),error:ft=>{Te=!0,_t(),pe=be(It,ge,ft),Ke.error(ft)},complete:()=>{$e=!0,_t(),pe=be(It,W),Ke.complete()}}),(0,f.Xf)(tt).subscribe(_e))})(le)}}function be(ue,ae,...ge){if(!0===ae)return void ue();if(!1===ae)return;const W=new V.Hp({next:()=>{W.unsubscribe(),ue()}});return(0,f.Xf)(ae(...ge)).subscribe(W)}},940:(an,lt,k)=>{"use strict";k.d(lt,{d:()=>ve});var f=k(8645),o=k(4552);class V extends f.x{constructor(ue=1/0,ae=1/0,ge=o.l){super(),this._bufferSize=ue,this._windowTime=ae,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,ue),this._windowTime=Math.max(1,ae)}next(ue){const{isStopped:ae,_buffer:ge,_infiniteTimeWindow:W,_timestampProvider:$,_windowTime:le}=this;ae||(ge.push(ue),!W&&ge.push($.now()+le)),this._trimBuffer(),super.next(ue)}_subscribe(ue){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(ue),{_infiniteTimeWindow:ge,_buffer:W}=this,$=W.slice();for(let le=0;le<$.length&&!ue.closed;le+=ge?1:2)ue.next($[le]);return this._checkFinalizedStatuses(ue),ae}_trimBuffer(){const{_bufferSize:ue,_timestampProvider:ae,_buffer:ge,_infiniteTimeWindow:W}=this,$=(W?1:2)*ue;if(ue<1/0&&$<ge.length&&ge.splice(0,ge.length-$),!W){const le=ae.now();let _e=0;for(let pe=1;pe<ge.length&&ge[pe]<=le;pe+=2)_e=pe;_e&&ge.splice(0,_e+1)}}}var Se=k(3020);function ve(be,ue,ae){let ge,W=!1;return be&&"object"==typeof be?({bufferSize:ge=1/0,windowTime:ue=1/0,refCount:W=!1,scheduler:ae}=be):ge=be??1/0,(0,Se.B)({connector:()=>new V(ge,ue,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:W})}},7921:(an,lt,k)=>{"use strict";k.d(lt,{O:()=>Se});var f=k(5211),o=k(4564),V=k(9360);function Se(...ve){const be=(0,o.yG)(ve);return(0,V.e)((ue,ae)=>{(be?(0,f.z)(ve,ue,be):(0,f.z)(ve,ue)).subscribe(ae)})}},5137:(an,lt,k)=>{"use strict";k.d(lt,{R:()=>o});var f=k(9360);function o(V,Se=0){return(0,f.e)((ve,be)=>{be.add(V.schedule(()=>ve.subscribe(be),Se))})}},4664:(an,lt,k)=>{"use strict";k.d(lt,{w:()=>Se});var f=k(4829),o=k(9360),V=k(8251);function Se(ve,be){return(0,o.e)((ue,ae)=>{let ge=null,W=0,$=!1;const le=()=>$&&!ge&&ae.complete();ue.subscribe((0,V.x)(ae,_e=>{ge?.unsubscribe();let pe=0;const Me=W++;(0,f.Xf)(ve(_e,Me)).subscribe(ge=(0,V.x)(ae,Ne=>ae.next(be?be(_e,Ne,Me,pe++):Ne),()=>{ge=null,le()}))},()=>{$=!0,le()}))})}},8180:(an,lt,k)=>{"use strict";k.d(lt,{q:()=>Se});var f=k(6232),o=k(9360),V=k(8251);function Se(ve){return ve<=0?()=>f.E:(0,o.e)((be,ue)=>{let ae=0;be.subscribe((0,V.x)(ue,ge=>{++ae<=ve&&(ue.next(ge),ve<=ae&&ue.complete())}))})}},9773:(an,lt,k)=>{"use strict";k.d(lt,{R:()=>ve});var f=k(9360),o=k(8251),V=k(4829),Se=k(2420);function ve(be){return(0,f.e)((ue,ae)=>{(0,V.Xf)(be).subscribe((0,o.x)(ae,()=>ae.complete(),Se.Z)),!ae.closed&&ue.subscribe(ae)})}},9397:(an,lt,k)=>{"use strict";k.d(lt,{b:()=>ve});var f=k(4674),o=k(9360),V=k(8251),Se=k(2737);function ve(be,ue,ae){const ge=(0,f.m)(be)||ue||ae?{next:be,error:ue,complete:ae}:be;return ge?(0,o.e)((W,$)=>{var le;null===(le=ge.subscribe)||void 0===le||le.call(ge);let _e=!0;W.subscribe((0,V.x)($,pe=>{var Me;null===(Me=ge.next)||void 0===Me||Me.call(ge,pe),$.next(pe)},()=>{var pe;_e=!1,null===(pe=ge.complete)||void 0===pe||pe.call(ge),$.complete()},pe=>{var Me;_e=!1,null===(Me=ge.error)||void 0===Me||Me.call(ge,pe),$.error(pe)},()=>{var pe,Me;_e&&(null===(pe=ge.unsubscribe)||void 0===pe||pe.call(ge)),null===(Me=ge.finalize)||void 0===Me||Me.call(ge)}))}):Se.y}},3026:(an,lt,k)=>{"use strict";k.d(lt,{T:()=>Se});var f=k(6973),o=k(9360),V=k(8251);function Se(be=ve){return(0,o.e)((ue,ae)=>{let ge=!1;ue.subscribe((0,V.x)(ae,W=>{ge=!0,ae.next(W)},()=>ge?ae.complete():ae.error(be())))})}function ve(){return new f.K}},1954:(an,lt,k)=>{"use strict";k.d(lt,{o:()=>ve});var f=k(7394);class o extends f.w0{constructor(ue,ae){super()}schedule(ue,ae=0){return this}}const V={setInterval(be,ue,...ae){const{delegate:ge}=V;return ge?.setInterval?ge.setInterval(be,ue,...ae):setInterval(be,ue,...ae)},clearInterval(be){const{delegate:ue}=V;return(ue?.clearInterval||clearInterval)(be)},delegate:void 0};var Se=k(9039);class ve extends o{constructor(ue,ae){super(ue,ae),this.scheduler=ue,this.work=ae,this.pending=!1}schedule(ue,ae=0){var ge;if(this.closed)return this;this.state=ue;const W=this.id,$=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId($,W,ae)),this.pending=!0,this.delay=ae,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId($,this.id,ae),this}requestAsyncId(ue,ae,ge=0){return V.setInterval(ue.flush.bind(ue,this),ge)}recycleAsyncId(ue,ae,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ae;null!=ae&&V.clearInterval(ae)}execute(ue,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ue,ae);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ae){let W,ge=!1;try{this.work(ue)}catch($){ge=!0,W=$||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ae}=this,{actions:ge}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ge,this),null!=ue&&(this.id=this.recycleAsyncId(ae,ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(an,lt,k)=>{"use strict";k.d(lt,{v:()=>V});var f=k(4552);class o{constructor(ve,be=o.now){this.schedulerActionCtor=ve,this.now=be}schedule(ve,be=0,ue){return new this.schedulerActionCtor(this,ve).schedule(ue,be)}}o.now=f.l.now;class V extends o{constructor(ve,be=o.now){super(ve,be),this.actions=[],this._active=!1}flush(ve){const{actions:be}=this;if(this._active)return void be.push(ve);let ue;this._active=!0;do{if(ue=ve.execute(ve.state,ve.delay))break}while(ve=be.shift());if(this._active=!1,ue){for(;ve=be.shift();)ve.unsubscribe();throw ue}}}},6321:(an,lt,k)=>{"use strict";k.d(lt,{z:()=>V});var f=k(1954);const V=new(k(2631).v)(f.o)},4552:(an,lt,k)=>{"use strict";k.d(lt,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},7599:(an,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f={setTimeout(o,V,...Se){const{delegate:ve}=f;return ve?.setTimeout?ve.setTimeout(o,V,...Se):setTimeout(o,V,...Se)},clearTimeout(o){const{delegate:V}=f;return(V?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4971:(an,lt,k)=>{"use strict";k.d(lt,{h:()=>o});const o=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(an,lt,k)=>{"use strict";k.d(lt,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(an,lt,k)=>{"use strict";k.d(lt,{K:()=>o});const o=(0,k(2306).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(an,lt,k)=>{"use strict";k.d(lt,{_6:()=>be,jO:()=>Se,yG:()=>ve});var f=k(4674);function V(ue){return ue[ue.length-1]}function Se(ue){return(0,f.m)(V(ue))?ue.pop():void 0}function ve(ue){return function o(ue){return ue&&(0,f.m)(ue.schedule)}(V(ue))?ue.pop():void 0}function be(ue,ae){return"number"==typeof V(ue)?ue.pop():ae}},7453:(an,lt,k)=>{"use strict";k.d(lt,{D:()=>ve});const{isArray:f}=Array,{getPrototypeOf:o,prototype:V,keys:Se}=Object;function ve(ue){if(1===ue.length){const ae=ue[0];if(f(ae))return{args:ae,keys:null};if(function be(ue){return ue&&"object"==typeof ue&&o(ue)===V}(ae)){const ge=Se(ae);return{args:ge.map(W=>ae[W]),keys:ge}}}return{args:ue,keys:null}}},9039:(an,lt,k)=>{"use strict";function f(o,V){if(o){const Se=o.indexOf(V);0<=Se&&o.splice(Se,1)}}k.d(lt,{P:()=>f})},2306:(an,lt,k)=>{"use strict";function f(o){const Se=o(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}k.d(lt,{d:()=>f})},2714:(an,lt,k)=>{"use strict";function f(o,V){return o.reduce((Se,ve,be)=>(Se[ve]=V[be],Se),{})}k.d(lt,{n:()=>f})},1441:(an,lt,k)=>{"use strict";k.d(lt,{O:()=>Se,x:()=>V});var f=k(2653);let o=null;function V(ve){if(f.config.useDeprecatedSynchronousErrorHandling){const be=!o;if(be&&(o={errorThrown:!1,error:null}),ve(),be){const{errorThrown:ue,error:ae}=o;if(o=null,ue)throw ae}}else ve()}function Se(ve){f.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=ve)}},7103:(an,lt,k)=>{"use strict";function f(o,V,Se,ve=0,be=!1){const ue=V.schedule(function(){Se(),be?o.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(o.add(ue),!be)return ue}k.d(lt,{f:()=>f})},2737:(an,lt,k)=>{"use strict";function f(o){return o}k.d(lt,{y:()=>f})},4266:(an,lt,k)=>{"use strict";k.d(lt,{z:()=>f});const f=o=>o&&"number"==typeof o.length&&"function"!=typeof o},5726:(an,lt,k)=>{"use strict";k.d(lt,{D:()=>o});var f=k(4674);function o(V){return Symbol.asyncIterator&&(0,f.m)(V?.[Symbol.asyncIterator])}},4674:(an,lt,k)=>{"use strict";function f(o){return"function"==typeof o}k.d(lt,{m:()=>f})},8382:(an,lt,k)=>{"use strict";k.d(lt,{c:()=>V});var f=k(4850),o=k(4674);function V(Se){return(0,o.m)(Se[f.L])}},3664:(an,lt,k)=>{"use strict";k.d(lt,{T:()=>V});var f=k(4971),o=k(4674);function V(Se){return(0,o.m)(Se?.[f.h])}},4026:(an,lt,k)=>{"use strict";k.d(lt,{t:()=>o});var f=k(4674);function o(V){return(0,f.m)(V?.then)}},541:(an,lt,k)=>{"use strict";k.d(lt,{L:()=>Se,Q:()=>V});var f=k(7582),o=k(4674);function V(ve){return(0,f.FC)(this,arguments,function*(){const ue=ve.getReader();try{for(;;){const{value:ae,done:ge}=yield(0,f.qq)(ue.read());if(ge)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ae)}}finally{ue.releaseLock()}})}function Se(ve){return(0,o.m)(ve?.getReader)}},9360:(an,lt,k)=>{"use strict";k.d(lt,{A:()=>o,e:()=>V});var f=k(4674);function o(Se){return(0,f.m)(Se?.lift)}function V(Se){return ve=>{if(o(ve))return ve.lift(function(be){try{return Se(be,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(an,lt,k)=>{"use strict";k.d(lt,{Z:()=>Se});var f=k(7398);const{isArray:o}=Array;function Se(ve){return(0,f.U)(be=>function V(ve,be){return o(be)?ve(...be):ve(be)}(ve,be))}},2420:(an,lt,k)=>{"use strict";function f(){}k.d(lt,{Z:()=>f})},8407:(an,lt,k)=>{"use strict";k.d(lt,{U:()=>V,z:()=>o});var f=k(2737);function o(...Se){return V(Se)}function V(Se){return 0===Se.length?f.y:1===Se.length?Se[0]:function(be){return Se.reduce((ue,ae)=>ae(ue),be)}}},3894:(an,lt,k)=>{"use strict";k.d(lt,{h:()=>V});var f=k(2653),o=k(7599);function V(Se){o.z.setTimeout(()=>{const{onUnhandledError:ve}=f.config;if(!ve)throw Se;ve(Se)})}},9853:(an,lt,k)=>{"use strict";function f(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(lt,{z:()=>f})},6814:(an,lt,k)=>{"use strict";k.d(lt,{Do:()=>Ne,EM:()=>qe,HT:()=>Se,JF:()=>Pn,K0:()=>be,Mx:()=>ki,NF:()=>yo,O5:()=>Ki,OU:()=>Ii,Ov:()=>Ei,PM:()=>Nr,S$:()=>_e,Ts:()=>$i,V_:()=>ae,Ye:()=>$e,b0:()=>Me,bD:()=>oi,ez:()=>Ti,mk:()=>sr,q:()=>V,sg:()=>gr,uU:()=>ni,w_:()=>ve});var f=k(5879);let o=null;function V(){return o}function Se(x){o||(o=x)}class ve{}const be=new f.OlP("DocumentToken");let ue=(()=>{class x{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(ge)},providedIn:"platform"})}return x})();const ae=new f.OlP("Location Initialized");let ge=(()=>{class x extends ue{constructor(){super(),this._doc=(0,f.f3M)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(z){const se=V().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",z,!1),()=>se.removeEventListener("popstate",z)}onHashChange(z){const se=V().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",z,!1),()=>se.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,se,ze){this._history.pushState(z,se,ze)}replaceState(z,se,ze){this._history.replaceState(z,se,ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return new x},providedIn:"platform"})}return x})();function W(x,ce){if(0==x.length)return ce;if(0==ce.length)return x;let z=0;return x.endsWith("/")&&z++,ce.startsWith("/")&&z++,2==z?x+ce.substring(1):1==z?x+ce:x+"/"+ce}function $(x){const ce=x.match(/#|\?|$/),z=ce&&ce.index||x.length;return x.slice(0,z-("/"===x[z-1]?1:0))+x.slice(z)}function le(x){return x&&"?"!==x[0]?"?"+x:x}let _e=(()=>{class x{historyGo(z){throw new Error("Not implemented")}static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.f3M)(Me)},providedIn:"root"})}return x})();const pe=new f.OlP("appBaseHref");let Me=(()=>{class x extends _e{constructor(z,se){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return W(this._baseHref,z)}path(z=!1){const se=this._platformLocation.pathname+le(this._platformLocation.search),ze=this._platformLocation.hash;return ze&&z?`${se}${ze}`:se}pushState(z,se,ze,Nt){const Ht=this.prepareExternalUrl(ze+le(Nt));this._platformLocation.pushState(z,se,Ht)}replaceState(z,se,ze,Nt){const Ht=this.prepareExternalUrl(ze+le(Nt));this._platformLocation.replaceState(z,se,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(se){return new(se||x)(f.LFG(ue),f.LFG(pe,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Ne=(()=>{class x extends _e{constructor(z,se){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(z){const se=W(this._baseHref,z);return se.length>0?"#"+se:se}pushState(z,se,ze,Nt){let Ht=this.prepareExternalUrl(ze+le(Nt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState(z,se,Ht)}replaceState(z,se,ze,Nt){let Ht=this.prepareExternalUrl(ze+le(Nt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState(z,se,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static#e=this.\u0275fac=function(se){return new(se||x)(f.LFG(ue),f.LFG(pe,8))};static#t=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac})}return x})(),$e=(()=>{class x{constructor(z){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const se=this._locationStrategy.getBaseHref();this._basePath=function Be(x){if(new RegExp("^(https?:)?//").test(x)){const[,z]=x.split(/\/\/[^\/]+/);return z}return x}($(It(se))),this._locationStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,se=""){return this.path()==this.normalize(z+le(se))}normalize(z){return x.stripTrailingSlash(function _t(x,ce){if(!x||!ce.startsWith(x))return ce;const z=ce.substring(x.length);return""===z||["/",";","?","#"].includes(z[0])?z:ce}(this._basePath,It(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,se="",ze=null){this._locationStrategy.pushState(ze,"",z,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+le(se)),ze)}replaceState(z,se="",ze=null){this._locationStrategy.replaceState(ze,"",z,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+le(se)),ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",se){this._urlChangeListeners.forEach(ze=>ze(z,se))}subscribe(z,se,ze){return this._subject.subscribe({next:z,error:se,complete:ze})}static#e=this.normalizeQueryParams=le;static#t=this.joinWithSlash=W;static#n=this.stripTrailingSlash=$;static#r=this.\u0275fac=function(se){return new(se||x)(f.LFG(_e))};static#i=this.\u0275prov=f.Yz7({token:x,factory:function(){return function Te(){return new $e((0,f.LFG)(_e))}()},providedIn:"root"})}return x})();function It(x){return x.replace(/\/index.html$/,"")}var ft=function(x){return x[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x}(ft||{}),Ye=function(x){return x[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x}(Ye||{}),he=function(x){return x[x.Short=0]="Short",x[x.Medium=1]="Medium",x[x.Long=2]="Long",x[x.Full=3]="Full",x}(he||{}),yt=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(yt||{});function De(x,ce){return Vn((0,f.cg1)(x)[f.wAp.DateFormat],ce)}function Le(x,ce){return Vn((0,f.cg1)(x)[f.wAp.TimeFormat],ce)}function Xe(x,ce){return Vn((0,f.cg1)(x)[f.wAp.DateTimeFormat],ce)}function ut(x,ce){const z=(0,f.cg1)(x),se=z[f.wAp.NumberSymbols][ce];if(typeof se>"u"){if(ce===yt.CurrencyDecimal)return z[f.wAp.NumberSymbols][yt.Decimal];if(ce===yt.CurrencyGroup)return z[f.wAp.NumberSymbols][yt.Group]}return se}function Sn(x){if(!x[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vn(x,ce){for(let z=ce;z>-1;z--)if(typeof x[z]<"u")return x[z];throw new Error("Locale data API: locale data undefined")}function Gn(x){const[ce,z]=x.split(":");return{hours:+ce,minutes:+z}}const Er=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nr={},Zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cn=function(x){return x[x.Short=0]="Short",x[x.ShortGMT=1]="ShortGMT",x[x.Long=2]="Long",x[x.Extended=3]="Extended",x}(Cn||{}),Kn=function(x){return x[x.FullYear=0]="FullYear",x[x.Month=1]="Month",x[x.Date=2]="Date",x[x.Hours=3]="Hours",x[x.Minutes=4]="Minutes",x[x.Seconds=5]="Seconds",x[x.FractionalSeconds=6]="FractionalSeconds",x[x.Day=7]="Day",x}(Kn||{}),Fn=function(x){return x[x.DayPeriods=0]="DayPeriods",x[x.Days=1]="Days",x[x.Months=2]="Months",x[x.Eras=3]="Eras",x}(Fn||{});function Zr(x,ce,z,se){let ze=function ne(x){if(j(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[ze,Nt=1,Ht=1]=x.split("-").map(Nn=>+Nn);return Br(ze,Nt-1,Ht)}const z=parseFloat(x);if(!isNaN(x-z))return new Date(z);let se;if(se=x.match(Er))return function G(x){const ce=new Date(0);let z=0,se=0;const ze=x[8]?ce.setUTCFullYear:ce.setFullYear,Nt=x[8]?ce.setUTCHours:ce.setHours;x[9]&&(z=Number(x[9]+x[10]),se=Number(x[9]+x[11])),ze.call(ce,Number(x[1]),Number(x[2])-1,Number(x[3]));const Ht=Number(x[4]||0)-z,Nn=Number(x[5]||0)-se,$r=Number(x[6]||0),_i=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Nt.call(ce,Ht,Nn,$r,_i),ce}(se)}const ce=new Date(x);if(!j(ce))throw new Error(`Unable to convert "${x}" into a date`);return ce}(x);ce=Xn(z,ce)||ce;let Nn,Ht=[];for(;ce;){if(Nn=Zt.exec(ce),!Nn){Ht.push(ce);break}{Ht=Ht.concat(Nn.slice(1));const ui=Ht.pop();if(!ui)break;ce=ui}}let $r=ze.getTimezoneOffset();se&&($r=Pi(se,$r),ze=function Ie(x,ce,z){const se=z?-1:1,ze=x.getTimezoneOffset();return function sn(x,ce){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+ce),x}(x,se*(Pi(ce,ze)-ze))}(ze,se,!0));let _i="";return Ht.forEach(ui=>{const xr=function ur(x){if(Jr[x])return Jr[x];let ce;switch(x){case"G":case"GG":case"GGG":ce=rr(Fn.Eras,Ye.Abbreviated);break;case"GGGG":ce=rr(Fn.Eras,Ye.Wide);break;case"GGGGG":ce=rr(Fn.Eras,Ye.Narrow);break;case"y":ce=In(Kn.FullYear,1,0,!1,!0);break;case"yy":ce=In(Kn.FullYear,2,0,!0,!0);break;case"yyy":ce=In(Kn.FullYear,3,0,!1,!0);break;case"yyyy":ce=In(Kn.FullYear,4,0,!1,!0);break;case"Y":ce=er(1);break;case"YY":ce=er(2,!0);break;case"YYY":ce=er(3);break;case"YYYY":ce=er(4);break;case"M":case"L":ce=In(Kn.Month,1,1);break;case"MM":case"LL":ce=In(Kn.Month,2,1);break;case"MMM":ce=rr(Fn.Months,Ye.Abbreviated);break;case"MMMM":ce=rr(Fn.Months,Ye.Wide);break;case"MMMMM":ce=rr(Fn.Months,Ye.Narrow);break;case"LLL":ce=rr(Fn.Months,Ye.Abbreviated,ft.Standalone);break;case"LLLL":ce=rr(Fn.Months,Ye.Wide,ft.Standalone);break;case"LLLLL":ce=rr(Fn.Months,Ye.Narrow,ft.Standalone);break;case"w":ce=on(1);break;case"ww":ce=on(2);break;case"W":ce=on(1,!0);break;case"d":ce=In(Kn.Date,1);break;case"dd":ce=In(Kn.Date,2);break;case"c":case"cc":ce=In(Kn.Day,1);break;case"ccc":ce=rr(Fn.Days,Ye.Abbreviated,ft.Standalone);break;case"cccc":ce=rr(Fn.Days,Ye.Wide,ft.Standalone);break;case"ccccc":ce=rr(Fn.Days,Ye.Narrow,ft.Standalone);break;case"cccccc":ce=rr(Fn.Days,Ye.Short,ft.Standalone);break;case"E":case"EE":case"EEE":ce=rr(Fn.Days,Ye.Abbreviated);break;case"EEEE":ce=rr(Fn.Days,Ye.Wide);break;case"EEEEE":ce=rr(Fn.Days,Ye.Narrow);break;case"EEEEEE":ce=rr(Fn.Days,Ye.Short);break;case"a":case"aa":case"aaa":ce=rr(Fn.DayPeriods,Ye.Abbreviated);break;case"aaaa":ce=rr(Fn.DayPeriods,Ye.Wide);break;case"aaaaa":ce=rr(Fn.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":ce=rr(Fn.DayPeriods,Ye.Abbreviated,ft.Standalone,!0);break;case"bbbb":ce=rr(Fn.DayPeriods,Ye.Wide,ft.Standalone,!0);break;case"bbbbb":ce=rr(Fn.DayPeriods,Ye.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":ce=rr(Fn.DayPeriods,Ye.Abbreviated,ft.Format,!0);break;case"BBBB":ce=rr(Fn.DayPeriods,Ye.Wide,ft.Format,!0);break;case"BBBBB":ce=rr(Fn.DayPeriods,Ye.Narrow,ft.Format,!0);break;case"h":ce=In(Kn.Hours,1,-12);break;case"hh":ce=In(Kn.Hours,2,-12);break;case"H":ce=In(Kn.Hours,1);break;case"HH":ce=In(Kn.Hours,2);break;case"m":ce=In(Kn.Minutes,1);break;case"mm":ce=In(Kn.Minutes,2);break;case"s":ce=In(Kn.Seconds,1);break;case"ss":ce=In(Kn.Seconds,2);break;case"S":ce=In(Kn.FractionalSeconds,1);break;case"SS":ce=In(Kn.FractionalSeconds,2);break;case"SSS":ce=In(Kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ce=Ar(Cn.Short);break;case"ZZZZZ":ce=Ar(Cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ce=Ar(Cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ce=Ar(Cn.Long);break;default:return null}return Jr[x]=ce,ce}(ui);_i+=xr?xr(ze,z,$r):"''"===ui?"'":ui.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_i}function Br(x,ce,z){const se=new Date(0);return se.setFullYear(x,ce,z),se.setHours(0,0,0),se}function Xn(x,ce){const z=function yn(x){return(0,f.cg1)(x)[f.wAp.LocaleId]}(x);if(nr[z]=nr[z]||{},nr[z][ce])return nr[z][ce];let se="";switch(ce){case"shortDate":se=De(x,he.Short);break;case"mediumDate":se=De(x,he.Medium);break;case"longDate":se=De(x,he.Long);break;case"fullDate":se=De(x,he.Full);break;case"shortTime":se=Le(x,he.Short);break;case"mediumTime":se=Le(x,he.Medium);break;case"longTime":se=Le(x,he.Long);break;case"fullTime":se=Le(x,he.Full);break;case"short":const ze=Xn(x,"shortTime"),Nt=Xn(x,"shortDate");se=Qn(Xe(x,he.Short),[ze,Nt]);break;case"medium":const Ht=Xn(x,"mediumTime"),Nn=Xn(x,"mediumDate");se=Qn(Xe(x,he.Medium),[Ht,Nn]);break;case"long":const $r=Xn(x,"longTime"),_i=Xn(x,"longDate");se=Qn(Xe(x,he.Long),[$r,_i]);break;case"full":const ui=Xn(x,"fullTime"),xr=Xn(x,"fullDate");se=Qn(Xe(x,he.Full),[ui,xr])}return se&&(nr[z][ce]=se),se}function Qn(x,ce){return ce&&(x=x.replace(/\{([^}]+)}/g,function(z,se){return null!=ce&&se in ce?ce[se]:z})),x}function Lr(x,ce,z="-",se,ze){let Nt="";(x<0||ze&&x<=0)&&(ze?x=1-x:(x=-x,Nt=z));let Ht=String(x);for(;Ht.length<ce;)Ht="0"+Ht;return se&&(Ht=Ht.slice(Ht.length-ce)),Nt+Ht}function In(x,ce,z=0,se=!1,ze=!1){return function(Nt,Ht){let Nn=function Gr(x,ce){switch(x){case Kn.FullYear:return ce.getFullYear();case Kn.Month:return ce.getMonth();case Kn.Date:return ce.getDate();case Kn.Hours:return ce.getHours();case Kn.Minutes:return ce.getMinutes();case Kn.Seconds:return ce.getSeconds();case Kn.FractionalSeconds:return ce.getMilliseconds();case Kn.Day:return ce.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Nt);if((z>0||Nn>-z)&&(Nn+=z),x===Kn.Hours)0===Nn&&-12===z&&(Nn=12);else if(x===Kn.FractionalSeconds)return function gi(x,ce){return Lr(x,3).substring(0,ce)}(Nn,ce);const $r=ut(Ht,yt.MinusSign);return Lr(Nn,ce,$r,se,ze)}}function rr(x,ce,z=ft.Format,se=!1){return function(ze,Nt){return function Sr(x,ce,z,se,ze,Nt){switch(z){case Fn.Months:return function dt(x,ce,z){const se=(0,f.cg1)(x),Nt=Vn([se[f.wAp.MonthsFormat],se[f.wAp.MonthsStandalone]],ce);return Vn(Nt,z)}(ce,ze,se)[x.getMonth()];case Fn.Days:return function Ge(x,ce,z){const se=(0,f.cg1)(x),Nt=Vn([se[f.wAp.DaysFormat],se[f.wAp.DaysStandalone]],ce);return Vn(Nt,z)}(ce,ze,se)[x.getDay()];case Fn.DayPeriods:const Ht=x.getHours(),Nn=x.getMinutes();if(Nt){const _i=function kn(x){const ce=(0,f.cg1)(x);return Sn(ce),(ce[f.wAp.ExtraData][2]||[]).map(se=>"string"==typeof se?Gn(se):[Gn(se[0]),Gn(se[1])])}(ce),ui=function Xt(x,ce,z){const se=(0,f.cg1)(x);Sn(se);const Nt=Vn([se[f.wAp.ExtraData][0],se[f.wAp.ExtraData][1]],ce)||[];return Vn(Nt,z)||[]}(ce,ze,se),xr=_i.findIndex(bi=>{if(Array.isArray(bi)){const[si,lo]=bi,Lo=Ht>=si.hours&&Nn>=si.minutes,xo=Ht<lo.hours||Ht===lo.hours&&Nn<lo.minutes;if(si.hours<lo.hours){if(Lo&&xo)return!0}else if(Lo||xo)return!0}else if(bi.hours===Ht&&bi.minutes===Nn)return!0;return!1});if(-1!==xr)return ui[xr]}return function mt(x,ce,z){const se=(0,f.cg1)(x),Nt=Vn([se[f.wAp.DayPeriodsFormat],se[f.wAp.DayPeriodsStandalone]],ce);return Vn(Nt,z)}(ce,ze,se)[Ht<12?0:1];case Fn.Eras:return function Ve(x,ce){return Vn((0,f.cg1)(x)[f.wAp.Eras],ce)}(ce,se)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${z}`)}}(ze,Nt,x,ce,z,se)}}function Ar(x){return function(ce,z,se){const ze=-1*se,Nt=ut(z,yt.MinusSign),Ht=ze>0?Math.floor(ze/60):Math.ceil(ze/60);switch(x){case Cn.Short:return(ze>=0?"+":"")+Lr(Ht,2,Nt)+Lr(Math.abs(ze%60),2,Nt);case Cn.ShortGMT:return"GMT"+(ze>=0?"+":"")+Lr(Ht,1,Nt);case Cn.Long:return"GMT"+(ze>=0?"+":"")+Lr(Ht,2,Nt)+":"+Lr(Math.abs(ze%60),2,Nt);case Cn.Extended:return 0===se?"Z":(ze>=0?"+":"")+Lr(Ht,2,Nt)+":"+Lr(Math.abs(ze%60),2,Nt);default:throw new Error(`Unknown zone width "${x}"`)}}}const Vt=0,q=4;function bt(x){return Br(x.getFullYear(),x.getMonth(),x.getDate()+(q-x.getDay()))}function on(x,ce=!1){return function(z,se){let ze;if(ce){const Nt=new Date(z.getFullYear(),z.getMonth(),1).getDay()-1,Ht=z.getDate();ze=1+Math.floor((Ht+Nt)/7)}else{const Nt=bt(z),Ht=function ke(x){const ce=Br(x,Vt,1).getDay();return Br(x,0,1+(ce<=q?q:q+7)-ce)}(Nt.getFullYear()),Nn=Nt.getTime()-Ht.getTime();ze=1+Math.round(Nn/6048e5)}return Lr(ze,x,ut(se,yt.MinusSign))}}function er(x,ce=!1){return function(z,se){return Lr(bt(z).getFullYear(),x,ut(se,yt.MinusSign),ce)}}const Jr={};function Pi(x,ce){x=x.replace(/:/g,"");const z=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(z)?ce:z}function j(x){return x instanceof Date&&!isNaN(x.valueOf())}function ki(x,ce){ce=encodeURIComponent(ce);for(const z of x.split(";")){const se=z.indexOf("="),[ze,Nt]=-1==se?[z,""]:[z.slice(0,se),z.slice(se+1)];if(ze.trim()===ce)return decodeURIComponent(Nt)}return null}const Or=/\s+/,pr=[];let sr=(()=>{class x{constructor(z,se,ze,Nt){this._iterableDiffers=z,this._keyValueDiffers=se,this._ngEl=ze,this._renderer=Nt,this.initialClasses=pr,this.stateMap=new Map}set klass(z){this.initialClasses=null!=z?z.trim().split(Or):pr}set ngClass(z){this.rawClass="string"==typeof z?z.trim().split(Or):z}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const z=this.rawClass;if(Array.isArray(z)||z instanceof Set)for(const se of z)this._updateState(se,!0);else if(null!=z)for(const se of Object.keys(z))this._updateState(se,!!z[se]);this._applyStateDiff()}_updateState(z,se){const ze=this.stateMap.get(z);void 0!==ze?(ze.enabled!==se&&(ze.changed=!0,ze.enabled=se),ze.touched=!0):this.stateMap.set(z,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const z of this.stateMap){const se=z[0],ze=z[1];ze.changed?(this._toggleClass(se,ze.enabled),ze.changed=!1):ze.touched||(ze.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),ze.touched=!1}}_toggleClass(z,se){(z=z.trim()).length>0&&z.split(Or).forEach(ze=>{se?this._renderer.addClass(this._ngEl.nativeElement,ze):this._renderer.removeClass(this._ngEl.nativeElement,ze)})}static#e=this.\u0275fac=function(se){return new(se||x)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return x})();class Ci{constructor(ce,z,se,ze){this.$implicit=ce,this.ngForOf=z,this.index=se,this.count=ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class x{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,se,ze){this._viewContainer=z,this._template=se,this._differs=ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const se=this._viewContainer;z.forEachOperation((ze,Nt,Ht)=>{if(null==ze.previousIndex)se.createEmbeddedView(this._template,new Ci(ze.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)se.remove(null===Nt?void 0:Nt);else if(null!==Nt){const Nn=se.get(Nt);se.move(Nn,Ht),xi(Nn,ze)}});for(let ze=0,Nt=se.length;ze<Nt;ze++){const Nn=se.get(ze).context;Nn.index=ze,Nn.count=Nt,Nn.ngForOf=this._ngForOf}z.forEachIdentityChange(ze=>{xi(se.get(ze.currentIndex),ze)})}static ngTemplateContextGuard(z,se){return!0}static#e=this.\u0275fac=function(se){return new(se||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return x})();function xi(x,ce){x.context.$implicit=ce.item}let Ki=(()=>{class x{constructor(z,se){this._viewContainer=z,this._context=new qr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Uo("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Uo("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,se){return!0}static#e=this.\u0275fac=function(se){return new(se||x)(f.Y36(f.s_b),f.Y36(f.Rgc))};static#t=this.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return x})();class qr{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(x,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(ce)}'.`)}function Qi(x,ce){return new f.vHH(2100,!1)}class qo{createSubscription(ce,z){return(0,f.rg0)(()=>ce.subscribe({next:z,error:se=>{throw se}}))}dispose(ce){(0,f.rg0)(()=>ce.unsubscribe())}}class yi{createSubscription(ce,z){return ce.then(z,se=>{throw se})}dispose(ce){}}const os=new yi,Co=new qo;let Ei=(()=>{class x{constructor(z){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=z}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(z){return this._obj?z!==this._obj?(this._dispose(),this.transform(z)):this._latestValue:(z&&this._subscribe(z),this._latestValue)}_subscribe(z){this._obj=z,this._strategy=this._selectStrategy(z),this._subscription=this._strategy.createSubscription(z,se=>this._updateLatestValue(z,se))}_selectStrategy(z){if((0,f.QGY)(z))return os;if((0,f.F4k)(z))return Co;throw Qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(z,se){z===this._obj&&(this._latestValue=se,this._ref.markForCheck())}static#e=this.\u0275fac=function(se){return new(se||x)(f.Y36(f.sBO,16))};static#t=this.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1,standalone:!0})}return x})();const qn=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ei=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ni=(()=>{class x{constructor(z,se,ze){this.locale=z,this.defaultTimezone=se,this.defaultOptions=ze}transform(z,se,ze,Nt){if(null==z||""===z||z!=z)return null;try{return Zr(z,se??this.defaultOptions?.dateFormat??"mediumDate",Nt||this.locale,ze??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ht){throw Qi()}}static#e=this.\u0275fac=function(se){return new(se||x)(f.Y36(f.soG,16),f.Y36(qn,24),f.Y36(ei,24))};static#t=this.\u0275pipe=f.Yjl({name:"date",type:x,pure:!0,standalone:!0})}return x})(),$i=(()=>{class x{transform(z){return JSON.stringify(z,null,2)}static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275pipe=f.Yjl({name:"json",type:x,pure:!1,standalone:!0})}return x})(),Ii=(()=>{class x{transform(z,se,ze){if(null==z)return null;if(!this.supports(z))throw Qi();return z.slice(se,ze)}supports(z){return"string"==typeof z||Array.isArray(z)}static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275pipe=f.Yjl({name:"slice",type:x,pure:!1,standalone:!0})}return x})(),Ti=(()=>{class x{static#e=this.\u0275fac=function(se){return new(se||x)};static#t=this.\u0275mod=f.oAB({type:x});static#n=this.\u0275inj=f.cJS({})}return x})();const oi="browser",Yi="server";function yo(x){return x===oi}function Nr(x){return x===Yi}let qe=(()=>{class x{static#e=this.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new pt((0,f.LFG)(be),window)})}return x})();class pt{constructor(ce,z){this.document=ce,this.window=z,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const z=function Ft(x,ce){const z=x.getElementById(ce)||x.getElementsByName(ce)[0];if(z)return z;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const se=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ze=se.currentNode;for(;ze;){const Nt=ze.shadowRoot;if(Nt){const Ht=Nt.getElementById(ce)||Nt.querySelector(`[name="${ce}"]`);if(Ht)return Ht}ze=se.nextNode()}}return null}(this.document,ce);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(ce){this.supportsScrolling()&&(this.window.history.scrollRestoration=ce)}scrollToElement(ce){const z=ce.getBoundingClientRect(),se=z.left+this.window.pageXOffset,ze=z.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(se-Nt[0],ze-Nt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Pn{}},9862:(an,lt,k)=>{"use strict";k.d(lt,{JF:()=>F,eN:()=>re});var f=k(5879),o=k(2096),V=k(2459),Se=k(5592),ve=k(6328),be=k(2181),ue=k(7398),ae=k(4716),ge=k(4664),W=k(6814);class ${}class le{}class _e{constructor(Qe){this.normalizedNames=new Map,this.lazyUpdate=null,Qe?"string"==typeof Qe?this.lazyInit=()=>{this.headers=new Map,Qe.split("\n").forEach(it=>{const jt=it.indexOf(":");if(jt>0){const en=it.slice(0,jt),Tn=en.toLowerCase(),dn=it.slice(jt+1).trim();this.maybeSetNormalizedName(en,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(dn):this.headers.set(Tn,[dn])}})}:typeof Headers<"u"&&Qe instanceof Headers?(this.headers=new Map,Qe.forEach((it,jt)=>{this.setHeaderEntries(jt,it)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Qe).forEach(([it,jt])=>{this.setHeaderEntries(it,jt)})}:this.headers=new Map}has(Qe){return this.init(),this.headers.has(Qe.toLowerCase())}get(Qe){this.init();const it=this.headers.get(Qe.toLowerCase());return it&&it.length>0?it[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Qe){return this.init(),this.headers.get(Qe.toLowerCase())||null}append(Qe,it){return this.clone({name:Qe,value:it,op:"a"})}set(Qe,it){return this.clone({name:Qe,value:it,op:"s"})}delete(Qe,it){return this.clone({name:Qe,value:it,op:"d"})}maybeSetNormalizedName(Qe,it){this.normalizedNames.has(it)||this.normalizedNames.set(it,Qe)}init(){this.lazyInit&&(this.lazyInit instanceof _e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Qe=>this.applyUpdate(Qe)),this.lazyUpdate=null))}copyFrom(Qe){Qe.init(),Array.from(Qe.headers.keys()).forEach(it=>{this.headers.set(it,Qe.headers.get(it)),this.normalizedNames.set(it,Qe.normalizedNames.get(it))})}clone(Qe){const it=new _e;return it.lazyInit=this.lazyInit&&this.lazyInit instanceof _e?this.lazyInit:this,it.lazyUpdate=(this.lazyUpdate||[]).concat([Qe]),it}applyUpdate(Qe){const it=Qe.name.toLowerCase();switch(Qe.op){case"a":case"s":let jt=Qe.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(Qe.name,it);const en=("a"===Qe.op?this.headers.get(it):void 0)||[];en.push(...jt),this.headers.set(it,en);break;case"d":const Tn=Qe.value;if(Tn){let dn=this.headers.get(it);if(!dn)return;dn=dn.filter(Ir=>-1===Tn.indexOf(Ir)),0===dn.length?(this.headers.delete(it),this.normalizedNames.delete(it)):this.headers.set(it,dn)}else this.headers.delete(it),this.normalizedNames.delete(it)}}setHeaderEntries(Qe,it){const jt=(Array.isArray(it)?it:[it]).map(Tn=>Tn.toString()),en=Qe.toLowerCase();this.headers.set(en,jt),this.maybeSetNormalizedName(Qe,en)}forEach(Qe){this.init(),Array.from(this.normalizedNames.keys()).forEach(it=>Qe(this.normalizedNames.get(it),this.headers.get(it)))}}class Me{encodeKey(Qe){return _t(Qe)}encodeValue(Qe){return _t(Qe)}decodeKey(Qe){return decodeURIComponent(Qe)}decodeValue(Qe){return decodeURIComponent(Qe)}}const $e=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(rt){return encodeURIComponent(rt).replace($e,(Qe,it)=>Te[it]??Qe)}function It(rt){return`${rt}`}class Be{constructor(Qe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Qe.encoder||new Me,Qe.fromString){if(Qe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(rt,Qe){const it=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(en=>{const Tn=en.indexOf("="),[dn,Ir]=-1==Tn?[Qe.decodeKey(en),""]:[Qe.decodeKey(en.slice(0,Tn)),Qe.decodeValue(en.slice(Tn+1))],bn=it.get(dn)||[];bn.push(Ir),it.set(dn,bn)}),it}(Qe.fromString,this.encoder)}else Qe.fromObject?(this.map=new Map,Object.keys(Qe.fromObject).forEach(it=>{const jt=Qe.fromObject[it],en=Array.isArray(jt)?jt.map(It):[It(jt)];this.map.set(it,en)})):this.map=null}has(Qe){return this.init(),this.map.has(Qe)}get(Qe){this.init();const it=this.map.get(Qe);return it?it[0]:null}getAll(Qe){return this.init(),this.map.get(Qe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Qe,it){return this.clone({param:Qe,value:it,op:"a"})}appendAll(Qe){const it=[];return Object.keys(Qe).forEach(jt=>{const en=Qe[jt];Array.isArray(en)?en.forEach(Tn=>{it.push({param:jt,value:Tn,op:"a"})}):it.push({param:jt,value:en,op:"a"})}),this.clone(it)}set(Qe,it){return this.clone({param:Qe,value:it,op:"s"})}delete(Qe,it){return this.clone({param:Qe,value:it,op:"d"})}toString(){return this.init(),this.keys().map(Qe=>{const it=this.encoder.encodeKey(Qe);return this.map.get(Qe).map(jt=>it+"="+this.encoder.encodeValue(jt)).join("&")}).filter(Qe=>""!==Qe).join("&")}clone(Qe){const it=new Be({encoder:this.encoder});return it.cloneFrom=this.cloneFrom||this,it.updates=(this.updates||[]).concat(Qe),it}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Qe=>this.map.set(Qe,this.cloneFrom.map.get(Qe))),this.updates.forEach(Qe=>{switch(Qe.op){case"a":case"s":const it=("a"===Qe.op?this.map.get(Qe.param):void 0)||[];it.push(It(Qe.value)),this.map.set(Qe.param,it);break;case"d":if(void 0===Qe.value){this.map.delete(Qe.param);break}{let jt=this.map.get(Qe.param)||[];const en=jt.indexOf(It(Qe.value));-1!==en&&jt.splice(en,1),jt.length>0?this.map.set(Qe.param,jt):this.map.delete(Qe.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(Qe,it){return this.map.set(Qe,it),this}get(Qe){return this.map.has(Qe)||this.map.set(Qe,Qe.defaultValue()),this.map.get(Qe)}delete(Qe){return this.map.delete(Qe),this}has(Qe){return this.map.has(Qe)}keys(){return this.map.keys()}}function ft(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function Ye(rt){return typeof Blob<"u"&&rt instanceof Blob}function he(rt){return typeof FormData<"u"&&rt instanceof FormData}class Pt{constructor(Qe,it,jt,en){let Tn;if(this.url=it,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Qe.toUpperCase(),function Ke(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||en?(this.body=void 0!==jt?jt:null,Tn=en):Tn=jt,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.context&&(this.context=Tn.context),Tn.params&&(this.params=Tn.params)),this.headers||(this.headers=new _e),this.context||(this.context=new Ze),this.params){const dn=this.params.toString();if(0===dn.length)this.urlWithParams=it;else{const Ir=it.indexOf("?");this.urlWithParams=it+(-1===Ir?"?":Ir<it.length-1?"&":"")+dn}}else this.params=new Be,this.urlWithParams=it}serializeBody(){return null===this.body?null:ft(this.body)||Ye(this.body)||he(this.body)||function yt(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||he(this.body)?null:Ye(this.body)?this.body.type||null:ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Qe={}){const it=Qe.method||this.method,jt=Qe.url||this.url,en=Qe.responseType||this.responseType,Tn=void 0!==Qe.body?Qe.body:this.body,dn=void 0!==Qe.withCredentials?Qe.withCredentials:this.withCredentials,Ir=void 0!==Qe.reportProgress?Qe.reportProgress:this.reportProgress;let bn=Qe.headers||this.headers,li=Qe.params||this.params;const go=Qe.context??this.context;return void 0!==Qe.setHeaders&&(bn=Object.keys(Qe.setHeaders).reduce((Wi,co)=>Wi.set(co,Qe.setHeaders[co]),bn)),Qe.setParams&&(li=Object.keys(Qe.setParams).reduce((Wi,co)=>Wi.set(co,Qe.setParams[co]),li)),new Pt(it,jt,Tn,{params:li,headers:bn,context:go,reportProgress:Ir,responseType:en,withCredentials:dn})}}var yn=function(rt){return rt[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt}(yn||{});class mt{constructor(Qe,it=200,jt="OK"){this.headers=Qe.headers||new _e,this.status=void 0!==Qe.status?Qe.status:it,this.statusText=Qe.statusText||jt,this.url=Qe.url||null,this.ok=this.status>=200&&this.status<300}}class Ge extends mt{constructor(Qe={}){super(Qe),this.type=yn.ResponseHeader}clone(Qe={}){return new Ge({headers:Qe.headers||this.headers,status:void 0!==Qe.status?Qe.status:this.status,statusText:Qe.statusText||this.statusText,url:Qe.url||this.url||void 0})}}class dt extends mt{constructor(Qe={}){super(Qe),this.type=yn.Response,this.body=void 0!==Qe.body?Qe.body:null}clone(Qe={}){return new dt({body:void 0!==Qe.body?Qe.body:this.body,headers:Qe.headers||this.headers,status:void 0!==Qe.status?Qe.status:this.status,statusText:Qe.statusText||this.statusText,url:Qe.url||this.url||void 0})}}class Ve extends mt{constructor(Qe){super(Qe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Qe.url||"(unknown url)"}`:`Http failure response for ${Qe.url||"(unknown url)"}: ${Qe.status} ${Qe.statusText}`,this.error=Qe.error||null}}function xe(rt,Qe){return{body:Qe,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials}}let re=(()=>{class rt{constructor(it){this.handler=it}request(it,jt,en={}){let Tn;if(it instanceof Pt)Tn=it;else{let bn,li;bn=en.headers instanceof _e?en.headers:new _e(en.headers),en.params&&(li=en.params instanceof Be?en.params:new Be({fromObject:en.params})),Tn=new Pt(it,jt,void 0!==en.body?en.body:null,{headers:bn,context:en.context,params:li,reportProgress:en.reportProgress,responseType:en.responseType||"json",withCredentials:en.withCredentials})}const dn=(0,o.of)(Tn).pipe((0,ve.b)(bn=>this.handler.handle(bn)));if(it instanceof Pt||"events"===en.observe)return dn;const Ir=dn.pipe((0,be.h)(bn=>bn instanceof dt));switch(en.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return Ir.pipe((0,ue.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bn.body}));case"blob":return Ir.pipe((0,ue.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof Blob))throw new Error("Response is not a Blob.");return bn.body}));case"text":return Ir.pipe((0,ue.U)(bn=>{if(null!==bn.body&&"string"!=typeof bn.body)throw new Error("Response is not a string.");return bn.body}));default:return Ir.pipe((0,ue.U)(bn=>bn.body))}case"response":return Ir;default:throw new Error(`Unreachable: unhandled observe type ${en.observe}}`)}}delete(it,jt={}){return this.request("DELETE",it,jt)}get(it,jt={}){return this.request("GET",it,jt)}head(it,jt={}){return this.request("HEAD",it,jt)}jsonp(it,jt){return this.request("JSONP",it,{params:(new Be).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(it,jt={}){return this.request("OPTIONS",it,jt)}patch(it,jt,en={}){return this.request("PATCH",it,xe(en,jt))}post(it,jt,en={}){return this.request("POST",it,xe(en,jt))}put(it,jt,en={}){return this.request("PUT",it,xe(en,jt))}static#e=this.\u0275fac=function(jt){return new(jt||rt)(f.LFG($))};static#t=this.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac})}return rt})();function Jt(rt,Qe){return Qe(rt)}function En(rt,Qe){return(it,jt)=>Qe.intercept(it,{handle:en=>rt(en,jt)})}const Sn=new f.OlP(""),kn=new f.OlP(""),Xt=new f.OlP("");function Mn(){let rt=null;return(Qe,it)=>{null===rt&&(rt=((0,f.f3M)(Sn,{optional:!0})??[]).reduceRight(En,Jt));const jt=(0,f.f3M)(f.HDt),en=jt.add();return rt(Qe,it).pipe((0,ae.x)(()=>jt.remove(en)))}}let Vn=(()=>{class rt extends ${constructor(it,jt){super(),this.backend=it,this.injector=jt,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(it){if(null===this.chain){const en=Array.from(new Set([...this.injector.get(kn),...this.injector.get(Xt,[])]));this.chain=en.reduceRight((Tn,dn)=>function Bn(rt,Qe,it){return(jt,en)=>it.runInContext(()=>Qe(jt,Tn=>rt(Tn,en)))}(Tn,dn,this.injector),Jt)}const jt=this.pendingTasks.add();return this.chain(it,en=>this.backend.handle(en)).pipe((0,ae.x)(()=>this.pendingTasks.remove(jt)))}static#e=this.\u0275fac=function(jt){return new(jt||rt)(f.LFG(le),f.LFG(f.lqb))};static#t=this.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac})}return rt})();const Br=/^\)\]\}',?\n/;let Qn=(()=>{class rt{constructor(it){this.xhrFactory=it}handle(it){if("JSONP"===it.method)throw new f.vHH(-2800,!1);const jt=this.xhrFactory;return(jt.\u0275loadImpl?(0,V.D)(jt.\u0275loadImpl()):(0,o.of)(null)).pipe((0,ge.w)(()=>new Se.y(Tn=>{const dn=jt.build();if(dn.open(it.method,it.urlWithParams),it.withCredentials&&(dn.withCredentials=!0),it.headers.forEach((pr,sr)=>dn.setRequestHeader(pr,sr.join(","))),it.headers.has("Accept")||dn.setRequestHeader("Accept","application/json, text/plain, */*"),!it.headers.has("Content-Type")){const pr=it.detectContentTypeHeader();null!==pr&&dn.setRequestHeader("Content-Type",pr)}if(it.responseType){const pr=it.responseType.toLowerCase();dn.responseType="json"!==pr?pr:"text"}const Ir=it.serializeBody();let bn=null;const li=()=>{if(null!==bn)return bn;const pr=dn.statusText||"OK",sr=new _e(dn.getAllResponseHeaders()),bo=function Xn(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}(dn)||it.url;return bn=new Ge({headers:sr,status:dn.status,statusText:pr,url:bo}),bn},go=()=>{let{headers:pr,status:sr,statusText:bo,url:mo}=li(),Ci=null;204!==sr&&(Ci=typeof dn.response>"u"?dn.responseText:dn.response),0===sr&&(sr=Ci?200:0);let gr=sr>=200&&sr<300;if("json"===it.responseType&&"string"==typeof Ci){const xi=Ci;Ci=Ci.replace(Br,"");try{Ci=""!==Ci?JSON.parse(Ci):null}catch(mi){Ci=xi,gr&&(gr=!1,Ci={error:mi,text:Ci})}}gr?(Tn.next(new dt({body:Ci,headers:pr,status:sr,statusText:bo,url:mo||void 0})),Tn.complete()):Tn.error(new Ve({error:Ci,headers:pr,status:sr,statusText:bo,url:mo||void 0}))},Wi=pr=>{const{url:sr}=li(),bo=new Ve({error:pr,status:dn.status||0,statusText:dn.statusText||"Unknown Error",url:sr||void 0});Tn.error(bo)};let co=!1;const ki=pr=>{co||(Tn.next(li()),co=!0);let sr={type:yn.DownloadProgress,loaded:pr.loaded};pr.lengthComputable&&(sr.total=pr.total),"text"===it.responseType&&dn.responseText&&(sr.partialText=dn.responseText),Tn.next(sr)},Or=pr=>{let sr={type:yn.UploadProgress,loaded:pr.loaded};pr.lengthComputable&&(sr.total=pr.total),Tn.next(sr)};return dn.addEventListener("load",go),dn.addEventListener("error",Wi),dn.addEventListener("timeout",Wi),dn.addEventListener("abort",Wi),it.reportProgress&&(dn.addEventListener("progress",ki),null!==Ir&&dn.upload&&dn.upload.addEventListener("progress",Or)),dn.send(Ir),Tn.next({type:yn.Sent}),()=>{dn.removeEventListener("error",Wi),dn.removeEventListener("abort",Wi),dn.removeEventListener("load",go),dn.removeEventListener("timeout",Wi),it.reportProgress&&(dn.removeEventListener("progress",ki),null!==Ir&&dn.upload&&dn.upload.removeEventListener("progress",Or)),dn.readyState!==dn.DONE&&dn.abort()}})))}static#e=this.\u0275fac=function(jt){return new(jt||rt)(f.LFG(W.JF))};static#t=this.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac})}return rt})();const Lr=new f.OlP("XSRF_ENABLED"),In=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rr=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sr{}let Ar=(()=>{class rt{constructor(it,jt,en){this.doc=it,this.platform=jt,this.cookieName=en,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const it=this.doc.cookie||"";return it!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,W.Mx)(it,this.cookieName),this.lastCookieString=it),this.lastToken}static#e=this.\u0275fac=function(jt){return new(jt||rt)(f.LFG(W.K0),f.LFG(f.Lbi),f.LFG(In))};static#t=this.\u0275prov=f.Yz7({token:rt,factory:rt.\u0275fac})}return rt})();function Vt(rt,Qe){const it=rt.url.toLowerCase();if(!(0,f.f3M)(Lr)||"GET"===rt.method||"HEAD"===rt.method||it.startsWith("http://")||it.startsWith("https://"))return Qe(rt);const jt=(0,f.f3M)(Sr).getToken(),en=(0,f.f3M)(rr);return null!=jt&&!rt.headers.has(en)&&(rt=rt.clone({headers:rt.headers.set(en,jt)})),Qe(rt)}var ke=function(rt){return rt[rt.Interceptors=0]="Interceptors",rt[rt.LegacyInterceptors=1]="LegacyInterceptors",rt[rt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",rt[rt.NoXsrfProtection=3]="NoXsrfProtection",rt[rt.JsonpSupport=4]="JsonpSupport",rt[rt.RequestsMadeViaParent=5]="RequestsMadeViaParent",rt[rt.Fetch=6]="Fetch",rt}(ke||{});function on(...rt){const Qe=[re,Qn,Vn,{provide:$,useExisting:Vn},{provide:le,useExisting:Qn},{provide:kn,useValue:Vt,multi:!0},{provide:Lr,useValue:!0},{provide:Sr,useClass:Ar}];for(const it of rt)Qe.push(...it.\u0275providers);return(0,f.MR2)(Qe)}const Jr=new f.OlP("LEGACY_INTERCEPTOR_FN");function ur(){return function bt(rt,Qe){return{\u0275kind:rt,\u0275providers:Qe}}(ke.LegacyInterceptors,[{provide:Jr,useFactory:Mn},{provide:kn,useExisting:Jr,multi:!0}])}let F=(()=>{class rt{static#e=this.\u0275fac=function(jt){return new(jt||rt)};static#t=this.\u0275mod=f.oAB({type:rt});static#n=this.\u0275inj=f.cJS({providers:[on(ur())]})}return rt})()},5879:(an,lt,k)=>{"use strict";k.d(lt,{$8M:()=>oa,$WT:()=>zi,$Z:()=>U,AFp:()=>Oh,ALo:()=>TI,AaK:()=>le,AsE:()=>b0,CHM:()=>Ju,CRH:()=>HI,DdM:()=>vI,Dn7:()=>SI,EJc:()=>kT,EiD:()=>Eg,EpF:()=>eo,F$t:()=>c,F4k:()=>Si,FYo:()=>Yf,FiY:()=>Gc,GfV:()=>Fg,Gpc:()=>Me,HDt:()=>uA,Hsn:()=>p,JOm:()=>yd,JVY:()=>Ba,JZr:()=>It,Jf7:()=>np,KtG:()=>Xa,L6k:()=>uv,LAX:()=>dv,LFG:()=>$t,LSH:()=>Ag,Lbi:()=>Sg,Lck:()=>AC,MGl:()=>H,MMx:()=>uI,MR2:()=>Ko,NdJ:()=>ds,Ojb:()=>Mg,OlP:()=>In,Oqu:()=>A0,P3R:()=>Cg,PXZ:()=>uw,Q6J:()=>wp,QGY:()=>is,QbO:()=>Ca,Qsj:()=>kg,R0b:()=>Ao,RDi:()=>ug,Rgc:()=>Ty,SBq:()=>Bh,Sil:()=>VT,Suo:()=>jI,TTD:()=>xr,TgZ:()=>nf,Udp:()=>zu,VKq:()=>yI,VuI:()=>Gw,X6Q:()=>vw,XFs:()=>Cn,Xpm:()=>yi,Xq5:()=>O_,Xts:()=>Dd,Y36:()=>P,YKP:()=>cI,YNc:()=>Ap,Yjl:()=>ss,Yz7:()=>Sn,Z0I:()=>Vn,ZZ4:()=>rE,_Bn:()=>aI,_UZ:()=>js,_Vd:()=>Uh,_c5:()=>Nw,_uU:()=>fE,aQg:()=>iE,c2e:()=>lA,cJS:()=>Xt,cg1:()=>C0,dDg:()=>sw,dqk:()=>Qn,eBb:()=>Th,eFA:()=>EA,eJc:()=>j0,ekj:()=>wa,eoX:()=>mA,f3M:()=>cn,g9A:()=>ba,h0i:()=>_m,hGG:()=>kw,hij:()=>Xy,iGM:()=>BI,ifc:()=>dn,ip1:()=>cA,jDz:()=>dI,kL8:()=>OE,lG2:()=>Hi,lcZ:()=>wI,lqb:()=>el,lri:()=>pA,mCW:()=>Dh,n5z:()=>eu,oAB:()=>vo,oJD:()=>Gm,oxw:()=>v,pB0:()=>wh,q3G:()=>Cu,q4F:()=>Lg,qFp:()=>Ww,qLn:()=>xu,qOj:()=>vc,qZA:()=>Bu,qzn:()=>Ua,rWj:()=>gA,rg0:()=>Nt,s9C:()=>b,sBO:()=>yw,s_b:()=>a0,soG:()=>l0,tb:()=>Y0,tp0:()=>Ts,uIk:()=>yc,vHH:()=>Be,vpe:()=>_c,wAp:()=>q_,xi3:()=>DI,xp6:()=>_,z2F:()=>Y_,z3N:()=>Xc,zSh:()=>$f,zs3:()=>Ha});var f=k(8645),o=k(7394),V=k(5592),Se=k(3019),ve=k(5619),be=k(2096),ue=k(3020),ae=k(4664),ge=k(3997);function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function $(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function _e(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const pe=W({__forward_ref__:W});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return le(this())},t}function Ne(t){return $e(t)?t():t}function $e(t){return"function"==typeof t&&t.hasOwnProperty(pe)&&t.__forward_ref__===Me}function Te(t){return t&&!!t.\u0275providers}const It="https://g.co/ng/security#xss";class Be extends Error{constructor(n,i){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function yt(t,n){throw new Be(-201,!1)}function Bt(t,n){null==t&&function Qt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return Gn(t,zn)||Gn(t,nr)}function Vn(t){return null!==Mn(t)}function Gn(t,n){return t.hasOwnProperty(n)?t[n]:null}function pi(t){return t&&(t.hasOwnProperty(Er)||t.hasOwnProperty(Zt))?t[Er]:null}const zn=W({\u0275prov:W}),Er=W({\u0275inj:W}),nr=W({ngInjectableDef:W}),Zt=W({ngInjectorDef:W});var Cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Cn||{});let Kn;function Zr(t){const n=Kn;return Kn=t,n}function Br(t,n,i){const a=Mn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Cn.Optional?null:void 0!==n?n:void yt(le(t))}const Qn=globalThis;class In{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Sn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ur={},Pi="__NG_DI_FLAG__",sn="ngTempTokenPath",ne=/\n/gm,j="__source";let F;function et(t){const n=F;return F=t,n}function kt(t,n=Cn.Default){if(void 0===F)throw new Be(-203,!1);return null===F?Br(t,void 0,n):F.get(t,n&Cn.Optional?null:void 0,n)}function $t(t,n=Cn.Default){return(function Fn(){return Kn}()||kt)(Ne(t),n)}function cn(t,n=Cn.Default){return $t(t,fn(n))}function fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dr(t){const n=[];for(let i=0;i<t.length;i++){const a=Ne(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Be(900,!1);let d,g=Cn.Default;for(let C=0;C<a.length;C++){const D=a[C],R=Qe(D);"number"==typeof R?-1===R?d=D.token:g|=R:d=D}n.push($t(d,g))}else n.push($t(a))}return n}function rt(t,n){return t[Pi]=n,t.prototype[Pi]=n,t}function Qe(t){return t[Pi]}function en(t){return{toString:t}.toString()}var Tn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tn||{}),dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(dn||{});const Ir={},bn=[],li=W({\u0275cmp:W}),go=W({\u0275dir:W}),Wi=W({\u0275pipe:W}),co=W({\u0275mod:W}),ki=W({\u0275fac:W}),Or=W({__NG_ELEMENT_ID__:W}),pr=W({__NG_ENV_ID__:W});function sr(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=n.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}i=d+1}}function bo(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const g=i[a++],C=i[a++],D=i[a++];t.setAttribute(n,C,D,g)}else{const g=d,C=i[++a];Ci(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),a++}}return a}function mo(t){return 3===t||4===t||6===t}function Ci(t){return 64===t.charCodeAt(0)}function gr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||xi(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function xi(t,n,i,a,d){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const D=t[g++];if("number"==typeof D){if(D===n){C=-1;break}if(D>n){C=g-1;break}}}for(;g<t.length;){const D=t[g];if("number"==typeof D)break;if(D===i){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,i),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}const mi="ng-template";function Ki(t,n,i){let a=0,d=!0;for(;a<t.length;){let g=t[a++];if("string"==typeof g&&d){const C=t[a++];if(i&&"class"===g&&-1!==sr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;a<t.length&&"string"==typeof(g=t[a++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function qr(t){return 4===t.type&&t.value!==mi}function Uo(t,n,i){return n===(4!==t.type||i?t.value:mi)}function _o(t,n,i){let a=4;const d=t.attrs||[],g=function Fi(t){for(let n=0;n<t.length;n++)if(mo(t[n]))return n;return t.length}(d);let C=!1;for(let D=0;D<n.length;D++){const R=n[D];if("number"!=typeof R){if(!C)if(4&a){if(a=2|1&a,""!==R&&!Uo(t,R,i)||""===R&&1===n.length){if(ji(a))return!1;C=!0}}else{const K=8&a?R:n[++D];if(8&a&&null!==t.attrs){if(!Ki(t.attrs,K,i)){if(ji(a))return!1;C=!0}continue}const Fe=Go(8&a?"class":R,d,qr(t),i);if(-1===Fe){if(ji(a))return!1;C=!0;continue}if(""!==K){let ht;ht=Fe>g?"":d[Fe+1].toLowerCase();const Tt=8&a?ht:null;if(Tt&&-1!==sr(Tt,K,0)||2&a&&K!==ht){if(ji(a))return!1;C=!0}}}}else{if(!C&&!ji(a)&&!ji(R))return!1;if(C&&ji(R))continue;C=!1,a=R|1&a}}return ji(a)||C}function ji(t){return 0==(1&t)}function Go(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let g=!1;for(;d<n.length;){const C=n[d];if(C===t)return d;if(3===C||6===C)g=!0;else{if(1===C||2===C){let D=n[++d];for(;"string"==typeof D;)D=n[++d];continue}if(4===C)break;if(0===C){d+=4;continue}}d+=g?1:2}return-1}return function Xr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function ai(t,n,i=!1){for(let a=0;a<n.length;a++)if(_o(t,n[a],i))return!0;return!1}function As(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function ko(t,n){return t?":not("+n.trim()+")":n}function Li(t){let n=t[0],i=1,a=2,d="",g=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&a){const D=t[++i];d+="["+C+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+C:4&a&&(d+=" "+C);else""!==d&&!ji(C)&&(n+=ko(g,d),d=""),a=C,g=g||!ji(a);i++}return""!==d&&(n+=ko(g,d)),n}function yi(t){return en(()=>{const n=to(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dn.Emulated,styles:t.styles||bn,_:null,schemas:t.schemas||null,tView:null,id:""};$i(i);const a=t.dependencies;return i.directiveDefs=as(a,!1),i.pipeDefs=as(a,!0),i.id=function To(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Co(t){return qn(t)||ei(t)}function Ei(t){return null!==t}function vo(t){return en(()=>({type:t.type,bootstrap:t.bootstrap||bn,declarations:t.declarations||bn,imports:t.imports||bn,exports:t.exports||bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jo(t,n){if(null==t)return Ir;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),i[d]=a,n&&(n[d]=g)}return i}function Hi(t){return en(()=>{const n=to(t);return $i(n),n})}function ss(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[li]||null}function ei(t){return t[go]||null}function ni(t){return t[Wi]||null}function zi(t){const n=qn(t)||ei(t)||ni(t);return null!==n&&n.standalone}function Wr(t,n){const i=t[co]||null;if(!i&&!0===n)throw new Error(`Type ${le(t)} does not have '\u0275mod' property.`);return i}function to(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ir,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jo(t.inputs,n),outputs:Jo(t.outputs)}}function $i(t){t.features?.forEach(n=>n(t))}function as(t,n){if(!t)return null;const i=n?ni:Co;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Ei)}const jr=0,mn=1,Yn=2,Mr=3,Vi=4,Ii=5,ci=6,Ti=7,oi=8,Yi=9,Ji=10,ir=11,yo=12,Nr=13,oe=14,J=15,Ue=16,qe=17,pt=18,Ft=19,pn=20,Pn=21,Gt=22,wn=23,mr=24,$n=25,Kr=1,Vr=2,hi=7,ro=9,br=11;function je(t){return Array.isArray(t)&&"object"==typeof t[Kr]}function st(t){return Array.isArray(t)&&!0===t[Kr]}function Ut(t){return 0!=(4&t.flags)}function Kt(t){return t.componentOffset>-1}function An(t){return 1==(1&t.flags)}function Rn(t){return!!t.template}function hr(t){return 0!=(512&t[Yn])}function ps(t,n){return t.hasOwnProperty(ki)?t[ki]:null}let Yr=null,ha=!1;function oo(t){const n=Yr;return Yr=t,n}const Dc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bs(t){if(!$s(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xa(t){t.dirty=!0,function Ms(t){if(void 0===t.liveConsumerNode)return;const n=ha;ha=!0;try{for(const i of t.liveConsumerNode)i.dirty||xa(i)}finally{ha=n}}(t),t.consumerMarkedDirty?.(t)}function yr(t){return t&&(t.nextProducerIndex=0),oo(t)}function Sc(t,n){if(oo(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($s(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)zs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fl(t){pa(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(bs(i),a!==i.version))return!0}return!1}function Mc(t){if(pa(t),$s(t))for(let n=0;n<t.producerNode.length;n++)zs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zs(t,n){if(function pl(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),pa(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)zs(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];pa(d),d.producerIndexOfThis[a]=n}}function $s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ra=null;function Nt(t){const n=oo(null);try{return t()}finally{oo(n)}}const Nn=()=>{},$r=(()=>({...Dc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Nn}))();class ui{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function xr(){return bi}function bi(t){return t.type.prototype.ngOnChanges&&(t.setInput=lo),si}function si(){const t=xo(this),n=t?.current;if(n){const i=t.previous;if(i===Ir)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function lo(t,n,i,a){const d=this.declaredInputs[i],g=xo(t)||function Gs(t,n){return t[Lo]=n}(t,{previous:Ir,current:null}),C=g.current||(g.current={}),D=g.previous,R=D[d];C[d]=new ui(R&&R.currentValue,n,D===Ir),t[a]=n}xr.ngInherit=!0;const Lo="__ngSimpleChanges__";function xo(t){return t[Lo]||null}const fr=function(t,n,i){};function Di(t){for(;Array.isArray(t);)t=t[jr];return t}function qs(t,n){return Di(n[t])}function jo(t,n){return Di(n[t.index])}function Rc(t,n){return t.data[n]}function Ws(t,n){return t[n]}function Ho(t,n){const i=n[t];return je(i)?i:i[jr]}function Ks(t,n){return null==n?null:t[n]}function Qs(t){t[qe]=0}function Rs(t){1024&t[Yn]||(t[Yn]|=1024,Yd(t,1))}function Wu(t){1024&t[Yn]&&(t[Yn]&=-1025,Yd(t,-1))}function Yd(t,n){let i=t[Mr];if(null===i)return;i[Ii]+=n;let a=i;for(i=i[Mr];null!==i&&(1===n&&1===a[Ii]||-1===n&&0===a[Ii]);)i[Ii]+=n,a=i,i=i[Mr]}const _r={lFrame:$o(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xi(){return _r.bindingsEnabled}function Na(){return null!==_r.skipHydrationRootTNode}function qt(){return _r.lFrame.lView}function ri(){return _r.lFrame.tView}function Ju(t){return _r.lFrame.contextLView=t,t[oi]}function Xa(t){return _r.lFrame.contextLView=null,t}function Ro(){let t=uo();for(;null!==t&&64===t.type;)t=t.parent;return t}function uo(){return _r.lFrame.currentTNode}function zo(t,n){const i=_r.lFrame;i.currentTNode=t,i.isParent=n}function Fc(){return _r.lFrame.isParent}function ec(){_r.lFrame.isParent=!1}function ts(){const t=_r.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ma(){return _r.lFrame.bindingIndex++}function S(t){const n=_r.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function N(t,n){const i=_r.lFrame;i.bindingIndex=i.bindingRootIndex=t,ye(n)}function ye(t){_r.lFrame.currentDirectiveIndex=t}function Mt(){return _r.lFrame.currentQueryIndex}function xt(t){_r.lFrame.currentQueryIndex=t}function Dn(t){const n=t[mn];return 2===n.type?n.declTNode:1===n.type?t[ci]:null}function kr(t,n,i){if(i&Cn.SkipSelf){let d=n,g=t;for(;!(d=d.parent,null!==d||i&Cn.Host||(d=Dn(g),null===d||(g=g[oe],10&d.type))););if(null===d)return!1;n=d,t=g}const a=_r.lFrame=Rr();return a.currentTNode=n,a.lView=t,!0}function vi(t){const n=Rr(),i=t[mn];_r.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Rr(){const t=_r.lFrame,n=null===t?null:t.child;return null===n?$o(t):n}function $o(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ms(){const t=_r.lFrame;return _r.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ks=ms;function _a(){const t=ms();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ns(){return _r.lFrame.selectedIndex}function Ls(t){_r.lFrame.selectedIndex=t}function Zi(){const t=_r.lFrame;return Rc(t.tView,t.selectedIndex)}let hf=!0;function td(){return hf}function Xs(t){hf=t}function rd(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const g=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:D,ngAfterViewInit:R,ngAfterViewChecked:K,ngOnDestroy:fe}=g;C&&(t.contentHooks??=[]).push(-i,C),D&&((t.contentHooks??=[]).push(i,D),(t.contentCheckHooks??=[]).push(i,D)),R&&(t.viewHooks??=[]).push(-i,R),K&&((t.viewHooks??=[]).push(i,K),(t.viewCheckHooks??=[]).push(i,K)),null!=fe&&(t.destroyHooks??=[]).push(i,fe)}}function ka(t,n,i){rh(t,n,3,i)}function Fa(t,n,i,a){(3&t[Yn])===i&&rh(t,n,i,a)}function ea(t,n){let i=t[Yn];(3&i)===n&&(i&=8191,i+=1,t[Yn]=i)}function rh(t,n,i,a){const g=a??-1,C=n.length-1;let D=0;for(let R=void 0!==a?65535&t[qe]:0;R<C;R++)if("number"==typeof n[R+1]){if(D=n[R],null!=a&&D>=a)break}else n[R]<0&&(t[qe]+=65536),(D<g||-1==g)&&(od(t,i,n,R),t[qe]=(4294901760&t[qe])+R+2),R++}function id(t,n){fr(4,t,n);const i=oo(null);try{n.call(t)}finally{oo(i),fr(5,t,n)}}function od(t,n,i,a){const d=i[a]<0,g=i[a+1],D=t[d?-i[a]:i[a]];d?t[Yn]>>13<t[qe]>>16&&(3&t[Yn])===n&&(t[Yn]+=8192,id(D,g)):id(D,g)}const Lc=-1;class vl{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function yl(t){return t!==Lc}function sd(t){return 32767&t}function ta(t,n){let i=function Op(t){return t>>16}(t),a=n;for(;i>0;)a=a[oe],i--;return a}let El=!0;function na(t){const n=El;return El=t,n}const ad=255,Zo=5;let Np=0;const ho={};function cd(t,n){const i=La(t,n);if(-1!==i)return i;const a=n[mn];a.firstCreatePass&&(t.injectorIndex=n.length,ra(a.data,t),ra(n,null),ra(a.blueprint,null));const d=Il(t,n),g=t.injectorIndex;if(yl(d)){const C=sd(d),D=ta(d,n),R=D[mn].data;for(let K=0;K<8;K++)n[g+K]=D[C+K]|R[C+K]}return n[g+8]=d,g}function ra(t,n){t.push(0,0,0,0,0,0,0,0,n)}function La(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Il(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=Ea(d),null===a)return Lc;if(i++,d=d[oe],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Lc}function Tr(t,n,i){!function Jl(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Or)&&(a=i[Or]),null==a&&(a=i[Or]=Np++);const d=a&ad;n.data[t+(d>>Zo)]|=1<<d}(t,n,i)}function Cs(t,n,i){if(i&Cn.Optional||void 0!==t)return t;yt()}function ia(t,n,i,a){if(i&Cn.Optional&&void 0===a&&(a=null),!(i&(Cn.Self|Cn.Host))){const d=t[Yi],g=Zr(void 0);try{return d?d.get(n,a,i&Cn.Optional):Br(n,a,i&Cn.Optional)}finally{Zr(g)}}return Cs(a,0,i)}function fi(t,n,i,a=Cn.Default,d){if(null!==t){if(2048&n[Yn]&&!(a&Cn.Self)){const C=function Hc(t,n,i,a,d){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[Yn]&&!(512&C[Yn]);){const D=Vc(g,C,i,a|Cn.Self,ho);if(D!==ho)return D;let R=g.parent;if(!R){const K=C[pn];if(K){const fe=K.get(i,ho,a);if(fe!==ho)return fe}R=Ea(C),C=C[oe]}g=R}return d}(t,n,i,a,ho);if(C!==ho)return C}const g=Vc(t,n,i,a,ho);if(g!==ho)return g}return ia(n,i,a,d)}function Vc(t,n,i,a,d){const g=function Bc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Or)?t[Or]:void 0;return"number"==typeof n?n>=0?n&ad:ah:n}(i);if("function"==typeof g){if(!kr(n,t,a))return a&Cn.Host?Cs(d,0,a):ia(n,i,a,d);try{let C;if(C=g(a),null!=C||a&Cn.Optional)return C;yt()}finally{ks()}}else if("number"==typeof g){let C=null,D=La(t,n),R=Lc,K=a&Cn.Host?n[J][ci]:null;for((-1===D||a&Cn.SkipSelf)&&(R=-1===D?Il(t,n):n[D+8],R!==Lc&&jc(a,!1)?(C=n[mn],D=sd(R),n=ta(R,n)):D=-1);-1!==D;){const fe=n[mn];if(ff(g,D,fe.data)){const Fe=ld(D,n,i,C,a,K);if(Fe!==ho)return Fe}R=n[D+8],R!==Lc&&jc(a,n[mn].data[D+8]===K)&&ff(g,D,n)?(C=fe,D=sd(R),n=ta(R,n)):D=-1}}return d}function ld(t,n,i,a,d,g){const C=n[mn],D=C.data[t+8],fe=Xl(D,C,i,null==a?Kt(D)&&El:a!=C&&0!=(3&D.type),d&Cn.Host&&g===D);return null!==fe?Uc(n,C,fe,D):ho}function Xl(t,n,i,a,d){const g=t.providerIndexes,C=n.data,D=1048575&g,R=t.directiveStart,fe=g>>20,ht=d?D+fe:t.directiveEnd;for(let Tt=a?D:D+fe;Tt<ht;Tt++){const zt=C[Tt];if(Tt<R&&i===zt||Tt>=R&&zt.type===i)return Tt}if(d){const Tt=C[R];if(Tt&&Rn(Tt)&&Tt.type===i)return R}return null}function Uc(t,n,i,a){let d=t[i];const g=n.data;if(function Yl(t){return t instanceof vl}(d)){const C=d;C.resolving&&function ft(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(g[i]));const D=na(C.canSeeViewProviders);C.resolving=!0;const K=C.injectImpl?Zr(C.injectImpl):null;kr(t,a,Cn.Default);try{d=t[i]=C.factory(void 0,g,t,a),n.firstCreatePass&&i>=a.directiveStart&&function nd(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=n.type.prototype;if(a){const C=bi(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}d&&(i.preOrderHooks??=[]).push(0-t,d),g&&((i.preOrderHooks??=[]).push(t,g),(i.preOrderCheckHooks??=[]).push(t,g))}(i,g[i],n)}finally{null!==K&&Zr(K),na(D),C.resolving=!1,ks()}}return d}function ff(t,n,i){return!!(i[n+(t>>Zo)]&1<<t)}function jc(t,n){return!(t&Cn.Self||t&Cn.Host&&n)}class Vo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return fi(this._tNode,this._lView,n,fn(a),i)}}function ah(){return new Vo(Ro(),qt())}function eu(t){return en(()=>{const n=t.prototype.constructor,i=n[ki]||ya(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[ki]||ya(d);if(g&&g!==i)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ya(t){return $e(t)?()=>{const n=ya(Ne(t));return n&&n()}:ps(t)}function Ea(t){const n=t[mn],i=n.type;return 2===i?n.declTNode:1===i?t[ci]:null}function oa(t){return function Al(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const g=i[d];if(mo(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(g===n)return i[d+1];d+=2}}}return null}(Ro(),t)}const zc="__parameters__";function fo(t,n,i){return en(()=>{const a=function $c(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...g){if(this instanceof d)return a.apply(this,g),this;const C=new d(...g);return D.annotation=C,D;function D(R,K,fe){const Fe=R.hasOwnProperty(zc)?R[zc]:Object.defineProperty(R,zc,{value:[]})[zc];for(;Fe.length<=fe;)Fe.push(null);return(Fe[fe]=Fe[fe]||[]).push(C),R}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Ia(t,n){t.forEach(i=>Array.isArray(i)?Ia(i,n):n(i))}function gf(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function lh(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function au(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function Vs(t,n,i){let a=cu(t,n);return a>=0?t[1|a]=i:(a=~a,function jp(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function uh(t,n){const i=cu(t,n);if(i>=0)return t[1|i]}function cu(t,n){return function rc(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const g=a+(d-a>>1),C=t[g<<i];if(n===C)return g<<i;C>n?d=g:a=g+1}return~(d<<i)}(t,n,1)}const Gc=rt(fo("Optional"),8),Ts=rt(fo("SkipSelf"),4);function gu(t){return 128==(128&t.flags)}var yd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yd||{});const $p=new Map;let Sm=0;const mh="__ngContext__";function ls(t,n){je(n)?(t[mh]=n[Ft],function ev(t){$p.set(t[Ft],t)}(n)):t[mh]=n}let Wp;function _h(t,n){return Wp(t,n)}function lc(t){const n=t[Mr];return st(n)?n[Mr]:n}function xm(t){return wf(t[yo])}function Tf(t){return wf(t[Vi])}function wf(t){for(;null!==t&&!st(t);)t=t[Vi];return t}function xl(t,n,i,a,d){if(null!=a){let g,C=!1;st(a)?g=a:je(a)&&(C=!0,a=a[jr]);const D=Di(a);0===t&&null!==i?null==d?Um(n,i,D):Jc(n,i,D,d||null,!0):1===t&&null!==i?Jc(n,i,D,d||null,!0):2===t?function Nf(t,n,i){const a=Pf(t,n);a&&function ov(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,D,C):3===t&&n.destroyNode(D),null!=g&&function og(t,n,i,a,d){const g=i[hi];g!==Di(i)&&xl(n,t,a,g,d);for(let D=br;D<i.length;D++){const R=i[D];Eu(R[mn],R,t,n,a,g)}}(n,t,g,i,d)}}function Df(t,n,i){return t.createElement(n,i)}function Lm(t,n){const i=t[ro],a=i.indexOf(n);Wu(n),i.splice(a,1)}function Sf(t,n){if(t.length<=br)return;const i=br+n,a=t[i];if(a){const d=a[Ue];null!==d&&d!==t&&Lm(d,a),n>0&&(t[i-1][Vi]=a[Vi]);const g=lh(t,br+n);!function Om(t,n){Eu(t,n,n[ir],2,null,null),n[jr]=null,n[ci]=null}(a[mn],a);const C=g[pt];null!==C&&C.detachView(g[mn]),a[Mr]=null,a[Vi]=null,a[Yn]&=-129}return a}function yh(t,n){if(!(256&n[Yn])){const i=n[ir];n[wn]&&Mc(n[wn]),n[mr]&&Mc(n[mr]),i.destroyNode&&Eu(t,n,i,3,null,null),function km(t){let n=t[yo];if(!n)return Jp(t[mn],t);for(;n;){let i=null;if(je(n))i=n[yo];else{const a=n[br];a&&(i=a)}if(!i){for(;n&&!n[Vi]&&n!==t;)je(n)&&Jp(n[mn],n),n=n[Mr];null===n&&(n=t),je(n)&&Jp(n[mn],n),i=n&&n[Vi]}n=i}}(n)}}function Jp(t,n){if(!(256&n[Yn])){n[Yn]&=-129,n[Yn]|=256,function Vm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof vl)){const g=i[a+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const D=d[g[C]],R=g[C+1];fr(4,D,R);try{R.call(D)}finally{fr(5,D,R)}}else{fr(4,d,g);try{g.call(d)}finally{fr(5,d,g)}}}}}(t,n),function Xp(t,n){const i=t.cleanup,a=n[Ti];if(null!==i)for(let g=0;g<i.length-1;g+=2)if("string"==typeof i[g]){const C=i[g+3];C>=0?a[C]():a[-C].unsubscribe(),g+=2}else i[g].call(a[i[g+1]]);null!==a&&(n[Ti]=null);const d=n[Pn];if(null!==d){n[Pn]=null;for(let g=0;g<d.length;g++)(0,d[g])()}}(t,n),1===n[mn].type&&n[ir].destroy();const i=n[Ue];if(null!==i&&st(n[Mr])){i!==n[Mr]&&Lm(i,n);const a=n[pt];null!==a&&a.detachView(t)}!function tv(t){$p.delete(t[Ft])}(n)}}function Yc(t,n,i){return function Eh(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[jr];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:g}=t.data[a.directiveStart+d];if(g===dn.None||g===dn.Emulated)return null}return jo(a,i)}}(t,n.parent,i)}function Jc(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Um(t,n,i){t.appendChild(n,i)}function Mf(t,n,i,a,d){null!==a?Jc(t,n,i,a,d):Um(t,n,i)}function Pf(t,n){return t.parentNode(n)}function tg(t,n,i){return ng(t,n,i)}let rg,Lf,lg,Td,ng=function xf(t,n,i){return 40&t.type?jo(t,i):null};function Of(t,n,i,a){const d=Yc(t,a,n),g=n[ir],D=tg(a.parent||n[ci],a,n);if(null!=d)if(Array.isArray(i))for(let R=0;R<i.length;R++)Mf(g,d,i[R],D,!1);else Mf(g,d,i,D,!1);void 0!==rg&&rg(g,a,n,i,d)}function yu(t,n){if(null!==n){const i=n.type;if(3&i)return jo(n,t);if(4&i)return Ih(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return yu(t,a);{const d=t[n.index];return st(d)?Ih(-1,d):Di(d)}}if(32&i)return _h(n,t)()||Di(t[n.index]);{const a=jm(t,n);return null!==a?Array.isArray(a)?a[0]:yu(lc(t[J]),a):yu(t,n.next)}}return null}function jm(t,n){return null!==n?t[J][ci].projection[n.projection]:null}function Ih(t,n){const i=br+t+1;if(i<n.length){const a=n[i],d=a[mn].firstChild;if(null!==d)return yu(a,d)}return n[hi]}function Ah(t,n,i,a,d,g,C){for(;null!=i;){const D=a[i.index],R=i.type;if(C&&0===n&&(D&&ls(Di(D),a),i.flags|=2),32!=(32&i.flags))if(8&R)Ah(t,n,i.child,a,d,g,!1),xl(n,t,d,D,g);else if(32&R){const K=_h(i,a);let fe;for(;fe=K();)xl(n,t,d,fe,g);xl(n,t,d,D,g)}else 16&R?ig(t,n,a,i,d,g):xl(n,t,d,D,g);i=C?i.projectionNext:i.next}}function Eu(t,n,i,a,d,g){Ah(i,a,t.firstChild,n,d,g,!1)}function ig(t,n,i,a,d,g){const C=i[J],R=C[ci].projection[a.projection];if(Array.isArray(R))for(let K=0;K<R.length;K++)xl(n,t,d,R[K],g);else{let K=R;const fe=C[Mr];gu(a)&&(K.flags|=128),Ah(t,n,K,fe,d,g,!0)}}function uc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Ff(t,n,i){const{mergedAttrs:a,classes:d,styles:g}=i;null!==a&&bo(t,n,a),null!==d&&uc(t,n,d),null!==g&&function sg(t,n,i){t.setAttribute(n,"style",i)}(t,n,g)}function Iu(t){return function bh(){if(void 0===Lf&&(Lf=null,Qn.trustedTypes))try{Lf=Qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lf}()?.createHTML(t)||t}function ug(t){lg=t}function Cd(){if(void 0!==lg)return lg;if(typeof document<"u")return document;throw new Be(210,!1)}function Ch(){if(void 0===Td&&(Td=null,Qn.trustedTypes))try{Td=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Td}function Vf(t){return Ch()?.createHTML(t)||t}function Hm(t){return Ch()?.createScriptURL(t)||t}class Au{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}class hg extends Au{getTypeName(){return"HTML"}}class cv extends Au{getTypeName(){return"Style"}}class fg extends Au{getTypeName(){return"Script"}}class Uf extends Au{getTypeName(){return"URL"}}class pg extends Au{getTypeName(){return"ResourceURL"}}function Xc(t){return t instanceof Au?t.changingThisBreaksApplicationSecurity:t}function Ua(t,n){const i=function lv(t){return t instanceof Au&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${It})`)}return i===n}function Ba(t){return new hg(t)}function uv(t){return new cv(t)}function Th(t){return new fg(t)}function dv(t){return new Uf(t)}function wh(t){return new pg(t)}class My{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Iu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Py{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Iu(n),i}}const mg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dh(t){return(t=String(t)).match(mg)?t:"unsafe:"+t}function dc(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function wd(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const zm=dc("area,br,col,hr,img,wbr"),Rl=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sh=dc("rp,rt"),Ol=wd(zm,wd(Rl,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wd(Sh,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wd(Sh,Rl)),Bf=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bu=wd(Bf,dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_g=dc("script,style,template");class pv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Ol.hasOwnProperty(i))return this.sanitizedSomething=!0,!_g.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const g=a.item(d),C=g.name,D=C.toLowerCase();if(!bu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let R=g.value;Bf[D]&&(R=Dh(R)),this.buf.push(" ",C,'="',vg(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Ol.hasOwnProperty(i)&&!zm.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(vg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const gv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mv=/([^\#-~ |!])/g;function vg(t){return t.replace(/&/g,"&amp;").replace(gv,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(mv,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yg;function Eg(t,n){let i=null;try{yg=yg||function gg(t){const n=new Py(t);return function xy(){try{return!!(new window.DOMParser).parseFromString(Iu(""),"text/html")}catch{return!1}}()?new My(n):n}(t);let a=n?String(n):"";i=yg.getInertBodyElement(a);let d=5,g=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=g,g=i.innerHTML,i=yg.getInertBodyElement(a)}while(a!==g);return Iu((new pv).sanitizeChildren(Ig(i)||i))}finally{if(i){const a=Ig(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ig(t){return"content"in t&&function _v(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cu||{});function Gm(t){const n=Hr();return n?Vf(n.sanitize(Cu.HTML,t)||""):Ua(t,"HTML")?Vf(Xc(t)):Eg(Cd(),Ze(t))}function Ag(t){const n=Hr();return n?n.sanitize(Cu.URL,t)||"":Ua(t,"URL")?Xc(t):Dh(Ze(t))}function qm(t){const n=Hr();if(n)return Hm(n.sanitize(Cu.RESOURCE_URL,t)||"");if(Ua(t,"ResourceURL"))return Hm(Xc(t));throw new Be(904,!1)}function Cg(t,n,i){return function Qm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?qm:Ag}(n,i)(t)}function Hr(){const t=qt();return t&&t[Ji].sanitizer}const Dd=new In("ENVIRONMENT_INITIALIZER"),wg=new In("INJECTOR",-1),Sd=new In("INJECTOR_DEF_TYPES");class jf{get(n,i=ur){if(i===ur){const a=new Error(`NullInjectorError: No provider for ${le(n)}!`);throw a.name="NullInjectorError",a}return i}}function Ko(t){return{\u0275providers:t}}function Oo(...t){return{\u0275providers:hc(0,t),\u0275fromNgModule:!0}}function hc(t,...n){const i=[],a=new Set;let d;const g=C=>{i.push(C)};return Ia(n,C=>{const D=C;Hf(D,g,[],a)&&(d||=[],d.push(D))}),void 0!==d&&Ym(d,g),i}function Ym(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];zf(d,g=>{n(g,a)})}}function Hf(t,n,i,a){if(!(t=Ne(t)))return!1;let d=null,g=pi(t);const C=!g&&qn(t);if(g||C){if(C&&!C.standalone)return!1;d=t}else{const R=t.ngModule;if(g=pi(R),!g)return!1;d=R}const D=a.has(d);if(C){if(D)return!1;if(a.add(d),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const K of R)Hf(K,n,i,a)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let K;a.add(d);try{Ia(g.imports,fe=>{Hf(fe,n,i,a)&&(K||=[],K.push(fe))})}finally{}void 0!==K&&Ym(K,n)}if(!D){const K=ps(d)||(()=>new d);n({provide:d,useFactory:K,deps:bn},d),n({provide:Sd,useValue:d,multi:!0},d),n({provide:Dd,useValue:()=>$t(d),multi:!0},d)}const R=g.providers;if(null!=R&&!D){const K=t;zf(R,fe=>{n(fe,K)})}}}return d!==t&&void 0!==t.providers}function zf(t,n){for(let i of t)Te(i)&&(i=i.\u0275providers),Array.isArray(i)?zf(i,n):n(i)}const Ph=W({provide:String,useValue:W});function xh(t){return null!==t&&"object"==typeof t&&Ph in t}function kl(t){return"function"==typeof t}const $f=new In("Set Injector scope."),Zf={},Ui={};let Rh;function Gf(){return void 0===Rh&&(Rh=new jf),Rh}class el{}class Tu extends el{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tl(n,C=>this.processProvider(C)),this.records.set(wg,wu(void 0,this)),d.has("environment")&&this.records.set(el,wu(void 0,this));const g=this.records.get($f);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Sd.multi,bn,Cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=et(this),a=Zr(void 0);try{return n()}finally{et(i),Zr(a)}}get(n,i=ur,a=Cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(pr))return n[pr](this);a=fn(a);const g=et(this),C=Zr(void 0);try{if(!(a&Cn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const K=function e_(t){return"function"==typeof t||"object"==typeof t&&t instanceof In}(n)&&Mn(n);R=K&&this.injectableDefInScope(K)?wu(qf(n),Zf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(a&Cn.Self?Gf():this.parent).get(n,i=a&Cn.Optional&&i===ur?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[sn]=D[sn]||[]).unshift(le(n)),g)throw D;return function it(t,n,i,a){const d=t[sn];throw n[j]&&d.unshift(n[j]),t.message=function jt(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=le(n);if(Array.isArray(n))d=n.map(le).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let D=n[C];g.push(C+":"+("string"==typeof D?JSON.stringify(D):le(D)))}d=`{${g.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ne,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[sn]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Zr(C),et(g)}}resolveInjectorInitializers(){const n=et(this),i=Zr(void 0);try{const d=this.get(Dd.multi,bn,Cn.Self);for(const g of d)g()}finally{et(n),Zr(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(le(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){let i=kl(n=Ne(n))?n:Ne(n&&n.provide);const a=function Ry(t){return xh(t)?wu(void 0,t.useValue):wu(Dg(t),Zf)}(n);if(kl(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=wu(void 0,Zf,!0),d.factory=()=>dr(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===Zf&&(i.value=Ui,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Xm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ne(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function qf(t){const n=Mn(t),i=null!==n?n.factory:ps(t);if(null!==i)return i;if(t instanceof In)throw new Be(204,!1);if(t instanceof Function)return function Jm(t){const n=t.length;if(n>0)throw au(n,"?"),new Be(204,!1);const i=function un(t){return t&&(t[zn]||t[nr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Be(204,!1)}function Dg(t,n,i){let a;if(kl(t)){const d=Ne(t);return ps(d)||qf(d)}if(xh(t))a=()=>Ne(t.useValue);else if(function Bs(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...dr(t.deps||[]));else if(function Md(t){return!(!t||!t.useExisting)}(t))a=()=>$t(Ne(t.useExisting));else{const d=Ne(t&&(t.useClass||t.provide));if(!function Ev(t){return!!t.deps}(t))return ps(d)||qf(d);a=()=>new d(...dr(t.deps))}return a}function wu(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function tl(t,n){for(const i of t)Array.isArray(i)?tl(i,n):i&&Te(i)?tl(i.\u0275providers,n):n(i)}const Oh=new In("AppId",{providedIn:"root",factory:()=>ja}),ja="ng",ba=new In("Platform Initializer"),Sg=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ca=new In("AnimationModuleType"),Mg=new In("CSP nonce",{providedIn:"root",factory:()=>Cd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rs=(t,n,i)=>null;function Fh(t,n,i=!1){return rs(t,n,i)}class Cv{}class Tv{}class wv{resolveComponentFactory(n){throw function Vh(t){const n=Error(`No component factory found for ${le(t)}.`);return n.ngComponent=t,n}(n)}}let Uh=(()=>{class t{static#e=this.NULL=new wv}return t})();function Qf(){return Od(Ro(),qt())}function Od(t,n){return new Bh(jo(t,n))}let Bh=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Qf}return t})();function mc(t){return t instanceof Bh?t.nativeElement:t}class Yf{}let kg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jh(){const t=qt(),i=Ho(Ro().index,t);return(je(i)?i:t)[ir]}()}return t})(),i_=(()=>{class t{static#e=this.\u0275prov=Sn({token:t,providedIn:"root",factory:()=>null})}return t})();class Fg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Lg=new Fg("16.2.12"),Jf={};function Pu(t,n=null,i=null,a){const d=l_(t,n,i,a);return d.resolveInjectorInitializers(),d}function l_(t,n=null,i=null,a,d=new Set){const g=[i||bn,Oo(t)];return a=a||("object"==typeof t?void 0:le(t)),new Tu(g,n||Gf(),a||null,d)}let Ha=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ur;static#t=this.NULL=new jf;static create(i,a){if(Array.isArray(i))return Pu({name:""},a,i,"");{const d=i.name??"";return Pu({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Sn({token:t,providedIn:"any",factory:()=>$t(wg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Xf(t){return t.ngOriginalError}class xu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Xf(n);for(;i&&Xf(i);)i=Xf(i);return i||null}}function jg(t){return n=>{setTimeout(t,void 0,n)}}const _c=class Sv extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,g=i||(()=>null),C=a;if(n&&"object"==typeof n){const R=n;d=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=jg(g),d&&(d=jg(d)),C&&(C=jg(C)));const D=super.subscribe({next:d,error:g,complete:C});return n instanceof o.w0&&n.add(D),D}};function Hg(...t){}class Ao{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _c(!1),this.onMicrotaskEmpty=new _c(!1),this.onStable=new _c(!1),this.onError=new _c(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Mv(){const t="function"==typeof Qn.requestAnimationFrame;let n=Qn[t?"requestAnimationFrame":"setTimeout"],i=Qn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function xv(t){const n=()=>{!function Pv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$g(t),t.isCheckStableRunning=!0,ep(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$g(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,g,C,D)=>{if(function tp(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return i.invokeTask(d,g,C,D);try{return u_(t),i.invokeTask(d,g,C,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Zg(t)}},onInvoke:(i,a,d,g,C,D,R)=>{try{return u_(t),i.invoke(d,g,C,D,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),Zg(t)}},onHasTask:(i,a,d,g)=>{i.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,$g(t),ep(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(i,a,d,g)=>(i.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Be(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+d,n,zg,Hg,Hg);try{return g.runTask(C,i,a)}finally{g.cancelTask(C)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const zg={};function ep(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $g(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function u_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zg(t){t._nesting--,ep(t)}class Ly{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _c,this.onMicrotaskEmpty=new _c,this.onStable=new _c,this.onError=new _c}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const za=new In("",{providedIn:"root",factory:Gg});function Gg(){const t=cn(Ao);let n=!0;const i=new V.y(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new V.y(d=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Se.T)(i,a.pipe((0,ue.B)()))}function np(t){return t.ownerDocument.defaultView}function al(t){return t instanceof Function?t():t}let rp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Sn({token:t,providedIn:"root",factory:()=>new t})}return t})();function _s(t){for(;t;){t[Yn]|=64;const n=lc(t);if(hr(t)&&!n)return t;t=n}return null}const Nv=new In("",{providedIn:"root",factory:()=>!1});let Fd=null;function Ld(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=Fd,i.lView=t,Fd=r())}const e={...Dc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_s(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Fd??=r(),Fd}const u={};function _(t){I(ri(),qt(),ns()+t,!1)}function I(t,n,i,a){if(!a)if(3==(3&n[Yn])){const g=t.preOrderCheckHooks;null!==g&&ka(n,g,i)}else{const g=t.preOrderHooks;null!==g&&Fa(n,g,0,i)}Ls(i)}function P(t,n=Cn.Default){const i=qt();return null===i?$t(t,n):fi(Ro(),i,Ne(t),n)}function U(){throw new Error("invalid")}function me(t,n,i,a,d,g,C,D,R,K,fe){const Fe=n.blueprint.slice();return Fe[jr]=d,Fe[Yn]=140|a,(null!==K||t&&2048&t[Yn])&&(Fe[Yn]|=2048),Qs(Fe),Fe[Mr]=Fe[oe]=t,Fe[oi]=i,Fe[Ji]=C||t&&t[Ji],Fe[ir]=D||t&&t[ir],Fe[Yi]=R||t&&t[Yi]||null,Fe[ci]=g,Fe[Ft]=function Mm(){return Sm++}(),Fe[Gt]=fe,Fe[pn]=K,Fe[J]=2==n.type?t[J]:Fe,Fe}function Oe(t,n,i,a,d){let g=t.data[n];if(null===g)g=function nt(t,n,i,a,d){const g=uo(),C=Fc(),R=t.data[n]=function Ct(t,n,i,a,d,g){let C=n?n.injectorIndex:-1,D=0;return Na()&&(D|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,i,a,d),function O(){return _r.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=i,g.value=a,g.attrs=d;const C=function kc(){const t=_r.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return zo(g,!0),g}function St(t,n,i,a){if(0===i)return-1;const d=n.length;for(let g=0;g<i;g++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function Wt(t,n,i,a,d){const g=Ld(n,wn),C=ns(),D=2&a;try{Ls(-1),D&&n.length>$n&&I(t,n,$n,!1),fr(D?2:0,d);const K=D?g:null,fe=yr(K);try{null!==K&&(K.dirty=!1),i(a,d)}finally{Sc(K,fe)}}finally{D&&null===n[wn]&&l(n,wn),Ls(C),fr(D?3:1,d)}}function _n(t,n,i){if(Ut(n)){const a=oo(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const D=t.data[C];D.contentQueries&&D.contentQueries(1,i[C],C)}}finally{oo(a)}}}function tn(t,n,i){Xi()&&(function Vy(t,n,i,a){const d=i.directiveStart,g=i.directiveEnd;Kt(i)&&function y_(t,n,i){const a=jo(n,t),d=cr(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const D=$h(t,me(t,d,null,C,a,n,null,t[Ji].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=D}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||cd(i,n),ls(a,n);const C=i.initialInputs;for(let D=d;D<g;D++){const R=t.data[D],K=Uc(n,t,D,i);ls(K,n),null!==C&&Hv(0,D-d,K,R,0,C),Rn(R)&&(Ho(i.index,n)[oi]=Uc(n,t,D,i))}}(t,n,i,jo(i,n)),64==(64&i.flags)&&zh(t,n,i))}function Wn(t,n,i=jo){const a=n.localNames;if(null!==a){let d=n.index+1;for(let g=0;g<a.length;g+=2){const C=a[g+1],D=-1===C?i(n,t):t[C];t[d++]=D}}}function cr(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=tr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function tr(t,n,i,a,d,g,C,D,R,K,fe){const Fe=$n+a,ht=Fe+d,Tt=function Ur(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:u);return i}(Fe,ht),zt="function"==typeof K?K():K;return Tt[mn]={type:t,blueprint:Tt,template:i,queries:null,viewQuery:D,declTNode:n,data:Tt.slice().fill(null,Fe),bindingStartIndex:Fe,expandoStartIndex:ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:zt,incompleteFirstPass:!1,ssrId:fe}}let vt=t=>null;function Ot(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const g=t[d];null===a?ot(i,n,d,g):a.hasOwnProperty(d)&&ot(i,n,a[d],g)}return i}function ot(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function aa(t,n,i,a,d,g,C,D){const R=jo(n,i);let fe,K=n.inputs;!D&&null!=K&&(fe=K[a])?(ys(t,i,fe,a,d),Kt(n)&&function op(t,n){const i=Ho(n,t);16&i[Yn]||(i[Yn]|=64)}(i,n.index)):3&n.type&&(a=function ip(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=C?C(d,n.value||"",a):d,g.setProperty(R,a,d))}function Qg(t,n,i,a){if(Xi()){const d=null===a?null:{"":-1},g=function ap(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let g=0;g<i.length;g++){const C=i[g];if(ai(n,C.selectors,!1))if(a||(a=[]),Rn(C))if(null!==C.findHostDirectiveDefs){const D=[];d=d||new Map,C.findHostDirectiveDefs(C,D,d),a.unshift(...D,C),__(t,n,D.length)}else a.unshift(C),__(t,n,0);else d=d||new Map,C.findHostDirectiveDefs?.(C,a,d),a.push(C)}return null===a?null:[a,d]}(t,i);let C,D;null===g?C=D=null:[C,D]=g,null!==C&&jv(t,n,i,C,d,D),d&&function By(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const g=i[n[d+1]];if(null==g)throw new Be(-301,!1);a.push(n[d],g)}}}(i,a,d)}i.mergedAttrs=gr(i.mergedAttrs,i.attrs)}function jv(t,n,i,a,d,g){for(let K=0;K<a.length;K++)Tr(cd(i,n),t,a[K].type);!function Jg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let K=0;K<a.length;K++){const fe=a[K];fe.providersResolver&&fe.providersResolver(fe)}let C=!1,D=!1,R=St(t,n,a.length,null);for(let K=0;K<a.length;K++){const fe=a[K];i.mergedAttrs=gr(i.mergedAttrs,fe.hostAttrs),v_(t,i,n,R,fe),Yg(R,fe,d),null!==fe.contentQueries&&(i.flags|=4),(null!==fe.hostBindings||null!==fe.hostAttrs||0!==fe.hostVars)&&(i.flags|=64);const Fe=fe.type.prototype;!C&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!D&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),D=!0),R++}!function Hl(t,n,i){const d=n.directiveEnd,g=t.data,C=n.attrs,D=[];let R=null,K=null;for(let fe=n.directiveStart;fe<d;fe++){const Fe=g[fe],ht=i?i.get(Fe):null,zt=ht?ht.outputs:null;R=Ot(Fe.inputs,fe,R,ht?ht.inputs:null),K=Ot(Fe.outputs,fe,K,zt);const gn=null===R||null===C||qr(n)?null:jy(R,fe,C);D.push(gn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=R,n.outputs=K}(t,i,g)}function zh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,g=i.index,C=function Q(){return _r.lFrame.currentDirectiveIndex}();try{Ls(g);for(let D=a;D<d;D++){const R=t.data[D],K=n[D];ye(D),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Uy(R,K)}}finally{Ls(-1),ye(C)}}function Uy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function __(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Yg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Rn(n)&&(i[""]=t)}}function v_(t,n,i,a,d){t.data[a]=d;const g=d.factory||(d.factory=ps(d.type)),C=new vl(g,Rn(d),P);t.blueprint[a]=C,i[a]=C,function Nu(t,n,i,a,d){const g=d.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const D=~n.index;(function Ds(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=D&&C.push(D),C.push(i,a,g)}}(t,n,a,St(t,i,d.hostVars,u),d)}function Za(t,n,i,a,d,g){const C=jo(t,n);!function cp(t,n,i,a,d,g,C){if(null==g)t.removeAttribute(n,d,i);else{const D=null==C?Ze(g):C(g,a||"",d);t.setAttribute(n,d,D,i)}}(n[ir],C,g,t.value,i,a,d)}function Hv(t,n,i,a,d,g){const C=g[n];if(null!==C)for(let D=0;D<C.length;)E_(a,i,C[D++],C[D++],C[D++])}function E_(t,n,i,a,d){const g=oo(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(a)&&(d=C[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{oo(g)}}function jy(t,n,i){let a=null,d=0;for(;d<i.length;){const g=i[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===a&&(a=[]);const C=t[g];for(let D=0;D<C.length;D+=2)if(C[D]===n){a.push(g,C[D+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function I_(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function A_(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const g=i[a+1];if(-1!==g){const C=t.data[g];xt(i[a]),C.contentQueries(2,n[g],g)}}}function $h(t,n){return t[yo]?t[Nr][Vi]=n:t[yo]=n,t[Nr]=n,n}function Xg(t,n,i){xt(0);const a=oo(null);try{n(t,i)}finally{oo(a)}}function em(t){return t[Ti]||(t[Ti]=[])}function tm(t){return t.cleanup||(t.cleanup=[])}function vs(t,n){const i=t[Yi],a=i?i.get(xu,null):null;a&&a.handleError(n)}function ys(t,n,i,a,d){for(let g=0;g<i.length;){const C=i[g++],D=i[g++];E_(t.data[C],n[C],a,D,d)}}function Ga(t,n,i){const a=qs(n,t);!function Rm(t,n,i){t.setValue(n,i)}(t[ir],a,i)}function zv(t,n){const i=Ho(n,t),a=i[mn];!function $v(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[jr];null!==d&&null===i[Gt]&&(i[Gt]=Fh(d,i[Yi])),b_(a,i,i[oi])}function b_(t,n,i){vi(n);try{const a=t.viewQuery;null!==a&&Xg(1,a,i);const d=t.template;null!==d&&Wt(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&A_(t,n),t.staticViewQueries&&Xg(2,t.viewQuery,i);const g=t.components;null!==g&&function lp(t,n){for(let i=0;i<n.length;i++)zv(t,n[i])}(n,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Yn]&=-5,_a()}}let C_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const g=typeof Zone>"u"?null:Zone.current,C=function Ht(t,n,i){const a=Object.create($r);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=C=>{a.cleanupFn=C};return a.ref={notify:()=>xa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!fl(a))return;a.hasRun=!0;const C=yr(a);try{a.cleanupFn(),a.cleanupFn=Nn,a.fn(d)}finally{Sc(a,C)}},cleanup:()=>a.cleanupFn()},a.ref}(i,K=>{this.all.has(K)&&this.queue.set(K,g)},d);let D;this.all.add(C),C.notify();const R=()=>{C.cleanup(),D?.(),this.all.delete(C),this.queue.delete(C)};return D=a?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Sn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Zh(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const D=n[C];"number"==typeof D?g=D:1==g?d=_e(d,D):2==g&&(a=_e(a,D+": "+n[++C]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function up(t,n,i,a,d=!1){for(;null!==i;){const g=n[i.index];null!==g&&a.push(Di(g)),st(g)&&Gv(g,a);const C=i.type;if(8&C)up(t,n,i.child,a);else if(32&C){const D=_h(i,n);let R;for(;R=D();)a.push(R)}else if(16&C){const D=jm(n,i);if(Array.isArray(D))a.push(...D);else{const R=lc(n[J]);up(R[mn],R,D,a,!0)}}i=d?i.projectionNext:i.next}return a}function Gv(t,n){for(let i=br;i<t.length;i++){const a=t[i],d=a[mn].firstChild;null!==d&&up(a[mn],a,d,n)}t[hi]!==t[jr]&&n.push(t[hi])}function Gh(t,n,i,a=!0){const d=n[Ji],g=d.rendererFactory,C=d.afterRenderEventManager;g.begin?.(),C?.begin();try{qh(t,n,t.template,i)}catch(R){throw a&&vs(n,R),R}finally{g.end?.(),d.effectManager?.flush(),C?.end()}}function qh(t,n,i,a){const d=n[Yn];if(256!=(256&d)){n[Ji].effectManager?.flush(),vi(n);try{Qs(n),function ed(t){return _r.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Wt(t,n,i,2,a);const C=3==(3&d);if(C){const K=t.preOrderCheckHooks;null!==K&&ka(n,K,null)}else{const K=t.preOrderHooks;null!==K&&Fa(n,K,0,null),ea(n,0)}if(function T_(t){for(let n=xm(t);null!==n;n=Tf(n)){if(!n[Vr])continue;const i=n[ro];for(let a=0;a<i.length;a++){Rs(i[a])}}}(n),rm(n,2),null!==t.contentQueries&&A_(t,n),C){const K=t.contentCheckHooks;null!==K&&ka(n,K)}else{const K=t.contentHooks;null!==K&&Fa(n,K,1),ea(n,1)}!function X(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Ld(n,mr);try{for(let d=0;d<i.length;d++){const g=i[d];if(g<0)Ls(~g);else{const C=g,D=i[++d],R=i[++d];N(D,C),a.dirty=!1;const K=yr(a);try{R(2,n[C])}finally{Sc(a,K)}}}}finally{null===n[mr]&&l(n,mr),Ls(-1)}}(t,n);const D=t.components;null!==D&&dp(n,D,0);const R=t.viewQuery;if(null!==R&&Xg(2,R,a),C){const K=t.viewCheckHooks;null!==K&&ka(n,K)}else{const K=t.viewHooks;null!==K&&Fa(n,K,2),ea(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Yn]&=-73,Wu(n)}finally{_a()}}}function rm(t,n){for(let i=xm(t);null!==i;i=Tf(i))for(let a=br;a<i.length;a++)w_(i[a],n)}function Vd(t,n,i){w_(Ho(n,t),i)}function w_(t,n){if(!function Oc(t){return 128==(128&t[Yn])}(t))return;const i=t[mn],a=t[Yn];if(80&a&&0===n||1024&a||2===n)qh(i,t,i.template,t[oi]);else if(t[Ii]>0){rm(t,1);const d=i.components;null!==d&&dp(t,d,1)}}function dp(t,n,i){for(let a=0;a<n.length;a++)Vd(t,n[a],i)}class Wh{get rootNodes(){const n=this._lView,i=n[mn];return up(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oi]}set context(n){this._lView[oi]=n}get destroyed(){return 256==(256&this._lView[Yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Mr];if(st(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Sf(n,a),lh(i,a))}this._attachedToViewContainer=!1}yh(this._lView[mn],this._lView)}onDestroy(n){!function lf(t,n){if(256==(256&t[Yn]))throw new Be(911,!1);null===t[Pn]&&(t[Pn]=[]),t[Pn].push(n)}(this._lView,n)}markForCheck(){_s(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yn]&=-129}reattach(){this._lView[Yn]|=128}detectChanges(){Gh(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yp(t,n){Eu(t,n,n[ir],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n}}class hp extends Wh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Gh(n[mn],n,n[oi],!1)}checkNoChanges(){}get context(){return null}}class D_ extends Uh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=qn(n);return new ll(i,this.ngModule)}}function Ss(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class fp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=fn(a);const d=this.injector.get(n,Jf,a);return d!==Jf||i===Jf?d:this.parentInjector.get(n,i,a)}}class ll extends Tv{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Ss(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return Ss(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Qi(t){return t.map(Li).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let g=(d=d||this.ngModule)instanceof el?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new fp(n,g):n,D=C.get(Yf,null);if(null===D)throw new Be(407,!1);const Fe={rendererFactory:D,sanitizer:C.get(i_,null),effectManager:C.get(C_,null),afterRenderEventManager:C.get(rp,null)},ht=D.createRenderer(null,this.componentDef),Tt=this.componentDef.selectors[0][0]||"div",zt=a?function Ni(t,n,i,a){const g=a.get(Nv,!1)||i===dn.ShadowDom,C=t.selectRootElement(n,g);return function ii(t){vt(t)}(C),C}(ht,a,this.componentDef.encapsulation,C):Df(ht,Tt,function Wv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Tt)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let rn=null;null!==zt&&(rn=Fh(zt,C,!0));const zr=tr(0,null,null,1,0,null,null,null,null,null,null),di=me(null,zr,null,lr,null,null,Fe,ht,C,null,rn);let po,bc;vi(di);try{const cf=this.componentDef;let J_,sE=null;cf.findHostDirectiveDefs?(J_=[],sE=new Map,cf.findHostDirectiveDefs(cf,J_,sE),J_.push(cf)):J_=[cf];const Kw=function S_(t,n){const i=t[mn],a=$n;return t[a]=n,Oe(i,a,2,"#host",null)}(di,zt),Qw=function Ud(t,n,i,a,d,g,C){const D=d[mn];!function zy(t,n,i,a){for(const d of t)n.mergedAttrs=gr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Zh(n,n.mergedAttrs,!0),null!==i&&Ff(a,i,n))}(a,t,n,C);let R=null;null!==n&&(R=Fh(n,d[Yi]));const K=g.rendererFactory.createRenderer(n,i);let fe=16;i.signals?fe=4096:i.onPush&&(fe=64);const Fe=me(d,cr(i),null,fe,d[t.index],t,g,K,null,null,R);return D.firstCreatePass&&__(D,t,a.length-1),$h(d,Fe),d[t.index]=Fe}(Kw,zt,cf,J_,di,Fe,ht);bc=Rc(zr,$n),zt&&function pp(t,n,i,a){if(a)bo(t,i,["ng-version",Lg.full]);else{const{attrs:d,classes:g}=function qo(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&n.push(g,t[++a]):8===d&&i.push(g);else{if(!ji(d))break;d=g}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&bo(t,i,d),g&&g.length>0&&uc(t,i,g.join(" "))}}(ht,cf,zt,a),void 0!==i&&function M_(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const g=i[d];a.push(null!=g?Array.from(g):null)}}(bc,this.ngContentSelectors,i),po=function om(t,n,i,a,d,g){const C=Ro(),D=d[mn],R=jo(C,d);jv(D,d,C,i,null,a);for(let fe=0;fe<i.length;fe++)ls(Uc(d,D,C.directiveStart+fe,C),d);zh(D,d,C),R&&ls(R,d);const K=Uc(d,D,C.directiveStart+C.componentOffset,C);if(t[oi]=d[oi]=K,null!==g)for(const fe of g)fe(K,n);return _n(D,C,t),K}(Qw,cf,J_,sE,di,[sm]),b_(zr,di,null)}finally{_a()}return new im(this.componentType,po,Od(bc,di),di,bc)}}class im extends Cv{constructor(n,i,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new hp(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;ys(g[mn],g,d,n,i),this.previousInputValues.set(n,i),_s(Ho(this._tNode.index,g))}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sm(){const t=Ro();rd(qt()[mn],t)}function vc(t){let n=function Kh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if(Rn(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const C=t;C.inputs=gp(t.inputs),C.inputTransforms=gp(t.inputTransforms),C.declaredInputs=gp(t.declaredInputs),C.outputs=gp(t.outputs);const D=d.hostBindings;D&&Kv(t,D);const R=d.viewQuery,K=d.contentQueries;if(R&&x_(t,R),K&&R_(t,K),$(t.inputs,d.inputs),$(t.declaredInputs,d.declaredInputs),$(t.outputs,d.outputs),null!==d.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),$(C.inputTransforms,d.inputTransforms)),Rn(d)&&d.data.animation){const fe=t.data;fe.animation=(fe.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let C=0;C<g.length;C++){const D=g[C];D&&D.ngInherit&&D(t),D===vc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function P_(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=gr(d.hostAttrs,i=gr(i,d.hostAttrs))}}(a)}function gp(t){return t===Ir?{}:t===bn?[]:t}function x_(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function R_(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,g)=>{n(a,d,g),i(a,d,g)}:n}function Kv(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function O_(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function mp(t){return!!lm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ul(t,n,i){return t[n]=i}function Es(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ku(t,n,i,a){const d=Es(t,n,i);return Es(t,n+1,a)||d}function yc(t,n,i,a){const d=qt();return Es(d,ma(),n)&&(ri(),Za(Zi(),d,t,n,i,a)),yc}function $l(t,n,i,a){return Es(t,ma(),i)?n+Ze(i)+a:u}function jd(t,n,i,a,d,g){const D=ku(t,function Ns(){return _r.lFrame.bindingIndex}(),i,d);return S(2),D?n+Ze(i)+a+Ze(d)+g:u}function Ap(t,n,i,a,d,g,C,D){const R=qt(),K=ri(),fe=t+$n,Fe=K.firstCreatePass?function z_(t,n,i,a,d,g,C,D,R){const K=n.consts,fe=Oe(n,t,4,C||null,Ks(K,D));Qg(n,i,fe,Ks(K,R)),rd(n,fe);const Fe=fe.tView=tr(2,fe,a,d,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,K,null);return null!==n.queries&&(n.queries.template(n,fe),Fe.queries=n.queries.embeddedTView(fe)),fe}(fe,K,R,n,i,a,d,g,C):K.data[fe];zo(Fe,!1);const ht=Zd(K,R,Fe,t);td()&&Of(K,R,ht,Fe),ls(ht,R),$h(R,R[fe]=I_(ht,R,ht,Fe)),An(Fe)&&tn(K,R,Fe),null!=C&&Wn(R,Fe,D)}let Zd=function bp(t,n,i,a){return Xs(!0),n[ir].createComment("")};function wp(t,n,i){const a=qt();return Es(a,ma(),n)&&aa(ri(),Zi(),a,t,n,a[ir],i,!1),wp}function Dp(t,n,i,a,d){const C=d?"class":"style";ys(t,i,n.inputs[C],C,a)}function nf(t,n,i,a){const d=qt(),g=ri(),C=$n+t,D=d[ir],R=g.firstCreatePass?function $_(t,n,i,a,d,g){const C=n.consts,R=Oe(n,t,2,a,Ks(C,d));return Qg(n,i,R,Ks(C,g)),null!==R.attrs&&Zh(R,R.attrs,!1),null!==R.mergedAttrs&&Zh(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,d,n,i,a):g.data[C],K=Z_(g,d,R,D,n,t);d[C]=K;const fe=An(R);return zo(R,!0),Ff(D,K,R),32!=(32&R.flags)&&td()&&Of(g,d,K,R),0===function Oa(){return _r.lFrame.elementDepthCount}()&&ls(K,d),function Jd(){_r.lFrame.elementDepthCount++}(),fe&&(tn(g,d,R),_n(g,R,d)),null!==a&&Wn(d,R),nf}function Bu(){let t=Ro();Fc()?ec():(t=t.parent,zo(t,!1));const n=t;(function Xd(t){return _r.skipHydrationRootTNode===t})(n)&&function xp(){_r.skipHydrationRootTNode=null}(),function Qu(){_r.lFrame.elementDepthCount--}();const i=ri();return i.firstCreatePass&&(rd(i,t),Ut(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Rp(t){return 0!=(8&t.flags)}(n)&&Dp(i,n,qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function oh(t){return 0!=(16&t.flags)}(n)&&Dp(i,n,qt(),n.stylesWithoutHost,!1),Bu}function js(t,n,i,a){return nf(t,n,i,a),Bu(),js}let Z_=(t,n,i,a,d,g)=>(Xs(!0),Df(a,d,function Js(){return _r.lFrame.currentNamespace}()));function eo(){return qt()}function is(t){return!!t&&"function"==typeof t.then}function Si(t){return!!t&&"function"==typeof t.subscribe}function ds(t,n,i,a){const d=qt(),g=ri(),C=Ro();return function ca(t,n,i,a,d,g,C){const D=An(a),K=t.firstCreatePass&&tm(t),fe=n[oi],Fe=em(n);let ht=!0;if(3&a.type||C){const gn=jo(a,n),Ln=C?C(gn):gn,lr=Fe.length,rn=C?di=>C(Di(di[a.index])):a.index;let zr=null;if(!C&&D&&(zr=function sf(t,n,i,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const C=d[g];if(C===i&&d[g+1]===a){const D=n[Ti],R=d[g+2];return D.length>R?D[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,d,a.index)),null!==zr)(zr.__ngLastListenerFn__||zr).__ngNextListenerFn__=g,zr.__ngLastListenerFn__=g,ht=!1;else{g=Sp(a,n,fe,g,!1);const di=i.listen(Ln,d,g);Fe.push(g,di),K&&K.push(d,rn,lr,lr+1)}}else g=Sp(a,n,fe,g,!1);const Tt=a.outputs;let zt;if(ht&&null!==Tt&&(zt=Tt[d])){const gn=zt.length;if(gn)for(let Ln=0;Ln<gn;Ln+=2){const po=n[zt[Ln]][zt[Ln+1]].subscribe(g),bc=Fe.length;Fe.push(g,po),K&&K.push(d,a.index,bc,-(bc+1))}}}(g,d,d[ir],C,t,n,a),ds}function af(t,n,i,a){try{return fr(6,n,i),!1!==i(a)}catch(d){return vs(t,d),!1}finally{fr(7,n,i)}}function Sp(t,n,i,a,d){return function g(C){if(C===Function)return a;_s(t.componentOffset>-1?Ho(t.index,n):n);let R=af(n,i,a,C),K=g.__ngNextListenerFn__;for(;K;)R=af(n,i,K,C)&&R,K=K.__ngNextListenerFn__;return d&&!1===R&&C.preventDefault(),R}}function v(t=1){return function Fs(t){return(_r.lFrame.contextLView=function tc(t,n){for(;t>0;)n=n[oe],t--;return n}(t,_r.lFrame.contextLView))[oi]}(t)}function h(t,n){let i=null;const a=function Hs(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let d=0;d<n.length;d++){const g=n[d];if("*"!==g){if(null===a?ai(t,g,!0):As(a,g))return d}else i=d}return i}function c(t){const n=qt()[J][ci];if(!n.projection){const a=n.projection=au(t?t.length:1,null),d=a.slice();let g=n.child;for(;null!==g;){const C=t?h(g,t):0;null!==C&&(d[C]?d[C].projectionNext=g:a[C]=g,d[C]=g),g=g.next}}}function p(t,n=0,i){const a=qt(),d=ri(),g=Oe(d,$n+t,16,null,i||null);null===g.projection&&(g.projection=n),ec(),(!a[Gt]||Na())&&32!=(32&g.flags)&&function bd(t,n,i){ig(n[ir],0,n,i,Yc(t,i,n),tg(i.parent||n[ci],i,n))}(d,a,g)}function b(t,n,i){return H(t,"",n,"",i),b}function H(t,n,i,a,d){const g=qt(),C=$l(g,n,i,a);return C!==u&&aa(ri(),Zi(),g,t,C,g[ir],d,!1),H}function Un(t,n){return t<<17|n<<2}function On(t){return t>>17&32767}function qi(t){return 2|t}function Yo(t){return(131068&t)>>2}function hs(t,n){return-131069&t|n<<2}function Ec(t){return 1|t}function py(t,n,i,a,d){const g=t[i+1],C=null===n;let D=a?On(g):Yo(g),R=!1;for(;0!==D&&(!1===R||C);){const fe=t[D+1];gm(t[D],n)&&(R=!0,t[D+1]=a?Ec(fe):qi(fe)),D=a?On(fe):Yo(fe)}R&&(t[i+1]=a?qi(g):Ec(g))}function gm(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&cu(t,n)>=0}function zu(t,n,i){return $u(t,n,i,!1),zu}function wa(t,n){return $u(t,n,null,!0),wa}function $u(t,n,i,a){const d=qt(),g=ri(),C=S(2);g.firstUpdatePass&&function cE(t,n,i,a){const d=t.data;if(null===d[i+1]){const g=d[ns()],C=function aE(t,n){return n>=t.expandoStartIndex}(t,i);(function hE(t,n){return 0!=(t.flags&(n?8:16))})(g,a)&&null===n&&!C&&(n=!1),n=function qA(t,n,i,a){const d=function He(t){const n=_r.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=_y(i=I0(null,t,n,i,a),n.attrs,a),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==d)if(i=I0(d,t,n,i,a),null===g){let R=function WA(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Yo(a))return t[On(a)]}(t,n,a);void 0!==R&&Array.isArray(R)&&(R=I0(null,t,n,R[1],a),R=_y(R,n.attrs,a),function KA(t,n,i,a){t[On(i?n.classBindings:n.styleBindings)]=a}(t,n,a,R))}else g=function QA(t,n,i){let a;const d=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<d;g++)a=_y(a,t[g].hostAttrs,i);return _y(a,n.attrs,i)}(t,n,a)}return void 0!==g&&(a?n.residualClasses=g:n.residualStyles=g),i}(d,g,n,a),function ju(t,n,i,a,d,g){let C=g?n.classBindings:n.styleBindings,D=On(C),R=Yo(C);t[a]=i;let fe,K=!1;if(Array.isArray(i)?(fe=i[1],(null===fe||cu(i,fe)>0)&&(K=!0)):fe=i,d)if(0!==R){const ht=On(t[D+1]);t[a+1]=Un(ht,D),0!==ht&&(t[ht+1]=hs(t[ht+1],a)),t[D+1]=function ao(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=Un(D,0),0!==D&&(t[D+1]=hs(t[D+1],a)),D=a;else t[a+1]=Un(R,0),0===D?D=a:t[R+1]=hs(t[R+1],a),R=a;K&&(t[a+1]=qi(t[a+1])),py(t,fe,a,!0),py(t,fe,a,!1),function Hu(t,n,i,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&cu(g,n)>=0&&(i[a+1]=Ec(i[a+1]))}(n,fe,t,a,g),C=Un(D,R),g?n.classBindings=C:n.styleBindings=C}(d,g,n,i,C,a)}}(g,t,C,a),n!==u&&Es(d,C,n)&&function uE(t,n,i,a,d,g,C,D){if(!(3&n.type))return;const R=t.data,K=R[D+1],fe=function Mp(t){return 1==(1&t)}(K)?dE(R,n,i,d,Yo(K),C):void 0;Jy(fe)||(Jy(g)||function Fr(t){return 2==(2&t)}(K)&&(g=dE(R,null,i,d,D,C)),function sv(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let g=-1===a.indexOf("-")?void 0:yd.DashCase;null==d?t.removeStyle(i,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=yd.Important),t.setStyle(i,a,d,g))}}(a,C,qs(ns(),i),d,g))}(g,g.data[ns()],d,d[ir],t,d[C+1]=function eb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=le(Xc(t)))),t}(n,i),a,C)}function I0(t,n,i,a,d){let g=null;const C=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<C&&(g=n[D],a=_y(a,g.hostAttrs,d),g!==t);)D++;return null!==t&&(i.directiveStylingLast=D),a}function _y(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?d=C:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vs(t,C,!!i||n[++g]))}return void 0===t?null:t}function dE(t,n,i,a,d,g){const C=null===n;let D;for(;d>0;){const R=t[d],K=Array.isArray(R),fe=K?R[1]:R,Fe=null===fe;let ht=i[d+1];ht===u&&(ht=Fe?bn:void 0);let Tt=Fe?uh(ht,a):fe===a?ht:void 0;if(K&&!Jy(Tt)&&(Tt=uh(R,a)),Jy(Tt)&&(D=Tt,C))return D;const zt=t[d+1];d=C?On(zt):Yo(zt)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(D=uh(R,a))}return D}function Jy(t){return void 0!==t}function fE(t,n=""){const i=qt(),a=ri(),d=t+$n,g=a.firstCreatePass?Oe(a,d,1,n,null):a.data[d],C=pE(a,i,g,n,t);i[d]=C,td()&&Of(a,i,C,g),zo(g,!1)}let pE=(t,n,i,a,d)=>(Xs(!0),function vu(t,n){return t.createText(n)}(n[ir],a));function A0(t){return Xy("",t,""),A0}function Xy(t,n,i){const a=qt(),d=$l(a,t,n,i);return d!==u&&Ga(a,ns(),d),Xy}function b0(t,n,i,a,d){const g=qt(),C=jd(g,t,n,i,a,d);return C!==u&&Ga(g,ns(),C),b0}const mm=void 0;var Ab=["en",[["a","p"],["AM","PM"],mm],[["AM","PM"],mm,mm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mm,"{1} 'at' {0}",mm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ib(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let G_={};function C0(t){const n=function bb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=NE(n);if(i)return i;const a=n.split("-")[0];if(i=NE(a),i)return i;if("en"===a)return Ab;throw new Be(701,!1)}function OE(t){return C0(t)[q_.PluralCase]}function NE(t){return t in G_||(G_[t]=Qn.ng&&Qn.ng.common&&Qn.ng.common.locales&&Qn.ng.common.locales[t]),G_[t]}var q_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(q_||{});const W_="en-US";let kE=W_;function D0(t,n,i,a,d){if(t=Ne(t),Array.isArray(t))for(let g=0;g<t.length;g++)D0(t[g],n,i,a,d);else{const g=ri(),C=qt(),D=Ro();let R=kl(t)?t:Ne(t.provide);const K=Dg(t),fe=1048575&D.providerIndexes,Fe=D.directiveStart,ht=D.providerIndexes>>20;if(kl(t)||!t.multi){const Tt=new vl(K,d,P),zt=M0(R,n,d?fe:fe+ht,Fe);-1===zt?(Tr(cd(D,C),g,R),S0(g,t,n.length),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(Tt),C.push(Tt)):(i[zt]=Tt,C[zt]=Tt)}else{const Tt=M0(R,n,fe+ht,Fe),zt=M0(R,n,fe,fe+ht),Ln=zt>=0&&i[zt];if(d&&!Ln||!d&&!(Tt>=0&&i[Tt])){Tr(cd(D,C),g,R);const lr=function IC(t,n,i,a,d){const g=new vl(t,i,P);return g.multi=[],g.index=n,g.componentProviders=0,sI(g,d,a&&!i),g}(d?EC:yC,i.length,d,a,K);!d&&Ln&&(i[zt].providerFactory=lr),S0(g,t,n.length,0),n.push(R),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),i.push(lr),C.push(lr)}else S0(g,t,Tt>-1?Tt:zt,sI(i[d?zt:Tt],K,!d&&a));!d&&a&&Ln&&i[zt].componentProviders++}}}function S0(t,n,i,a){const d=kl(n),g=function Gi(t){return!!t.useClass}(n);if(d||g){const R=(g?Ne(n.useClass):n).prototype.ngOnDestroy;if(R){const K=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const fe=K.indexOf(i);-1===fe?K.push(i,[a,R]):K[fe+1].push(a,R)}else K.push(i,R)}}}function sI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function M0(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function yC(t,n,i,a){return P0(this.multi,[])}function EC(t,n,i,a){const d=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,D=Uc(i,i[mn],this.providerFactory.index,a);g=D.slice(0,C),P0(d,g);for(let R=C;R<D.length;R++)g.push(D[R])}else g=[],P0(d,g);return g}function P0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function aI(t,n=[]){return i=>{i.providersResolver=(a,d)=>function vC(t,n,i){const a=ri();if(a.firstCreatePass){const d=Rn(t);D0(i,a.data,a.blueprint,d,!0),D0(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class _m{}class cI{}function AC(t,n){return new x0(t,n??null,[])}class x0 extends _m{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new D_(this);const d=Wr(n);this._bootstrapComponents=al(d.bootstrap),this._r3Injector=l_(n,i,[{provide:_m,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver},...a],le(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class R0 extends cI{constructor(n){super(),this.moduleType=n}create(n){return new x0(this.moduleType,n,[])}}class lI extends _m{constructor(n){super(),this.componentFactoryResolver=new D_(this),this.instance=null;const i=new Tu([...n.providers,{provide:_m,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],n.parent||Gf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function uI(t,n,i=null){return new lI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let CC=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=hc(0,i.type),d=a.length>0?uI([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Sn({token:t,providedIn:"environment",factory:()=>new t($t(el))})}return t})();function dI(t){t.getStandaloneInjector=n=>n.get(CC).getOrCreateStandaloneInjector(t)}function vI(t,n,i){const a=ts()+t,d=qt();return d[a]===u?ul(d,a,i?n.call(i):n()):function _p(t,n){return t[n]}(d,a)}function yI(t,n,i,a){return EI(qt(),ts(),t,n,i,a)}function by(t,n){const i=t[n];return i===u?void 0:i}function EI(t,n,i,a,d,g){const C=n+i;return Es(t,C,d)?ul(t,C+1,g?a.call(g,d):a(d)):by(t,C+1)}function AI(t,n,i,a,d,g,C,D){const R=n+i;return function um(t,n,i,a,d){const g=ku(t,n,i,a);return Es(t,n+2,d)||g}(t,R,d,g,C)?ul(t,R+3,D?a.call(D,d,g,C):a(d,g,C)):by(t,R+3)}function TI(t,n){const i=ri();let a;const d=t+$n;i.firstCreatePass?(a=function jC(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const g=a.factory||(a.factory=ps(a.type)),D=Zr(P);try{const R=na(!1),K=g();return na(R),function Tp(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,qt(),d,K),K}finally{Zr(D)}}function wI(t,n,i){const a=t+$n,d=qt(),g=Ws(d,a);return Cy(d,a)?EI(d,ts(),n,g.transform,i,g):g.transform(i)}function DI(t,n,i,a){const d=t+$n,g=qt(),C=Ws(g,d);return Cy(g,d)?function II(t,n,i,a,d,g,C){const D=n+i;return ku(t,D,d,g)?ul(t,D+2,C?a.call(C,d,g):a(d,g)):by(t,D+2)}(g,ts(),n,C.transform,i,a,C):C.transform(i,a)}function SI(t,n,i,a,d){const g=t+$n,C=qt(),D=Ws(C,g);return Cy(C,g)?AI(C,ts(),n,D.transform,i,a,d,D):D.transform(i,a,d)}function Cy(t,n){return t[mn].data[n].pure}function $C(){return this._results[Symbol.iterator]()}class N0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new _c)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=N0.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$C)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function cs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function su(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=n[a];if(i&&(d=i(d),g=i(g)),g!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GC(t,n,i,a=!0){const d=n[mn];if(function Fm(t,n,i,a){const d=br+a,g=i.length;a>0&&(i[d-1][Vi]=n),a<g-br?(n[Vi]=i[d],gf(i,br+a,n)):(i.push(n),n[Vi]=null),n[Mr]=i;const C=n[Ue];null!==C&&i!==C&&function iv(t,n){const i=t[ro];n[J]!==n[Mr][Mr][J]&&(t[Vr]=!0),null===i?t[ro]=[n]:i.push(n)}(C,n);const D=n[pt];null!==D&&D.insertView(t),n[Yn]|=128}(d,n,t,i),a){const g=Ih(i,t),C=n[ir],D=Pf(C,t[hi]);null!==D&&function Nm(t,n,i,a,d,g){a[jr]=d,a[ci]=n,Eu(t,a,i,1,d,g)}(d,t[ci],C,n,D,g)}}let Ty=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const qC=Ty,WC=class extends qC{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function ZC(t,n,i,a){const d=n.tView,D=me(t,d,i,4096&t[Yn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);D[Ue]=t[n.index];const K=t[pt];return null!==K&&(D[pt]=K.createEmbeddedView(d)),b_(d,D,i),D}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Wh(d)}};function KC(){return o0(Ro(),qt())}function o0(t,n){return 4&t.type?new WC(n,t,Od(t,n)):null}let a0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tT}return t})();function tT(){return kI(Ro(),qt())}const nT=a0,OI=class extends nT{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Il(this._hostTNode,this._hostLView);if(yl(n)){const i=ta(n,this._hostLView),a=sd(n);return new Vo(i[mn].data[a+8],i)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=NI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-br}createEmbeddedView(n,i,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const D=n.createEmbeddedViewImpl(i||{},g,null);return this.insertImpl(D,d,false),D}createComponent(n,i,a,d,g){const C=n&&!function Zc(t){return"function"==typeof t}(n);let D;if(C)D=i;else{const gn=i||{};D=gn.index,a=gn.injector,d=gn.projectableNodes,g=gn.environmentInjector||gn.ngModuleRef}const R=C?n:new ll(qn(n)),K=a||this.parentInjector;if(!g&&null==R.ngModule){const Ln=(C?K:this.parentInjector).get(el,null);Ln&&(g=Ln)}qn(R.componentType??{});const Tt=R.create(K,d,null,g);return this.insertImpl(Tt.hostView,D,false),Tt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function Qd(t){return st(t[Mr])}(d)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const K=d[Mr],fe=new OI(K,K[ci],K[Mr]);fe.detach(fe.indexOf(n))}}const C=this._adjustIndex(i),D=this._lContainer;return GC(D,d,C,!a),n.attachToViewContainerRef(),gf(k0(D),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=NI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Sf(this._lContainer,i);a&&(lh(k0(this._lContainer),i),yh(a[mn],a))}detach(n){const i=this._adjustIndex(n,-1),a=Sf(this._lContainer,i);return a&&null!=lh(k0(this._lContainer),i)?new Wh(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function NI(t){return t[8]}function k0(t){return t[8]||(t[8]=[])}function kI(t,n){let i;const a=n[t.index];return st(a)?i=a:(i=I_(a,n,null,t),n[t.index]=i,$h(n,i)),FI(i,n,t,a),new OI(i,t,n)}let FI=function LI(t,n,i,a){if(t[hi])return;let d;d=8&i.type?Di(a):function rT(t,n){const i=t[ir],a=i.createComment(""),d=jo(n,t);return Jc(i,Pf(i,d),a,function eg(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[hi]=d};class F0{constructor(n){this.queryList=n,this.matches=null}clone(){return new F0(this.queryList)}setDirty(){this.queryList.setDirty()}}class L0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let g=0;g<a;g++){const C=i.getByIndex(g);d.push(this.queries[C.indexInDeclarationView].clone())}return new L0(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==ZI(n,i).matches&&this.queries[i].setDirty()}}class VI{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class V0{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,g=this.getByIndex(a).embeddedTView(n,d);g&&(g.indexInDeclarationView=a,null!==i?i.push(g):i=[g])}return null!==i?new V0(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class U0{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new U0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(n,i,sT(i,g)),this.matchTNodeWithReadOption(n,i,Xl(i,n,g,!1,!1))}else a===Ty?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Xl(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Bh||d===a0||d===Ty&&4&i.type)this.addMatch(i.index,-2);else{const g=Xl(i,n,d,!1,!1);null!==g&&this.addMatch(i.index,g)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function sT(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function cT(t,n,i,a){return-1===i?function aT(t,n){return 11&t.type?Od(t,n):4&t.type?o0(t,n):null}(n,t):-2===i?function lT(t,n,i){return i===Bh?Od(n,t):i===Ty?o0(n,t):i===a0?kI(n,t):void 0}(t,n,a):Uc(t,t[mn],i,n)}function UI(t,n,i,a){const d=n[pt].queries[a];if(null===d.matches){const g=t.data,C=i.matches,D=[];for(let R=0;R<C.length;R+=2){const K=C[R];D.push(K<0?null:cT(n,g[K],C[R+1],i.metadata.read))}d.matches=D}return d.matches}function B0(t,n,i,a){const d=t.queries.getByIndex(i),g=d.matches;if(null!==g){const C=UI(t,n,d,i);for(let D=0;D<g.length;D+=2){const R=g[D];if(R>0)a.push(C[D/2]);else{const K=g[D+1],fe=n[-R];for(let Fe=br;Fe<fe.length;Fe++){const ht=fe[Fe];ht[Ue]===ht[Mr]&&B0(ht[mn],ht,K,a)}if(null!==fe[ro]){const Fe=fe[ro];for(let ht=0;ht<Fe.length;ht++){const Tt=Fe[ht];B0(Tt[mn],Tt,K,a)}}}}}return a}function BI(t){const n=qt(),i=ri(),a=Mt();xt(a+1);const d=ZI(i,a);if(t.dirty&&function Ja(t){return 4==(4&t[Yn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?B0(i,n,a,[]):UI(i,n,d,a);t.reset(g,mc),t.notifyOnChanges()}return!0}return!1}function jI(t,n,i,a){const d=ri();if(d.firstCreatePass){const g=Ro();(function $I(t,n,i){null===t.queries&&(t.queries=new V0),t.queries.track(new U0(n,i))})(d,new VI(n,i,a),g.index),function hT(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function zI(t,n,i){const a=new N0(4==(4&i));(function At(t,n,i,a){const d=em(n);d.push(i),t.firstCreatePass&&tm(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[pt]&&(n[pt]=new L0),n[pt].queries.push(new F0(a))}(d,qt(),i)}function HI(){return function dT(t,n){return t[pt].queries[n].queryList}(qt(),Mt())}function ZI(t,n){return t.queries.getByIndex(n)}function j0(t){return!!Wr(t)}const cA=new In("Application Initializer");let G0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=cn(cA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const g=d();if(is(g))i.push(g);else if(Si(g)){const C=new Promise((D,R)=>{g.subscribe({complete:D,error:R})});i.push(C)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lA=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const l0=new In("LocaleId",{providedIn:"root",factory:()=>cn(l0,Cn.Optional|Cn.SkipSelf)||function NT(){return typeof $localize<"u"&&$localize.locale||W_}()}),kT=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let uA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class LT{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let VT=(()=>{class t{compileModuleSync(i){return new R0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),g=al(Wr(i).declarations).reduce((C,D)=>{const R=qn(D);return R&&C.push(new ll(R)),C},[]);return new LT(a,g)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pA=new In(""),gA=new In("");let K0,sw=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K0||(function aw(t){K0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:g,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)($t(Ao),$t(mA),$t(gA))};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac})}return t})(),mA=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return K0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Pp=null;const _A=new In("AllowMultipleToken"),Q0=new In("PlatformDestroyListeners"),Y0=new In("appBootstrapListener");class uw{constructor(n,i){this.name=n,this.token=i}}function EA(t,n,i=[]){const a=`Platform: ${n}`,d=new In(a);return(g=[])=>{let C=J0();if(!C||C.injector.get(_A,!1)){const D=[...i,...g,{provide:d,useValue:!0}];t?t(D):function dw(t){if(Pp&&!Pp.get(_A,!1))throw new Be(400,!1);(function vA(){!function Kl(t){Ra=t}(()=>{throw new Be(600,!1)})})(),Pp=t;const n=t.get(AA);(function yA(t){t.get(ba,null)?.forEach(i=>i())})(t)}(function IA(t=[],n){return Ha.create({name:n,providers:[{provide:$f,useValue:"platform"},{provide:Q0,useValue:new Set([()=>Pp=null])},...t]})}(D,a))}return function fw(t){const n=J0();if(!n)throw new Be(401,!1);return n}()}}function J0(){return Pp?.get(AA)??null}let AA=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function pw(t="zone.js",n){return"noop"===t?new Ly:"zone.js"===t?new Ao(n):t}(a?.ngZone,function bA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const g=function bC(t,n,i){return new x0(t,n,i)}(i.moduleType,this.injector,function SA(t){return[{provide:Ao,useFactory:t},{provide:Dd,multi:!0,useFactory:()=>{const n=cn(mw,{optional:!0});return()=>n.initialize()}},{provide:DA,useFactory:gw},{provide:za,useFactory:Gg}]}(()=>d)),C=g.injector.get(xu,null);return d.runOutsideAngular(()=>{const D=d.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{d0(this._modules,g),D.unsubscribe()})}),function CA(t,n,i){try{const a=i();return is(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(C,d,()=>{const D=g.injector.get(G0);return D.runInitializers(),D.donePromise.then(()=>(function FE(t){Bt(t,"Expected localeId to be defined"),"string"==typeof t&&(kE=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(l0,W_)||W_),this._moduleDoBootstrap(g),g))})})}bootstrapModule(i,a=[]){const d=TA({},a);return function cw(t,n,i){const a=new R0(i);return Promise.resolve(a)}(0,0,i).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(i){const a=i.injector.get(Y_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Be(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(Q0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)($t(Ha))};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function TA(t,n){return Array.isArray(n)?n.reduce(TA,t):{...t,...n}}let Y_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cn(DA),this.zoneIsStable=cn(za),this.componentTypes=[],this.components=[],this.isStable=cn(uA).hasPendingTasks.pipe((0,ae.w)(i=>i?(0,be.of)(!1):this.zoneIsStable),(0,ge.x)(),(0,ue.B)()),this._injector=cn(el)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof Tv;if(!this._injector.get(G0).done)throw!d&&zi(i),new Be(405,!1);let C;C=d?i:this._injector.get(Uh).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const D=function lw(t){return t.isBoundToModule}(C)?void 0:this._injector.get(_m),K=C.create(Ha.NULL,[],a||C.selector,D),fe=K.location.nativeElement,Fe=K.injector.get(pA,null);return Fe?.registerApplication(fe),K.onDestroy(()=>{this.detachView(K.hostView),d0(this.components,K),Fe?.unregisterApplication(fe)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;d0(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(Y0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>d0(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d0(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const DA=new In("",{providedIn:"root",factory:()=>cn(xu).handleError.bind(void 0)});function gw(){const t=cn(Ao),n=cn(xu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let mw=(()=>{class t{constructor(){this.zone=cn(Ao),this.applicationRef=cn(Y_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vw(){return!1}let yw=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ew}return t})();function Ew(t){return function Iw(t,n,i){if(Kt(t)&&!i){const a=Ho(t.index,n);return new Wh(a,a)}return 47&t.type?new Wh(n[J],n):null}(Ro(),qt(),16==(16&t))}class RA{constructor(){}supports(n){return mp(n)}create(n){return new Dw(n)}}const ww=(t,n)=>n;class Dw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ww}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,g=null;for(;i||a;){const C=!a||i&&i.currentIndex<NA(a,d,g)?i:a,D=NA(C,d,g),R=C.currentIndex;if(C===a)d--,a=a._nextRemoved;else if(i=i._next,null==C.previousIndex)d++;else{g||(g=[]);const K=D-d,fe=R-d;if(K!=fe){for(let ht=0;ht<K;ht++){const Tt=ht<g.length?g[ht]:g[ht]=0,zt=Tt+ht;fe<=zt&&zt<K&&(g[ht]=Tt+1)}g[C.previousIndex]=fe-K}}D!==R&&n(C,D,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!mp(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,g,C,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)g=n[D],C=this._trackByFn(D,g),null!==i&&Object.is(i.trackById,C)?(a&&(i=this._verifyReinsertion(i,g,C,D)),Object.is(i.item,g)||this._addIdentityChange(i,g)):(i=this._mismatch(i,g,C,D),a=!0),i=i._next}else d=0,function k_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,D=>{C=this._trackByFn(d,D),null!==i&&Object.is(i.trackById,C)?(a&&(i=this._verifyReinsertion(i,D,C,d)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,C,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,g,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,g,d)):n=this._addAfter(new Sw(i,a),g,d),n}_verifyReinsertion(n,i,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?n=this._reinsertAfter(g,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,g=n._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new OA),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Sw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class OA{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new Mw,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NA(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class kA{constructor(){}supports(n){return n instanceof Map||lm(n)}create(){return new Pw}}class Pw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||lm(n)))throw new Be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const g=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,g)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const g=d._prev,C=d._next;return g&&(g._next=C),C&&(C._prev=g),d._next=null,d._prev=null,d}const a=new xw(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class xw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FA(){return new rE([new RA])}let rE=(()=>{class t{static#e=this.\u0275prov=Sn({token:t,providedIn:"root",factory:FA});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||FA()),deps:[[t,new Ts,new Gc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Be(901,!1)}}return t})();function LA(){return new iE([new kA])}let iE=(()=>{class t{static#e=this.\u0275prov=Sn({token:t,providedIn:"root",factory:LA});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||LA()),deps:[[t,new Ts,new Gc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Be(901,!1)}}return t})();const Nw=EA(null,"core",[]);let kw=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)($t(Y_))};static#t=this.\u0275mod=vo({type:t});static#n=this.\u0275inj=Xt({})}return t})();function Gw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Ww(t){const n=qn(t);if(!n)return null;const i=new ll(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(an,lt,k)=>{"use strict";k.d(lt,{zQ:()=>Pt,ww:()=>yn,rT:()=>ft,f7:()=>he,L6:()=>Ze,_Q:()=>Ke,lh:()=>Ye,Qv:()=>tt,nw:()=>yt}),k(6365);var o=k(6814),V=k(5879),Se=k(1920),ve=k(7217),be=k(8645),ue=k(2096),ae=k(5592),ge=k(2459),W=k(3019),$=k(3093),le=k(4664),_e=k(7398),pe=k(940),Me=k(1374),Ne=k(4674);function $e(mt,Ge){return(0,Ne.m)(Ge)?(0,le.w)(()=>mt,Ge):(0,le.w)(()=>mt)}var Te=k(5137),_t=k(2181),It=k(7142);const tt=new V.OlP("angularfire2.auth.use-emulator"),Ze=new V.OlP("angularfire2.auth.settings"),Ke=new V.OlP("angularfire2.auth.tenant-id"),ft=new V.OlP("angularfire2.auth.langugage-code"),Ye=new V.OlP("angularfire2.auth.use-device-language"),he=new V.OlP("angularfire.auth.persistence"),yt=(mt,Ge,dt,Ve,xe,re,De,Le)=>(0,ve.cc)(`${mt.name}.auth`,"AngularFireAuth",mt.name,()=>{const Xe=Ge.runOutsideAngular(()=>mt.auth());if(dt&&Xe.useEmulator(...dt),Ve&&(Xe.tenantId=Ve),Xe.languageCode=xe,re&&Xe.useDeviceLanguage(),De)for(const[ut,Et]of Object.entries(De))Xe.settings[ut]=Et;return Le&&Xe.setPersistence(Le),Xe},[dt,Ve,xe,re,De,Le]);let Pt=(()=>{class mt{authState;idToken;user;idTokenResult;credential;constructor(dt,Ve,xe,re,De,Le,Xe,ut,Et,Bt,Qt,Jt){const En=new be.x,Bn=(0,ue.of)(void 0).pipe((0,$.Q)(De.outsideAngular),(0,le.w)(()=>re.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,_e.U)(()=>(0,ve.on)(dt,re,Ve)),(0,_e.U)(Sn=>yt(Sn,re,Le,ut,Et,Bt,Xe,Qt)),(0,pe.d)({bufferSize:1,refCount:!1}));if((0,o.PM)(xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ue.of)(null);else{Bn.pipe((0,Me.P)()).subscribe();const Sn=Bn.pipe((0,le.w)(Mn=>Mn.getRedirectResult().then(Vn=>Vn,()=>null)),Se.iC,(0,pe.d)({bufferSize:1,refCount:!1})),kn=Bn.pipe((0,le.w)(Mn=>new ae.y(Vn=>({unsubscribe:re.runOutsideAngular(()=>Mn.onAuthStateChanged(Gn=>Vn.next(Gn),Gn=>Vn.error(Gn),()=>Vn.complete()))})))),Xt=Bn.pipe((0,le.w)(Mn=>new ae.y(Vn=>({unsubscribe:re.runOutsideAngular(()=>Mn.onIdTokenChanged(Gn=>Vn.next(Gn),Gn=>Vn.error(Gn),()=>Vn.complete()))}))));this.authState=Sn.pipe($e(kn),(0,Te.R)(De.outsideAngular),(0,$.Q)(De.insideAngular)),this.user=Sn.pipe($e(Xt),(0,Te.R)(De.outsideAngular),(0,$.Q)(De.insideAngular)),this.idToken=this.user.pipe((0,le.w)(Mn=>Mn?(0,ge.D)(Mn.getIdToken()):(0,ue.of)(null))),this.idTokenResult=this.user.pipe((0,le.w)(Mn=>Mn?(0,ge.D)(Mn.getIdTokenResult()):(0,ue.of)(null))),this.credential=(0,W.T)(Sn,En,this.authState.pipe((0,_t.h)(Mn=>!Mn))).pipe((0,_e.U)(Mn=>Mn?.user?Mn:null),(0,Te.R)(De.outsideAngular),(0,$.Q)(De.insideAngular))}return(0,ve.pX)(this,Bn,re,{spy:{apply:(Sn,kn,Xt)=>{(Sn.startsWith("signIn")||Sn.startsWith("createUser"))&&Xt.then(Mn=>En.next(Mn))}}})}static \u0275fac=function(Ve){return new(Ve||mt)(V.LFG(ve.Dh),V.LFG(ve.xv,8),V.LFG(V.Lbi),V.LFG(V.R0b),V.LFG(Se.HU),V.LFG(tt,8),V.LFG(Ze,8),V.LFG(Ke,8),V.LFG(ft,8),V.LFG(Ye,8),V.LFG(he,8),V.LFG(Se.Rf,8))};static \u0275prov=V.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),yn=(()=>{class mt{constructor(){It.Z.registerVersion("angularfire",Se.q4.full,"auth-compat")}static \u0275fac=function(Ve){return new(Ve||mt)};static \u0275mod=V.oAB({type:mt});static \u0275inj=V.cJS({providers:[Pt]})}return mt})()},6369:(an,lt,k)=>{"use strict";k.d(lt,{ST:()=>Sr,yb:()=>Ar});var f=k(6814),o=k(5879),V=k(1920),Se=k(7217),ve=k(981),be=k(6321),ue=k(5592),ae=k(2459),ge=k(2096),W=k(7921),$=k(9384),le=k(7398),_e=k(6699),pe=k(3997),Me=k(2181),$e=(k(6365),k(3106)),Te=k(5588),_t=k(9058),It=k(4537);function Ze(Vt,q){if(void 0===q)return{merge:!1};if(void 0!==q.mergeFields&&void 0!==q.merge)throw new Te.WA("invalid-argument",`Invalid options passed to function ${Vt}(): You cannot specify both "merge" and "mergeFields".`);return q}function Ke(){if(typeof Uint8Array>"u")throw new Te.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ft(){if(!(0,Te.Me)())throw new Te.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ye{constructor(q){this._delegate=q}static fromBase64String(q){return ft(),new Ye(Te.Jj.fromBase64String(q))}static fromUint8Array(q){return Ke(),new Ye(Te.Jj.fromUint8Array(q))}toBase64(){return ft(),this._delegate.toBase64()}toUint8Array(){return Ke(),this._delegate.toUint8Array()}isEqual(q){return this._delegate.isEqual(q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function he(Vt){return function yt(Vt,q){if("object"!=typeof Vt||null===Vt)return!1;const ke=Vt;for(const bt of q)if(bt in ke&&"function"==typeof ke[bt])return!0;return!1}(Vt,["next","error","complete"])}class Pt{enableIndexedDbPersistence(q,ke){return(0,Te.ST)(q._delegate,{forceOwnership:ke})}enableMultiTabIndexedDbPersistence(q){return(0,Te.fH)(q._delegate)}clearIndexedDbPersistence(q){return(0,Te.Fc)(q._delegate)}}class yn{constructor(q,ke,bt){this._delegate=ke,this._persistenceProvider=bt,this.INTERNAL={delete:()=>this.terminate()},q instanceof Te.l7||(this._appCompat=q)}get _databaseId(){return this._delegate._databaseId}settings(q){const ke=this._delegate._getSettings();!q.merge&&ke.host!==q.host&&(0,Te.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),q.merge&&delete(q=Object.assign(Object.assign({},ke),q)).merge,this._delegate._setSettings(q)}useEmulator(q,ke,bt={}){(0,Te.at)(this._delegate,q,ke,bt)}enableNetwork(){return(0,Te.Ix)(this._delegate)}disableNetwork(){return(0,Te.TF)(this._delegate)}enablePersistence(q){let ke=!1,bt=!1;return q&&(ke=!!q.synchronizeTabs,bt=!!q.experimentalForceOwningTab,(0,Te.Wi)("synchronizeTabs",ke,"experimentalForceOwningTab",bt)),ke?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,bt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Te.Mx)(this._delegate)}onSnapshotsInSync(q){return(0,Te.sc)(this._delegate,q)}get app(){if(!this._appCompat)throw new Te.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(q){try{return new En(this,(0,Te.hJ)(this._delegate,q))}catch(ke){throw De(ke,"collection()","Firestore.collection()")}}doc(q){try{return new re(this,(0,Te.JU)(this._delegate,q))}catch(ke){throw De(ke,"doc()","Firestore.doc()")}}collectionGroup(q){try{return new Bt(this,(0,Te.B$)(this._delegate,q))}catch(ke){throw De(ke,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(q){return(0,Te.i3)(this._delegate,ke=>q(new dt(this,ke)))}batch(){return(0,Te.qY)(this._delegate),new Ve(new Te.PU(this._delegate,q=>(0,Te.GL)(this._delegate,q)))}loadBundle(q){return(0,Te.Pb)(this._delegate,q)}namedQuery(q){return(0,Te.L$)(this._delegate,q).then(ke=>ke?new Bt(this,ke):null)}}class mt extends Te.u7{constructor(q){super(),this.firestore=q}convertBytes(q){return new Ye(new Te.Jj(q))}convertReference(q){const ke=this.convertDocumentKey(q,this.firestore._databaseId);return re.forKey(ke,this.firestore,null)}}class dt{constructor(q,ke){this._firestore=q,this._delegate=ke,this._userDataWriter=new mt(q)}get(q){const ke=Bn(q);return this._delegate.get(ke).then(bt=>new ut(this._firestore,new Te.xU(this._firestore._delegate,this._userDataWriter,bt._key,bt._document,bt.metadata,ke.converter)))}set(q,ke,bt){const on=Bn(q);return bt?(Ze("Transaction.set",bt),this._delegate.set(on,ke,bt)):this._delegate.set(on,ke),this}update(q,ke,bt,...on){const er=Bn(q);return 2===arguments.length?this._delegate.update(er,ke):this._delegate.update(er,ke,bt,...on),this}delete(q){const ke=Bn(q);return this._delegate.delete(ke),this}}class Ve{constructor(q){this._delegate=q}set(q,ke,bt){const on=Bn(q);return bt?(Ze("WriteBatch.set",bt),this._delegate.set(on,ke,bt)):this._delegate.set(on,ke),this}update(q,ke,bt,...on){const er=Bn(q);return 2===arguments.length?this._delegate.update(er,ke):this._delegate.update(er,ke,bt,...on),this}delete(q){const ke=Bn(q);return this._delegate.delete(ke),this}commit(){return this._delegate.commit()}}class xe{constructor(q,ke,bt){this._firestore=q,this._userDataWriter=ke,this._delegate=bt}fromFirestore(q,ke){const bt=new Te.$q(this._firestore._delegate,this._userDataWriter,q._key,q._document,q.metadata,null);return this._delegate.fromFirestore(new Et(this._firestore,bt),ke??{})}toFirestore(q,ke){return ke?this._delegate.toFirestore(q,ke):this._delegate.toFirestore(q)}static getInstance(q,ke){const bt=xe.INSTANCES;let on=bt.get(q);on||(on=new WeakMap,bt.set(q,on));let er=on.get(ke);return er||(er=new xe(q,new mt(q),ke),on.set(ke,er)),er}}xe.INSTANCES=new WeakMap;class re{constructor(q,ke){this.firestore=q,this._delegate=ke,this._userDataWriter=new mt(q)}static forPath(q,ke,bt){if(q.length%2!=0)throw new Te.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${q.canonicalString()} has ${q.length}`);return new re(ke,new Te.my(ke._delegate,bt,new Te.Ky(q)))}static forKey(q,ke,bt){return new re(ke,new Te.my(ke._delegate,bt,q))}get id(){return this._delegate.id}get parent(){return new En(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(q){try{return new En(this.firestore,(0,Te.hJ)(this._delegate,q))}catch(ke){throw De(ke,"collection()","DocumentReference.collection()")}}isEqual(q){return(q=(0,_t.m9)(q))instanceof Te.my&&(0,Te.Eo)(this._delegate,q)}set(q,ke){ke=Ze("DocumentReference.set",ke);try{return ke?(0,Te.pl)(this._delegate,q,ke):(0,Te.pl)(this._delegate,q)}catch(bt){throw De(bt,"setDoc()","DocumentReference.set()")}}update(q,ke,...bt){try{return 1===arguments.length?(0,Te.r7)(this._delegate,q):(0,Te.r7)(this._delegate,q,ke,...bt)}catch(on){throw De(on,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Te.oe)(this._delegate)}onSnapshot(...q){const ke=Le(q),bt=Xe(q,on=>new ut(this.firestore,new Te.xU(this.firestore._delegate,this._userDataWriter,on._key,on._document,on.metadata,this._delegate.converter)));return(0,Te.cf)(this._delegate,ke,bt)}get(q){let ke;return ke="cache"===q?.source?(0,Te.kl)(this._delegate):"server"===q?.source?(0,Te.Xk)(this._delegate):(0,Te.QT)(this._delegate),ke.then(bt=>new ut(this.firestore,new Te.xU(this.firestore._delegate,this._userDataWriter,bt._key,bt._document,bt.metadata,this._delegate.converter)))}withConverter(q){return new re(this.firestore,this._delegate.withConverter(q?xe.getInstance(this.firestore,q):null))}}function De(Vt,q,ke){return Vt.message=Vt.message.replace(q,ke),Vt}function Le(Vt){for(const q of Vt)if("object"==typeof q&&!he(q))return q;return{}}function Xe(Vt,q){var ke,bt;let on;return on=he(Vt[0])?Vt[0]:he(Vt[1])?Vt[1]:"function"==typeof Vt[0]?{next:Vt[0],error:Vt[1],complete:Vt[2]}:{next:Vt[1],error:Vt[2],complete:Vt[3]},{next:er=>{on.next&&on.next(q(er))},error:null===(ke=on.error)||void 0===ke?void 0:ke.bind(on),complete:null===(bt=on.complete)||void 0===bt?void 0:bt.bind(on)}}class ut{constructor(q,ke){this._firestore=q,this._delegate=ke}get ref(){return new re(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(q){return this._delegate.data(q)}get(q,ke){return this._delegate.get(q,ke)}isEqual(q){return(0,Te.qK)(this._delegate,q._delegate)}}class Et extends ut{data(q){const ke=this._delegate.data(q);return this._delegate._converter||(0,Te.K9)(void 0!==ke,"Document in a QueryDocumentSnapshot should exist"),ke}}class Bt{constructor(q,ke){this.firestore=q,this._delegate=ke,this._userDataWriter=new mt(q)}where(q,ke,bt){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.ar)(q,ke,bt)))}catch(on){throw De(on,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(q,ke){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.Xo)(q,ke)))}catch(bt){throw De(bt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.b9)(q)))}catch(ke){throw De(ke,"limit()","Query.limit()")}}limitToLast(q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.vh)(q)))}catch(ke){throw De(ke,"limitToLast()","Query.limitToLast()")}}startAt(...q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.e0)(...q)))}catch(ke){throw De(ke,"startAt()","Query.startAt()")}}startAfter(...q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.TQ)(...q)))}catch(ke){throw De(ke,"startAfter()","Query.startAfter()")}}endBefore(...q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.Lx)(...q)))}catch(ke){throw De(ke,"endBefore()","Query.endBefore()")}}endAt(...q){try{return new Bt(this.firestore,(0,Te.IO)(this._delegate,(0,Te.Wu)(...q)))}catch(ke){throw De(ke,"endAt()","Query.endAt()")}}isEqual(q){return(0,Te.iE)(this._delegate,q._delegate)}get(q){let ke;return ke="cache"===q?.source?(0,Te.UQ)(this._delegate):"server"===q?.source?(0,Te.zN)(this._delegate):(0,Te.PL)(this._delegate),ke.then(bt=>new Jt(this.firestore,new Te.W(this.firestore._delegate,this._userDataWriter,this._delegate,bt._snapshot)))}onSnapshot(...q){const ke=Le(q),bt=Xe(q,on=>new Jt(this.firestore,new Te.W(this.firestore._delegate,this._userDataWriter,this._delegate,on._snapshot)));return(0,Te.cf)(this._delegate,ke,bt)}withConverter(q){return new Bt(this.firestore,this._delegate.withConverter(q?xe.getInstance(this.firestore,q):null))}}class Qt{constructor(q,ke){this._firestore=q,this._delegate=ke}get type(){return this._delegate.type}get doc(){return new Et(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jt{constructor(q,ke){this._firestore=q,this._delegate=ke}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(q=>new Et(this._firestore,q))}docChanges(q){return this._delegate.docChanges(q).map(ke=>new Qt(this._firestore,ke))}forEach(q,ke){this._delegate.forEach(bt=>{q.call(ke,new Et(this._firestore,bt))})}isEqual(q){return(0,Te.qK)(this._delegate,q._delegate)}}class En extends Bt{constructor(q,ke){super(q,ke),this.firestore=q,this._delegate=ke}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const q=this._delegate.parent;return q?new re(this.firestore,q):null}doc(q){try{return new re(this.firestore,void 0===q?(0,Te.JU)(this._delegate):(0,Te.JU)(this._delegate,q))}catch(ke){throw De(ke,"doc()","CollectionReference.doc()")}}add(q){return(0,Te.ET)(this._delegate,q).then(ke=>new re(this.firestore,ke))}isEqual(q){return(0,Te.Eo)(this._delegate,q._delegate)}withConverter(q){return new En(this.firestore,this._delegate.withConverter(q?xe.getInstance(this.firestore,q):null))}}function Bn(Vt){return(0,Te.Cf)(Vt,Te.my)}class Sn{constructor(...q){this._delegate=new Te.Lz(...q)}static documentId(){return new Sn(Te.Xb.keyField().canonicalString())}isEqual(q){return(q=(0,_t.m9)(q))instanceof Te.Lz&&this._delegate._internalPath.isEqual(q._internalPath)}}class kn{constructor(q){this._delegate=q}static serverTimestamp(){const q=(0,Te.Bt)();return q._methodName="FieldValue.serverTimestamp",new kn(q)}static delete(){const q=(0,Te.AK)();return q._methodName="FieldValue.delete",new kn(q)}static arrayUnion(...q){const ke=(0,Te.vr)(...q);return ke._methodName="FieldValue.arrayUnion",new kn(ke)}static arrayRemove(...q){const ke=(0,Te.Ab)(...q);return ke._methodName="FieldValue.arrayRemove",new kn(ke)}static increment(q){const ke=(0,Te.nP)(q);return ke._methodName="FieldValue.increment",new kn(ke)}isEqual(q){return this._delegate.isEqual(q._delegate)}}const Xt={Firestore:yn,GeoPoint:Te.F8,Timestamp:Te.EK,Blob:Ye,Transaction:dt,WriteBatch:Ve,DocumentReference:re,DocumentSnapshot:ut,Query:Bt,QueryDocumentSnapshot:Et,QuerySnapshot:Jt,CollectionReference:En,FieldPath:Sn,FieldValue:kn,setLogLevel:function Ge(Vt){(0,Te.Ub)(Vt)},CACHE_SIZE_UNLIMITED:Te.IX};!function Vn(Vt){(function Mn(Vt,q){Vt.INTERNAL.registerComponent(new It.wA("firestore-compat",ke=>{const bt=ke.getProvider("app-compat").getImmediate(),on=ke.getProvider("firestore").getImmediate();return q(bt,on)},"PUBLIC").setServiceProps(Object.assign({},Xt)))})(Vt,(q,ke)=>new yn(q,ke,new Pt)),Vt.registerVersion("@firebase/firestore-compat","0.3.32")}($e.Z);var Gn=k(7142);function pi(Vt,q){return function un(Vt,q=be.z){return new ue.y(ke=>{let bt;return null!=q?q.schedule(()=>{bt=Vt.onSnapshot({includeMetadataChanges:!0},ke)}):bt=Vt.onSnapshot({includeMetadataChanges:!0},ke),()=>{bt?.()}})}(Vt,q)}function Er(Vt,q){return pi(Vt,q).pipe((0,le.U)(ke=>({payload:ke,type:"query"})))}class nr{ref;afs;constructor(q,ke){this.ref=q,this.afs=ke}set(q,ke){return this.ref.set(q,ke)}update(q){return this.ref.update(q)}delete(){return this.ref.delete()}collection(q,ke){const bt=this.ref.collection(q),{ref:on,query:er}=rr(bt,ke);return new Xn(on,er,this.afs)}snapshotChanges(){return function zn(Vt,q){return pi(Vt,q).pipe((0,W.O)(void 0),(0,$.G)(),(0,le.U)(ke=>{const[bt,on]=ke;return on.exists?bt?.exists?{payload:on,type:"modified"}:{payload:on,type:"added"}:{payload:on,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(V.iC)}valueChanges(q={}){return this.snapshotChanges().pipe((0,le.U)(({payload:ke})=>q.idField?{...ke.data(),[q.idField]:ke.id}:ke.data()))}get(q){return(0,ae.D)(this.ref.get(q)).pipe(V.iC)}}function Zt(Vt,q){return Er(Vt,q).pipe((0,W.O)(void 0),(0,$.G)(),(0,le.U)(ke=>{const[bt,on]=ke,er=on.payload.docChanges(),Jr=er.map(ur=>({type:ur.type,payload:ur}));return bt&&JSON.stringify(bt.payload.metadata)!==JSON.stringify(on.payload.metadata)&&on.payload.docs.forEach((ur,Pi)=>{const sn=er.find(ne=>ne.doc.ref.isEqual(ur.ref)),Ie=bt?.payload.docs.find(ne=>ne.ref.isEqual(ur.ref));sn&&JSON.stringify(sn.doc.metadata)===JSON.stringify(ur.metadata)||!sn&&Ie&&JSON.stringify(Ie.metadata)===JSON.stringify(ur.metadata)||Jr.push({type:"modified",payload:{oldIndex:Pi,newIndex:Pi,type:"modified",doc:ur}})}),Jr}))}function Cn(Vt,q,ke){return Zt(Vt,ke).pipe((0,_e.R)((bt,on)=>function Kn(Vt,q,ke){return q.forEach(bt=>{ke.indexOf(bt.type)>-1&&(Vt=function Zr(Vt,q){switch(q.type){case"added":if(!Vt[q.newIndex]||!Vt[q.newIndex].doc.ref.isEqual(q.doc.ref))return Fn(Vt,q.newIndex,0,q);break;case"modified":if(null==Vt[q.oldIndex]||Vt[q.oldIndex].doc.ref.isEqual(q.doc.ref)){if(q.oldIndex!==q.newIndex){const ke=Vt.slice();return ke.splice(q.oldIndex,1),ke.splice(q.newIndex,0,q),ke}return Fn(Vt,q.newIndex,1,q)}break;case"removed":if(Vt[q.oldIndex]&&Vt[q.oldIndex].doc.ref.isEqual(q.doc.ref))return Fn(Vt,q.oldIndex,1)}return Vt}(Vt,bt))}),Vt}(bt,on.map(er=>er.payload),q),[]),(0,pe.x)(),(0,le.U)(bt=>bt.map(on=>({type:on.type,payload:on}))))}function Fn(Vt,q,ke,...bt){const on=Vt.slice();return on.splice(q,ke,...bt),on}function Br(Vt){return(!Vt||0===Vt.length)&&(Vt=["added","removed","modified"]),Vt}class Xn{ref;query;afs;constructor(q,ke,bt){this.ref=q,this.query=ke,this.afs=bt}stateChanges(q){let ke=Zt(this.query,this.afs.schedulers.outsideAngular);return q&&q.length>0&&(ke=ke.pipe((0,le.U)(bt=>bt.filter(on=>q.indexOf(on.type)>-1)))),ke.pipe((0,W.O)(void 0),(0,$.G)(),(0,Me.h)(([bt,on])=>on.length>0||!bt),(0,le.U)(([,bt])=>bt),V.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,_e.R)((ke,bt)=>[...ke,...bt],[]))}snapshotChanges(q){const ke=Br(q);return Cn(this.query,ke,this.afs.schedulers.outsideAngular).pipe(V.iC)}valueChanges(q={}){return Er(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(ke=>ke.payload.docs.map(bt=>q.idField?{...bt.data(),[q.idField]:bt.id}:bt.data())),V.iC)}get(q){return(0,ae.D)(this.query.get(q)).pipe(V.iC)}add(q){return this.ref.add(q)}doc(q){return new nr(this.ref.doc(q),this.afs)}}class Qn{query;afs;constructor(q,ke){this.query=q,this.afs=ke}stateChanges(q){return q&&0!==q.length?Zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(ke=>ke.filter(bt=>q.indexOf(bt.type)>-1)),(0,Me.h)(ke=>ke.length>0),V.iC):Zt(this.query,this.afs.schedulers.outsideAngular).pipe(V.iC)}auditTrail(q){return this.stateChanges(q).pipe((0,_e.R)((ke,bt)=>[...ke,...bt],[]))}snapshotChanges(q){const ke=Br(q);return Cn(this.query,ke,this.afs.schedulers.outsideAngular).pipe(V.iC)}valueChanges(q={}){return Er(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(bt=>bt.payload.docs.map(on=>q.idField?{[q.idField]:on.id,...on.data()}:on.data())),V.iC)}get(q){return(0,ae.D)(this.query.get(q)).pipe(V.iC)}}const Lr=new o.OlP("angularfire2.enableFirestorePersistence"),gi=new o.OlP("angularfire2.firestore.persistenceSettings"),In=new o.OlP("angularfire2.firestore.settings"),Gr=new o.OlP("angularfire2.firestore.use-emulator");function rr(Vt,q=(ke=>ke)){return{query:q(Vt),ref:Vt}}let Sr=(()=>{class Vt{schedulers;firestore;persistenceEnabled$;constructor(ke,bt,on,er,Jr,ur,Pi,sn,Ie,ne,G,j,F,we,et,kt,$t){this.schedulers=Pi;const hn=(0,Se.on)(ke,ur,bt),cn=Ie;ne&&(0,ve.nw)(hn,ur,G,F,we,et,j,kt),[this.firestore,this.persistenceEnabled$]=(0,Se.cc)(`${hn.name}.firestore`,"AngularFirestore",hn.name,()=>{const fn=ur.runOutsideAngular(()=>hn.firestore());if(er&&fn.settings(er),cn&&fn.useEmulator(...cn),on&&!(0,f.PM)(Jr)){const dr=()=>{try{return(0,ae.D)(fn.enablePersistence(sn||void 0).then(()=>!0,()=>!1))}catch(rt){return typeof console<"u"&&console.warn(rt),(0,ge.of)(!1)}};return[fn,ur.runOutsideAngular(dr)]}return[fn,(0,ge.of)(!1)]},[er,cn,on])}collection(ke,bt){let on;on="string"==typeof ke?this.firestore.collection(ke):ke;const{ref:er,query:Jr}=rr(on,bt),ur=this.schedulers.ngZone.run(()=>er);return new Xn(ur,Jr,this)}collectionGroup(ke,bt){const on=bt||(Jr=>Jr),er=this.firestore.collectionGroup(ke);return new Qn(on(er),this)}doc(ke){let bt;bt="string"==typeof ke?this.firestore.doc(ke):ke;const on=this.schedulers.ngZone.run(()=>bt);return new nr(on,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(bt){return new(bt||Vt)(o.LFG(Se.Dh),o.LFG(Se.xv,8),o.LFG(Lr,8),o.LFG(In,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(V.HU),o.LFG(gi,8),o.LFG(Gr,8),o.LFG(ve.zQ,8),o.LFG(ve.Qv,8),o.LFG(ve.L6,8),o.LFG(ve._Q,8),o.LFG(ve.rT,8),o.LFG(ve.lh,8),o.LFG(ve.f7,8),o.LFG(V.Rf,8))};static \u0275prov=o.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"any"})}return Vt})(),Ar=(()=>{class Vt{constructor(){Gn.Z.registerVersion("angularfire",V.q4.full,"fst-compat")}static enablePersistence(ke){return{ngModule:Vt,providers:[{provide:Lr,useValue:!0},{provide:gi,useValue:ke}]}}static \u0275fac=function(bt){return new(bt||Vt)};static \u0275mod=o.oAB({type:Vt});static \u0275inj=o.cJS({providers:[Sr]})}return Vt})()},243:(an,lt,k)=>{"use strict";k.d(lt,{Q1:()=>Ge,TE:()=>xe});var f=k(1920),o=k(5592),V=k(2096),Se=k(2459),ve=k(3620),be=k(7398),ue=k(4664),ae=k(5879),ge=k(7217),W=k(3106),$=k(8153),le=k(4537);class _e{constructor(De,Le,Xe){this._delegate=De,this.task=Le,this.ref=Xe}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pe{constructor(De,Le){this._delegate=De,this._ref=Le,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _e(this._delegate.snapshot,this,this._ref)}then(De,Le){return this._delegate.then(Xe=>{if(De)return De(new _e(Xe,this,this._ref))},Le)}on(De,Le,Xe,ut){let Et;return Le&&(Et="function"==typeof Le?Bt=>Le(new _e(Bt,this,this._ref)):{next:Le.next?Bt=>Le.next(new _e(Bt,this,this._ref)):void 0,complete:Le.complete||void 0,error:Le.error||void 0}),this._delegate.on(De,Et,Xe||void 0,ut||void 0)}}class Me{constructor(De,Le){this._delegate=De,this._service=Le}get prefixes(){return this._delegate.prefixes.map(De=>new Ne(De,this._service))}get items(){return this._delegate.items.map(De=>new Ne(De,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ne{constructor(De,Le){this._delegate=De,this.storage=Le}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(De){const Le=(0,$.g6)(this._delegate,De);return new Ne(Le,this.storage)}get root(){return new Ne(this._delegate.root,this.storage)}get parent(){const De=this._delegate.parent;return null==De?null:new Ne(De,this.storage)}put(De,Le){return this._throwIfRoot("put"),new pe((0,$.B0)(this._delegate,De,Le),this)}putString(De,Le=$.bm.RAW,Xe){this._throwIfRoot("putString");const ut=(0,$.qm)(Le,De),Et=Object.assign({},Xe);return null==Et.contentType&&null!=ut.contentType&&(Et.contentType=ut.contentType),new pe(new $.IX(this._delegate,new $.UJ(ut.data,!0),Et),this)}listAll(){return(0,$.aF)(this._delegate).then(De=>new Me(De,this.storage))}list(De){return(0,$.pb)(this._delegate,De||void 0).then(Le=>new Me(Le,this.storage))}getMetadata(){return(0,$.sd)(this._delegate)}updateMetadata(De){return(0,$.Ym)(this._delegate,De)}getDownloadURL(){return(0,$.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,$.oq)(this._delegate)}_throwIfRoot(De){if(""===this._delegate._location.path)throw(0,$.y4)(De)}}class $e{constructor(De,Le){this.app=De,this._delegate=Le}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(De){if(Te(De))throw(0,$.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Ne((0,$.iH)(this._delegate,De),this)}refFromURL(De){if(!Te(De))throw(0,$.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$.gE.makeFromUrl(De,this._delegate.host)}catch{throw(0,$.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ne((0,$.iH)(this._delegate,De),this)}setMaxUploadRetryTime(De){this._delegate.maxUploadRetryTime=De}setMaxOperationRetryTime(De){this._delegate.maxOperationRetryTime=De}useEmulator(De,Le,Xe={}){(0,$.a1)(this._delegate,De,Le,Xe)}}function Te(re){return/^[A-Za-z]+:\/\//.test(re)}function tt(re,{instanceIdentifier:De}){const Le=re.getProvider("app-compat").getImmediate(),Xe=re.getProvider("storage").getImmediate({identifier:De});return new $e(Le,Xe)}!function Ze(re){const De={TaskState:$.$Y,TaskEvent:$.FN,StringFormat:$.bm,Storage:$e,Reference:Ne};re.INTERNAL.registerComponent(new le.wA("storage-compat",tt,"PUBLIC").setServiceProps(De).setMultipleInstances(!0)),re.registerVersion("@firebase/storage-compat","0.3.8")}(W.Z);var Ke=k(7142);function Ye(re){const De=function ft(re){return new o.y(De=>{const Le=Bt=>De.next(Bt);Le(re.snapshot);const Et=re.on("state_changed",Le);return re.then(Bt=>{Le(Bt),De.complete()},Bt=>{Le(re.snapshot),(Bt=>{De.error(Bt)})(Bt)}),function(){Et()}}).pipe((0,ve.b)(0))}(re);return{task:re,then:re.then.bind(re),catch:re.catch.bind(re),pause:re.pause.bind(re),cancel:re.cancel.bind(re),resume:re.resume.bind(re),snapshotChanges:()=>De,percentageChanges:()=>De.pipe((0,be.U)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function he(re){return{getDownloadURL:()=>(0,V.of)(void 0).pipe(f.fc,(0,ue.w)(()=>re.getDownloadURL()),f.iC),getMetadata:()=>(0,V.of)(void 0).pipe(f.fc,(0,ue.w)(()=>re.getMetadata()),f.iC),delete:()=>(0,Se.D)(re.delete()),child:De=>he(re.child(De)),updateMetadata:De=>(0,Se.D)(re.updateMetadata(De)),put:(De,Le)=>Ye(re.put(De,Le)),putString:(De,Le,Xe)=>Ye(re.putString(De,Le,Xe)),list:De=>(0,Se.D)(re.list(De)),listAll:()=>(0,Se.D)(re.listAll())}}const yt=new ae.OlP("angularfire2.storageBucket"),Pt=new ae.OlP("angularfire2.storage.maxUploadRetryTime"),yn=new ae.OlP("angularfire2.storage.maxOperationRetryTime"),mt=new ae.OlP("angularfire2.storage.use-emulator");let Ge=(()=>{class re{storage;constructor(Le,Xe,ut,Et,Bt,Qt,Jt,En,Bn,Sn){const kn=(0,ge.on)(Le,Bt,Xe);this.storage=(0,ge.cc)(`${kn.name}.storage.${ut}`,"AngularFireStorage",kn.name,()=>{const Xt=Bt.runOutsideAngular(()=>kn.storage(ut||void 0)),Mn=Bn;return Mn&&Xt.useEmulator(...Mn),Jt&&Xt.setMaxUploadRetryTime(Jt),En&&Xt.setMaxOperationRetryTime(En),Xt},[Jt,En])}ref(Le){return he(this.storage.ref(Le))}refFromURL(Le){return he(this.storage.refFromURL(Le))}upload(Le,Xe,ut){return he(this.storage.ref(Le)).put(Xe,ut)}static \u0275fac=function(Xe){return new(Xe||re)(ae.LFG(ge.Dh),ae.LFG(ge.xv,8),ae.LFG(yt,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(f.HU),ae.LFG(Pt,8),ae.LFG(yn,8),ae.LFG(mt,8),ae.LFG(f.Rf,8))};static \u0275prov=ae.Yz7({token:re,factory:re.\u0275fac,providedIn:"any"})}return re})(),Ve=(()=>{class re{static \u0275fac=function(Xe){return new(Xe||re)};static \u0275mod=ae.oAB({type:re});static \u0275inj=ae.cJS({})}return re})(),xe=(()=>{class re{constructor(){Ke.Z.registerVersion("angularfire",f.q4.full,"gcs-compat")}static \u0275fac=function(Xe){return new(Xe||re)};static \u0275mod=ae.oAB({type:re});static \u0275inj=ae.cJS({providers:[Ge],imports:[Ve]})}return re})()},7217:(an,lt,k)=>{"use strict";k.d(lt,{Dh:()=>ae,GT:()=>be,Ot:()=>ue,cc:()=>pe,hO:()=>_e,on:()=>W,pX:()=>ve,xv:()=>ge});var f=k(5879),o=k(1920),V=k(7142);const Se=["ngOnDestroy"],ve=(Te,_t,It,Be={})=>new Proxy(Te,{get:(tt,Ze)=>It.runOutsideAngular(()=>{if(Te[Ze])return Be?.spy?.get&&Be.spy.get(Ze,Te[Ze]),Te[Ze];if(Se.indexOf(Ze)>-1)return()=>{};const Ke=_t.toPromise().then(ft=>{const Ye=ft?.[Ze];return"function"==typeof Ye?Ye.bind(ft):Ye?.then?Ye.then(he=>It.run(()=>he)):It.run(()=>Ye)});return new Proxy(()=>{},{get:(ft,Ye)=>Ke[Ye],apply:(ft,Ye,he)=>Ke.then(yt=>{const Pt=yt?.(...he);return Be?.spy?.apply&&Be.spy.apply(Ze,he,Pt),Pt})})})}),be=(Te,_t)=>{_t.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Be=>{Object.defineProperty(Te.prototype,Be,Object.getOwnPropertyDescriptor(It.prototype||It,Be))})})};class ue{constructor(_t){return _t}}const ae=new f.OlP("angularfire2.app.options"),ge=new f.OlP("angularfire2.app.name");function W(Te,_t,It){const tt="object"==typeof It&&It||{};tt.name=tt.name||"string"==typeof It&&It||"[DEFAULT]";const Ke=V.Z.apps.filter(ft=>ft&&ft.name===tt.name)[0]||_t.runOutsideAngular(()=>V.Z.initializeApp(Te,tt));try{if(JSON.stringify(Te)!==JSON.stringify(Ke.options)){const ft=!!module.hot;$("error",`${Ke.name} Firebase App already initialized with different options${ft?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ue(Ke)}const $=(Te,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Te](..._t)},le={provide:ue,useFactory:W,deps:[ae,f.R0b,[new f.FiY,ge]]};let _e=(()=>{class Te{static initializeApp(It,Be){return{ngModule:Te,providers:[{provide:ae,useValue:It},{provide:ge,useValue:Be}]}}constructor(It){V.Z.registerVersion("angularfire",o.q4.full,"core"),V.Z.registerVersion("angularfire",o.q4.full,"app-compat"),V.Z.registerVersion("angular",f.q4F.full,It.toString())}static \u0275fac=function(Be){return new(Be||Te)(f.LFG(f.Lbi))};static \u0275mod=f.oAB({type:Te});static \u0275inj=f.cJS({providers:[le]})}return Te})();function pe(Te,_t,It,Be,tt){const[,Ze,Ke]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Te)||[];if(Ze)return function Me(Te,_t){try{return Te.toString()===_t.toString()}catch{return Te===_t}}(tt,Ke)||($e("error",`${_t} was already initialized on the ${It} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:tt,was:Ke})),Ze;{const ft=Be();return globalThis.\u0275AngularfireInstanceCache.push([Te,ft,tt]),ft}}const Ne=typeof module<"u"&&!!module.hot,$e=(Te,..._t)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Te](..._t)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(an,lt,k)=>{"use strict";k.d(lt,{q4:()=>pe,iC:()=>Pt,fc:()=>he,HU:()=>Ze,Rf:()=>Te,vb:()=>$e,JM:()=>Ne,af:()=>Me,u3:()=>Ge});var f=k(5879),o=k(3182),V=k(1954),ve=k(2631);const ue=new class be extends ve.v{}(class Se extends V.o{constructor(Ve,xe){super(Ve,xe),this.scheduler=Ve,this.work=xe}schedule(Ve,xe=0){return xe>0?super.schedule(Ve,xe):(this.delay=xe,this.state=Ve,this.scheduler.flush(this),this)}execute(Ve,xe){return xe>0||this.closed?super.execute(Ve,xe):this._execute(Ve,xe)}requestAsyncId(Ve,xe,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(Ve,xe,re):(Ve.flush(this),0)}});var ge=k(6321),W=k(5592),$=k(9397),le=k(3093),_e=k(5137);const pe=new f.GfV("ANGULARFIRE2_VERSION"),Me=dt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${dt} in the constructor, first ensure that ${dt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${dt})\`.`;function Ne(dt,Ve,xe){if(Ve){if(1===Ve.length)return Ve[0];const Le=Ve.filter(Xe=>Xe.app===xe);if(1===Le.length)return Le[0]}return xe.container.getProvider(dt).getImmediate({optional:!0})}const $e=(dt,Ve)=>{const xe=Ve?[Ve]:(0,o.C6)(),re=[];return xe.forEach(De=>{De.container.getProvider(dt).instances.forEach(Xe=>{re.includes(Xe)||re.push(Xe)})}),re};class Te{constructor(){return $e(_t)}}const _t="app-check";function It(){}class Be{zone;delegate;constructor(Ve,xe=ue){this.zone=Ve,this.delegate=xe}now(){return this.delegate.now()}schedule(Ve,xe,re){const De=this.zone;return this.delegate.schedule(function(Xe){De.runGuarded(()=>{Ve.apply(this,[Xe])})},xe,re)}}class tt{zone;task=null;constructor(Ve){this.zone=Ve}call(Ve,xe){const re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",It,{},It,It)),xe.pipe((0,$.b)({next:re,complete:re,error:re})).subscribe(Ve).add(re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class dt{ngZone;outsideAngular;insideAngular;constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=xe.run(()=>new Be(Zone.current,ge.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(re){return new(re||dt)(f.LFG(f.R0b))};static \u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();function Ke(){const dt=globalThis.\u0275AngularFireScheduler;if(!dt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return dt}function Ye(dt){return Ke().ngZone.run(()=>dt())}function he(dt){return dt.pipe((0,le.Q)(Ke().outsideAngular))}function Pt(dt){return function yn(dt){return function(xe){return(xe=xe.lift(new tt(dt.ngZone))).pipe((0,_e.R)(dt.outsideAngular),(0,le.Q)(dt.insideAngular))}}(Ke())(dt)}const mt=(dt,Ve)=>function(){const re=arguments;return Ve&&setTimeout(()=>{"scheduled"===Ve.state&&Ve.invoke()},10),Ye(()=>dt.apply(void 0,re))},Ge=(dt,Ve)=>function(){let xe;const re=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof re[Le]&&(Ve&&(xe||=Ye(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",It,{},It,It))),re[Le]=mt(re[Le],xe));const De=function ft(dt){return Ke().ngZone.runOutsideAngular(()=>dt())}(()=>dt.apply(this,re));if(!Ve){if(De instanceof W.y){const Le=Ke();return De.pipe((0,_e.R)(Le.outsideAngular),(0,le.Q)(Le.insideAngular))}return Ye(()=>De)}return De instanceof W.y?De.pipe(Pt):De instanceof Promise?Ye(()=>new Promise((Le,Xe)=>De.then(ut=>Ye(()=>Le(ut)),ut=>Ye(()=>Xe(ut))))):"function"==typeof De&&xe?function(){return setTimeout(()=>{xe&&"scheduled"===xe.state&&xe.invoke()},10),De.apply(this,arguments)}:Ye(()=>De)}},6223:(an,lt,k)=>{"use strict";k.d(lt,{EJ:()=>Ii,F:()=>xi,Fj:()=>pe,JJ:()=>un,JL:()=>pi,Kr:()=>yo,On:()=>Qi,Q7:()=>Gt,UX:()=>Fo,YN:()=>ci,_Y:()=>qo,kI:()=>It,qu:()=>Rn,sg:()=>Wr,u:()=>mn,u5:()=>Eo,x0:()=>$i});var f=k(5879),o=k(6814),V=k(2459),Se=k(9315),ve=k(7398);let be=(()=>{class Y{constructor(L,Ee){this._renderer=L,this._elementRef=Ee,this.onChange=We=>{},this.onTouched=()=>{}}setProperty(L,Ee){this._renderer.setProperty(this._elementRef.nativeElement,L,Ee)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:Y})}return Y})(),ue=(()=>{class Y extends be{static#e=this.\u0275fac=function(){let L;return function(We){return(L||(L=f.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=f.lG2({type:Y,features:[f.qOj]})}return Y})();const ae=new f.OlP("NgValueAccessor"),$={provide:ae,useExisting:(0,f.Gpc)(()=>pe),multi:!0},_e=new f.OlP("CompositionEventMode");let pe=(()=>{class Y extends be{constructor(L,Ee,We){super(L,Ee),this._compositionMode=We,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const Y=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(_e,8))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ee,We){1&Ee&&f.NdJ("input",function(Dr){return We._handleInput(Dr.target.value)})("blur",function(){return We.onTouched()})("compositionstart",function(){return We._compositionStart()})("compositionend",function(Dr){return We._compositionEnd(Dr.target.value)})},features:[f._Bn([$]),f.qOj]})}return Y})();function Me(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function Ne(Y){return null!=Y&&"number"==typeof Y.length}const $e=new f.OlP("NgValidators"),Te=new f.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class It{static min(ie){return function Be(Y){return ie=>{if(Me(ie.value)||Me(Y))return null;const L=parseFloat(ie.value);return!isNaN(L)&&L<Y?{min:{min:Y,actual:ie.value}}:null}}(ie)}static max(ie){return function tt(Y){return ie=>{if(Me(ie.value)||Me(Y))return null;const L=parseFloat(ie.value);return!isNaN(L)&&L>Y?{max:{max:Y,actual:ie.value}}:null}}(ie)}static required(ie){return Ze(ie)}static requiredTrue(ie){return function Ke(Y){return!0===Y.value?null:{required:!0}}(ie)}static email(ie){return function ft(Y){return Me(Y.value)||_t.test(Y.value)?null:{email:!0}}(ie)}static minLength(ie){return function Ye(Y){return ie=>Me(ie.value)||!Ne(ie.value)?null:ie.value.length<Y?{minlength:{requiredLength:Y,actualLength:ie.value.length}}:null}(ie)}static maxLength(ie){return function he(Y){return ie=>Ne(ie.value)&&ie.value.length>Y?{maxlength:{requiredLength:Y,actualLength:ie.value.length}}:null}(ie)}static pattern(ie){return function yt(Y){if(!Y)return Pt;let ie,L;return"string"==typeof Y?(L="","^"!==Y.charAt(0)&&(L+="^"),L+=Y,"$"!==Y.charAt(Y.length-1)&&(L+="$"),ie=new RegExp(L)):(L=Y.toString(),ie=Y),Ee=>{if(Me(Ee.value))return null;const We=Ee.value;return ie.test(We)?null:{pattern:{requiredPattern:L,actualValue:We}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return re(ie)}static composeAsync(ie){return Le(ie)}}function Ze(Y){return Me(Y.value)?{required:!0}:null}function Pt(Y){return null}function yn(Y){return null!=Y}function mt(Y){return(0,f.QGY)(Y)?(0,V.D)(Y):Y}function Ge(Y){let ie={};return Y.forEach(L=>{ie=null!=L?{...ie,...L}:ie}),0===Object.keys(ie).length?null:ie}function dt(Y,ie){return ie.map(L=>L(Y))}function xe(Y){return Y.map(ie=>function Ve(Y){return!Y.validate}(ie)?ie:L=>ie.validate(L))}function re(Y){if(!Y)return null;const ie=Y.filter(yn);return 0==ie.length?null:function(L){return Ge(dt(L,ie))}}function De(Y){return null!=Y?re(xe(Y)):null}function Le(Y){if(!Y)return null;const ie=Y.filter(yn);return 0==ie.length?null:function(L){const Ee=dt(L,ie).map(mt);return(0,Se.D)(Ee).pipe((0,ve.U)(Ge))}}function Xe(Y){return null!=Y?Le(xe(Y)):null}function ut(Y,ie){return null===Y?[ie]:Array.isArray(Y)?[...Y,ie]:[Y,ie]}function Et(Y){return Y._rawValidators}function Bt(Y){return Y._rawAsyncValidators}function Qt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Jt(Y,ie){return Array.isArray(Y)?Y.includes(ie):Y===ie}function En(Y,ie){const L=Qt(ie);return Qt(Y).forEach(We=>{Jt(L,We)||L.push(We)}),L}function Bn(Y,ie){return Qt(ie).filter(L=>!Jt(Y,L))}class Sn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=De(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,L){return!!this.control&&this.control.hasError(ie,L)}getError(ie,L){return this.control?this.control.getError(ie,L):null}}class kn extends Sn{get formDirective(){return null}get path(){return null}}class Xt extends Sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mn{constructor(ie){this._cd=ie}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let un=(()=>{class Y extends Mn{constructor(L){super(L)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(Xt,2))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ee,We){2&Ee&&f.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)},features:[f.qOj]})}return Y})(),pi=(()=>{class Y extends Mn{constructor(L){super(L)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(kn,10))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ee,We){2&Ee&&f.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)("ng-submitted",We.isSubmitted)},features:[f.qOj]})}return Y})();const Ar="VALID",Vt="INVALID",q="PENDING",ke="DISABLED";function bt(Y){return(ur(Y)?Y.validators:Y)||null}function er(Y,ie){return(ur(ie)?ie.asyncValidators:Y)||null}function ur(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}function Pi(Y,ie,L){const Ee=Y.controls;if(!(ie?Object.keys(Ee):Ee).length)throw new f.vHH(1e3,"");if(!Ee[L])throw new f.vHH(1001,"")}function sn(Y,ie,L){Y._forEachChild((Ee,We)=>{if(void 0===L[We])throw new f.vHH(1002,"")})}class Ie{constructor(ie,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===Vt}get pending(){return this.status==q}get disabled(){return this.status===ke}get enabled(){return this.status!==ke}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(En(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(En(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(Bn(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(Bn(ie,this._rawAsyncValidators))}hasValidator(ie){return Jt(this._rawValidators,ie)}hasAsyncValidator(ie){return Jt(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){this.touched=!0,this._parent&&!ie.onlySelf&&this._parent.markAsTouched(ie)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ie=>ie.markAllAsTouched())}markAsUntouched(ie={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}markAsDirty(ie={}){this.pristine=!1,this._parent&&!ie.onlySelf&&this._parent.markAsDirty(ie)}markAsPristine(ie={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}markAsPending(ie={}){this.status=q,!1!==ie.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ie.onlySelf&&this._parent.markAsPending(ie)}disable(ie={}){const L=this._parentMarkedDirty(ie.onlySelf);this.status=ke,this.errors=null,this._forEachChild(Ee=>{Ee.disable({...ie,onlySelf:!0})}),this._updateValue(),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:L}),this._onDisabledChange.forEach(Ee=>Ee(!0))}enable(ie={}){const L=this._parentMarkedDirty(ie.onlySelf);this.status=Ar,this._forEachChild(Ee=>{Ee.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:L}),this._onDisabledChange.forEach(Ee=>Ee(!1))}_updateAncestors(ie){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===q)&&this._runAsyncValidator(ie.emitEvent)),!1!==ie.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity(ie)}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ke:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie){if(this.asyncValidator){this.status=q,this._hasOwnPendingAsyncValidator=!0;const L=mt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(Ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ee,{emitEvent:ie})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ie,L={}){this.errors=ie,this._updateControlsErrors(!1!==L.emitEvent)}get(ie){let L=ie;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((Ee,We)=>Ee&&Ee._find(We),this)}getError(ie,L){const Ee=L?this.get(L):this;return Ee&&Ee.errors?Ee.errors[ie]:null}hasError(ie,L){return!!this.getError(ie,L)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ie)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?ke:this.errors?Vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(q)?q:this._anyControlsHaveStatus(Vt)?Vt:Ar}_anyControlsHaveStatus(ie){return this._anyControls(L=>L.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie)}_updateTouched(ie={}){this.touched=this._anyControlsTouched(),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){ur(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function on(Y){return Array.isArray(Y)?De(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function Jr(Y){return Array.isArray(Y)?Xe(Y):Y||null}(this._rawAsyncValidators)}}class ne extends Ie{constructor(ie,L,Ee){super(bt(L),er(Ee,L)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ie,L){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(ie,L,Ee={}){this.registerControl(ie,L),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}removeControl(ie,L={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(ie,L,Ee={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],L&&this.registerControl(ie,L),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,L={}){sn(this,0,ie),Object.keys(ie).forEach(Ee=>{Pi(this,!0,Ee),this.controls[Ee].setValue(ie[Ee],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(ie,L={}){null!=ie&&(Object.keys(ie).forEach(Ee=>{const We=this.controls[Ee];We&&We.patchValue(ie[Ee],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(ie={},L={}){this._forEachChild((Ee,We)=>{Ee.reset(ie?ie[We]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(ie,L,Ee)=>(ie[Ee]=L.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(L,Ee)=>!!Ee._syncPendingControls()||L);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(L=>{const Ee=this.controls[L];Ee&&ie(Ee,L)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[L,Ee]of Object.entries(this.controls))if(this.contains(L)&&ie(Ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,Ee,We)=>((Ee.enabled||this.disabled)&&(L[We]=Ee.value),L))}_reduceChildren(ie,L){let Ee=ie;return this._forEachChild((We,jn)=>{Ee=L(Ee,We,jn)}),Ee}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class F extends ne{}const et=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function $t(Y,ie){return[...ie.path,Y]}function hn(Y,ie,L=kt){rt(Y,ie),ie.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===L)&&ie.valueAccessor.setDisabledState?.(Y.disabled),function it(Y,ie){ie.valueAccessor.registerOnChange(L=>{Y._pendingValue=L,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&en(Y,ie)})}(Y,ie),function Tn(Y,ie){const L=(Ee,We)=>{ie.valueAccessor.writeValue(Ee),We&&ie.viewToModelUpdate(Ee)};Y.registerOnChange(L),ie._registerOnDestroy(()=>{Y._unregisterOnChange(L)})}(Y,ie),function jt(Y,ie){ie.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&en(Y,ie),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,ie),function dr(Y,ie){if(ie.valueAccessor.setDisabledState){const L=Ee=>{ie.valueAccessor.setDisabledState(Ee)};Y.registerOnDisabledChange(L),ie._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(L)})}}(Y,ie)}function cn(Y,ie,L=!0){const Ee=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(Ee),ie.valueAccessor.registerOnTouched(Ee)),Qe(Y,ie),Y&&(ie._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function fn(Y,ie){Y.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(ie)})}function rt(Y,ie){const L=Et(Y);null!==ie.validator?Y.setValidators(ut(L,ie.validator)):"function"==typeof L&&Y.setValidators([L]);const Ee=Bt(Y);null!==ie.asyncValidator?Y.setAsyncValidators(ut(Ee,ie.asyncValidator)):"function"==typeof Ee&&Y.setAsyncValidators([Ee]);const We=()=>Y.updateValueAndValidity();fn(ie._rawValidators,We),fn(ie._rawAsyncValidators,We)}function Qe(Y,ie){let L=!1;if(null!==Y){if(null!==ie.validator){const We=Et(Y);if(Array.isArray(We)&&We.length>0){const jn=We.filter(Dr=>Dr!==ie.validator);jn.length!==We.length&&(L=!0,Y.setValidators(jn))}}if(null!==ie.asyncValidator){const We=Bt(Y);if(Array.isArray(We)&&We.length>0){const jn=We.filter(Dr=>Dr!==ie.asyncValidator);jn.length!==We.length&&(L=!0,Y.setAsyncValidators(jn))}}}const Ee=()=>{};return fn(ie._rawValidators,Ee),fn(ie._rawAsyncValidators,Ee),L}function en(Y,ie){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function dn(Y,ie){rt(Y,ie)}function ki(Y,ie){if(!Y.hasOwnProperty("model"))return!1;const L=Y.model;return!!L.isFirstChange()||!Object.is(ie,L.currentValue)}function pr(Y,ie){Y._syncPendingControls(),ie.forEach(L=>{const Ee=L.control;"submit"===Ee.updateOn&&Ee._pendingChange&&(L.viewToModelUpdate(Ee._pendingValue),Ee._pendingChange=!1)})}function sr(Y,ie){if(!ie)return null;let L,Ee,We;return Array.isArray(ie),ie.forEach(jn=>{jn.constructor===pe?L=jn:function Or(Y){return Object.getPrototypeOf(Y.constructor)===ue}(jn)?Ee=jn:We=jn}),We||Ee||L||null}const Ci={provide:kn,useExisting:(0,f.Gpc)(()=>xi)},gr=(()=>Promise.resolve())();let xi=(()=>{class Y extends kn{constructor(L,Ee,We){super(),this.callSetDisabledState=We,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ne({},De(L),Xe(Ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){gr.then(()=>{const Ee=this._findContainer(L.path);L.control=Ee.registerControl(L.name,L.control),hn(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){gr.then(()=>{const Ee=this._findContainer(L.path);Ee&&Ee.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){gr.then(()=>{const Ee=this._findContainer(L.path),We=new ne({});dn(We,L),Ee.registerControl(L.name,We),We.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){gr.then(()=>{const Ee=this._findContainer(L.path);Ee&&Ee.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,Ee){gr.then(()=>{this.form.get(L.path).setValue(Ee)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,pr(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36($e,10),f.Y36(Te,10),f.Y36(et,8))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ee,We){1&Ee&&f.NdJ("submit",function(Dr){return We.onSubmit(Dr)})("reset",function(){return We.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ci]),f.qOj]})}return Y})();function mi(Y,ie){const L=Y.indexOf(ie);L>-1&&Y.splice(L,1)}function Ki(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const qr=class extends Ie{constructor(ie=null,L,Ee){super(bt(L),er(Ee,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ur(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Ki(ie)?ie.value:ie)}setValue(ie,L={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(Ee=>Ee(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(ie,L={}){this.setValue(ie,L)}reset(ie=this.defaultValue,L={}){this._applyFormState(ie),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){mi(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){mi(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){Ki(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}};let ji=(()=>{class Y extends kn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let L;return function(We){return(L||(L=f.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=f.lG2({type:Y,features:[f.qOj]})}return Y})();const ko={provide:Xt,useExisting:(0,f.Gpc)(()=>Qi)},Li=(()=>Promise.resolve())();let Qi=(()=>{class Y extends Xt{constructor(L,Ee,We,jn,Dr,wo){super(),this._changeDetectorRef=Dr,this.callSetDisabledState=wo,this.control=new qr,this._registered=!1,this.name="",this.update=new f.vpe,this._parent=L,this._setValidators(Ee),this._setAsyncValidators(We),this.valueAccessor=sr(0,jn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const Ee=L.name.previousValue;this.formDirective.removeControl({name:Ee,path:this._getPath(Ee)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),ki(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Li.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const Ee=L.isDisabled.currentValue,We=0!==Ee&&(0,f.VuI)(Ee);Li.then(()=>{We&&!this.control.disabled?this.control.disable():!We&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?$t(L,this._parent):[L]}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(kn,9),f.Y36($e,10),f.Y36(Te,10),f.Y36(ae,10),f.Y36(f.sBO,8),f.Y36(et,8))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ko]),f.qOj,f.TTD]})}return Y})(),qo=(()=>{class Y{static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Y})(),vo=(()=>{class Y{static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275mod=f.oAB({type:Y});static#n=this.\u0275inj=f.cJS({})}return Y})();const qn=new f.OlP("NgModelWithFormControlWarning"),zi={provide:kn,useExisting:(0,f.Gpc)(()=>Wr)};let Wr=(()=>{class Y extends kn{constructor(L,Ee,We){super(),this.callSetDisabledState=We,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(L),this._setAsyncValidators(Ee)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const Ee=this.form.get(L.path);return hn(Ee,L,this.callSetDisabledState),Ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),Ee}getControl(L){return this.form.get(L.path)}removeControl(L){cn(L.control||null,L,!1),function bo(Y,ie){const L=Y.indexOf(ie);L>-1&&Y.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,Ee){this.form.get(L.path).setValue(Ee)}onSubmit(L){return this.submitted=!0,pr(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const Ee=L.control,We=this.form.get(L.path);Ee!==We&&(cn(Ee||null,L),(Y=>Y instanceof qr)(We)&&(hn(We,L,this.callSetDisabledState),L.control=We))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const Ee=this.form.get(L.path);dn(Ee,L),Ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const Ee=this.form.get(L.path);Ee&&function Ir(Y,ie){return Qe(Y,ie)}(Ee,L)&&Ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rt(this.form,this),this._oldForm&&Qe(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36($e,10),f.Y36(Te,10),f.Y36(et,8))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(Ee,We){1&Ee&&f.NdJ("submit",function(Dr){return We.onSubmit(Dr)})("reset",function(){return We.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([zi]),f.qOj,f.TTD]})}return Y})();const to={provide:kn,useExisting:(0,f.Gpc)(()=>$i)};let $i=(()=>{class Y extends ji{constructor(L,Ee,We){super(),this.name=null,this._parent=L,this._setValidators(Ee),this._setAsyncValidators(We)}_checkParentType(){To(this._parent)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(kn,13),f.Y36($e,10),f.Y36(Te,10))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([to]),f.qOj]})}return Y})();const as={provide:kn,useExisting:(0,f.Gpc)(()=>no)};let no=(()=>{class Y extends kn{constructor(L,Ee,We){super(),this.name=null,this._parent=L,this._setValidators(Ee),this._setAsyncValidators(We)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){To(this._parent)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(kn,13),f.Y36($e,10),f.Y36(Te,10))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([as]),f.qOj]})}return Y})();function To(Y){return!(Y instanceof $i||Y instanceof Wr||Y instanceof no)}const jr={provide:Xt,useExisting:(0,f.Gpc)(()=>mn)};let mn=(()=>{class Y extends Xt{set isDisabled(L){}static#e=this._ngModelWarningSentOnce=!1;constructor(L,Ee,We,jn,Dr){super(),this._ngModelWarningConfig=Dr,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(Ee),this._setAsyncValidators(We),this.valueAccessor=sr(0,jn)}ngOnChanges(L){this._added||this._setUpControl(),ki(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(kn,13),f.Y36($e,10),f.Y36(Te,10),f.Y36(ae,10),f.Y36(qn,8))};static#n=this.\u0275dir=f.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([jr]),f.qOj,f.TTD]})}return Y})();const Yn={provide:ae,useExisting:(0,f.Gpc)(()=>Ii),multi:!0};function Mr(Y,ie){return null==Y?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${Y}: ${ie}`.slice(0,50))}let Ii=(()=>{class Y extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const We=Mr(this._getOptionId(L),L);this.setProperty("value",We)}registerOnChange(L){this.onChange=Ee=>{this.value=this._getOptionValue(Ee),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const Ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ee),L))return Ee;return null}_getOptionValue(L){const Ee=function Vi(Y){return Y.split(":")[0]}(L);return this._optionMap.has(Ee)?this._optionMap.get(Ee):L}static#e=this.\u0275fac=function(){let L;return function(We){return(L||(L=f.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ee,We){1&Ee&&f.NdJ("change",function(Dr){return We.onChange(Dr.target.value)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Yn]),f.qOj]})}return Y})(),ci=(()=>{class Y{constructor(L,Ee,We){this._element=L,this._renderer=Ee,this._select=We,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Mr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ii,9))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})();const Ti={provide:ae,useExisting:(0,f.Gpc)(()=>ir),multi:!0};function oi(Y,ie){return null==Y?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${Y}: ${ie}`.slice(0,50))}let ir=(()=>{class Y extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let Ee;if(this.value=L,Array.isArray(L)){const We=L.map(jn=>this._getOptionId(jn));Ee=(jn,Dr)=>{jn._setSelected(We.indexOf(Dr.toString())>-1)}}else Ee=(We,jn)=>{We._setSelected(!1)};this._optionMap.forEach(Ee)}registerOnChange(L){this.onChange=Ee=>{const We=[],jn=Ee.selectedOptions;if(void 0!==jn){const Dr=jn;for(let wo=0;wo<Dr.length;wo++){const Da=this._getOptionValue(Dr[wo].value);We.push(Da)}}else{const Dr=Ee.options;for(let wo=0;wo<Dr.length;wo++){const wi=Dr[wo];if(wi.selected){const Da=this._getOptionValue(wi.value);We.push(Da)}}}this.value=We,L(We)}}_registerOption(L){const Ee=(this._idCounter++).toString();return this._optionMap.set(Ee,L),Ee}_getOptionId(L){for(const Ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ee)._value,L))return Ee;return null}_getOptionValue(L){const Ee=function Yi(Y){return Y.split(":")[0]}(L);return this._optionMap.has(Ee)?this._optionMap.get(Ee)._value:L}static#e=this.\u0275fac=function(){let L;return function(We){return(L||(L=f.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ee,We){1&Ee&&f.NdJ("change",function(Dr){return We.onChange(Dr.target)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ti]),f.qOj]})}return Y})(),yo=(()=>{class Y{constructor(L,Ee,We){this._element=L,this._renderer=Ee,this._select=We,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(oi(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(oi(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ir,9))};static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Y})(),J=(()=>{class Y{constructor(){this._validator=Pt}ngOnChanges(L){if(this.inputName in L){const Ee=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(Ee),this._validator=this._enabled?this.createValidator(Ee):Pt,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275dir=f.lG2({type:Y,features:[f.TTD]})}return Y})();const pn={provide:$e,useExisting:(0,f.Gpc)(()=>Gt),multi:!0};let Gt=(()=>{class Y extends J{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=L=>Ze}enabled(L){return L}static#e=this.\u0275fac=function(){let L;return function(We){return(L||(L=f.n5z(Y)))(We||Y)}}();static#t=this.\u0275dir=f.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ee,We){2&Ee&&f.uIk("required",We._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([pn]),f.qOj]})}return Y})(),je=(()=>{class Y{static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275mod=f.oAB({type:Y});static#n=this.\u0275inj=f.cJS({imports:[vo]})}return Y})();class st extends Ie{constructor(ie,L,Ee){super(bt(L),er(Ee,L)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,L={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(ie,L,Ee={}){this.controls.splice(ie,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:Ee.emitEvent})}removeAt(ie,L={}){let Ee=this._adjustIndex(ie);Ee<0&&(Ee=0),this.controls[Ee]&&this.controls[Ee]._registerOnCollectionChange(()=>{}),this.controls.splice(Ee,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(ie,L,Ee={}){let We=this._adjustIndex(ie);We<0&&(We=0),this.controls[We]&&this.controls[We]._registerOnCollectionChange(()=>{}),this.controls.splice(We,1),L&&(this.controls.splice(We,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,L={}){sn(this,0,ie),ie.forEach((Ee,We)=>{Pi(this,!1,We),this.at(We).setValue(Ee,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(ie,L={}){null!=ie&&(ie.forEach((Ee,We)=>{this.at(We)&&this.at(We).patchValue(Ee,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(ie=[],L={}){this._forEachChild((Ee,We)=>{Ee.reset(ie[We],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((L,Ee)=>!!Ee._syncPendingControls()||L,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((L,Ee)=>{ie(L,Ee)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(L=>L.enabled&&ie(L))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}function An(Y){return!!Y&&(void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn)}let Rn=(()=>{class Y{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new Y;return L.useNonNullable=!0,L}group(L,Ee=null){const We=this._reduceControls(L);let jn={};return An(Ee)?jn=Ee:null!==Ee&&(jn.validators=Ee.validator,jn.asyncValidators=Ee.asyncValidator),new ne(We,jn)}record(L,Ee=null){const We=this._reduceControls(L);return new F(We,Ee)}control(L,Ee,We){let jn={};return this.useNonNullable?(An(Ee)?jn=Ee:(jn.validators=Ee,jn.asyncValidators=We),new qr(L,{...jn,nonNullable:!0})):new qr(L,Ee,We)}array(L,Ee,We){const jn=L.map(Dr=>this._createControl(Dr));return new st(jn,Ee,We)}_reduceControls(L){const Ee={};return Object.keys(L).forEach(We=>{Ee[We]=this._createControl(L[We])}),Ee}_createControl(L){return L instanceof qr||L instanceof Ie?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275prov=f.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),Eo=(()=>{class Y{static withConfig(L){return{ngModule:Y,providers:[{provide:et,useValue:L.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275mod=f.oAB({type:Y});static#n=this.\u0275inj=f.cJS({imports:[je]})}return Y})(),Fo=(()=>{class Y{static withConfig(L){return{ngModule:Y,providers:[{provide:qn,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:et,useValue:L.callSetDisabledState??kt}]}}static#e=this.\u0275fac=function(Ee){return new(Ee||Y)};static#t=this.\u0275mod=f.oAB({type:Y});static#n=this.\u0275inj=f.cJS({imports:[je]})}return Y})()},6593:(an,lt,k)=>{"use strict";k.d(lt,{Dx:()=>Er,H7:()=>Vt,b2:()=>Vn,q6:()=>Sn,se:()=>Ye});var f=k(5879),o=k(6814);class V extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends V{static makeCurrent(){(0,o.HT)(new Se)}onAndCancel(G,j,F){return G.addEventListener(j,F),()=>{G.removeEventListener(j,F)}}dispatchEvent(G,j){G.dispatchEvent(j)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,j){return(j=j||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,j){return"window"===j?window:"document"===j?G:"body"===j?G.body:null}getBaseHref(G){const j=function be(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==j?null:function ae(ne){ue=ue||document.createElement("a"),ue.setAttribute("href",ne);const G=ue.pathname;return"/"===G.charAt(0)?G:`/${G}`}(j)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,o.Mx)(document.cookie,G)}}let ue,ve=null,W=(()=>{class ne{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ne)};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const $=new f.OlP("EventManagerPlugins");let le=(()=>{class ne{constructor(j,F){this._zone=F,this._eventNameToPlugin=new Map,j.forEach(we=>{we.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,F,we){return this._findPluginFor(F).addEventListener(j,F,we)}getZone(){return this._zone}_findPluginFor(j){let F=this._eventNameToPlugin.get(j);if(F)return F;if(F=this._plugins.find(et=>et.supports(j)),!F)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(j,F),F}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG($),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class _e{constructor(G){this._doc=G}}const pe="ng-app-id";let Me=(()=>{class ne{constructor(j,F,we,et={}){this.doc=j,this.appId=F,this.nonce=we,this.platformId=et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,o.PM)(et),this.resetHostNodes()}addStyles(j){for(const F of j)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(j){for(const F of j)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(F=>F.remove()),j.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const F of this.getAllStyles())this.addStyleToHost(j,F)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const F of this.hostNodes)this.addStyleToHost(F,j)}onStyleRemoved(j){const F=this.styleRef;F.get(j)?.elements?.forEach(we=>we.remove()),F.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${pe}="${this.appId}"]`);if(j?.length){const F=new Map;return j.forEach(we=>{null!=we.textContent&&F.set(we.textContent,we)}),F}return null}changeUsageCount(j,F){const we=this.styleRef;if(we.has(j)){const et=we.get(j);return et.usage+=F,et.usage}return we.set(j,{usage:F,elements:[]}),F}getStyleElement(j,F){const we=this.styleNodesInDOM,et=we?.get(F);if(et?.parentNode===j)return we.delete(F),et.removeAttribute(pe),et;{const kt=this.doc.createElement("style");return this.nonce&&kt.setAttribute("nonce",this.nonce),kt.textContent=F,this.platformIsServer&&kt.setAttribute(pe,this.appId),kt}}addStyleToHost(j,F){const we=this.getStyleElement(j,F);j.appendChild(we);const et=this.styleRef,kt=et.get(F)?.elements;kt?kt.push(we):et.set(F,{elements:[we],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(o.K0),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g,tt=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(ne,G){return G.map(j=>j.replace($e,ne))}let Ye=(()=>{class ne{constructor(j,F,we,et,kt,$t,hn,cn=null){this.eventManager=j,this.sharedStylesHost=F,this.appId=we,this.removeStylesOnCompDestroy=et,this.doc=kt,this.platformId=$t,this.ngZone=hn,this.nonce=cn,this.rendererByCompId=new Map,this.platformIsServer=(0,o.PM)($t),this.defaultRenderer=new he(j,kt,hn,this.platformIsServer)}createRenderer(j,F){if(!j||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===f.ifc.ShadowDom&&(F={...F,encapsulation:f.ifc.Emulated});const we=this.getOrCreateRenderer(j,F);return we instanceof dt?we.applyToHost(j):we instanceof Ge&&we.applyStyles(),we}getOrCreateRenderer(j,F){const we=this.rendererByCompId;let et=we.get(F.id);if(!et){const kt=this.doc,$t=this.ngZone,hn=this.eventManager,cn=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,dr=this.platformIsServer;switch(F.encapsulation){case f.ifc.Emulated:et=new dt(hn,cn,F,this.appId,fn,kt,$t,dr);break;case f.ifc.ShadowDom:return new mt(hn,cn,j,F,kt,$t,this.nonce,dr);default:et=new Ge(hn,cn,F,fn,kt,$t,dr)}we.set(F.id,et)}return et}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(le),f.LFG(Me),f.LFG(f.AFp),f.LFG(tt),f.LFG(o.K0),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class he{constructor(G,j,F,we){this.eventManager=G,this.doc=j,this.ngZone=F,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,j){return j?this.doc.createElementNS(Ne[j]||j,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,j){(yn(G)?G.content:G).appendChild(j)}insertBefore(G,j,F){G&&(yn(G)?G.content:G).insertBefore(j,F)}removeChild(G,j){G&&G.removeChild(j)}selectRootElement(G,j){let F="string"==typeof G?this.doc.querySelector(G):G;if(!F)throw new f.vHH(-5104,!1);return j||(F.textContent=""),F}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,j,F,we){if(we){j=we+":"+j;const et=Ne[we];et?G.setAttributeNS(et,j,F):G.setAttribute(j,F)}else G.setAttribute(j,F)}removeAttribute(G,j,F){if(F){const we=Ne[F];we?G.removeAttributeNS(we,j):G.removeAttribute(`${F}:${j}`)}else G.removeAttribute(j)}addClass(G,j){G.classList.add(j)}removeClass(G,j){G.classList.remove(j)}setStyle(G,j,F,we){we&(f.JOm.DashCase|f.JOm.Important)?G.style.setProperty(j,F,we&f.JOm.Important?"important":""):G.style[j]=F}removeStyle(G,j,F){F&f.JOm.DashCase?G.style.removeProperty(j):G.style[j]=""}setProperty(G,j,F){G[j]=F}setValue(G,j){G.nodeValue=j}listen(G,j,F){if("string"==typeof G&&!(G=(0,o.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${j}`);return this.eventManager.addEventListener(G,j,this.decoratePreventDefault(F))}decoratePreventDefault(G){return j=>{if("__ngUnwrap__"===j)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(j)):G(j))&&j.preventDefault()}}}function yn(ne){return"TEMPLATE"===ne.tagName&&void 0!==ne.content}class mt extends he{constructor(G,j,F,we,et,kt,$t,hn){super(G,et,kt,hn),this.sharedStylesHost=j,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=ft(we.id,we.styles);for(const fn of cn){const dr=document.createElement("style");$t&&dr.setAttribute("nonce",$t),dr.textContent=fn,this.shadowRoot.appendChild(dr)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,j){return super.appendChild(this.nodeOrShadowRoot(G),j)}insertBefore(G,j,F){return super.insertBefore(this.nodeOrShadowRoot(G),j,F)}removeChild(G,j){return super.removeChild(this.nodeOrShadowRoot(G),j)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ge extends he{constructor(G,j,F,we,et,kt,$t,hn){super(G,et,kt,$t),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=we,this.styles=hn?ft(hn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dt extends Ge{constructor(G,j,F,we,et,kt,$t,hn){const cn=we+"-"+F.id;super(G,j,F,et,kt,$t,hn,cn),this.contentAttr=function Ze(ne){return"_ngcontent-%COMP%".replace($e,ne)}(cn),this.hostAttr=function Ke(ne){return"_nghost-%COMP%".replace($e,ne)}(cn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,j){const F=super.createElement(G,j);return super.setAttribute(F,this.contentAttr,""),F}}let Ve=(()=>{class ne extends _e{constructor(j){super(j)}supports(j){return!0}addEventListener(j,F,we){return j.addEventListener(F,we,!1),()=>this.removeEventListener(j,F,we)}removeEventListener(j,F,we){return j.removeEventListener(F,we)}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const xe=["alt","control","meta","shift"],re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let Le=(()=>{class ne extends _e{constructor(j){super(j)}supports(j){return null!=ne.parseEventName(j)}addEventListener(j,F,we){const et=ne.parseEventName(F),kt=ne.eventCallback(et.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(j,et.domEventName,kt))}static parseEventName(j){const F=j.toLowerCase().split("."),we=F.shift();if(0===F.length||"keydown"!==we&&"keyup"!==we)return null;const et=ne._normalizeKey(F.pop());let kt="",$t=F.indexOf("code");if($t>-1&&(F.splice($t,1),kt="code."),xe.forEach(cn=>{const fn=F.indexOf(cn);fn>-1&&(F.splice(fn,1),kt+=cn+".")}),kt+=et,0!=F.length||0===et.length)return null;const hn={};return hn.domEventName=we,hn.fullKey=kt,hn}static matchEventFullKeyCode(j,F){let we=re[j.key]||j.key,et="";return F.indexOf("code.")>-1&&(we=j.code,et="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),xe.forEach(kt=>{kt!==we&&(0,De[kt])(j)&&(et+=kt+".")}),et+=we,et===F)}static eventCallback(j,F,we){return et=>{ne.matchEventFullKeyCode(et,j)&&we.runGuarded(()=>F(et))}}static _normalizeKey(j){return"esc"===j?"escape":j}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Sn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:o.bD},{provide:f.g9A,useValue:function Qt(){Se.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function En(){return(0,f.RDi)(document),document},deps:[]}]),kn=new f.OlP(""),Xt=[{provide:f.rWj,useClass:class ge{addToWindow(G){f.dqk.getAngularTestability=(F,we=!0)=>{const et=G.findTestabilityInTree(F,we);if(null==et)throw new f.vHH(5103,!1);return et},f.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(F=>{const we=f.dqk.getAllAngularTestabilities();let et=we.length,kt=!1;const $t=function(hn){kt=kt||hn,et--,0==et&&F(kt)};we.forEach(hn=>{hn.whenStable($t)})})}findTestabilityInTree(G,j,F){return null==j?null:G.getTestability(j)??(F?(0,o.q)().isShadowRoot(j)?this.findTestabilityInTree(G,j.host,!0):this.findTestabilityInTree(G,j.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Mn=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Jt(){return new f.qLn},deps:[]},{provide:$,useClass:Ve,multi:!0,deps:[o.K0,f.R0b,f.Lbi]},{provide:$,useClass:Le,multi:!0,deps:[o.K0]},Ye,Me,le,{provide:f.FYo,useExisting:Ye},{provide:o.JF,useClass:W,deps:[]},[]];let Vn=(()=>{class ne{constructor(j){}static withServerTransition(j){return{ngModule:ne,providers:[{provide:f.AFp,useValue:j.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(kn,12))};static#t=this.\u0275mod=f.oAB({type:ne});static#n=this.\u0275inj=f.cJS({providers:[...Mn,...Xt],imports:[o.ez,f.hGG]})}return ne})(),Er=(()=>{class ne{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:function(F){let we=null;return we=F?new F:function zn(){return new Er((0,f.LFG)(o.K0))}(),we},providedIn:"root"})}return ne})();typeof window<"u"&&window;let Vt=(()=>{class ne{static#e=this.\u0275fac=function(F){return new(F||ne)};static#t=this.\u0275prov=f.Yz7({token:ne,factory:function(F){let we=null;return we=F?new(F||ne):f.LFG(ke),we},providedIn:"root"})}return ne})(),ke=(()=>{class ne extends Vt{constructor(j){super(),this._doc=j}sanitize(j,F){if(null==F)return null;switch(j){case f.q3G.NONE:return F;case f.q3G.HTML:return(0,f.qzn)(F,"HTML")?(0,f.z3N)(F):(0,f.EiD)(this._doc,String(F)).toString();case f.q3G.STYLE:return(0,f.qzn)(F,"Style")?(0,f.z3N)(F):F;case f.q3G.SCRIPT:if((0,f.qzn)(F,"Script"))return(0,f.z3N)(F);throw new f.vHH(5200,!1);case f.q3G.URL:return(0,f.qzn)(F,"URL")?(0,f.z3N)(F):(0,f.mCW)(String(F));case f.q3G.RESOURCE_URL:if((0,f.qzn)(F,"ResourceURL"))return(0,f.z3N)(F);throw new f.vHH(5201,!1);default:throw new f.vHH(5202,!1)}}bypassSecurityTrustHtml(j){return(0,f.JVY)(j)}bypassSecurityTrustStyle(j){return(0,f.L6k)(j)}bypassSecurityTrustScript(j){return(0,f.eBb)(j)}bypassSecurityTrustUrl(j){return(0,f.LAX)(j)}bypassSecurityTrustResourceUrl(j){return(0,f.pB0)(j)}static#e=this.\u0275fac=function(F){return new(F||ne)(f.LFG(o.K0))};static#t=this.\u0275prov=f.Yz7({token:ne,factory:function(F){let we=null;return we=F?new F:function q(ne){return new ke(ne.get(o.K0))}(f.LFG(f.zs3)),we},providedIn:"root"})}return ne})()},3914:(an,lt,k)=>{"use strict";k.d(lt,{gz:()=>to,jw:()=>qo,m2:()=>Ki,F0:()=>Wo,rH:()=>qs,Bz:()=>Xa,lC:()=>Vi,fw:()=>qe});var f=k(5879),o=k(5592),V=k(4674),ve=k(2459),be=k(2096),ue=k(5619),ae=k(2572),ge=k(6973),W=k(5211),$=k(4829);function le(S){return new o.y(O=>{(0,$.Xf)(S()).subscribe(O)})}var _e=k(8407),pe=k(8504),Me=k(6232),Ne=k(7394),$e=k(9360),Te=k(8251);function _t(){return(0,$e.e)((S,O)=>{let w=null;S._refCount++;const N=(0,Te.x)(O,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const Q=S._connection,ye=w;w=null,Q&&(!ye||Q===ye)&&Q.unsubscribe(),O.unsubscribe()});S.subscribe(N),N.closed||(w=S.connect())})}class It extends o.y{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ne.w0;const w=this.getSubject();O.add(this.source.subscribe((0,Te.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ne.w0.EMPTY)}return O}refCount(){return _t()(this)}}var Be=k(8645),tt=k(6814),Ze=k(7398),Ke=k(4664),ft=k(8180),Ye=k(7921),he=k(2181),yt=k(1631),Pt=k(1374),yn=k(6328),mt=k(9397),Ge=k(6306),dt=k(6699),Ve=k(3572);function xe(S){return S<=0?()=>Me.E:(0,$e.e)((O,w)=>{let N=[];O.subscribe((0,Te.x)(w,Q=>{N.push(Q),S<N.length&&N.shift()},()=>{for(const Q of N)w.next(Q);w.complete()},void 0,()=>{N=null}))})}var re=k(3026),De=k(2737),ut=k(4716),Et=k(9773),Bt=k(7537),Qt=k(6593);const Jt="primary",En=Symbol("RouteTitle");class Bn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Sn(S){return new Bn(S)}function kn(S,O,w){const N=w.path.split("/");if(N.length>S.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<S.length))return null;const Q={};for(let ye=0;ye<N.length;ye++){const He=N[ye],Mt=S[ye];if(He.startsWith(":"))Q[He.substring(1)]=Mt;else if(He!==Mt.path)return null}return{consumed:S.slice(0,N.length),posParams:Q}}function Mn(S,O){const w=S?Object.keys(S):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let Q;for(let ye=0;ye<w.length;ye++)if(Q=w[ye],!Vn(S[Q],O[Q]))return!1;return!0}function Vn(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const w=[...S].sort(),N=[...O].sort();return w.every((Q,ye)=>N[ye]===Q)}return S===O}function Gn(S){return S.length>0?S[S.length-1]:null}function un(S){return function Se(S){return!!S&&(S instanceof o.y||(0,V.m)(S.lift)&&(0,V.m)(S.subscribe))}(S)?S:(0,f.QGY)(S)?(0,ve.D)(Promise.resolve(S)):(0,be.of)(S)}const pi={exact:function Zt(S,O,w){if(!gi(S.segments,O.segments)||!Zr(S.segments,O.segments,w)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!S.children[N]||!Zt(S.children[N],O.children[N],w))return!1;return!0},subset:Kn},zn={exact:function nr(S,O){return Mn(S,O)},subset:function Cn(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(w=>Vn(S[w],O[w]))},ignored:()=>!0};function Er(S,O,w){return pi[w.paths](S.root,O.root,w.matrixParams)&&zn[w.queryParams](S.queryParams,O.queryParams)&&!("exact"===w.fragment&&S.fragment!==O.fragment)}function Kn(S,O,w){return Fn(S,O,O.segments,w)}function Fn(S,O,w,N){if(S.segments.length>w.length){const Q=S.segments.slice(0,w.length);return!(!gi(Q,w)||O.hasChildren()||!Zr(Q,w,N))}if(S.segments.length===w.length){if(!gi(S.segments,w)||!Zr(S.segments,w,N))return!1;for(const Q in O.children)if(!S.children[Q]||!Kn(S.children[Q],O.children[Q],N))return!1;return!0}{const Q=w.slice(0,S.segments.length),ye=w.slice(S.segments.length);return!!(gi(S.segments,Q)&&Zr(S.segments,Q,N)&&S.children[Jt])&&Fn(S.children[Jt],O,ye,N)}}function Zr(S,O,w){return O.every((N,Q)=>zn[w](S[Q].parameters,N.parameters))}class Br{constructor(O=new Xn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sn(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class Xn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ar(this)}}class Qn{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Sn(this.parameters)),this._parameterMap}toString(){return ur(this)}}function gi(S,O){return S.length===O.length&&S.every((w,N)=>w.path===O[N].path)}let Gr=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return new rr},providedIn:"root"})}return S})();class rr{parse(O){const w=new $t(O);return new Br(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Vt(O.root,!0)}`,N=function sn(S){const O=Object.keys(S).map(w=>{const N=S[w];return Array.isArray(N)?N.map(Q=>`${ke(w)}=${ke(Q)}`).join("&"):`${ke(w)}=${ke(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function bt(S){return encodeURI(S)}(O.fragment)}`:""}`}}const Sr=new rr;function Ar(S){return S.segments.map(O=>ur(O)).join("/")}function Vt(S,O){if(!S.hasChildren())return Ar(S);if(O){const w=S.children[Jt]?Vt(S.children[Jt],!1):"",N=[];return Object.entries(S.children).forEach(([Q,ye])=>{Q!==Jt&&N.push(`${Q}:${Vt(ye,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function In(S,O){let w=[];return Object.entries(S.children).forEach(([N,Q])=>{N===Jt&&(w=w.concat(O(Q,N)))}),Object.entries(S.children).forEach(([N,Q])=>{N!==Jt&&(w=w.concat(O(Q,N)))}),w}(S,(N,Q)=>Q===Jt?[Vt(S.children[Jt],!1)]:[`${Q}:${Vt(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Jt]?`${Ar(S)}/${w[0]}`:`${Ar(S)}/(${w.join("//")})`}}function q(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(S){return q(S).replace(/%3B/gi,";")}function on(S){return q(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function er(S){return decodeURIComponent(S)}function Jr(S){return er(S.replace(/\+/g,"%20"))}function ur(S){return`${on(S.path)}${function Pi(S){return Object.keys(S).map(O=>`;${on(O)}=${on(S[O])}`).join("")}(S.parameters)}`}const Ie=/^[^\/()?;#]+/;function ne(S){const O=S.match(Ie);return O?O[0]:""}const G=/^[^\/()?;=#]+/,F=/^[^=?&#]+/,et=/^[^&#]+/;class $t{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Jt]=new Xn(O,w)),N}parseSegment(){const O=ne(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Qn(er(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function j(S){const O=S.match(G);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Q=ne(this.remaining);Q&&(N=Q,this.capture(N))}O[er(w)]=er(N)}parseQueryParam(O){const w=function we(S){const O=S.match(F);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const He=function kt(S){const O=S.match(et);return O?O[0]:""}(this.remaining);He&&(N=He,this.capture(N))}const Q=Jr(w),ye=Jr(N);if(O.hasOwnProperty(Q)){let He=O[Q];Array.isArray(He)||(He=[He],O[Q]=He),He.push(ye)}else O[Q]=ye}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ne(this.remaining),Q=this.remaining[N.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new f.vHH(4010,!1);let ye;N.indexOf(":")>-1?(ye=N.slice(0,N.indexOf(":")),this.capture(ye),this.capture(":")):O&&(ye=Jt);const He=this.parseChildren();w[ye]=1===Object.keys(He).length?He[Jt]:new Xn([],He),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function hn(S){return S.segments.length>0?new Xn([],{[Jt]:S}):S}function cn(S){const O={};for(const N of Object.keys(S.children)){const ye=cn(S.children[N]);if(N===Jt&&0===ye.segments.length&&ye.hasChildren())for(const[He,Mt]of Object.entries(ye.children))O[He]=Mt;else(ye.segments.length>0||ye.hasChildren())&&(O[N]=ye)}return function fn(S){if(1===S.numberOfChildren&&S.children[Jt]){const O=S.children[Jt];return new Xn(S.segments.concat(O.segments),O.children)}return S}(new Xn(S.segments,O))}function dr(S){return S instanceof Br}function Qe(S){let O;const Q=hn(function w(ye){const He={};for(const xt of ye.children){const Dn=w(xt);He[xt.outlet]=Dn}const Mt=new Xn(ye.url,He);return ye===S&&(O=Mt),Mt}(S.root));return O??Q}function it(S,O,w,N){let Q=S;for(;Q.parent;)Q=Q.parent;if(0===O.length)return Tn(Q,Q,Q,w,N);const ye=function bn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Ir(!0,0,S);let O=0,w=!1;const N=S.reduce((Q,ye,He)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const Mt={};return Object.entries(ye.outlets).forEach(([xt,Dn])=>{Mt[xt]="string"==typeof Dn?Dn.split("/"):Dn}),[...Q,{outlets:Mt}]}if(ye.segmentPath)return[...Q,ye.segmentPath]}return"string"!=typeof ye?[...Q,ye]:0===He?(ye.split("/").forEach((Mt,xt)=>{0==xt&&"."===Mt||(0==xt&&""===Mt?w=!0:".."===Mt?O++:""!=Mt&&Q.push(Mt))}),Q):[...Q,ye]},[]);return new Ir(w,O,N)}(O);if(ye.toRoot())return Tn(Q,Q,new Xn([],{}),w,N);const He=function go(S,O,w){if(S.isAbsolute)return new li(O,!0,0);if(!w)return new li(O,!1,NaN);if(null===w.parent)return new li(w,!0,0);const N=jt(S.commands[0])?0:1;return function Wi(S,O,w){let N=S,Q=O,ye=w;for(;ye>Q;){if(ye-=Q,N=N.parent,!N)throw new f.vHH(4005,!1);Q=N.segments.length}return new li(N,!1,Q-ye)}(w,w.segments.length-1+N,S.numberOfDoubleDots)}(ye,Q,S),Mt=He.processChildren?Or(He.segmentGroup,He.index,ye.commands):ki(He.segmentGroup,He.index,ye.commands);return Tn(Q,He.segmentGroup,Mt,w,N)}function jt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function en(S){return"object"==typeof S&&null!=S&&S.outlets}function Tn(S,O,w,N,Q){let He,ye={};N&&Object.entries(N).forEach(([xt,Dn])=>{ye[xt]=Array.isArray(Dn)?Dn.map(kr=>`${kr}`):`${Dn}`}),He=S===O?w:dn(S,O,w);const Mt=hn(cn(He));return new Br(Mt,ye,Q)}function dn(S,O,w){const N={};return Object.entries(S.children).forEach(([Q,ye])=>{N[Q]=ye===O?w:dn(ye,O,w)}),new Xn(S.segments,N)}class Ir{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&jt(N[0]))throw new f.vHH(4003,!1);const Q=N.find(en);if(Q&&Q!==Gn(N))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class li{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function ki(S,O,w){if(S||(S=new Xn([],{})),0===S.segments.length&&S.hasChildren())return Or(S,O,w);const N=function pr(S,O,w){let N=0,Q=O;const ye={match:!1,pathIndex:0,commandIndex:0};for(;Q<S.segments.length;){if(N>=w.length)return ye;const He=S.segments[Q],Mt=w[N];if(en(Mt))break;const xt=`${Mt}`,Dn=N<w.length-1?w[N+1]:null;if(Q>0&&void 0===xt)break;if(xt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Ci(xt,Dn,He))return ye;N+=2}else{if(!Ci(xt,{},He))return ye;N++}Q++}return{match:!0,pathIndex:Q,commandIndex:N}}(S,O,w),Q=w.slice(N.commandIndex);if(N.match&&N.pathIndex<S.segments.length){const ye=new Xn(S.segments.slice(0,N.pathIndex),{});return ye.children[Jt]=new Xn(S.segments.slice(N.pathIndex),S.children),Or(ye,0,Q)}return N.match&&0===Q.length?new Xn(S.segments,{}):N.match&&!S.hasChildren()?sr(S,O,w):N.match?Or(S,0,Q):sr(S,O,w)}function Or(S,O,w){if(0===w.length)return new Xn(S.segments,{});{const N=function co(S){return en(S[0])?S[0].outlets:{[Jt]:S}}(w),Q={};if(Object.keys(N).some(ye=>ye!==Jt)&&S.children[Jt]&&1===S.numberOfChildren&&0===S.children[Jt].segments.length){const ye=Or(S.children[Jt],O,w);return new Xn(S.segments,ye.children)}return Object.entries(N).forEach(([ye,He])=>{"string"==typeof He&&(He=[He]),null!==He&&(Q[ye]=ki(S.children[ye],O,He))}),Object.entries(S.children).forEach(([ye,He])=>{void 0===N[ye]&&(Q[ye]=He)}),new Xn(S.segments,Q)}}function sr(S,O,w){const N=S.segments.slice(0,O);let Q=0;for(;Q<w.length;){const ye=w[Q];if(en(ye)){const xt=bo(ye.outlets);return new Xn(N,xt)}if(0===Q&&jt(w[0])){N.push(new Qn(S.segments[O].path,mo(w[0]))),Q++;continue}const He=en(ye)?ye.outlets[Jt]:`${ye}`,Mt=Q<w.length-1?w[Q+1]:null;He&&Mt&&jt(Mt)?(N.push(new Qn(He,mo(Mt))),Q+=2):(N.push(new Qn(He,{})),Q++)}return new Xn(N,{})}function bo(S){const O={};return Object.entries(S).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=sr(new Xn([],{}),0,N))}),O}function mo(S){const O={};return Object.entries(S).forEach(([w,N])=>O[w]=`${N}`),O}function Ci(S,O,w){return S==w.path&&Mn(O,w.parameters)}const gr="imperative";class xi{constructor(O,w){this.id=O,this.url=w}}class mi extends xi{constructor(O,w,N="imperative",Q=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends xi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qr extends xi{constructor(O,w,N,Q){super(O,w),this.reason=N,this.code=Q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends xi{constructor(O,w,N,Q){super(O,w),this.reason=N,this.code=Q,this.type=16}}class _o extends xi{constructor(O,w,N,Q){super(O,w),this.error=N,this.target=Q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends xi{constructor(O,w,N,Q){super(O,w),this.urlAfterRedirects=N,this.state=Q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends xi{constructor(O,w,N,Q){super(O,w),this.urlAfterRedirects=N,this.state=Q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends xi{constructor(O,w,N,Q,ye){super(O,w),this.urlAfterRedirects=N,this.state=Q,this.shouldActivate=ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hs extends xi{constructor(O,w,N,Q){super(O,w),this.urlAfterRedirects=N,this.state=Q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends xi{constructor(O,w,N,Q){super(O,w),this.urlAfterRedirects=N,this.state=Q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class As{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ko{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class os{}class Co{constructor(O){this.url=O}}class vo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mo,this.attachRef=null}}let Mo=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const Q=this.getOrCreateContext(w);Q.outlet=N,this.contexts.set(w,Q)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new vo,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class Jo{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Hi(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Hi(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=ss(O,this._root);return w.length<2?[]:w[w.length-2].children.map(Q=>Q.value).filter(Q=>Q!==O)}pathFromRoot(O){return ss(O,this._root).map(w=>w.value)}}function Hi(S,O){if(S===O.value)return O;for(const w of O.children){const N=Hi(S,w);if(N)return N}return null}function ss(S,O){if(S===O.value)return[O];for(const w of O.children){const N=ss(S,w);if(N.length)return N.unshift(O),N}return[]}class qn{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function ei(S){const O={};return S&&S.children.forEach(w=>O[w.value.outlet]=w),O}class ni extends Jo{constructor(O,w){super(O),this.snapshot=w,jr(this,O)}toString(){return this.snapshot.toString()}}function zi(S,O){const w=function Wr(S,O){const He=new no([],{},{},"",{},Jt,O,null,{});return new To("",new qn(He,[]))}(0,O),N=new ue.X([new Qn("",{})]),Q=new ue.X({}),ye=new ue.X({}),He=new ue.X({}),Mt=new ue.X(""),xt=new to(N,Q,He,Mt,ye,Jt,O,w.root);return xt.snapshot=w.root,new ni(new qn(xt,[]),w)}class to{constructor(O,w,N,Q,ye,He,Mt,xt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=Q,this.dataSubject=ye,this.outlet=He,this.component=Mt,this._futureSnapshot=xt,this.title=this.dataSubject?.pipe((0,Ze.U)(Dn=>Dn[En]))??(0,be.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=Q,this.data=ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(O=>Sn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(O=>Sn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $i(S,O="emptyOnly"){const w=S.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const Q=w[N],ye=w[N-1];if(Q.routeConfig&&""===Q.routeConfig.path)N--;else{if(ye.component)break;N--}}return function as(S){return S.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class no{get title(){return this.data?.[En]}constructor(O,w,N,Q,ye,He,Mt,xt,Dn){this.url=O,this.params=w,this.queryParams=N,this.fragment=Q,this.data=ye,this.outlet=He,this.component=Mt,this.routeConfig=xt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class To extends Jo{constructor(O,w){super(w),this.url=O,jr(this,w)}toString(){return mn(this._root)}}function jr(S,O){O.value._routerState=S,O.children.forEach(w=>jr(S,w))}function mn(S){const O=S.children.length>0?` { ${S.children.map(mn).join(", ")} } `:"";return`${S.value}${O}`}function Yn(S){if(S.snapshot){const O=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Mn(O.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Mn(O.params,w.params)||S.paramsSubject.next(w.params),function Xt(S,O){if(S.length!==O.length)return!1;for(let w=0;w<S.length;++w)if(!Mn(S[w],O[w]))return!1;return!0}(O.url,w.url)||S.urlSubject.next(w.url),Mn(O.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Mr(S,O){const w=Mn(S.params,O.params)&&function Lr(S,O){return gi(S,O)&&S.every((w,N)=>Mn(w.parameters,O[N].parameters))}(S.url,O.url);return w&&!(!S.parent!=!O.parent)&&(!S.parent||Mr(S.parent,O.parent))}let Vi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Mo),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:Q}=w.name;if(N)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=w;const Q=this.location,He=w.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ii(w,Mt,Q.injector);this.activated=Q.createComponent(He,{index:Q.length,injector:xt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]})}return S})();class Ii{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===to?this.route:O===Mo?this.childContexts:this.parent.get(O,w)}}const ci=new f.OlP("");let Ti=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,Q=(0,ae.a)([N.queryParams,N.params,N.data]).pipe((0,Ke.w)(([ye,He,Mt],xt)=>(Mt={...ye,...He,...Mt},0===xt?(0,be.of)(Mt):Promise.resolve(Mt)))).subscribe(ye=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const He=(0,f.qFp)(N.component);if(He)for(const{templateName:Mt}of He.inputs)w.activatedComponentRef.setInput(Mt,ye[Mt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,Q)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function Yi(S,O,w){if(w&&S.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const Q=function Ji(S,O,w){return O.children.map(N=>{for(const Q of w.children)if(S.shouldReuseRoute(N.value,Q.value.snapshot))return Yi(S,N,Q);return Yi(S,N)})}(S,O,w);return new qn(N,Q)}{if(S.shouldAttach(O.value)){const ye=S.retrieve(O.value);if(null!==ye){const He=ye.route;return He.value._futureSnapshot=O.value,He.children=O.children.map(Mt=>Yi(S,Mt)),He}}const N=function ir(S){return new to(new ue.X(S.url),new ue.X(S.params),new ue.X(S.queryParams),new ue.X(S.fragment),new ue.X(S.data),S.outlet,S.component,S)}(O.value),Q=O.children.map(ye=>Yi(S,ye));return new qn(N,Q)}}const yo="ngNavigationCancelingError";function Nr(S,O){const{redirectTo:w,navigationBehaviorOptions:N}=dr(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,Q=oe(!1,0,O);return Q.url=w,Q.navigationBehaviorOptions=N,Q}function oe(S,O,w){const N=new Error("NavigationCancelingError: "+(S||""));return N[yo]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Ue(S){return S&&S[yo]}let qe=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275cmp=f.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(N,Q){1&N&&f._UZ(0,"router-outlet")},dependencies:[Vi],encapsulation:2})}return S})();function Kr(S){const O=S.children&&S.children.map(Kr),w=O?{...S,children:O}:{...S};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Jt&&(w.component=qe),w}function Vr(S){return S.outlet||Jt}function Qr(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let O=S.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class br{constructor(O,w,N,Q,ye){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=Q,this.inputBindingEnabled=ye}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Yn(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const Q=ei(w);O.children.forEach(ye=>{const He=ye.value.outlet;this.deactivateRoutes(ye,Q[He],N),delete Q[He]}),Object.values(Q).forEach(ye=>{this.deactivateRouteAndItsChildren(ye,N)})}deactivateRoutes(O,w,N){const Q=O.value,ye=w?w.value:null;if(Q===ye)if(Q.component){const He=N.getContext(Q.outlet);He&&this.deactivateChildRoutes(O,w,He.children)}else this.deactivateChildRoutes(O,w,N);else ye&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),Q=N&&O.value.component?N.children:w,ye=ei(O);for(const He of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[He],Q);if(N&&N.outlet){const He=N.outlet.detach(),Mt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:He,route:O,contexts:Mt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),Q=N&&O.value.component?N.children:w,ye=ei(O);for(const He of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[He],Q);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const Q=ei(w);O.children.forEach(ye=>{this.activateRoutes(ye,Q[ye.value.outlet],N),this.forwardEvent(new qo(ye.value.snapshot))}),O.children.length&&this.forwardEvent(new Li(O.value.snapshot))}activateRoutes(O,w,N){const Q=O.value,ye=w?w.value:null;if(Yn(Q),Q===ye)if(Q.component){const He=N.getOrCreateContext(Q.outlet);this.activateChildRoutes(O,w,He.children)}else this.activateChildRoutes(O,w,N);else if(Q.component){const He=N.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const Mt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),He.children.onOutletReAttached(Mt.contexts),He.attachRef=Mt.componentRef,He.route=Mt.route.value,He.outlet&&He.outlet.attach(Mt.componentRef,Mt.route.value),Yn(Mt.route.value),this.activateChildRoutes(O,null,He.children)}else{const Mt=Qr(Q.snapshot);He.attachRef=null,He.route=Q,He.injector=Mt,He.outlet&&He.outlet.activateWith(Q,He.injector),this.activateChildRoutes(O,null,He.children)}}else this.activateChildRoutes(O,null,N)}}class Ce{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class je{constructor(O,w){this.component=O,this.route=w}}function st(S,O,w){const N=S._root;return An(N,O?O._root:null,w,[N.value])}function Kt(S,O){const w=Symbol(),N=O.get(S,w);return N===w?"function"!=typeof S||(0,f.Z0I)(S)?O.get(S):S:N}function An(S,O,w,N,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ye=ei(O);return S.children.forEach(He=>{(function Rn(S,O,w,N,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ye=S.value,He=O?O.value:null,Mt=w?w.getContext(S.value.outlet):null;if(He&&ye.routeConfig===He.routeConfig){const xt=function hr(S,O,w){if("function"==typeof w)return w(S,O);switch(w){case"pathParamsChange":return!gi(S.url,O.url);case"pathParamsOrQueryParamsChange":return!gi(S.url,O.url)||!Mn(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(S,O)||!Mn(S.queryParams,O.queryParams);default:return!Mr(S,O)}}(He,ye,ye.routeConfig.runGuardsAndResolvers);xt?Q.canActivateChecks.push(new Ce(N)):(ye.data=He.data,ye._resolvedData=He._resolvedData),An(S,O,ye.component?Mt?Mt.children:null:w,N,Q),xt&&Mt&&Mt.outlet&&Mt.outlet.isActivated&&Q.canDeactivateChecks.push(new je(Mt.outlet.component,He))}else He&&Jn(O,Mt,Q),Q.canActivateChecks.push(new Ce(N)),An(S,null,ye.component?Mt?Mt.children:null:w,N,Q)})(He,ye[He.value.outlet],w,N.concat([He.value]),Q),delete ye[He.value.outlet]}),Object.entries(ye).forEach(([He,Mt])=>Jn(Mt,w.getContext(He),Q)),Q}function Jn(S,O,w){const N=ei(S),Q=S.value;Object.entries(N).forEach(([ye,He])=>{Jn(He,Q.component?O?O.children.getContext(ye):null:O,w)}),w.canDeactivateChecks.push(new je(Q.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,Q))}function Cr(S){return"function"==typeof S}function Dr(S){return S instanceof ge.K||"EmptyError"===S?.name}const wo=Symbol("INITIAL_VALUE");function wi(){return(0,Ke.w)(S=>(0,ae.a)(S.map(O=>O.pipe((0,ft.q)(1),(0,Ye.O)(wo)))).pipe((0,Ze.U)(O=>{for(const w of O)if(!0!==w){if(w===wo)return wo;if(!1===w||w instanceof Br)return w}return!0}),(0,he.h)(O=>O!==wo),(0,ft.q)(1)))}function ps(S){return(0,_e.z)((0,mt.b)(O=>{if(dr(O))throw Nr(0,O)}),(0,Ze.U)(O=>!0===O))}class Po{constructor(O){this.segmentGroup=O||null}}class Gu{constructor(O){this.urlTree=O}}function Yr(S){return(0,pe._)(new Po(S))}function ha(S){return(0,pe._)(new Gu(S))}class Bo{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new f.vHH(4002,!1)}lineralizeSegments(O,w){let N=[],Q=w.root;for(;;){if(N=N.concat(Q.segments),0===Q.numberOfChildren)return(0,be.of)(N);if(Q.numberOfChildren>1||!Q.children[Jt])return(0,pe._)(new f.vHH(4e3,!1));Q=Q.children[Jt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,Q){const ye=this.createSegmentGroup(O,w.root,N,Q);return new Br(ye,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([Q,ye])=>{if("string"==typeof ye&&ye.startsWith(":")){const Mt=ye.substring(1);N[Q]=w[Mt]}else N[Q]=ye}),N}createSegmentGroup(O,w,N,Q){const ye=this.createSegments(O,w.segments,N,Q);let He={};return Object.entries(w.children).forEach(([Mt,xt])=>{He[Mt]=this.createSegmentGroup(O,xt,N,Q)}),new Xn(ye,He)}createSegments(O,w,N,Q){return w.map(ye=>ye.path.startsWith(":")?this.findPosParam(O,ye,Q):this.findOrReturn(ye,N))}findPosParam(O,w,N){const Q=N[w.path.substring(1)];if(!Q)throw new f.vHH(4001,!1);return Q}findOrReturn(O,w){let N=0;for(const Q of w){if(Q.path===O.path)return w.splice(N),Q;N++}return O}}const bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ms(S,O,w,N,Q){const ye=Pa(S,O,w);return ye.matched?(N=function pt(S,O){return S.providers&&!S._injector&&(S._injector=(0,f.MMx)(S.providers,O,`Route: ${S.path}`)),S._injector??O}(O,N),function gs(S,O,w,N){const Q=O.canMatch;if(!Q||0===Q.length)return(0,be.of)(!0);const ye=Q.map(He=>{const Mt=Kt(He,S);return un(function Ee(S){return S&&Cr(S.canMatch)}(Mt)?Mt.canMatch(O,w):S.runInContext(()=>Mt(O,w)))});return(0,be.of)(ye).pipe(wi(),ps())}(N,O,w).pipe((0,Ze.U)(He=>!0===He?ye:{...bs}))):(0,be.of)(ye)}function Pa(S,O,w){if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||w.length>0)?{...bs}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const Q=(O.matcher||kn)(w,S,O);if(!Q)return{...bs};const ye={};Object.entries(Q.posParams??{}).forEach(([Mt,xt])=>{ye[Mt]=xt.path});const He=Q.consumed.length>0?{...ye,...Q.consumed[Q.consumed.length-1].parameters}:ye;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:w.slice(Q.consumed.length),parameters:He,positionalParamSegments:Q.posParams??{}}}function xa(S,O,w,N){return w.length>0&&function fl(S,O,w){return w.some(N=>fa(S,O,N)&&Vr(N)!==Jt)}(S,w,N)?{segmentGroup:new Xn(O,Sc(N,new Xn(w,S.children))),slicedSegments:[]}:0===w.length&&function Mc(S,O,w){return w.some(N=>fa(S,O,N))}(S,w,N)?{segmentGroup:new Xn(S.segments,yr(S,0,w,N,S.children)),slicedSegments:w}:{segmentGroup:new Xn(S.segments,S.children),slicedSegments:w}}function yr(S,O,w,N,Q){const ye={};for(const He of N)if(fa(S,w,He)&&!Q[Vr(He)]){const Mt=new Xn([],{});ye[Vr(He)]=Mt}return{...Q,...ye}}function Sc(S,O){const w={};w[Jt]=O;for(const N of S)if(""===N.path&&Vr(N)!==Jt){const Q=new Xn([],{});w[Vr(N)]=Q}return w}function fa(S,O,w){return(!(S.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class pl{constructor(O,w,N,Q,ye,He,Mt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=Q,this.urlTree=ye,this.paramsInheritanceStrategy=He,this.urlSerializer=Mt,this.allowRedirects=!0,this.applyRedirects=new Bo(this.urlSerializer,this.urlTree)}noMatchError(O){return new f.vHH(4002,!1)}recognize(){const O=xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Jt).pipe((0,Ge.K)(w=>{if(w instanceof Gu)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Po?this.noMatchError(w):w}),(0,Ze.U)(w=>{const N=new no([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),Q=new qn(N,w),ye=new To("",Q),He=function rt(S,O,w=null,N=null){return it(Qe(S),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return He.queryParams=this.urlTree.queryParams,ye.url=this.urlSerializer.serialize(He),this.inheritParamsAndData(ye._root),{state:ye,tree:He}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Jt).pipe((0,Ge.K)(N=>{throw N instanceof Po?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=$i(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(O,w,N,Q){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,Q,!0)}processChildren(O,w,N){const Q=[];for(const ye of Object.keys(N.children))"primary"===ye?Q.unshift(ye):Q.push(ye);return(0,ve.D)(Q).pipe((0,yn.b)(ye=>{const He=N.children[ye],Mt=function hi(S,O){const w=S.filter(N=>Vr(N)===O);return w.push(...S.filter(N=>Vr(N)!==O)),w}(w,ye);return this.processSegmentGroup(O,Mt,He,ye)}),(0,dt.R)((ye,He)=>(ye.push(...He),ye)),(0,Ve.d)(null),function Le(S,O){const w=arguments.length>=2;return N=>N.pipe(S?(0,he.h)((Q,ye)=>S(Q,ye,N)):De.y,xe(1),w?(0,Ve.d)(O):(0,re.T)(()=>new ge.K))}(),(0,yt.z)(ye=>{if(null===ye)return Yr(N);const He=Zs(ye);return function gl(S){S.sort((O,w)=>O.value.outlet===Jt?-1:w.value.outlet===Jt?1:O.value.outlet.localeCompare(w.value.outlet))}(He),(0,be.of)(He)}))}processSegment(O,w,N,Q,ye,He){return(0,ve.D)(w).pipe((0,yn.b)(Mt=>this.processSegmentAgainstRoute(Mt._injector??O,w,Mt,N,Q,ye,He).pipe((0,Ge.K)(xt=>{if(xt instanceof Po)return(0,be.of)(null);throw xt}))),(0,Pt.P)(Mt=>!!Mt),(0,Ge.K)(Mt=>{if(Dr(Mt))return function $s(S,O,w){return 0===O.length&&!S.children[w]}(N,Q,ye)?(0,be.of)([]):Yr(N);throw Mt}))}processSegmentAgainstRoute(O,w,N,Q,ye,He,Mt){return function zs(S,O,w,N){return!!(Vr(S)===N||N!==Jt&&fa(O,w,S))&&("**"===S.path||Pa(O,S,w).matched)}(N,Q,ye,He)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,Q,N,ye,He,Mt):Mt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,Q,w,N,ye,He):Yr(Q):Yr(Q)}expandSegmentAgainstRouteUsingRedirect(O,w,N,Q,ye,He){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,Q,He):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,Q,ye,He)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,Q){const ye=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ha(ye):this.applyRedirects.lineralizeSegments(N,ye).pipe((0,yt.z)(He=>{const Mt=new Xn(He,{});return this.processSegment(O,w,Mt,He,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,Q,ye,He){const{matched:Mt,consumedSegments:xt,remainingSegments:Dn,positionalParamSegments:kr}=Pa(w,Q,ye);if(!Mt)return Yr(w);const vi=this.applyRedirects.applyRedirectCommands(xt,Q.redirectTo,kr);return Q.redirectTo.startsWith("/")?ha(vi):this.applyRedirects.lineralizeSegments(Q,vi).pipe((0,yt.z)(Rr=>this.processSegment(O,N,w,Rr.concat(Dn),He,!1)))}matchSegmentAgainstRoute(O,w,N,Q,ye,He){let Mt;if("**"===N.path){const xt=Q.length>0?Gn(Q).parameters:{},Dn=new no(Q,xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ps(N),Vr(N),N.component??N._loadedComponent??null,N,ml(N));Mt=(0,be.of)({snapshot:Dn,consumedSegments:[],remainingSegments:[]}),w.children={}}else Mt=Ms(w,N,Q,O).pipe((0,Ze.U)(({matched:xt,consumedSegments:Dn,remainingSegments:kr,parameters:vi})=>xt?{snapshot:new no(Dn,vi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ps(N),Vr(N),N.component??N._loadedComponent??null,N,ml(N)),consumedSegments:Dn,remainingSegments:kr}:null));return Mt.pipe((0,Ke.w)(xt=>null===xt?Yr(w):this.getChildConfig(O=N._injector??O,N,Q).pipe((0,Ke.w)(({routes:Dn})=>{const kr=N._loadedInjector??O,{snapshot:vi,consumedSegments:Rr,remainingSegments:$o}=xt,{segmentGroup:ms,slicedSegments:ks}=xa(w,Rr,$o,Dn);if(0===ks.length&&ms.hasChildren())return this.processChildren(kr,Dn,ms).pipe((0,Ze.U)(Fs=>null===Fs?null:[new qn(vi,Fs)]));if(0===Dn.length&&0===ks.length)return(0,be.of)([new qn(vi,[])]);const _a=Vr(N)===ye;return this.processSegment(kr,Dn,ms,ks,_a?Jt:ye,!0).pipe((0,Ze.U)(Fs=>[new qn(vi,Fs)]))}))))}getChildConfig(O,w,N){return w.children?(0,be.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,be.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function wc(S,O,w,N){const Q=O.canLoad;if(void 0===Q||0===Q.length)return(0,be.of)(!0);const ye=Q.map(He=>{const Mt=Kt(He,S);return un(function Fo(S){return S&&Cr(S.canLoad)}(Mt)?Mt.canLoad(O,w):S.runInContext(()=>Mt(O,w)))});return(0,be.of)(ye).pipe(wi(),ps())}(O,w,N).pipe((0,yt.z)(Q=>Q?this.configLoader.loadChildren(O,w).pipe((0,mt.b)(ye=>{w._loadedRoutes=ye.routes,w._loadedInjector=ye.injector})):function Dc(S){return(0,pe._)(oe(!1,3))}())):(0,be.of)({routes:[],injector:O})}}function Pc(S){const O=S.value.routeConfig;return O&&""===O.path}function Zs(S){const O=[],w=new Set;for(const N of S){if(!Pc(N)){O.push(N);continue}const Q=O.find(ye=>N.value.routeConfig===ye.value.routeConfig);void 0!==Q?(Q.children.push(...N.children),w.add(Q)):O.push(N)}for(const N of w){const Q=Zs(N.children);O.push(new qn(N.value,Q))}return O.filter(N=>!w.has(N))}function Ps(S){return S.data||{}}function ml(S){return S.resolve||{}}function Ri(S){return"string"==typeof S.title||null===S.title}function x(S){return(0,Ke.w)(O=>{const w=S(O);return w?(0,ve.D)(w).pipe((0,Ze.U)(()=>O)):(0,be.of)(O)})}const ce=new f.OlP("ROUTES");let z=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,be.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=un(w.loadComponent()).pipe((0,Ze.U)(Nt),(0,mt.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ye}),(0,ut.x)(()=>{this.componentLoaders.delete(w)})),Q=new It(N,()=>new Be.x).pipe(_t());return this.componentLoaders.set(w,Q),Q}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,be.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ye=function se(S,O,w,N){return un(S.loadChildren()).pipe((0,Ze.U)(Nt),(0,yt.z)(Q=>Q instanceof f.YKP||Array.isArray(Q)?(0,be.of)(Q):(0,ve.D)(O.compileModuleAsync(Q))),(0,Ze.U)(Q=>{N&&N(S);let ye,He,Mt=!1;return Array.isArray(Q)?(He=Q,!0):(ye=Q.create(w).injector,He=ye.get(ce,[],{optional:!0,self:!0}).flat()),{routes:He.map(Kr),injector:ye}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,ut.x)(()=>{this.childrenLoaders.delete(N)})),He=new It(ye,()=>new Be.x).pipe(_t());return this.childrenLoaders.set(N,He),He}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Nt(S){return function ze(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ht=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be.x,this.transitionAbortSubject=new Be.x,this.configLoader=(0,f.f3M)(z),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Gr),this.rootContexts=(0,f.f3M)(Mo),this.inputBindingEnabled=null!==(0,f.f3M)(ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,be.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Q=>this.events.next(new As(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new Xr(Q))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,Q){return this.transitions=new ue.X({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gr,restoredState:null,currentSnapshot:Q.snapshot,targetSnapshot:null,currentRouterState:Q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.h)(ye=>0!==ye.id),(0,Ze.U)(ye=>({...ye,extractedUrl:w.urlHandlingStrategy.extract(ye.rawUrl)})),(0,Ke.w)(ye=>{this.currentTransition=ye;let He=!1,Mt=!1;return(0,be.of)(ye).pipe((0,mt.b)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ke.w)(xt=>{const Dn=xt.currentBrowserUrl.toString(),kr=!w.navigated||xt.extractedUrl.toString()!==Dn||Dn!==xt.currentUrlTree.toString();if(!kr&&"reload"!==(xt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Rr="";return this.events.next(new Uo(xt.id,this.urlSerializer.serialize(xt.rawUrl),Rr,0)),xt.resolve(null),Me.E}if(w.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return(0,be.of)(xt).pipe((0,Ke.w)(Rr=>{const $o=this.transitions?.getValue();return this.events.next(new mi(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),Rr.source,Rr.restoredState)),$o!==this.transitions?.getValue()?Me.E:Promise.resolve(Rr)}),function Ra(S,O,w,N,Q,ye){return(0,yt.z)(He=>function pa(S,O,w,N,Q,ye,He="emptyOnly"){return new pl(S,O,w,N,Q,He,ye).recognize()}(S,O,w,N,He.extractedUrl,Q,ye).pipe((0,Ze.U)(({state:Mt,tree:xt})=>({...He,targetSnapshot:Mt,urlAfterRedirects:xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,mt.b)(Rr=>{ye.targetSnapshot=Rr.targetSnapshot,ye.urlAfterRedirects=Rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rr.urlAfterRedirects};const $o=new ji(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next($o)}));if(kr&&w.urlHandlingStrategy.shouldProcessUrl(xt.currentRawUrl)){const{id:Rr,extractedUrl:$o,source:ms,restoredState:ks,extras:_a}=xt,Fs=new mi(Rr,this.urlSerializer.serialize($o),ms,ks);this.events.next(Fs);const tc=zi(0,this.rootComponentType).snapshot;return this.currentTransition=ye={...xt,targetSnapshot:tc,urlAfterRedirects:$o,extras:{..._a,skipLocationChange:!1,replaceUrl:!1}},(0,be.of)(ye)}{const Rr="";return this.events.next(new Uo(xt.id,this.urlSerializer.serialize(xt.extractedUrl),Rr,1)),xt.resolve(null),Me.E}}),(0,mt.b)(xt=>{const Dn=new Go(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(Dn)}),(0,Ze.U)(xt=>(this.currentTransition=ye={...xt,guards:st(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)},ye)),function Da(S,O){return(0,yt.z)(w=>{const{targetSnapshot:N,currentSnapshot:Q,guards:{canActivateChecks:ye,canDeactivateChecks:He}}=w;return 0===He.length&&0===ye.length?(0,be.of)({...w,guardsResult:!0}):function Wl(S,O,w,N){return(0,ve.D)(S).pipe((0,yt.z)(Q=>function da(S,O,w,N,Q){const ye=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,be.of)(!0);const He=ye.map(Mt=>{const xt=Qr(O)??Q,Dn=Kt(Mt,xt);return un(function L(S){return S&&Cr(S.canDeactivate)}(Dn)?Dn.canDeactivate(S,O,w,N):xt.runInContext(()=>Dn(S,O,w,N))).pipe((0,Pt.P)())});return(0,be.of)(He).pipe(wi())}(Q.component,Q.route,w,O,N)),(0,Pt.P)(Q=>!0!==Q,!0))}(He,N,Q,S).pipe((0,yt.z)(Mt=>Mt&&function Eo(S){return"boolean"==typeof S}(Mt)?function Cc(S,O,w,N){return(0,ve.D)(O).pipe((0,yn.b)(Q=>(0,W.z)(function Sa(S,O){return null!==S&&O&&O(new ko(S)),(0,be.of)(!0)}(Q.route.parent,N),function Qa(S,O){return null!==S&&O&&O(new Qi(S)),(0,be.of)(!0)}(Q.route,N),function Ma(S,O,w){const N=O[O.length-1],ye=O.slice(0,O.length-1).reverse().map(He=>function Ut(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(He)).filter(He=>null!==He).map(He=>le(()=>{const Mt=He.guards.map(xt=>{const Dn=Qr(He.node)??w,kr=Kt(xt,Dn);return un(function ie(S){return S&&Cr(S.canActivateChild)}(kr)?kr.canActivateChild(N,S):Dn.runInContext(()=>kr(N,S))).pipe((0,Pt.P)())});return(0,be.of)(Mt).pipe(wi())}));return(0,be.of)(ye).pipe(wi())}(S,Q.path,w),function Tc(S,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,be.of)(!0);const Q=N.map(ye=>le(()=>{const He=Qr(O)??w,Mt=Kt(ye,He);return un(function Y(S){return S&&Cr(S.canActivate)}(Mt)?Mt.canActivate(O,S):He.runInContext(()=>Mt(O,S))).pipe((0,Pt.P)())}));return(0,be.of)(Q).pipe(wi())}(S,Q.route,w))),(0,Pt.P)(Q=>!0!==Q,!0))}(N,ye,S,O):(0,be.of)(Mt)),(0,Ze.U)(Mt=>({...w,guardsResult:Mt})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,mt.b)(xt=>{if(ye.guardsResult=xt.guardsResult,dr(xt.guardsResult))throw Nr(0,xt.guardsResult);const Dn=new ai(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(Dn)}),(0,he.h)(xt=>!!xt.guardsResult||(this.cancelNavigationTransition(xt,"",3),!1)),x(xt=>{if(xt.guards.canActivateChecks.length)return(0,be.of)(xt).pipe((0,mt.b)(Dn=>{const kr=new Hs(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(kr)}),(0,Ke.w)(Dn=>{let kr=!1;return(0,be.of)(Dn).pipe(function Ya(S,O){return(0,yt.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:Q}}=w;if(!Q.length)return(0,be.of)(w);let ye=0;return(0,ve.D)(Q).pipe((0,yn.b)(He=>function Kl(S,O,w,N){const Q=S.routeConfig,ye=S._resolve;return void 0!==Q?.title&&!Ri(Q)&&(ye[En]=Q.title),function ga(S,O,w,N){const Q=function xs(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===Q.length)return(0,be.of)({});const ye={};return(0,ve.D)(Q).pipe((0,yt.z)(He=>function _l(S,O,w,N){const Q=Qr(O)??N,ye=Kt(S,Q);return un(ye.resolve?ye.resolve(O,w):Q.runInContext(()=>ye(O,w)))}(S[He],O,w,N).pipe((0,Pt.P)(),(0,mt.b)(Mt=>{ye[He]=Mt}))),xe(1),function Xe(S){return(0,Ze.U)(()=>S)}(ye),(0,Ge.K)(He=>Dr(He)?Me.E:(0,pe._)(He)))}(ye,S,O,N).pipe((0,Ze.U)(He=>(S._resolvedData=He,S.data=$i(S,w).resolve,Q&&Ri(Q)&&(S.data[En]=Q.title),null)))}(He.route,N,S,O)),(0,mt.b)(()=>ye++),xe(1),(0,yt.z)(He=>ye===Q.length?(0,be.of)(w):Me.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,mt.b)({next:()=>kr=!0,complete:()=>{kr||this.cancelNavigationTransition(Dn,"",2)}}))}),(0,mt.b)(Dn=>{const kr=new Fi(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(kr)}))}),x(xt=>{const Dn=kr=>{const vi=[];kr.routeConfig?.loadComponent&&!kr.routeConfig._loadedComponent&&vi.push(this.configLoader.loadComponent(kr.routeConfig).pipe((0,mt.b)(Rr=>{kr.component=Rr}),(0,Ze.U)(()=>{})));for(const Rr of kr.children)vi.push(...Dn(Rr));return vi};return(0,ae.a)(Dn(xt.targetSnapshot.root)).pipe((0,Ve.d)(),(0,ft.q)(1))}),x(()=>this.afterPreactivation()),(0,Ze.U)(xt=>{const Dn=function oi(S,O,w){const N=Yi(S,O._root,w?w._root:void 0);return new ni(N,O)}(w.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return this.currentTransition=ye={...xt,targetRouterState:Dn},ye}),(0,mt.b)(()=>{this.events.next(new os)}),((S,O,w,N)=>(0,Ze.U)(Q=>(new br(O,Q.targetRouterState,Q.currentRouterState,w,N).activate(S),Q)))(this.rootContexts,w.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,ft.q)(1),(0,mt.b)({next:xt=>{He=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects))),w.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{He=!0}}),(0,Et.R)(this.transitionAbortSubject.pipe((0,mt.b)(xt=>{throw xt}))),(0,ut.x)(()=>{He||Mt||this.cancelNavigationTransition(ye,"",1),this.currentNavigation?.id===ye.id&&(this.currentNavigation=null)}),(0,Ge.K)(xt=>{if(Mt=!0,Ue(xt))this.events.next(new qr(ye.id,this.urlSerializer.serialize(ye.extractedUrl),xt.message,xt.cancellationCode)),function J(S){return Ue(S)&&dr(S.url)}(xt)?this.events.next(new Co(xt.url)):ye.resolve(!1);else{this.events.next(new _o(ye.id,this.urlSerializer.serialize(ye.extractedUrl),xt,ye.targetSnapshot??void 0));try{ye.resolve(w.errorHandler(xt))}catch(Dn){ye.reject(Dn)}}return Me.E}))}))}cancelNavigationTransition(w,N,Q){const ye=new qr(w.id,this.urlSerializer.serialize(w.extractedUrl),N,Q);this.events.next(ye),w.resolve(!1)}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Nn(S){return S!==gr}let $r=(()=>{class S{buildTitle(w){let N,Q=w.root;for(;void 0!==Q;)N=this.getResolvedTitleForRoute(Q)??N,Q=Q.children.find(ye=>ye.outlet===Jt);return N}getResolvedTitleForRoute(w){return w.data[En]}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(_i)},providedIn:"root"})}return S})(),_i=(()=>{class S extends $r{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Qt.Dx))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ui=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(bi)},providedIn:"root"})}return S})();class xr{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let bi=(()=>{class S extends xr{static#e=this.\u0275fac=function(){let w;return function(Q){return(w||(w=f.n5z(S)))(Q||S)}}();static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const si=new f.OlP("",{providedIn:"root",factory:()=>({})});let lo=(()=>{class S{static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:function(){return(0,f.f3M)(Lo)},providedIn:"root"})}return S})(),Lo=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var xo=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(xo||{});function Gs(S,O){S.events.pipe((0,he.h)(w=>w instanceof Ki||w instanceof qr||w instanceof _o||w instanceof Uo),(0,Ze.U)(w=>w instanceof Ki||w instanceof Uo?xo.COMPLETE:w instanceof qr&&(0===w.code||1===w.code)?xo.REDIRECTING:xo.FAILED),(0,he.h)(w=>w!==xo.REDIRECTING),(0,ft.q)(1)).subscribe(()=>{O()})}function Xo(S){throw S}function Oi(S,O,w){return O.parse("/")}const fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},es={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wo=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Be.x,this.options=(0,f.f3M)(si,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||Xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Oi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(lo),this.routeReuseStrategy=(0,f.f3M)(ui),this.titleStrategy=(0,f.f3M)($r),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(ce,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Ht),this.urlSerializer=(0,f.f3M)(Gr),this.location=(0,f.f3M)(tt.Ye),this.componentInputBindingEnabled=!!(0,f.f3M)(ci,{optional:!0}),this.eventsSubscription=new Ne.w0,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:Q}=this.navigationTransitions;if(null===Q)return void(xc(N)&&this._events.next(N));if(N instanceof mi)Nn(Q.source)&&(this.browserUrlTree=Q.extractedUrl);else if(N instanceof Uo)this.rawUrlTree=Q.rawUrl;else if(N instanceof ji){if("eager"===this.urlUpdateStrategy){if(!Q.extras.skipLocationChange){const ye=this.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl);this.setBrowserUrl(ye,Q)}this.browserUrlTree=Q.urlAfterRedirects}}else if(N instanceof os)this.currentUrlTree=Q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),this.routerState=Q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Q),this.browserUrlTree=Q.urlAfterRedirects);else if(N instanceof qr)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(Q);else if(N instanceof Co){const ye=this.urlHandlingStrategy.merge(N.url,Q.currentRawUrl),He={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nn(Q.source)};this.scheduleNavigation(ye,gr,null,He,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})}N instanceof _o&&this.restoreHistory(Q,!0),N instanceof Ki&&(this.navigated=!0),xc(N)&&this._events.next(N)}catch(Q){this.navigationTransitions.transitionAbortSubject.next(Q)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,Q){const ye={replaceUrl:!0},He=Q?.navigationId?Q:null;if(Q){const xt={...Q};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ye.state=xt)}const Mt=this.parseUrl(w);this.scheduleNavigation(Mt,N,He,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:Q,queryParams:ye,fragment:He,queryParamsHandling:Mt,preserveFragment:xt}=N,Dn=xt?this.currentUrlTree.fragment:He;let vi,kr=null;switch(Mt){case"merge":kr={...this.currentUrlTree.queryParams,...ye};break;case"preserve":kr=this.currentUrlTree.queryParams;break;default:kr=ye||null}null!==kr&&(kr=this.removeEmptyProps(kr));try{vi=Qe(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),vi=this.currentUrlTree.root}return it(vi,w,kr,Dn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const Q=dr(w)?w:this.parseUrl(w),ye=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(ye,gr,null,N)}navigate(w,N={skipLocationChange:!1}){return function Di(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new f.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(Q){N=this.malformedUriErrorHandler(Q,this.urlSerializer,w)}return N}isActive(w,N){let Q;if(Q=!0===N?{...fr}:!1===N?{...es}:N,dr(w))return Er(this.currentUrlTree,w,Q);const ye=this.parseUrl(w);return Er(this.currentUrlTree,ye,Q)}removeEmptyProps(w){return Object.keys(w).reduce((N,Q)=>{const ye=w[Q];return null!=ye&&(N[Q]=ye),N},{})}scheduleNavigation(w,N,Q,ye,He){if(this.disposed)return Promise.resolve(!1);let Mt,xt,Dn;He?(Mt=He.resolve,xt=He.reject,Dn=He.promise):Dn=new Promise((vi,Rr)=>{Mt=vi,xt=Rr});const kr=this.pendingTasks.add();return Gs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(kr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ye,resolve:Mt,reject:xt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(vi=>Promise.reject(vi))}setBrowserUrl(w,N){const Q=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(Q)||N.extras.replaceUrl){const He={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(Q,"",He)}else{const ye={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(Q,"",ye)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-this.browserPageId;0!==ye?this.location.historyGo(ye):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ye&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static#e=this.\u0275fac=function(N){return new(N||S)};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function xc(S){return!(S instanceof os||S instanceof Co)}let qs=(()=>{class S{constructor(w,N,Q,ye,He,Mt){this.router=w,this.route=N,this.tabIndexAttribute=Q,this.renderer=ye,this.el=He,this.locationStrategy=Mt,this.href=null,this.commands=null,this.onChanges=new Be.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xt=He.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=w.events.subscribe(Dn=>{Dn instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,Q,ye,He){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||Q||ye||He||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const Q=this.renderer,ye=this.el.nativeElement;null!==N?Q.setAttribute(ye,w,N):Q.removeAttribute(ye,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(N){return new(N||S)(f.Y36(Wo),f.Y36(to),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(tt.S$))};static#t=this.\u0275dir=f.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,Q){1&N&&f.NdJ("click",function(He){return Q.onClick(He.button,He.ctrlKey,He.shiftKey,He.altKey,He.metaKey)}),2&N&&f.uIk("target",Q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",f.VuI],replaceUrl:["replaceUrl","replaceUrl",f.VuI],routerLink:"routerLink"},standalone:!0,features:[f.Xq5,f.TTD]})}return S})();class Rc{}let Ja=(()=>{class S{constructor(w,N,Q,ye,He){this.router=w,this.injector=Q,this.preloadingStrategy=ye,this.loader=He}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.h)(w=>w instanceof Ki),(0,yn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const Q=[];for(const ye of N){ye.providers&&!ye._injector&&(ye._injector=(0,f.MMx)(ye.providers,w,`Route: ${ye.path}`));const He=ye._injector??w,Mt=ye._loadedInjector??He;(ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent)&&Q.push(this.preloadConfig(He,ye)),(ye.children||ye._loadedRoutes)&&Q.push(this.processRoutes(Mt,ye.children??ye._loadedRoutes))}return(0,ve.D)(Q).pipe((0,Bt.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let Q;Q=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,be.of)(null);const ye=Q.pipe((0,yt.z)(He=>null===He?(0,be.of)(void 0):(N._loadedRoutes=He.routes,N._loadedInjector=He.injector,this.processRoutes(He.injector??w,He.routes))));if(N.loadComponent&&!N._loadedComponent){const He=this.loader.loadComponent(N);return(0,ve.D)([ye,He]).pipe((0,Bt.J)())}return ye})}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(Wo),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Rc),f.LFG(z))};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Oc=new f.OlP("");let Qd=(()=>{class S{constructor(w,N,Q,ye,He={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=Q,this.zone=ye,this.options=He,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},He.scrollPositionRestoration=He.scrollPositionRestoration||"disabled",He.anchorScrolling=He.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ki?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Uo&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof yi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(N){f.$Z()};static#t=this.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac})}return S})();function Rs(S,O){return{\u0275kind:S,\u0275providers:O}}function _r(){const S=(0,f.f3M)(f.zs3);return O=>{const w=S.get(f.z2F);if(O!==w.components[0])return;const N=S.get(Wo),Q=S.get(Ku);1===S.get(Nc)&&N.initialNavigation(),S.get(Xi,null,f.XFs.Optional)?.setUpPreloading(),S.get(Oc,null,f.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const Ku=new f.OlP("",{factory:()=>new Be.x}),Nc=new f.OlP("",{providedIn:"root",factory:()=>1}),Xi=new f.OlP("");function Na(S){return Rs(0,[{provide:Xi,useExisting:Ja},{provide:Rc,useExisting:S}])}const qt=new f.OlP("ROUTER_FORROOT_GUARD"),ri=[tt.Ye,{provide:Gr,useClass:rr},Wo,Mo,{provide:to,useFactory:function Qs(S){return S.routerState.root},deps:[Wo]},z,[]];function Ju(){return new f.PXZ("Router",Wo)}let Xa=(()=>{class S{constructor(w){}static forRoot(w,N){return{ngModule:S,providers:[ri,[],{provide:ce,multi:!0,useValue:w},{provide:qt,useFactory:zo,deps:[[Wo,new f.FiY,new f.tp0]]},{provide:si,useValue:N||{}},N?.useHash?{provide:tt.S$,useClass:tt.Do}:{provide:tt.S$,useClass:tt.b0},{provide:Oc,useFactory:()=>{const S=(0,f.f3M)(tt.EM),O=(0,f.f3M)(f.R0b),w=(0,f.f3M)(si),N=(0,f.f3M)(Ht),Q=(0,f.f3M)(Gr);return w.scrollOffset&&S.setOffset(w.scrollOffset),new Qd(Q,N,S,O,w)}},N?.preloadingStrategy?Na(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Ju},N?.initialNavigation?Fc(N):[],N?.bindToComponentInputs?Rs(8,[Ti,{provide:ci,useExisting:Ti}]).\u0275providers:[],[{provide:ec,useFactory:_r},{provide:f.tb,multi:!0,useExisting:ec}]]}}static forChild(w){return{ngModule:S,providers:[{provide:ce,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(N){return new(N||S)(f.LFG(qt,8))};static#t=this.\u0275mod=f.oAB({type:S});static#n=this.\u0275inj=f.cJS({})}return S})();function zo(S){return"guarded"}function Fc(S){return["disabled"===S.initialNavigation?Rs(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(Wo);return()=>{O.setUpLocationChangeListener()}}},{provide:Nc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Rs(2,[{provide:Nc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const w=O.get(tt.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const Q=O.get(Wo),ye=O.get(Ku);Gs(Q,()=>{N(!0)}),O.get(Ht).afterPreactivation=()=>(N(!0),ye.closed?(0,be.of)(void 0):ye),Q.initialNavigation()}))}}]).\u0275providers:[]]}const ec=new f.OlP("")},5513:(an,lt,k)=>{"use strict";k.d(lt,{Gb:()=>pn,Kz:()=>hi,EI:()=>Kr,lT:()=>Gt,Iv:()=>$n,xP:()=>Ai,Xd:()=>J});var f=k(5861),o=k(4303),V=k(7879),Se=k(9058),ve=k(4537),be=k(1878);const ue="@firebase/installations",ae="0.6.7",ge=1e4,W=`w:${ae}`,$="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",_e=36e5,$e=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(Ce){return Ce instanceof Se.ZR&&Ce.code.includes("request-failed")}function _t({projectId:Ce}){return`${le}/projects/${Ce}/installations`}function It(Ce){return{token:Ce.token,requestStatus:2,expiresIn:he(Ce.expiresIn),creationTime:Date.now()}}function Be(Ce,je){return tt.apply(this,arguments)}function tt(){return(tt=(0,f.Z)(function*(Ce,je){const Ut=(yield je.json()).error;return $e.create("request-failed",{requestName:Ce,serverCode:Ut.code,serverMessage:Ut.message,serverStatus:Ut.status})})).apply(this,arguments)}function Ze({apiKey:Ce}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ce})}function ft(Ce){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(Ce){const je=yield Ce();return je.status>=500&&je.status<600?Ce():je})).apply(this,arguments)}function he(Ce){return Number(Ce.replace("s","000"))}function yn(){return(yn=(0,f.Z)(function*({appConfig:Ce,heartbeatServiceProvider:je},{fid:st}){const Ut=_t(Ce),Kt=Ze(Ce),An=je.getImmediate({optional:!0});if(An){const Cr=yield An.getHeartbeatsHeader();Cr&&Kt.append("x-firebase-client",Cr)}const hr={method:"POST",headers:Kt,body:JSON.stringify({fid:st,authVersion:$,appId:Ce.appId,sdkVersion:W})},Jn=yield ft(()=>fetch(Ut,hr));if(Jn.ok){const Cr=yield Jn.json();return{fid:Cr.fid||st,registrationStatus:2,refreshToken:Cr.refreshToken,authToken:It(Cr.authToken)}}throw yield Be("Create Installation",Jn)})).apply(this,arguments)}function mt(Ce){return new Promise(je=>{setTimeout(je,Ce)})}const dt=/^[cdef][\w-]{21}$/,Ve="";function xe(){try{const Ce=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ce),Ce[0]=112+Ce[0]%16;const st=function re(Ce){return function Ge(Ce){return btoa(String.fromCharCode(...Ce)).replace(/\+/g,"-").replace(/\//g,"_")}(Ce).substr(0,22)}(Ce);return dt.test(st)?st:Ve}catch{return Ve}}function De(Ce){return`${Ce.appName}!${Ce.appId}`}const Le=new Map;function Xe(Ce,je){const st=De(Ce);Bt(st,je),function Qt(Ce,je){const st=function En(){return!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=Ce=>{Bt(Ce.data.key,Ce.data.fid)}),Jt}();st&&st.postMessage({key:Ce,fid:je}),function Bn(){0===Le.size&&Jt&&(Jt.close(),Jt=null)}()}(st,je)}function Bt(Ce,je){const st=Le.get(Ce);if(st)for(const Ut of st)Ut(je)}let Jt=null;const Sn="firebase-installations-database",kn=1,Xt="firebase-installations-store";let Mn=null;function Vn(){return Mn||(Mn=(0,be.X3)(Sn,kn,{upgrade:(Ce,je)=>{0===je&&Ce.createObjectStore(Xt)}})),Mn}function Gn(Ce,je){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(Ce,je){const st=De(Ce),Kt=(yield Vn()).transaction(Xt,"readwrite"),An=Kt.objectStore(Xt),Rn=yield An.get(st);return yield An.put(je,st),yield Kt.done,(!Rn||Rn.fid!==je.fid)&&Xe(Ce,je.fid),je})).apply(this,arguments)}function pi(Ce){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(Ce){const je=De(Ce),Ut=(yield Vn()).transaction(Xt,"readwrite");yield Ut.objectStore(Xt).delete(je),yield Ut.done})).apply(this,arguments)}function Er(Ce,je){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.Z)(function*(Ce,je){const st=De(Ce),Kt=(yield Vn()).transaction(Xt,"readwrite"),An=Kt.objectStore(Xt),Rn=yield An.get(st),hr=je(Rn);return void 0===hr?yield An.delete(st):yield An.put(hr,st),yield Kt.done,hr&&(!Rn||Rn.fid!==hr.fid)&&Xe(Ce,hr.fid),hr})).apply(this,arguments)}function Zt(Ce){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,f.Z)(function*(Ce){let je;const st=yield Er(Ce.appConfig,Ut=>{const Kt=function Kn(Ce){return gi(Ce||{fid:xe(),registrationStatus:0})}(Ut),An=function Fn(Ce,je){if(0===je.registrationStatus){if(!navigator.onLine)return{installationEntry:je,registrationPromise:Promise.reject($e.create("app-offline"))};const st={fid:je.fid,registrationStatus:1,registrationTime:Date.now()},Ut=function Zr(Ce,je){return Br.apply(this,arguments)}(Ce,st);return{installationEntry:st,registrationPromise:Ut}}return 1===je.registrationStatus?{installationEntry:je,registrationPromise:Xn(Ce)}:{installationEntry:je}}(Ce,Kt);return je=An.registrationPromise,An.installationEntry});return st.fid===Ve?{installationEntry:yield je}:{installationEntry:st,registrationPromise:je}}),Cn.apply(this,arguments)}function Br(){return Br=(0,f.Z)(function*(Ce,je){try{const st=yield function Pt(Ce,je){return yn.apply(this,arguments)}(Ce,je);return Gn(Ce.appConfig,st)}catch(st){throw Te(st)&&409===st.customData.serverCode?yield pi(Ce.appConfig):yield Gn(Ce.appConfig,{fid:je.fid,registrationStatus:0}),st}}),Br.apply(this,arguments)}function Xn(Ce){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(Ce){let je=yield Lr(Ce.appConfig);for(;1===je.registrationStatus;)yield mt(100),je=yield Lr(Ce.appConfig);if(0===je.registrationStatus){const{installationEntry:st,registrationPromise:Ut}=yield Zt(Ce);return Ut||st}return je})).apply(this,arguments)}function Lr(Ce){return Er(Ce,je=>{if(!je)throw $e.create("installation-not-found");return gi(je)})}function gi(Ce){return function In(Ce){return 1===Ce.registrationStatus&&Ce.registrationTime+ge<Date.now()}(Ce)?{fid:Ce.fid,registrationStatus:0}:Ce}function rr(){return(rr=(0,f.Z)(function*({appConfig:Ce,heartbeatServiceProvider:je},st){const Ut=function Sr(Ce,{fid:je}){return`${_t(Ce)}/${je}/authTokens:generate`}(Ce,st),Kt=function Ke(Ce,{refreshToken:je}){const st=Ze(Ce);return st.append("Authorization",function yt(Ce){return`${$} ${Ce}`}(je)),st}(Ce,st),An=je.getImmediate({optional:!0});if(An){const Cr=yield An.getHeartbeatsHeader();Cr&&Kt.append("x-firebase-client",Cr)}const hr={method:"POST",headers:Kt,body:JSON.stringify({installation:{sdkVersion:W,appId:Ce.appId}})},Jn=yield ft(()=>fetch(Ut,hr));if(Jn.ok)return It(yield Jn.json());throw yield Be("Generate Auth Token",Jn)})).apply(this,arguments)}function Ar(Ce){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,f.Z)(function*(Ce,je=!1){let st;const Ut=yield Er(Ce.appConfig,An=>{if(!Jr(An))throw $e.create("not-registered");const Rn=An.authToken;if(!je&&function ur(Ce){return 2===Ce.requestStatus&&!function Pi(Ce){const je=Date.now();return je<Ce.creationTime||Ce.creationTime+Ce.expiresIn<je+_e}(Ce)}(Rn))return An;if(1===Rn.requestStatus)return st=function q(Ce,je){return ke.apply(this,arguments)}(Ce,je),An;{if(!navigator.onLine)throw $e.create("app-offline");const hr=function sn(Ce){const je={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ce),{authToken:je})}(An);return st=function on(Ce,je){return er.apply(this,arguments)}(Ce,hr),hr}});return st?yield st:Ut.authToken}),Vt.apply(this,arguments)}function ke(){return(ke=(0,f.Z)(function*(Ce,je){let st=yield bt(Ce.appConfig);for(;1===st.authToken.requestStatus;)yield mt(100),st=yield bt(Ce.appConfig);const Ut=st.authToken;return 0===Ut.requestStatus?Ar(Ce,je):Ut})).apply(this,arguments)}function bt(Ce){return Er(Ce,je=>{if(!Jr(je))throw $e.create("not-registered");return function Ie(Ce){return 1===Ce.requestStatus&&Ce.requestTime+ge<Date.now()}(je.authToken)?Object.assign(Object.assign({},je),{authToken:{requestStatus:0}}):je})}function er(){return er=(0,f.Z)(function*(Ce,je){try{const st=yield function Gr(Ce,je){return rr.apply(this,arguments)}(Ce,je),Ut=Object.assign(Object.assign({},je),{authToken:st});return yield Gn(Ce.appConfig,Ut),st}catch(st){if(!Te(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const Ut=Object.assign(Object.assign({},je),{authToken:{requestStatus:0}});yield Gn(Ce.appConfig,Ut)}else yield pi(Ce.appConfig);throw st}}),er.apply(this,arguments)}function Jr(Ce){return void 0!==Ce&&2===Ce.registrationStatus}function G(){return(G=(0,f.Z)(function*(Ce){const je=Ce,{installationEntry:st,registrationPromise:Ut}=yield Zt(je);return Ut?Ut.catch(console.error):Ar(je).catch(console.error),st.fid})).apply(this,arguments)}function F(){return F=(0,f.Z)(function*(Ce,je=!1){const st=Ce;return yield function we(Ce){return et.apply(this,arguments)}(st),(yield Ar(st,je)).token}),F.apply(this,arguments)}function et(){return(et=(0,f.Z)(function*(Ce){const{registrationPromise:je}=yield Zt(Ce);je&&(yield je)})).apply(this,arguments)}function it(Ce){return $e.create("missing-app-config-values",{valueName:Ce})}const jt="installations",Tn=Ce=>{const je=Ce.getProvider("app").getImmediate(),st=function Qe(Ce){if(!Ce||!Ce.options)throw it("App Configuration");if(!Ce.name)throw it("App Name");const je=["projectId","apiKey","appId"];for(const st of je)if(!Ce.options[st])throw it(st);return{appName:Ce.name,projectId:Ce.options.projectId,apiKey:Ce.options.apiKey,appId:Ce.options.appId}}(je);return{app:je,appConfig:st,heartbeatServiceProvider:(0,o._getProvider)(je,"heartbeat"),_delete:()=>Promise.resolve()}},dn=Ce=>{const je=Ce.getProvider("app").getImmediate(),st=(0,o._getProvider)(je,jt).getImmediate();return{getId:()=>function ne(Ce){return G.apply(this,arguments)}(st),getToken:Kt=>function j(Ce){return F.apply(this,arguments)}(st,Kt)}};(function Ir(){(0,o._registerComponent)(new ve.wA(jt,Tn,"PUBLIC")),(0,o._registerComponent)(new ve.wA("installations-internal",dn,"PRIVATE"))})(),(0,o.registerVersion)(ue,ae),(0,o.registerVersion)(ue,ae,"esm2017");const bn="analytics",li="firebase_id",go="origin",Wi=6e4,co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ki="https://www.googletagmanager.com/gtag/js",Or=new V.Yd("@firebase/analytics"),sr=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bo(Ce){if(!Ce.startsWith(ki)){const je=sr.create("invalid-gtag-resource",{gtagURL:Ce});return Or.warn(je.message),""}return Ce}function mo(Ce){return Promise.all(Ce.map(je=>je.catch(st=>st)))}function Ki(){return(Ki=(0,f.Z)(function*(Ce,je,st,Ut,Kt,An){const Rn=Ut[Kt];try{if(Rn)yield je[Rn];else{const Jn=(yield mo(st)).find(Cr=>Cr.measurementId===Kt);Jn&&(yield je[Jn.appId])}}catch(hr){Or.error(hr)}Ce("config",Kt,An)})).apply(this,arguments)}function Uo(){return(Uo=(0,f.Z)(function*(Ce,je,st,Ut,Kt){try{let An=[];if(Kt&&Kt.send_to){let Rn=Kt.send_to;Array.isArray(Rn)||(Rn=[Rn]);const hr=yield mo(st);for(const Jn of Rn){const Cr=hr.find(Fo=>Fo.measurementId===Jn),Eo=Cr&&je[Cr.appId];if(!Eo){An=[];break}An.push(Eo)}}0===An.length&&(An=Object.values(je)),yield Promise.all(An),Ce("event",Ut,Kt||{})}catch(An){Or.error(An)}})).apply(this,arguments)}const ai=30,Xr=new class Fi{constructor(je={},st=1e3){this.throttleMetadata=je,this.intervalMillis=st}getThrottleMetadata(je){return this.throttleMetadata[je]}setThrottleMetadata(je,st){this.throttleMetadata[je]=st}deleteThrottleMetadata(je){delete this.throttleMetadata[je]}};function As(Ce){return new Headers({Accept:"application/json","x-goog-api-key":Ce})}function Li(){return(Li=(0,f.Z)(function*(Ce){var je;const{appId:st,apiKey:Ut}=Ce,Kt={method:"GET",headers:As(Ut)},An=co.replace("{app-id}",st),Rn=yield fetch(An,Kt);if(200!==Rn.status&&304!==Rn.status){let hr="";try{const Jn=yield Rn.json();null!==(je=Jn.error)&&void 0!==je&&je.message&&(hr=Jn.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:Rn.status,responseMessage:hr})}return Rn.json()})).apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(Ce,je=Xr,st){const{appId:Ut,apiKey:Kt,measurementId:An}=Ce.options;if(!Ut)throw sr.create("no-app-id");if(!Kt){if(An)return{measurementId:An,appId:Ut};throw sr.create("no-api-key")}const Rn=je.getThrottleMetadata(Ut)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hr=new vo;return setTimeout((0,f.Z)(function*(){hr.abort()}),void 0!==st?st:Wi),yi({appId:Ut,apiKey:Kt,measurementId:An},Rn,hr,je)})).apply(this,arguments)}function yi(Ce,je,st){return os.apply(this,arguments)}function os(){return os=(0,f.Z)(function*(Ce,{throttleEndTimeMillis:je,backoffCount:st},Ut,Kt=Xr){var An;const{appId:Rn,measurementId:hr}=Ce;try{yield function Co(Ce,je){return new Promise((st,Ut)=>{const Kt=Math.max(je-Date.now(),0),An=setTimeout(st,Kt);Ce.addEventListener(()=>{clearTimeout(An),Ut(sr.create("fetch-throttle",{throttleEndTimeMillis:je}))})})}(Ut,je)}catch(Jn){if(hr)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hr} provided in the "measurementId" field in the local Firebase config. [${Jn?.message}]`),{appId:Rn,measurementId:hr};throw Jn}try{const Jn=yield function ko(Ce){return Li.apply(this,arguments)}(Ce);return Kt.deleteThrottleMetadata(Rn),Jn}catch(Jn){const Cr=Jn;if(!function Ei(Ce){if(!(Ce instanceof Se.ZR&&Ce.customData))return!1;const je=Number(Ce.customData.httpStatus);return 429===je||500===je||503===je||504===je}(Cr)){if(Kt.deleteThrottleMetadata(Rn),hr)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hr} provided in the "measurementId" field in the local Firebase config. [${Cr?.message}]`),{appId:Rn,measurementId:hr};throw Jn}const Eo=503===Number(null===(An=Cr?.customData)||void 0===An?void 0:An.httpStatus)?(0,Se.$s)(st,Kt.intervalMillis,ai):(0,Se.$s)(st,Kt.intervalMillis),Fo={throttleEndTimeMillis:Date.now()+Eo,backoffCount:st+1};return Kt.setThrottleMetadata(Rn,Fo),Or.debug(`Calling attemptFetch again in ${Eo} millis`),yi(Ce,Fo,Ut,Kt)}}),os.apply(this,arguments)}class vo{constructor(){this.listeners=[]}addEventListener(je){this.listeners.push(je)}abort(){this.listeners.forEach(je=>je())}}let Mo,To;function Hi(){return(Hi=(0,f.Z)(function*(Ce,je,st,Ut,Kt){if(Kt&&Kt.global)Ce("event",st,Ut);else{const An=yield je;Ce("event",st,Object.assign(Object.assign({},Ut),{send_to:An}))}})).apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(Ce,je,st,Ut){if(Ut&&Ut.global)return Ce("set",{screen_name:st}),Promise.resolve();Ce("config",yield je,{update:!0,screen_name:st})})).apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(Ce,je,st,Ut){if(Ut&&Ut.global)return Ce("set",{user_id:st}),Promise.resolve();Ce("config",yield je,{update:!0,user_id:st})})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(Ce,je,st,Ut){if(Ut&&Ut.global){const Kt={};for(const An of Object.keys(st))Kt[`user_properties.${An}`]=st[An];return Ce("set",Kt),Promise.resolve()}Ce("config",yield je,{update:!0,user_properties:st})})).apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(Ce,je){const st=yield Ce;window[`ga-disable-${st}`]=!je})).apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(){if(!(0,Se.hl)())return Or.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(Ce){return Or.warn(sr.create("indexeddb-unavailable",{errorInfo:Ce?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ii(){return Ii=(0,f.Z)(function*(Ce,je,st,Ut,Kt,An,Rn){var hr;const Jn=function Qi(Ce){return qo.apply(this,arguments)}(Ce);Jn.then(ie=>{st[ie.measurementId]=ie.appId,Ce.options.measurementId&&ie.measurementId!==Ce.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${Ce.options.measurementId}) does not match the measurement ID fetched from the server (${ie.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ie=>Or.error(ie)),je.push(Jn);const Cr=function Yn(){return Mr.apply(this,arguments)}().then(ie=>{if(ie)return Ut.getId()}),[Eo,Fo]=yield Promise.all([Jn,Cr]);(function Go(Ce){const je=window.document.getElementsByTagName("script");for(const st of Object.values(je))if(st.src&&st.src.includes(ki)&&st.src.includes(Ce))return st;return null})(An)||function gr(Ce,je){const st=function Ci(Ce,je){let st;return window.trustedTypes&&(st=window.trustedTypes.createPolicy(Ce,je)),st}("firebase-js-sdk-policy",{createScriptURL:bo}),Ut=document.createElement("script"),Kt=`${ki}?l=${Ce}&id=${je}`;Ut.src=st?st?.createScriptURL(Kt):Kt,Ut.async=!0,document.head.appendChild(Ut)}(An,Eo.measurementId),To&&(Kt("consent","default",To),function jr(Ce){To=Ce}(void 0)),Kt("js",new Date);const Y=null!==(hr=Rn?.config)&&void 0!==hr?hr:{};return Y[go]="firebase",Y.update=!0,null!=Fo&&(Y[li]=Fo),Kt("config",Eo.measurementId,Y),Mo&&(Kt("set",Mo),function mn(Ce){Mo=Ce}(void 0)),Eo.measurementId}),Ii.apply(this,arguments)}class ci{constructor(je){this.app=je}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}}let Ti={},oi=[];const Yi={};let yo,Nr,Ji="dataLayer",ir="gtag",oe=!1;function J(Ce){if(oe)throw sr.create("already-initialized");Ce.dataLayerName&&(Ji=Ce.dataLayerName),Ce.gtagName&&(ir=Ce.gtagName)}function qe(Ce,je,st){!function Ue(){const Ce=[];if((0,Se.ru)()&&Ce.push("This is a browser extension environment."),(0,Se.zI)()||Ce.push("Cookies are not available."),Ce.length>0){const je=Ce.map((Ut,Kt)=>`(${Kt+1}) ${Ut}`).join(" "),st=sr.create("invalid-analytics-context",{errorInfo:je});Or.warn(st.message)}}();const Ut=Ce.options.appId;if(!Ut)throw sr.create("no-app-id");if(!Ce.options.apiKey){if(!Ce.options.measurementId)throw sr.create("no-api-key");Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ce.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ti[Ut])throw sr.create("already-exists",{id:Ut});if(!oe){!function xi(Ce){let je=[];Array.isArray(window[Ce])?je=window[Ce]:window[Ce]=je}(Ji);const{wrappedGtag:An,gtagCore:Rn}=function ji(Ce,je,st,Ut,Kt){let An=function(...Rn){window[Ut].push(arguments)};return window[Kt]&&"function"==typeof window[Kt]&&(An=window[Kt]),window[Kt]=function _o(Ce,je,st,Ut){function An(){return An=(0,f.Z)(function*(Rn,...hr){try{if("event"===Rn){const[Jn,Cr]=hr;yield function qr(Ce,je,st,Ut,Kt){return Uo.apply(this,arguments)}(Ce,je,st,Jn,Cr)}else if("config"===Rn){const[Jn,Cr]=hr;yield function mi(Ce,je,st,Ut,Kt,An){return Ki.apply(this,arguments)}(Ce,je,st,Ut,Jn,Cr)}else if("consent"===Rn){const[Jn,Cr]=hr;Ce("consent",Jn,Cr)}else if("get"===Rn){const[Jn,Cr,Eo]=hr;Ce("get",Jn,Cr,Eo)}else if("set"===Rn){const[Jn]=hr;Ce("set",Jn)}else Ce(Rn,...hr)}catch(Jn){Or.error(Jn)}}),An.apply(this,arguments)}return function Kt(Rn){return An.apply(this,arguments)}}(An,Ce,je,st),{gtagCore:An,wrappedGtag:window[Kt]}}(Ti,oi,Yi,Ji,ir);Nr=An,yo=Rn,oe=!0}return Ti[Ut]=function Vi(Ce,je,st,Ut,Kt,An,Rn){return Ii.apply(this,arguments)}(Ce,oi,Yi,je,yo,Ji,st),new ci(Ce)}function pn(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}function Gt(Ce,je,st){Ce=(0,Se.m9)(Ce),function ss(Ce,je,st,Ut){return qn.apply(this,arguments)}(Nr,Ti[Ce.app.options.appId],je,st).catch(Ut=>Or.error(Ut))}function $n(Ce,je,st){Ce=(0,Se.m9)(Ce),function ei(Ce,je,st,Ut){return ni.apply(this,arguments)}(Nr,Ti[Ce.app.options.appId],je,st).catch(Ut=>Or.error(Ut))}function Ai(Ce,je,st){Ce=(0,Se.m9)(Ce),function zi(Ce,je,st,Ut){return Wr.apply(this,arguments)}(Nr,Ti[Ce.app.options.appId],je,st).catch(Ut=>Or.error(Ut))}function Kr(Ce,je){Ce=(0,Se.m9)(Ce),function as(Ce,je){return no.apply(this,arguments)}(Ti[Ce.app.options.appId],je).catch(st=>Or.error(st))}function hi(Ce,je,st,Ut){Ce=(0,Se.m9)(Ce),function Jo(Ce,je,st,Ut,Kt){return Hi.apply(this,arguments)}(Nr,Ti[Ce.app.options.appId],je,st,Ut).catch(Kt=>Or.error(Kt))}const ro="@firebase/analytics";!function br(){(0,o._registerComponent)(new ve.wA(bn,(je,{options:st})=>qe(je.getProvider("app").getImmediate(),je.getProvider("installations-internal").getImmediate(),st),"PUBLIC")),(0,o._registerComponent)(new ve.wA("analytics-internal",function Ce(je){try{const st=je.getProvider(bn).getImmediate();return{logEvent:(Ut,Kt,An)=>hi(st,Ut,Kt,An)}}catch(st){throw sr.create("interop-component-reg-failed",{reason:st})}},"PRIVATE")),(0,o.registerVersion)(ro,"0.10.4"),(0,o.registerVersion)(ro,"0.10.4","esm2017")}()},3106:(an,lt,k)=>{"use strict";k.d(lt,{Z:()=>Me});var f=k(9058),o=k(4537),V=k(4303),Se=k(7879);class ve{constructor($e,Te){this._delegate=$e,this.firebase=Te,(0,V._addComponent)($e,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService($e,Te=V._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider($e);return!It.isInitialized()&&"EXPLICIT"===(null===(_t=It.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&It.initialize(),It.getImmediate({identifier:Te})}_removeServiceInstance($e,Te=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Te)}_addComponent($e){(0,V._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,V._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ge(){const Ne=function ae(Ne){const $e={},Te={__esModule:!0,initializeApp:function Be(ft,Ye={}){const he=V.initializeApp(ft,Ye);if((0,f.r3)($e,he.name))return $e[he.name];const yt=new Ne(he,Te);return $e[he.name]=yt,yt},app:It,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Ze(ft){const Ye=ft.name,he=Ye.replace("-compat","");if(V._registerComponent(ft)&&"PUBLIC"===ft.type){const yt=(Pt=It())=>{if("function"!=typeof Pt[he])throw ue.create("invalid-app-argument",{appName:Ye});return Pt[he]()};void 0!==ft.serviceProps&&(0,f.ZB)(yt,ft.serviceProps),Te[he]=yt,Ne.prototype[he]=function(...Pt){return this._getService.bind(this,Ye).apply(this,ft.multipleInstances?Pt:[])}}return"PUBLIC"===ft.type?Te[he]:null},removeApp:function _t(ft){delete $e[ft]},useAsService:function Ke(ft,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:V}};function It(ft){if(!(0,f.r3)($e,ft=ft||V._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:ft});return $e[ft]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function tt(){return Object.keys($e).map(ft=>$e[ft])}}),It.App=Ne,Te}(ve);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function $e(Te){(0,f.ZB)(Ne,Te)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ne}(),$=new Se.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=W;!function pe(Ne){(0,V.registerVersion)("@firebase/app-compat","0.2.35",Ne)}()},4303:(an,lt,k)=>{"use strict";k.r(lt),k.d(lt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>De,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Qt,_apps:()=>Xe,_clearComponents:()=>Xt,_components:()=>Et,_getProvider:()=>En,_isFirebaseApp:()=>Sn,_isFirebaseServerApp:()=>kn,_registerComponent:()=>Jt,_removeServiceInstance:()=>Bn,_serverApps:()=>ut,deleteApp:()=>Cn,getApp:()=>nr,getApps:()=>Zt,initializeApp:()=>zn,initializeServerApp:()=>Er,onLog:()=>Zr,registerVersion:()=>Fn,setLogLevel:()=>Br});var f=k(5861),o=k(4537),V=k(7879),Se=k(9058),ve=k(1878);class be{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(ne=>{if(function ue(sn){const Ie=sn.getComponent();return"VERSION"===Ie?.type}(ne)){const G=ne.getImmediate();return`${G.library}/${G.version}`}return null}).filter(ne=>ne).join(" ")}}const ae="@firebase/app",ge="0.10.5",W=new V.Yd("@firebase/app"),De="[DEFAULT]",Le={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,ut=new Map,Et=new Map;function Bt(sn,Ie){try{sn.container.addComponent(Ie)}catch(ne){W.debug(`Component ${Ie.name} failed to register with FirebaseApp ${sn.name}`,ne)}}function Qt(sn,Ie){sn.container.addOrOverwriteComponent(Ie)}function Jt(sn){const Ie=sn.name;if(Et.has(Ie))return W.debug(`There were multiple attempts to register component ${Ie}.`),!1;Et.set(Ie,sn);for(const ne of Xe.values())Bt(ne,sn);for(const ne of ut.values())Bt(ne,sn);return!0}function En(sn,Ie){const ne=sn.container.getProvider("heartbeat").getImmediate({optional:!0});return ne&&ne.triggerHeartbeat(),sn.container.getProvider(Ie)}function Bn(sn,Ie,ne=De){En(sn,Ie).clearInstance(ne)}function Sn(sn){return void 0!==sn.options}function kn(sn){return void 0!==sn.settings}function Xt(){Et.clear()}const Vn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Gn{constructor(Ie,ne,G){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},ne),this._name=ne.name,this._automaticDataCollectionEnabled=ne.automaticDataCollectionEnabled,this._container=G,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}class un extends Gn{constructor(Ie,ne,G,j){const F=void 0!==ne.automaticDataCollectionEnabled&&ne.automaticDataCollectionEnabled,we={name:G,automaticDataCollectionEnabled:F};super(void 0!==Ie.apiKey?Ie:Ie.options,we,j),this._serverConfig=Object.assign({automaticDataCollectionEnabled:F},ne),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ne.releaseOnDeref=void 0,Fn(ae,ge,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ie){this.isDeleted||(this._refCount++,void 0!==Ie&&this._finalizationRegistry.register(Ie,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Cn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Vn.create("server-app-deleted")}}const pi="10.12.2";function zn(sn,Ie={}){let ne=sn;"object"!=typeof Ie&&(Ie={name:Ie});const G=Object.assign({name:De,automaticDataCollectionEnabled:!1},Ie),j=G.name;if("string"!=typeof j||!j)throw Vn.create("bad-app-name",{appName:String(j)});if(ne||(ne=(0,Se.aH)()),!ne)throw Vn.create("no-options");const F=Xe.get(j);if(F){if((0,Se.vZ)(ne,F.options)&&(0,Se.vZ)(G,F.config))return F;throw Vn.create("duplicate-app",{appName:j})}const we=new o.H0(j);for(const kt of Et.values())we.addComponent(kt);const et=new Gn(ne,G,we);return Xe.set(j,et),et}function Er(sn,Ie){if((0,Se.jU)())throw Vn.create("invalid-server-app-environment");let ne;void 0===Ie.automaticDataCollectionEnabled&&(Ie.automaticDataCollectionEnabled=!1),ne=Sn(sn)?sn.options:sn;const G=Object.assign(Object.assign({},Ie),ne);if(void 0!==G.releaseOnDeref&&delete G.releaseOnDeref,void 0!==Ie.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Vn.create("finalization-registry-not-supported",{});const F=""+($t=JSON.stringify(G),[...$t].reduce((hn,cn)=>Math.imul(31,hn)+cn.charCodeAt(0)|0,0)),we=ut.get(F);var $t;if(we)return we.incRefCount(Ie.releaseOnDeref),we;const et=new o.H0(F);for(const $t of Et.values())et.addComponent($t);const kt=new un(ne,Ie,F,et);return ut.set(F,kt),kt}function nr(sn=De){const Ie=Xe.get(sn);if(!Ie&&sn===De&&(0,Se.aH)())return zn();if(!Ie)throw Vn.create("no-app",{appName:sn});return Ie}function Zt(){return Array.from(Xe.values())}function Cn(sn){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(sn){let Ie=!1;const ne=sn.name;Xe.has(ne)?(Ie=!0,Xe.delete(ne)):ut.has(ne)&&sn.decRefCount()<=0&&(ut.delete(ne),Ie=!0),Ie&&(yield Promise.all(sn.container.getProviders().map(G=>G.delete())),sn.isDeleted=!0)})).apply(this,arguments)}function Fn(sn,Ie,ne){var G;let j=null!==(G=Le[sn])&&void 0!==G?G:sn;ne&&(j+=`-${ne}`);const F=j.match(/\s|\//),we=Ie.match(/\s|\//);if(F||we){const et=[`Unable to register library "${j}" with version "${Ie}":`];return F&&et.push(`library name "${j}" contains illegal characters (whitespace or "/")`),F&&we&&et.push("and"),we&&et.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void W.warn(et.join(" "))}Jt(new o.wA(`${j}-version`,()=>({library:j,version:Ie}),"VERSION"))}function Zr(sn,Ie){if(null!==sn&&"function"!=typeof sn)throw Vn.create("invalid-log-argument");(0,V.Am)(sn,Ie)}function Br(sn){(0,V.Ub)(sn)}const Xn="firebase-heartbeat-database",Qn=1,Lr="firebase-heartbeat-store";let gi=null;function In(){return gi||(gi=(0,ve.X3)(Xn,Qn,{upgrade:(sn,Ie)=>{if(0===Ie)try{sn.createObjectStore(Lr)}catch(ne){console.warn(ne)}}}).catch(sn=>{throw Vn.create("idb-open",{originalErrorMessage:sn.message})})),gi}function rr(){return(rr=(0,f.Z)(function*(sn){try{const ne=(yield In()).transaction(Lr),G=yield ne.objectStore(Lr).get(Vt(sn));return yield ne.done,G}catch(Ie){if(Ie instanceof Se.ZR)W.warn(Ie.message);else{const ne=Vn.create("idb-get",{originalErrorMessage:Ie?.message});W.warn(ne.message)}}})).apply(this,arguments)}function Sr(sn,Ie){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(sn,Ie){try{const G=(yield In()).transaction(Lr,"readwrite");yield G.objectStore(Lr).put(Ie,Vt(sn)),yield G.done}catch(ne){if(ne instanceof Se.ZR)W.warn(ne.message);else{const G=Vn.create("idb-set",{originalErrorMessage:ne?.message});W.warn(G.message)}}})).apply(this,arguments)}function Vt(sn){return`${sn.name}!${sn.options.appId}`}class bt{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const ne=this.container.getProvider("app").getImmediate();this._storage=new Jr(ne),this._heartbeatsCachePromise=this._storage.read().then(G=>(this._heartbeatsCache=G,G))}triggerHeartbeat(){var Ie=this;return(0,f.Z)(function*(){var ne,G;const F=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),we=on();if((null!=(null===(ne=Ie._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats)||(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise,null!=(null===(G=Ie._heartbeatsCache)||void 0===G?void 0:G.heartbeats)))&&Ie._heartbeatsCache.lastSentHeartbeatDate!==we&&!Ie._heartbeatsCache.heartbeats.some(et=>et.date===we))return Ie._heartbeatsCache.heartbeats.push({date:we,agent:F}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(et=>{const kt=new Date(et.date).valueOf();return Date.now()-kt<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,f.Z)(function*(){var ne;if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null==(null===(ne=Ie._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats)||0===Ie._heartbeatsCache.heartbeats.length)return"";const G=on(),{heartbeatsToSend:j,unsentEntries:F}=function er(sn,Ie=1024){const ne=[];let G=sn.slice();for(const j of sn){const F=ne.find(we=>we.agent===j.agent);if(F){if(F.dates.push(j.date),ur(ne)>Ie){F.dates.pop();break}}else if(ne.push({agent:j.agent,dates:[j.date]}),ur(ne)>Ie){ne.pop();break}G=G.slice(1)}return{heartbeatsToSend:ne,unsentEntries:G}}(Ie._heartbeatsCache.heartbeats),we=(0,Se.L)(JSON.stringify({version:2,heartbeats:j}));return Ie._heartbeatsCache.lastSentHeartbeatDate=G,F.length>0?(Ie._heartbeatsCache.heartbeats=F,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),we})()}}function on(){return(new Date).toISOString().substring(0,10)}class Jr{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,f.Z)(function*(){if(yield Ie._canUseIndexedDBPromise){const G=yield function Gr(sn){return rr.apply(this,arguments)}(Ie.app);return G?.heartbeats?G:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ie){var ne=this;return(0,f.Z)(function*(){var G;if(yield ne._canUseIndexedDBPromise){const F=yield ne.read();return Sr(ne.app,{lastSentHeartbeatDate:null!==(G=Ie.lastSentHeartbeatDate)&&void 0!==G?G:F.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var ne=this;return(0,f.Z)(function*(){var G;if(yield ne._canUseIndexedDBPromise){const F=yield ne.read();return Sr(ne.app,{lastSentHeartbeatDate:null!==(G=Ie.lastSentHeartbeatDate)&&void 0!==G?G:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...Ie.heartbeats]})}})()}}function ur(sn){return(0,Se.L)(JSON.stringify({version:2,heartbeats:sn})).length}!function Pi(sn){Jt(new o.wA("platform-logger",Ie=>new be(Ie),"PRIVATE")),Jt(new o.wA("heartbeat",Ie=>new bt(Ie),"PRIVATE")),Fn(ae,ge,sn),Fn(ae,ge,"esm2017"),Fn("fire-js","")}("")},4537:(an,lt,k)=>{"use strict";k.d(lt,{H0:()=>ae,wA:()=>V});var f=k(5861),o=k(9058);class V{constructor(W,$,le){this.name=W,this.instanceFactory=$,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Se="[DEFAULT]";class ve{constructor(W,$){this.name=W,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const $=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has($)){const le=new o.BH;if(this.instancesDeferred.set($,le),this.isInitialized($)||this.shouldAutoInitialize())try{const _e=this.getOrInitializeService({instanceIdentifier:$});_e&&le.resolve(_e)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(W){var $;const le=this.normalizeInstanceIdentifier(W?.identifier),_e=null!==($=W?.optional)&&void 0!==$&&$;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(_e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(pe){if(_e)return null;throw pe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ue(ge){return"EAGER"===ge.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[$,le]of this.instancesDeferred.entries()){const _e=this.normalizeInstanceIdentifier($);try{const pe=this.getOrInitializeService({instanceIdentifier:_e});le.resolve(pe)}catch{}}}}clearInstance(W=Se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,f.Z)(function*(){const $=Array.from(W.instances.values());yield Promise.all([...$.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...$.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Se){return this.instances.has(W)}getOptions(W=Se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:$={}}=W,le=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _e=this.getOrInitializeService({instanceIdentifier:le,options:$});for(const[pe,Me]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(pe)&&Me.resolve(_e);return _e}onInit(W,$){var le;const _e=this.normalizeInstanceIdentifier($),pe=null!==(le=this.onInitCallbacks.get(_e))&&void 0!==le?le:new Set;pe.add(W),this.onInitCallbacks.set(_e,pe);const Me=this.instances.get(_e);return Me&&W(Me,_e),()=>{pe.delete(W)}}invokeOnInitCallbacks(W,$){const le=this.onInitCallbacks.get($);if(le)for(const _e of le)try{_e(W,$)}catch{}}getOrInitializeService({instanceIdentifier:W,options:$={}}){let le=this.instances.get(W);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=W,ge===Se?void 0:ge),options:$}),this.instances.set(W,le),this.instancesOptions.set(W,$),this.invokeOnInitCallbacks(le,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,le)}catch{}var ge;return le||null}normalizeInstanceIdentifier(W=Se){return this.component?this.component.multipleInstances?W:Se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const $=this.getProvider(W.name);if($.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);$.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const $=new ve(W,this);return this.providers.set(W,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(an,lt,k)=>{"use strict";k.d(lt,{Am:()=>ge,Ub:()=>ae,Yd:()=>ue,in:()=>o});const f=[];var o=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(o||{});const V={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Se=o.INFO,ve={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},be=(W,$,...le)=>{if($<W.logLevel)return;const _e=(new Date).toISOString(),pe=ve[$];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[pe](`[${_e}]  ${W.name}:`,...le)};class ue{constructor($){this.name=$,this._logLevel=Se,this._logHandler=be,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in o))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?V[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...$),this._logHandler(this,o.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...$),this._logHandler(this,o.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,o.INFO,...$),this._logHandler(this,o.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,o.WARN,...$),this._logHandler(this,o.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...$),this._logHandler(this,o.ERROR,...$)}}function ae(W){f.forEach($=>{$.setLogLevel(W)})}function ge(W,$){for(const le of f){let _e=null;$&&$.level&&(_e=V[$.level]),le.userLogHandler=null===W?null:(pe,Me,...Ne)=>{const $e=Ne.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");Me>=(_e??pe.logLevel)&&W({level:o[Me].toLowerCase(),message:$e,args:Ne,type:pe.name})}}}},3182:(an,lt,k)=>{"use strict";k.d(lt,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(4303);(0,f.registerVersion)("firebase","10.12.2","app")},7142:(an,lt,k)=>{"use strict";k.d(lt,{Z:()=>f.Z});var f=k(3106);f.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(an,lt,k)=>{"use strict";k.r(lt);var f=k(5861),o=k(3106),V=k(35),Se=k(9058),ue=(k(4303),k(7879),k(4537));function ae(){return window}function $(){return $=(0,f.Z)(function*(G,j,F){var we;const{BuildInfo:et}=ae();(0,V.au)(j.sessionId,"AuthEvent did not contain a session ID");const kt=yield function Te(G){return _t.apply(this,arguments)}(j.sessionId),$t={};return(0,V.av)()?$t.ibi=et.packageName:(0,V.aw)()?$t.apn=et.packageName:(0,V.ax)(G,"operation-not-supported-in-this-environment"),et.displayName&&($t.appDisplayName=et.displayName),$t.sessionId=kt,(0,V.ay)(G,F,j.type,void 0,null!==(we=j.eventId)&&void 0!==we?we:void 0,$t)}),$.apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(G){const{BuildInfo:j}=ae(),F={};(0,V.av)()?F.iosBundleId=j.packageName:(0,V.aw)()?F.androidPackageName=j.packageName:(0,V.ax)(G,"operation-not-supported-in-this-environment"),yield(0,V.az)(G,F)})).apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(G,j,F){const{cordova:we}=ae();let et=()=>{};try{yield new Promise((kt,$t)=>{let hn=null;function cn(){var rt;kt();const Qe=null===(rt=we.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Qe&&Qe(),"function"==typeof F?.close&&F.close()}function fn(){hn||(hn=window.setTimeout(()=>{$t((0,V.aB)(G,"redirect-cancelled-by-user"))},2e3))}function dr(){"visible"===document?.visibilityState&&fn()}j.addPassiveListener(cn),document.addEventListener("resume",fn,!1),(0,V.aw)()&&document.addEventListener("visibilitychange",dr,!1),et=()=>{j.removePassiveListener(cn),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",dr,!1),hn&&window.clearTimeout(hn)}})}finally{et()}})).apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(G){const j=function It(G){if((0,V.au)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const j=new ArrayBuffer(G.length),F=new Uint8Array(j);for(let we=0;we<G.length;we++)F[we]=G.charCodeAt(we);return F}(G),F=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(F)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends V.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(j)),super.onEvent(j)}initialized(){var j=this;return(0,f.Z)(function*(){yield j.initPromise})()}}function ft(G){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(G){const j=yield Pt()._get(yn(G));return j&&(yield Pt()._remove(yn(G))),j})).apply(this,arguments)}function yt(){const G=[];for(let F=0;F<20;F++){const we=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(we))}return G.join("")}function Pt(){return(0,V.aE)(V.b)}function yn(G){return(0,V.aF)("authEvent",G.config.apiKey,G.name)}function dt(G){if(!G?.includes("?"))return{};const[j,...F]=G.split("?");return(0,Se.zd)(F.join("?"))}const re=class xe{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(j){var F=this;return(0,f.Z)(function*(){const we=j._key();let et=F.eventManagers.get(we);return et||(et=new tt(j),F.eventManagers.set(we,et),F.attachCallbackListeners(j,et)),et})()}_openPopup(j){(0,V.ax)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,F,we,et){var kt=this;return(0,f.Z)(function*(){!function $e(G){var j,F,we,et,kt,$t,hn,cn,fn,dr;const rt=ae();(0,V.aC)("function"==typeof(null===(j=rt?.universalLinks)||void 0===j?void 0:j.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aC)(typeof(null===(F=rt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aC)("function"==typeof(null===(kt=null===(et=null===(we=rt?.cordova)||void 0===we?void 0:we.plugins)||void 0===et?void 0:et.browsertab)||void 0===kt?void 0:kt.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(cn=null===(hn=null===($t=rt?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===hn?void 0:hn.browsertab)||void 0===cn?void 0:cn.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(dr=null===(fn=rt?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===dr?void 0:dr.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const $t=yield kt._initialize(j);yield $t.initialized(),$t.resetRedirect(),(0,V.aI)(),yield kt._originValidation(j);const hn=function Ze(G,j,F=null){return{type:j,eventId:F,urlResponse:null,sessionId:yt(),postBody:null,tenantId:G.tenantId,error:(0,V.aB)(G,"no-auth-event")}}(j,we,et);yield function Ke(G,j){return Pt()._set(yn(G),j)}(j,hn);const cn=yield function W(G,j,F){return $.apply(this,arguments)}(j,hn,F),fn=yield function pe(G){const{cordova:j}=ae();return new Promise(F=>{j.plugins.browsertab.isAvailable(we=>{let et=null;we?j.plugins.browsertab.openUrl(G):et=j.InAppBrowser.open(G,(0,V.aA)()?"_blank":"_system","location=yes"),F(et)})})}(cn);return function Me(G,j,F){return Ne.apply(this,arguments)}(j,$t,fn)})()}_isIframeWebStorageSupported(j,F){throw new Error("Method not implemented.")}_originValidation(j){const F=j._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function le(G){return _e.apply(this,arguments)}(j)),this.originValidationPromises[F]}attachCallbackListeners(j,F){const{universalLinks:we,handleOpenURL:et,BuildInfo:kt}=ae(),$t=setTimeout((0,f.Z)(function*(){yield ft(j),F.onEvent(De())}),500),hn=function(){var dr=(0,f.Z)(function*(rt){clearTimeout($t);const Qe=yield ft(j);let it=null;Qe&&rt?.url&&(it=function he(G,j){var F,we;const et=function Ge(G){const j=dt(G),F=j.link?decodeURIComponent(j.link):void 0,we=dt(F).link,et=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return dt(et).link||et||we||F||G}(j);if(et.includes("/__/auth/callback")){const kt=dt(et),$t=kt.firebaseError?function mt(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(kt.firebaseError)):null,hn=null===(we=null===(F=$t?.code)||void 0===F?void 0:F.split("auth/"))||void 0===we?void 0:we[1],cn=hn?(0,V.aB)(hn):null;return cn?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:et,postBody:null}}return null}(Qe,rt.url)),F.onEvent(it||De())});return function(Qe){return dr.apply(this,arguments)}}();typeof we<"u"&&"function"==typeof we.subscribe&&we.subscribe(null,hn);const cn=et,fn=`${kt.packageName.toLowerCase()}://`;ae().handleOpenURL=function(){var dr=(0,f.Z)(function*(rt){if(rt.toLowerCase().startsWith(fn)&&hn({url:rt}),"function"==typeof cn)try{cn(rt)}catch(Qe){console.error(Qe)}});return function(rt){return dr.apply(this,arguments)}}()}};function De(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aB)("no-auth-event")}}function Bt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Jt(G=(0,Se.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xt(){try{const G=self.localStorage,j=V.aN();if(G)return G.setItem(j,"1"),G.removeItem(j),!function kn(G=(0,Se.z$)()){return function Bn(){return(0,Se.w1)()&&11===document?.documentMode}()||function Sn(G=(0,Se.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,Se.hl)()}catch{return Mn()&&(0,Se.hl)()}return!1}function Mn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function Qt(){return"http:"===Bt()||"https:"===Bt()}()||(0,Se.ru)()||Jt())&&!function En(){return(0,Se.b$)()||(0,Se.UG)()}()&&Xt()&&!Mn()}function Gn(){return Jt()&&typeof document<"u"}function pi(){return(pi=(0,f.Z)(function*(){return!!Gn()&&new Promise(G=>{const j=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),G(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},nr=V.aC,Zt="persistence";function Kn(G){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(G){yield G._initializationPromise;const j=Br(),F=V.aF(Zt,G.config.apiKey,G.name);j&&j.setItem(F,G._getPersistence())})).apply(this,arguments)}function Br(){var G;try{return(null===(G=function zn(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Xn=V.aC;class Qn{constructor(){this.browserResolver=V.aE(V.k),this.cordovaResolver=V.aE(re),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(j){var F=this;return(0,f.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,F,we,et){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openPopup(j,F,we,et)})()}_openRedirect(j,F,we,et){var kt=this;return(0,f.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openRedirect(j,F,we,et)})()}_isIframeWebStorageSupported(j,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,F)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,f.Z)(function*(){if(j.underlyingResolver)return;const F=yield function un(){return pi.apply(this,arguments)}();j.underlyingResolver=F?j.cordovaResolver:j.browserResolver})()}}function Lr(G){return G.unwrap()}function In(G){return rr(G)}function rr(G){const{_tokenResponse:j}=G instanceof Se.ZR?G.customData:G;if(!j)return null;if(!(G instanceof Se.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return V.P.credentialFromResult(G);const F=j.providerId;if(!F||F===V.p.PASSWORD)return null;let we;switch(F){case V.p.GOOGLE:we=V.X;break;case V.p.FACEBOOK:we=V.W;break;case V.p.GITHUB:we=V.Y;break;case V.p.TWITTER:we=V.$;break;default:const{oauthIdToken:et,oauthAccessToken:kt,oauthTokenSecret:$t,pendingToken:hn,nonce:cn}=j;return kt||$t||et||hn?hn?F.startsWith("saml.")?V.aQ._create(F,hn):V.N._fromParams({providerId:F,signInMethod:F,pendingToken:hn,idToken:et,accessToken:kt}):new V.Z(F).credential({idToken:et,accessToken:kt,rawNonce:cn}):null}return G instanceof Se.ZR?we.credentialFromError(G):we.credentialFromResult(G)}function Sr(G,j){return j.catch(F=>{throw F instanceof Se.ZR&&function Gr(G,j){var F;const we=null===(F=j.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new q(G,V.as(G,j));else if(we){const et=rr(j),kt=j;et&&(kt.credential=et,kt.tenantId=we.tenantId||void 0,kt.email=we.email||void 0,kt.phoneNumber=we.phoneNumber||void 0)}}(G,F),F}).then(F=>{const et=F.user;return{operationType:F.operationType,credential:In(F),additionalUserInfo:V.aq(F),user:ke.getOrCreate(et)}})}function Ar(G,j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(G,j){const F=yield j;return{verificationId:F.verificationId,confirm:we=>Sr(G,F.confirm(we))}})).apply(this,arguments)}class q{constructor(j,F){this.resolver=F,this.auth=function gi(G){return G.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Sr(Lr(this.auth),this.resolver.resolveSignIn(j))}}class ke{constructor(j){this._delegate=j,this.multiFactor=V.at(j)}static getOrCreate(j){return ke.USER_MAP.has(j)||ke.USER_MAP.set(j,new ke(j)),ke.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var F=this;return(0,f.Z)(function*(){return Sr(F.auth,V.a2(F._delegate,j))})()}linkWithPhoneNumber(j,F){var we=this;return(0,f.Z)(function*(){return Ar(we.auth,V.l(we._delegate,j,F))})()}linkWithPopup(j){var F=this;return(0,f.Z)(function*(){return Sr(F.auth,V.d(F._delegate,j,Qn))})()}linkWithRedirect(j){var F=this;return(0,f.Z)(function*(){return yield Kn(V.aJ(F.auth)),V.g(F._delegate,j,Qn)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var F=this;return(0,f.Z)(function*(){return Sr(F.auth,V.a3(F._delegate,j))})()}reauthenticateWithPhoneNumber(j,F){return Ar(this.auth,V.r(this._delegate,j,F))}reauthenticateWithPopup(j){return Sr(this.auth,V.e(this._delegate,j,Qn))}reauthenticateWithRedirect(j){var F=this;return(0,f.Z)(function*(){return yield Kn(V.aJ(F.auth)),V.h(F._delegate,j,Qn)})()}sendEmailVerification(j){return V.ag(this._delegate,j)}unlink(j){var F=this;return(0,f.Z)(function*(){return yield V.ap(F._delegate,j),F})()}updateEmail(j){return V.al(this._delegate,j)}updatePassword(j){return V.am(this._delegate,j)}updatePhoneNumber(j){return V.u(this._delegate,j)}updateProfile(j){return V.ak(this._delegate,j)}verifyBeforeUpdateEmail(j,F){return V.ah(this._delegate,j,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ke.USER_MAP=new WeakMap;const bt=V.aC;let on=(()=>{class G{constructor(F,we){if(this.app=F,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=F.options;bt(et,"invalid-api-key",{appName:F.name}),bt(et,"invalid-api-key",{appName:F.name});const kt=typeof window<"u"?Qn:void 0;this._delegate=we.initialize({options:{persistence:Jr(et,F.name),popupRedirectResolver:kt}}),this._delegate._updateErrorMap(V.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,we){V.K(this._delegate,F,we)}applyActionCode(F){return V.a7(this._delegate,F)}checkActionCode(F){return V.a8(this._delegate,F)}confirmPasswordReset(F,we){return V.a6(this._delegate,F,we)}createUserWithEmailAndPassword(F,we){var et=this;return(0,f.Z)(function*(){return Sr(et._delegate,V.aa(et._delegate,F,we))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return V.af(this._delegate,F)}isSignInWithEmailLink(F){return V.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,f.Z)(function*(){bt(Vn(),F._delegate,"operation-not-supported-in-this-environment");const we=yield V.j(F._delegate,Qn);return we?Sr(F._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Le(G,j){(0,V.aJ)(G)._logFramework(j)}(this._delegate,F)}onAuthStateChanged(F,we,et){const{next:kt,error:$t,complete:hn}=er(F,we,et);return this._delegate.onAuthStateChanged(kt,$t,hn)}onIdTokenChanged(F,we,et){const{next:kt,error:$t,complete:hn}=er(F,we,et);return this._delegate.onIdTokenChanged(kt,$t,hn)}sendSignInLinkToEmail(F,we){return V.ac(this._delegate,F,we)}sendPasswordResetEmail(F,we){return V.a5(this._delegate,F,we||void 0)}setPersistence(F){var we=this;return(0,f.Z)(function*(){let et;switch(function Cn(G,j){nr(Object.values(Er).includes(j),G,"invalid-persistence-type"),(0,Se.b$)()?nr(j!==Er.SESSION,G,"unsupported-persistence-type"):(0,Se.UG)()?nr(j===Er.NONE,G,"unsupported-persistence-type"):Mn()?nr(j===Er.NONE||j===Er.LOCAL&&(0,Se.hl)(),G,"unsupported-persistence-type"):nr(j===Er.NONE||Xt(),G,"unsupported-persistence-type")}(we._delegate,F),F){case Er.SESSION:et=V.a;break;case Er.LOCAL:et=(yield V.aE(V.i)._isAvailable())?V.i:V.b;break;case Er.NONE:et=V.U;break;default:return V.ax("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Sr(this._delegate,V.a0(this._delegate))}signInWithCredential(F){return Sr(this._delegate,V.a1(this._delegate,F))}signInWithCustomToken(F){return Sr(this._delegate,V.a4(this._delegate,F))}signInWithEmailAndPassword(F,we){return Sr(this._delegate,V.ab(this._delegate,F,we))}signInWithEmailLink(F,we){return Sr(this._delegate,V.ae(this._delegate,F,we))}signInWithPhoneNumber(F,we){return Ar(this._delegate,V.s(this._delegate,F,we))}signInWithPopup(F){var we=this;return(0,f.Z)(function*(){return bt(Vn(),we._delegate,"operation-not-supported-in-this-environment"),Sr(we._delegate,V.c(we._delegate,F,Qn))})()}signInWithRedirect(F){var we=this;return(0,f.Z)(function*(){return bt(Vn(),we._delegate,"operation-not-supported-in-this-environment"),yield Kn(we._delegate),V.f(we._delegate,F,Qn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return V.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Er,G})();function er(G,j,F){let we=G;"function"!=typeof G&&({next:we,error:j,complete:F}=G);const et=we;return{next:$t=>et($t&&ke.getOrCreate($t)),error:j,complete:F}}function Jr(G,j){const F=function Zr(G,j){const F=Br();if(!F)return[];const we=V.aF(Zt,G,j);switch(F.getItem(we)){case Er.NONE:return[V.U];case Er.LOCAL:return[V.i,V.a];case Er.SESSION:return[V.a];default:return[]}}(G,j);if(typeof self<"u"&&!F.includes(V.i)&&F.push(V.i),typeof window<"u")for(const we of[V.b,V.a])F.includes(we)||F.push(we);return F.includes(V.U)||F.push(V.U),F}class ur{constructor(){this.providerId="phone",this._delegate=new V.P(Lr(o.Z.auth()))}static credential(j,F){return V.P.credential(j,F)}verifyPhoneNumber(j,F){return this._delegate.verifyPhoneNumber(j,F)}unwrap(){return this._delegate}}ur.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,ur.PROVIDER_ID=V.P.PROVIDER_ID;const Pi=V.aC;class sn{constructor(j,F,we=o.Z.app()){var et;Pi(null===(et=we.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new V.R(we.auth(),j,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ne(G){G.INTERNAL.registerComponent(new ue.wA("auth-compat",j=>{const F=j.getProvider("app-compat").getImmediate(),we=j.getProvider("auth");return new on(F,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.V,FacebookAuthProvider:V.W,GithubAuthProvider:V.Y,GoogleAuthProvider:V.X,OAuthProvider:V.Z,SAMLAuthProvider:V._,PhoneAuthProvider:ur,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:sn,TwitterAuthProvider:V.$,Auth:on,AuthCredential:V.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.5.9")}(o.Z)},1043:(an,lt,k)=>{"use strict";k.d(lt,{EK:()=>f.EK,ad:()=>f.ad});var f=k(5588)},1878:(an,lt,k)=>{"use strict";k.d(lt,{X3:()=>It});var f=k(5861);const o=(Ye,he)=>he.some(yt=>Ye instanceof yt);let V,Se;const ue=new WeakMap,ae=new WeakMap,ge=new WeakMap,W=new WeakMap,$=new WeakMap;let pe={get(Ye,he,yt){if(Ye instanceof IDBTransaction){if("done"===he)return ae.get(Ye);if("objectStoreNames"===he)return Ye.objectStoreNames||ge.get(Ye);if("store"===he)return yt.objectStoreNames[1]?void 0:yt.objectStore(yt.objectStoreNames[0])}return Te(Ye[he])},set:(Ye,he,yt)=>(Ye[he]=yt,!0),has:(Ye,he)=>Ye instanceof IDBTransaction&&("done"===he||"store"===he)||he in Ye};function $e(Ye){return"function"==typeof Ye?function Ne(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...he){return Ye.apply(_t(this),he),Te(ue.get(this))}:function(...he){return Te(Ye.apply(_t(this),he))}:function(he,...yt){const Pt=Ye.call(_t(this),he,...yt);return ge.set(Pt,he.sort?he.sort():[he]),Te(Pt)}}(Ye):(Ye instanceof IDBTransaction&&function _e(Ye){if(ae.has(Ye))return;const he=new Promise((yt,Pt)=>{const yn=()=>{Ye.removeEventListener("complete",mt),Ye.removeEventListener("error",Ge),Ye.removeEventListener("abort",Ge)},mt=()=>{yt(),yn()},Ge=()=>{Pt(Ye.error||new DOMException("AbortError","AbortError")),yn()};Ye.addEventListener("complete",mt),Ye.addEventListener("error",Ge),Ye.addEventListener("abort",Ge)});ae.set(Ye,he)}(Ye),o(Ye,function ve(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,pe):Ye)}function Te(Ye){if(Ye instanceof IDBRequest)return function le(Ye){const he=new Promise((yt,Pt)=>{const yn=()=>{Ye.removeEventListener("success",mt),Ye.removeEventListener("error",Ge)},mt=()=>{yt(Te(Ye.result)),yn()},Ge=()=>{Pt(Ye.error),yn()};Ye.addEventListener("success",mt),Ye.addEventListener("error",Ge)});return he.then(yt=>{yt instanceof IDBCursor&&ue.set(yt,Ye)}).catch(()=>{}),$.set(he,Ye),he}(Ye);if(W.has(Ye))return W.get(Ye);const he=$e(Ye);return he!==Ye&&(W.set(Ye,he),$.set(he,Ye)),he}const _t=Ye=>$.get(Ye);function It(Ye,he,{blocked:yt,upgrade:Pt,blocking:yn,terminated:mt}={}){const Ge=indexedDB.open(Ye,he),dt=Te(Ge);return Pt&&Ge.addEventListener("upgradeneeded",Ve=>{Pt(Te(Ge.result),Ve.oldVersion,Ve.newVersion,Te(Ge.transaction),Ve)}),yt&&Ge.addEventListener("blocked",Ve=>yt(Ve.oldVersion,Ve.newVersion,Ve)),dt.then(Ve=>{mt&&Ve.addEventListener("close",()=>mt()),yn&&Ve.addEventListener("versionchange",xe=>yn(xe.oldVersion,xe.newVersion,xe))}).catch(()=>{}),dt}const tt=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ke=new Map;function ft(Ye,he){if(!(Ye instanceof IDBDatabase)||he in Ye||"string"!=typeof he)return;if(Ke.get(he))return Ke.get(he);const yt=he.replace(/FromIndex$/,""),Pt=he!==yt,yn=Ze.includes(yt);if(!(yt in(Pt?IDBIndex:IDBObjectStore).prototype)||!yn&&!tt.includes(yt))return;const mt=function(){var Ge=(0,f.Z)(function*(dt,...Ve){const xe=this.transaction(dt,yn?"readwrite":"readonly");let re=xe.store;return Pt&&(re=re.index(Ve.shift())),(yield Promise.all([re[yt](...Ve),yn&&xe.done]))[0]});return function(Ve){return Ge.apply(this,arguments)}}();return Ke.set(he,mt),mt}!function Me(Ye){pe=Ye(pe)}(Ye=>({...Ye,get:(he,yt,Pt)=>ft(he,yt)||Ye.get(he,yt,Pt),has:(he,yt)=>!!ft(he,yt)||Ye.has(he,yt)}))},5861:(an,lt,k)=>{"use strict";function f(V,Se,ve,be,ue,ae,ge){try{var W=V[ae](ge),$=W.value}catch(le){return void ve(le)}W.done?Se($):Promise.resolve($).then(be,ue)}function o(V){return function(){var Se=this,ve=arguments;return new Promise(function(be,ue){var ae=V.apply(Se,ve);function ge($){f(ae,be,ue,ge,W,"next",$)}function W($){f(ae,be,ue,ge,W,"throw",$)}ge(void 0)})}}k.d(lt,{Z:()=>o})},7582:(an,lt,k)=>{"use strict";function Se(re,De){var Le={};for(var Xe in re)Object.prototype.hasOwnProperty.call(re,Xe)&&De.indexOf(Xe)<0&&(Le[Xe]=re[Xe]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Xe=Object.getOwnPropertySymbols(re);ut<Xe.length;ut++)De.indexOf(Xe[ut])<0&&Object.prototype.propertyIsEnumerable.call(re,Xe[ut])&&(Le[Xe[ut]]=re[Xe[ut]])}return Le}function le(re,De,Le,Xe){return new(Le||(Le=Promise))(function(Et,Bt){function Qt(Bn){try{En(Xe.next(Bn))}catch(Sn){Bt(Sn)}}function Jt(Bn){try{En(Xe.throw(Bn))}catch(Sn){Bt(Sn)}}function En(Bn){Bn.done?Et(Bn.value):function ut(Et){return Et instanceof Le?Et:new Le(function(Bt){Bt(Et)})}(Bn.value).then(Qt,Jt)}En((Xe=Xe.apply(re,De||[])).next())})}function Be(re){return this instanceof Be?(this.v=re,this):new Be(re)}function tt(re,De,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Xe=Le.apply(re,De||[]),Et=[];return ut={},Bt("next"),Bt("throw"),Bt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Bt(kn){Xe[kn]&&(ut[kn]=function(Xt){return new Promise(function(Mn,Vn){Et.push([kn,Xt,Mn,Vn])>1||Qt(kn,Xt)})})}function Qt(kn,Xt){try{!function Jt(kn){kn.value instanceof Be?Promise.resolve(kn.value.v).then(En,Bn):Sn(Et[0][2],kn)}(Xe[kn](Xt))}catch(Mn){Sn(Et[0][3],Mn)}}function En(kn){Qt("next",kn)}function Bn(kn){Qt("throw",kn)}function Sn(kn,Xt){kn(Xt),Et.shift(),Et.length&&Qt(Et[0][0],Et[0][1])}}function Ke(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,De=re[Symbol.asyncIterator];return De?De.call(re):(re=function Ne(re){var De="function"==typeof Symbol&&Symbol.iterator,Le=De&&re[De],Xe=0;if(Le)return Le.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Xe>=re.length&&(re=void 0),{value:re&&re[Xe++],done:!re}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),Le={},Xe("next"),Xe("throw"),Xe("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Xe(Et){Le[Et]=re[Et]&&function(Bt){return new Promise(function(Qt,Jt){!function ut(Et,Bt,Qt,Jt){Promise.resolve(Jt).then(function(En){Et({value:En,done:Qt})},Bt)}(Qt,Jt,(Bt=re[Et](Bt)).done,Bt.value)})}}}k.d(lt,{FC:()=>tt,KL:()=>Ke,_T:()=>Se,mG:()=>le,qq:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=9289)}]);